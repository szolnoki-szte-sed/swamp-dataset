--- pom.xml ---
@@ -9,7 +9,7 @@
 		<version>1.0.5</version>
 	</parent>
 	<artifactId>server</artifactId>
-	<version>7.2.9</version>
+	<version>7.3.0</version>
 	<packaging>pom</packaging>
 	<build>
 		<finalName>${project.groupId}.${project.artifactId}-${project.version}</finalName>

--- server-core/pom.xml ---
@@ -7,7 +7,7 @@
 	<parent>
 		<groupId>io.onedev</groupId>
 		<artifactId>server</artifactId>
-		<version>7.2.9</version>
+		<version>7.3.0</version>
 	</parent>
 	<build>
 		<plugins>

--- server-core/src/main/java/io/onedev/server/maintenance/Upgrade.java ---
@@ -487,17 +487,48 @@ protected void updateProgramFiles(File upgradeDir) {
 			FileUtils.deleteFile(new File(upgradeDir, "boot/system.classpath"));
 		
 		cleanAndCopy(Bootstrap.getLibDir(), new File(upgradeDir, "lib"));
-		
-		for (File file: new File(Bootstrap.getSiteDir(), "avatars").listFiles()) {
+
+		FileUtils.createDir(new File(upgradeDir, "site/assets"));
+		if (new File(upgradeDir, "site/robots.txt").exists()) {
+			try {
+				FileUtils.copyFile(
+						new File(upgradeDir, "site/robots.txt"), 
+						new File(upgradeDir, "site/assets/robots.txt"));
+				FileUtils.deleteFile(new File(upgradeDir, "site/robots.txt"));
+			} catch (IOException e) {
+				throw new RuntimeException(e);
+			}
+		}
+		if (new File(upgradeDir, "site/logo.png").exists()) {
+			try {
+				FileUtils.copyFile(
+						new File(upgradeDir, "site/logo.png"), 
+						new File(upgradeDir, "site/assets/logo.png"));
+				FileUtils.deleteFile(new File(upgradeDir, "site/logo.png"));
+			} catch (IOException e) {
+				throw new RuntimeException(e);
+			}
+		}
+		if (new File(upgradeDir, "site/avatars").exists()) {
+			try {
+				FileUtils.copyDirectory(
+						new File(upgradeDir, "site/avatars"), 
+						new File(upgradeDir, "site/assets/avatars"));
+				FileUtils.deleteDir(new File(upgradeDir, "site/avatars"));
+			} catch (IOException e) {
+				throw new RuntimeException(e);
+			}
+		}
+		for (File file: new File(Bootstrap.getSiteDir(), "assets/avatars").listFiles()) {
 			if (file.isFile()) {
 				try {
-					FileUtils.copyFileToDirectory(file, new File(upgradeDir, "site/avatars"));
+					FileUtils.copyFileToDirectory(file, new File(upgradeDir, "site/assets/avatars"));
 				} catch (IOException e) {
 					throw new RuntimeException(e);
 				}
 			}
 		}
-		File uploadedDir = new File(upgradeDir, "site/avatars/uploaded");
+		File uploadedDir = new File(upgradeDir, "site/assets/avatars/uploaded");
 		File userUploadsDir = new File(uploadedDir, "users"); 
 		if (uploadedDir.exists() && !userUploadsDir.exists()) {
 			FileUtils.createDir(userUploadsDir);

--- server-core/src/main/java/io/onedev/server/web/avatar/DefaultAvatarManager.java ---
@@ -93,7 +93,7 @@ private String generateAvatar(String primaryName, String secondaryName) {
 		if (StringUtils.isBlank(secondaryName))
 			secondaryName = primaryName;
 		
-		File avatarFile = new File(Bootstrap.getSiteDir(), "avatars/generated/" + encoded + ".png");
+		File avatarFile = new File(Bootstrap.getSiteDir(), "assets/avatars/generated/" + encoded + ".png");
 		if (!avatarFile.exists()) {
 			Lock avatarLock = LockUtils.getLock("generated-avatar:" + encoded);
 			avatarLock.lock();
@@ -129,7 +129,7 @@ private String getLetter(String name) {
 	
 	@Override
 	public File getUploaded(User user) {
-		return new File(Bootstrap.getSiteDir(), "avatars/uploaded/users/" + user.getId() + ".jpg");
+		return new File(Bootstrap.getSiteDir(), "assets/avatars/uploaded/users/" + user.getId() + ".jpg");
 	}
 
 	@Sessional
@@ -170,7 +170,7 @@ public void useAvatar(Project project, String avatarData) {
 
 	@Override
 	public File getUploaded(Long projectId) {
-		return new File(Bootstrap.getSiteDir(), "avatars/uploaded/projects/" + projectId + ".jpg");
+		return new File(Bootstrap.getSiteDir(), "assets/avatars/uploaded/projects/" + projectId + ".jpg");
 	}
 
 	@Override

--- server-core/src/main/java/io/onedev/server/web/component/brandlogo/BrandLogoPanel.java ---
@@ -18,7 +18,7 @@ public BrandLogoPanel(String id) {
 	}
 
 	private File getCustomLogoFile() {
-		return new File(Bootstrap.getSiteDir(), "logo.png");
+		return new File(Bootstrap.getSiteDir(), "assets/logo.png");
 	}
 	
 	@Override

--- server-core/src/main/java/io/onedev/server/web/page/admin/brandingsetting/BrandingSettingPage.java ---
@@ -33,7 +33,7 @@ public BrandingSettingPage(PageParameters params) {
 	}
 	
 	private File getLogoFile() {
-		return new File(Bootstrap.getSiteDir(), "logo.png");
+		return new File(Bootstrap.getSiteDir(), "assets/logo.png");
 	}
 
 	@Override

--- server-plugin/pom.xml ---
@@ -6,7 +6,7 @@
 	<parent>
 		<groupId>io.onedev</groupId>
 		<artifactId>server</artifactId>
-		<version>7.2.9</version>
+		<version>7.3.0</version>
 	</parent>
 	<dependencies>
 		<dependency>

--- server-plugin/server-plugin-archetype/pom.xml ---
@@ -6,7 +6,7 @@
 	<parent>
 		<groupId>io.onedev</groupId>
 		<artifactId>server-plugin</artifactId>
-		<version>7.2.9</version>
+		<version>7.3.0</version>
 	</parent>
 	<build>
 		<resources>

--- server-plugin/server-plugin-authenticator-ldap/pom.xml ---
@@ -5,7 +5,7 @@
 	<parent>
 		<groupId>io.onedev</groupId>
 		<artifactId>server-plugin</artifactId>
-		<version>7.2.9</version>
+		<version>7.3.0</version>
 	</parent>
 	<properties>
 		<moduleClass>io.onedev.server.plugin.authenticator.ldap.LdapModule</moduleClass>

--- server-plugin/server-plugin-buildspec-gradle/pom.xml ---
@@ -5,7 +5,7 @@
 	<parent>
 		<groupId>io.onedev</groupId>
 		<artifactId>server-plugin</artifactId>
-		<version>7.2.9</version>
+		<version>7.3.0</version>
 	</parent>
 	<properties>
 		<moduleClass>io.onedev.server.plugin.buildspec.gradle.GradleModule</moduleClass>

--- server-plugin/server-plugin-buildspec-maven/pom.xml ---
@@ -5,7 +5,7 @@
 	<parent>
 		<groupId>io.onedev</groupId>
 		<artifactId>server-plugin</artifactId>
-		<version>7.2.9</version>
+		<version>7.3.0</version>
 	</parent>
 	<properties>
 		<moduleClass>io.onedev.server.plugin.buildspec.maven.MavenModule</moduleClass>

--- server-plugin/server-plugin-buildspec-node/pom.xml ---
@@ -5,7 +5,7 @@
 	<parent>
 		<groupId>io.onedev</groupId>
 		<artifactId>server-plugin</artifactId>
-		<version>7.2.9</version>
+		<version>7.3.0</version>
 	</parent>
 	<properties>
 		<moduleClass>io.onedev.server.plugin.buildspec.node.NodePluginModule</moduleClass>

--- server-plugin/server-plugin-executor-kubernetes/pom.xml ---
@@ -6,7 +6,7 @@
 	<parent>
 		<groupId>io.onedev</groupId>
 		<artifactId>server-plugin</artifactId>
-		<version>7.2.9</version>
+		<version>7.3.0</version>
 	</parent>
 	<properties>
 		<moduleClass>io.onedev.server.plugin.executor.kubernetes.KubernetesModule</moduleClass>

--- server-plugin/server-plugin-executor-remotedocker/pom.xml ---
@@ -5,7 +5,7 @@
 	<parent>
 		<groupId>io.onedev</groupId>
 		<artifactId>server-plugin</artifactId>
-		<version>7.2.9</version>
+		<version>7.3.0</version>
 	</parent>
 	<dependencies>
 		<dependency>

--- server-plugin/server-plugin-executor-remoteshell/pom.xml ---
@@ -5,7 +5,7 @@
 	<parent>
 		<groupId>io.onedev</groupId>
 		<artifactId>server-plugin</artifactId>
-		<version>7.2.9</version>
+		<version>7.3.0</version>
 	</parent>
 	<dependencies>
 		<dependency>

--- server-plugin/server-plugin-executor-serverdocker/pom.xml ---
@@ -5,7 +5,7 @@
 	<parent>
 		<groupId>io.onedev</groupId>
 		<artifactId>server-plugin</artifactId>
-		<version>7.2.9</version>
+		<version>7.3.0</version>
 	</parent>
 	<properties>
 		<moduleClass>io.onedev.server.plugin.executor.serverdocker.ServerDockerModule</moduleClass>

--- server-plugin/server-plugin-executor-servershell/pom.xml ---
@@ -5,7 +5,7 @@
 	<parent>
 		<groupId>io.onedev</groupId>
 		<artifactId>server-plugin</artifactId>
-		<version>7.2.9</version>
+		<version>7.3.0</version>
 	</parent>
 	<properties>
 		<moduleClass>io.onedev.server.plugin.executor.servershell.ServerShellModule</moduleClass>

--- server-plugin/server-plugin-import-bitbucketcloud/pom.xml ---
@@ -5,7 +5,7 @@
 	<parent>
 		<groupId>io.onedev</groupId>
 		<artifactId>server-plugin</artifactId>
-		<version>7.2.9</version>
+		<version>7.3.0</version>
 	</parent>
 	<properties>
 		<moduleClass>io.onedev.server.plugin.imports.bitbucketcloud.BitbucketPluginModule</moduleClass>

--- server-plugin/server-plugin-import-gitea/pom.xml ---
@@ -5,7 +5,7 @@
 	<parent>
 		<groupId>io.onedev</groupId>
 		<artifactId>server-plugin</artifactId>
-		<version>7.2.9</version>
+		<version>7.3.0</version>
 	</parent>
 	<properties>
 		<moduleClass>io.onedev.server.plugin.imports.gitea.GiteaPluginModule</moduleClass>

--- server-plugin/server-plugin-import-github/pom.xml ---
@@ -5,7 +5,7 @@
 	<parent>
 		<groupId>io.onedev</groupId>
 		<artifactId>server-plugin</artifactId>
-		<version>7.2.9</version>
+		<version>7.3.0</version>
 	</parent>
 	<properties>
 		<moduleClass>io.onedev.server.plugin.imports.github.GitHubPluginModule</moduleClass>

--- server-plugin/server-plugin-import-gitlab/pom.xml ---
@@ -5,7 +5,7 @@
 	<parent>
 		<groupId>io.onedev</groupId>
 		<artifactId>server-plugin</artifactId>
-		<version>7.2.9</version>
+		<version>7.3.0</version>
 	</parent>
 	<properties>
 		<moduleClass>io.onedev.server.plugin.imports.gitlab.GitLabPluginModule</moduleClass>

--- server-plugin/server-plugin-import-jiracloud/pom.xml ---
@@ -5,7 +5,7 @@
 	<parent>
 		<groupId>io.onedev</groupId>
 		<artifactId>server-plugin</artifactId>
-		<version>7.2.9</version>
+		<version>7.3.0</version>
 	</parent>
 	<properties>
 		<moduleClass>io.onedev.server.plugin.imports.jiracloud.JiraPluginModule</moduleClass>

--- server-plugin/server-plugin-import-youtrack/pom.xml ---
@@ -5,7 +5,7 @@
 	<parent>
 		<groupId>io.onedev</groupId>
 		<artifactId>server-plugin</artifactId>
-		<version>7.2.9</version>
+		<version>7.3.0</version>
 	</parent>
 	<properties>
 		<moduleClass>io.onedev.server.plugin.imports.youtrack.YouTrackPluginModule</moduleClass>

--- server-plugin/server-plugin-report-checkstyle/pom.xml ---
@@ -5,7 +5,7 @@
 	<parent>
 		<groupId>io.onedev</groupId>
 		<artifactId>server-plugin</artifactId>
-		<version>7.2.9</version>
+		<version>7.3.0</version>
 	</parent>
 	<dependencies>
 		<dependency>

--- server-plugin/server-plugin-report-clover/pom.xml ---
@@ -5,7 +5,7 @@
 	<parent>
 		<groupId>io.onedev</groupId>
 		<artifactId>server-plugin</artifactId>
-		<version>7.2.9</version>
+		<version>7.3.0</version>
 	</parent>
 	<dependencies>
 		<dependency>

--- server-plugin/server-plugin-report-coverage/pom.xml ---
@@ -5,7 +5,7 @@
 	<parent>
 		<groupId>io.onedev</groupId>
 		<artifactId>server-plugin</artifactId>
-		<version>7.2.9</version>
+		<version>7.3.0</version>
 	</parent>
 	<properties>
 		<moduleClass>io.onedev.server.plugin.report.coverage.CoverageReportModule</moduleClass>

--- server-plugin/server-plugin-report-cpd/pom.xml ---
@@ -5,7 +5,7 @@
 	<parent>
 		<groupId>io.onedev</groupId>
 		<artifactId>server-plugin</artifactId>
-		<version>7.2.9</version>
+		<version>7.3.0</version>
 	</parent>
 	<dependencies>
 		<dependency>

--- server-plugin/server-plugin-report-jacoco/pom.xml ---
@@ -5,7 +5,7 @@
 	<parent>
 		<groupId>io.onedev</groupId>
 		<artifactId>server-plugin</artifactId>
-		<version>7.2.9</version>
+		<version>7.3.0</version>
 	</parent>
 	<dependencies>
 		<dependency>

--- server-plugin/server-plugin-report-jest/pom.xml ---
@@ -5,7 +5,7 @@
 	<parent>
 		<groupId>io.onedev</groupId>
 		<artifactId>server-plugin</artifactId>
-		<version>7.2.9</version>
+		<version>7.3.0</version>
 	</parent>
 	<dependencies>
 		<dependency>

--- server-plugin/server-plugin-report-junit/pom.xml ---
@@ -5,7 +5,7 @@
 	<parent>
 		<groupId>io.onedev</groupId>
 		<artifactId>server-plugin</artifactId>
-		<version>7.2.9</version>
+		<version>7.3.0</version>
 	</parent>
 	<dependencies>
 		<dependency>

--- server-plugin/server-plugin-report-markdown/pom.xml ---
@@ -5,7 +5,7 @@
 	<parent>
 		<groupId>io.onedev</groupId>
 		<artifactId>server-plugin</artifactId>
-		<version>7.2.9</version>
+		<version>7.3.0</version>
 	</parent>
 	<properties>
 		<moduleClass>io.onedev.server.plugin.report.markdown.MarkdownReportModule</moduleClass>

--- server-plugin/server-plugin-report-pmd/pom.xml ---
@@ -5,7 +5,7 @@
 	<parent>
 		<groupId>io.onedev</groupId>
 		<artifactId>server-plugin</artifactId>
-		<version>7.2.9</version>
+		<version>7.3.0</version>
 	</parent>
 	<dependencies>
 		<dependency>

--- server-plugin/server-plugin-report-problem/pom.xml ---
@@ -5,7 +5,7 @@
 	<parent>
 		<groupId>io.onedev</groupId>
 		<artifactId>server-plugin</artifactId>
-		<version>7.2.9</version>
+		<version>7.3.0</version>
 	</parent>
 	<properties>
 		<moduleClass>io.onedev.server.plugin.report.problem.ProblemReportModule</moduleClass>

--- server-plugin/server-plugin-report-spotbugs/pom.xml ---
@@ -5,7 +5,7 @@
 	<parent>
 		<groupId>io.onedev</groupId>
 		<artifactId>server-plugin</artifactId>
-		<version>7.2.9</version>
+		<version>7.3.0</version>
 	</parent>
 	<dependencies>
 		<dependency>

--- server-plugin/server-plugin-report-unittest/pom.xml ---
@@ -5,7 +5,7 @@
 	<parent>
 		<groupId>io.onedev</groupId>
 		<artifactId>server-plugin</artifactId>
-		<version>7.2.9</version>
+		<version>7.3.0</version>
 	</parent>
 	<properties>
 		<moduleClass>io.onedev.server.plugin.report.unittest.UnitTestReportModule</moduleClass>

--- server-plugin/server-plugin-sso-discord/pom.xml ---
@@ -5,7 +5,7 @@
 	<parent>
 		<groupId>io.onedev</groupId>
 		<artifactId>server-plugin</artifactId>
-		<version>7.2.9</version>
+		<version>7.3.0</version>
 	</parent>
 	<properties>
 		<moduleClass>io.onedev.server.plugin.sso.discord.DiscordModule</moduleClass>

--- server-plugin/server-plugin-sso-openid/pom.xml ---
@@ -6,7 +6,7 @@
 	<parent>
 		<groupId>io.onedev</groupId>
 		<artifactId>server-plugin</artifactId>
-		<version>7.2.9</version>
+		<version>7.3.0</version>
 	</parent>
 	<dependencies>
 		<dependency>

--- server-product/pom.xml ---
@@ -7,7 +7,7 @@
 	<parent>
 		<groupId>io.onedev</groupId>
 		<artifactId>server</artifactId>
-		<version>7.2.9</version>
+		<version>7.3.0</version>
 	</parent>
 	<dependencies>
 		<dependency>

--- server-product/src/main/java/io/onedev/server/product/ProductServletConfigurator.java ---
@@ -1,5 +1,6 @@
 package io.onedev.server.product;
 
+import java.io.File;
 import java.util.EnumSet;
 
 import javax.inject.Inject;
@@ -119,8 +120,10 @@ public void sessionDestroyed(HttpSessionEvent se) {
 		 * Configure a servlet to serve contents under site folder. Site folder can be used 
 		 * to hold site specific web assets.   
 		 */
-		ServletHolder fileServletHolder = new ServletHolder(new FileAssetServlet(Bootstrap.getSiteDir()));
+		File assetsDir = new File(Bootstrap.getSiteDir(), "assets");
+		ServletHolder fileServletHolder = new ServletHolder(new FileAssetServlet(assetsDir));
 		context.addServlet(fileServletHolder, "/site/*");
+		
 		context.addServlet(fileServletHolder, "/robots.txt");
 		
 		context.addServlet(new ServletHolder(jerseyServlet), "/api/*");	


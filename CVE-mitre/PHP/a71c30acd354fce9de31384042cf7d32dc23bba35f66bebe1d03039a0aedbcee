--- PFBC/Base.php ---
@@ -48,7 +48,7 @@ public function debug() {
 
 	/*This method prevents double/single quotes in html attributes from breaking the markup.*/
 	protected function filter($str) {
-		return str_replace('"', '&quot;', $str);
+		return htmlspecialchars($str);
 	}
 
 	/*This method is used by the Form class and all Element classes to return a string of html

--- PFBC/Element/Textarea.php ---
@@ -7,7 +7,7 @@ class Textarea extends \PFBC\Element {
 	public function render() {
         echo "<textarea", $this->getAttributes("value"), ">";
         if(!empty($this->attributes["value"]))
-            echo $this->attributes["value"];
+            echo $this->filter($this->attributes["value"]);
         echo "</textarea>";
     }
 }


--- ChangeLog ---
@@ -1,3 +1,15 @@
+15-SEP-2022: 20.3.1
+
+- Multiple commits preparing for live UI switch [DS-909]
+- Disables java proxy by default [DS-912]
+- Removes click to stop drawing freehand [1109]
+- NPE fix [DS-913]
+- NPE fix [DS-914]
+- [conf cloud] Diagram count restrictions on free tier [DFCC-57]
+- Fixes scroll issue for CMD key in Safari 16 [3017]
+- Enables autosize for multiple vertices [1116]
+- Adds ui/safe to fix possible XSS in math [CSP-733]
+
 07-SEP-2022: 20.3.0
 
 - Uses organic as default layout to fix possible NPE in CSV import [DS-910]

--- VERSION ---
@@ -1 +1 @@
-20.3.0
\ No newline at end of file
+20.3.1
\ No newline at end of file

--- src/main/webapp/js/diagramly/App.js ---
@@ -7080,20 +7080,7 @@ App.prototype.updateUserElement = function()
 	{
 		if (this.userElement == null)
 		{
-			this.userElement = document.createElement('a');
-			this.userElement.className = 'geItem';
-			this.userElement.style.position = 'absolute';
-			this.userElement.style.fontSize = '8pt';
-			this.userElement.style.top = (uiTheme == 'atlas') ? '8px' : '2px';
-			this.userElement.style.right = '30px';
-			this.userElement.style.margin = '4px';
-			this.userElement.style.padding = '2px';
-			this.userElement.style.paddingRight = '16px';
-			this.userElement.style.verticalAlign = 'middle';
-			this.userElement.style.backgroundImage =  'url(' + IMAGE_PATH + '/expanded.gif)';
-			this.userElement.style.backgroundPosition = '100% 60%';
-			this.userElement.style.backgroundRepeat = 'no-repeat';
-			
+			this.userElement = this.createUserElement();
 			this.menubarContainer.appendChild(this.userElement);
 
 			// Prevents focus
@@ -7577,7 +7564,11 @@ App.prototype.updateUserElement = function()
 			
 						if (file != null && file.isRealtimeEnabled() && file.isRealtimeSupported())
 						{
-							div = div.cloneNode(false);
+							var div = document.createElement('div');
+							div.style.padding = '10px';
+							div.style.whiteSpace = 'nowrap';
+							div.style.borderTop = '1px solid rgb(224, 224, 224)';
+							div.style.marginTop = '4px';
 							div.style.textAlign = 'center';
 							div.style.padding = '10px';
 							div.style.fontSize = '9pt';
@@ -7635,21 +7626,141 @@ App.prototype.updateUserElement = function()
 		
 		if (user != null)
 		{
+			EditorUi.removeChildNodes(this.userElement);
 			this.userElement.innerText = '';
-			
-			if (screen.width > 560)
+
+			if (Editor.currentTheme != 'sketch' && screen.width > 560)
 			{
 				mxUtils.write(this.userElement, user.displayName);
-				this.userElement.style.display = 'block';
+				this.userElement.style.display = 'inline-block';
 			}
 		}
 		else
 		{
 			this.userElement.style.display = 'none';
 		}
 	}
+
+	this.updateUserElementStyle();
+	this.updateUserElementIcon();
+};
+
+//TODO Use this function to get the currently logged in user
+App.prototype.updateUserElementIcon = function()
+{
+	var elt = this.userElement;
+
+	if (elt != null)
+	{
+		var title = mxResources.get('changeUser');
+
+		if (elt.style.display != 'none')
+		{
+			var file = this.getCurrentFile();
+
+			if (file != null && file.isRealtimeEnabled() && file.isRealtimeSupported())
+			{
+				var icon = document.createElement('img');
+				icon.setAttribute('border', '0');
+				icon.style.position = 'absolute';
+				icon.style.left = '16px';
+				icon.style.top = '2px';
+				icon.style.width = '12px';
+				icon.style.height = '12px';
+
+				var err = file.getRealtimeError();
+				var state = file.getRealtimeState();
+				title += ' (' + mxResources.get('realtimeCollaboration') + ': ';
+
+				if (state == 1)
+				{
+					icon.src = Editor.syncImage;
+					title += mxResources.get('online');
+				}
+				else
+				{
+					icon.src = Editor.syncProblemImage;
+
+					if (err != null && err.message != null)
+					{
+						title += err.message;
+					}
+					else
+					{
+						title += mxResources.get('disconnected');
+					}
+				}
+				
+				title += ')';
+
+				if (Editor.currentTheme == 'sketch')
+				{
+					elt.style.marginRight = '6px';
+					elt.appendChild(icon);
+				}
+			}
+
+			elt.setAttribute('title', title);
+		}
+	}
 };
 
+//TODO Use this function to get the currently logged in user
+App.prototype.updateUserElementStyle = function()
+{
+	var elt = this.userElement;
+
+	if (elt != null)
+	{
+		if (Editor.currentTheme == 'sketch')
+		{
+    		elt.className = 'geToolbarButton';
+			elt.style.backgroundImage = 'url(' + Editor.userImage + ')';
+        	elt.style.backgroundPosition = 'center center';
+        	elt.style.backgroundRepeat = 'no-repeat';
+        	elt.style.backgroundSize = '100% 100%';
+			elt.style.position = 'relative';
+			elt.style.margin = '0px';
+			elt.style.padding = '0px';
+        	elt.style.height = '24px';
+        	elt.style.width = '24px';
+			elt.style.top = '3px';
+			elt.style.right = '';
+		}
+		else
+		{
+			elt.className = 'geItem';
+			elt.style.backgroundImage =  'url(' + IMAGE_PATH + '/expanded.gif)';
+			elt.style.backgroundPosition = '100% 60%';
+			elt.style.backgroundRepeat = 'no-repeat';
+        	elt.style.backgroundSize = '';
+			elt.style.position = 'absolute';
+			elt.style.margin = '4px';
+			elt.style.padding = '2px';
+			elt.style.paddingRight = '16px';
+			elt.style.width = '';
+			elt.style.height = '';
+			elt.style.right = (Editor.currentTheme == 'atlas' ||
+				urlParams['live-ui'] != '1') ? '8px' : '30px';
+			elt.style.top = (Editor.currentTheme == 'atlas') ? '8px' : '2px';
+		}
+	}
+};
+
+/**
+ * Adds the listener for automatically saving the diagram for local changes.
+ */
+App.prototype.createUserElement = function()
+{
+	var elt = document.createElement('a');
+	mxUtils.setPrefixedStyle(elt.style, 'transition', 'none');
+	elt.style.display = 'inline-block';
+	elt.style.cursor = 'pointer';
+	elt.style.fontSize = '8pt';
+	
+	return elt;
+};
+ 
 //TODO Use this function to get the currently logged in user
 App.prototype.getCurrentUser = function()
 {

--- src/main/webapp/js/diagramly/Devel.js ---
@@ -32,8 +32,8 @@ if (!mxIsElectron && location.protocol !== 'http:')
 			'; ';
 
 		var styleHashes = '\'sha256-JjkxVHHCCVO0nllPD6hU8bBYSlsikA8TM/o3fhr0bas=\' ' + // index.html
-			'\'sha256-4pUt7OuaoLNo5uDuX+AclpTryPwhRX6uqZWQH/jtOvE=\' ' + // Minimal.js/Light
-			'\'sha256-C26P0UwTt9j3PuMuqZ6wTb7DL6A9c0DoJcT8e2atugc=\' ' + // Minimal.js/Dark
+			'\'sha256-8bAFhdIVH8/EjuHhNVZCG8isp9LZEPSQ23SJ7e54VWI=\' ' + // Minimal.js/Light
+			'\'sha256-fSmyKEwMytIGzQ+V1A8gi8iNvdN+rLOrqJvCL179k8Q=\' ' + // Minimal.js/Dark
 			'\'sha256-7kY8ozVqKLIIBwZ24dhdmZkM26PsOlZmEi72RhmZKoM=\' ' + // mxTooltipHandler.js
 			'\'sha256-kuk5TvxZ/Kwuobo4g6uasb1xRQwr1+nfa1A3YGePO7U=\' ' + // MathJax
 			'\'sha256-ByOXYIXIkfNC3flUR/HoxR4Ak0pjOEF1q8XmtuIa6po=\' ' + // purify.min.js

--- src/main/webapp/js/diagramly/Dialogs.js ---
@@ -7695,8 +7695,15 @@ var FreehandWindow = function(editorUi, x, y, w, h, withBrush)
 	{
 		startBtn.innerText = '';
 		mxUtils.write(startBtn, mxResources.get(graph.freehand.isDrawing() ? 'stopDrawing' : 'startDrawing'));
+
+		var shortcut = document.createElement('span');
+		shortcut.style.opacity = '0.7';
+		shortcut.style['float'] = 'right';
+		mxUtils.write(shortcut, 'X');
+		startBtn.appendChild(shortcut);
+
 		startBtn.setAttribute('title', mxResources.get(graph.freehand.isDrawing() ? 'stopDrawing' : 'startDrawing'));
-		startBtn.className = 'geBtn' + (!graph.freehand.isDrawing() ? ' gePrimaryBtn' : '');
+		startBtn.className = 'geBtn' + (graph.freehand.isDrawing() ? ' gePrimaryBtn' : '');
 	}));
 	
 	this.window.addListener('show', mxUtils.bind(this, function()

--- src/main/webapp/js/diagramly/Editor.js ---
@@ -2388,7 +2388,7 @@
 				{
 					load: [(urlParams['math-output'] == 'html') ?
 						'output/chtml' : 'output/svg', 'input/tex',
-						'input/asciimath']
+						'input/asciimath', 'ui/safe']
 				},
 				startup:
 				{

--- src/main/webapp/js/diagramly/EditorUi.js ---
@@ -9326,7 +9326,7 @@
 	EditorUi.prototype.init = function()
 	{
 		mxStencilRegistry.allowEval = mxStencilRegistry.allowEval && !this.isOfflineApp();
-
+		
 		// Must be set before UI is created in superclass
 		if (this.isSettingsEnabled())
 		{
@@ -10283,6 +10283,12 @@
 		this.addListener('darkModeChanged', themeChangeListener);
 		this.addListener('sketchModeChanged', themeChangeListener);
 
+		this.addListener('currentThemeChanged', mxUtils.bind(this, function()
+		{
+			this.updateUserElement();
+			this.refresh();
+		}));
+
 		if (uiTheme == 'dark')
 		{
 			this.doSetDarkMode(true);
@@ -10441,12 +10447,18 @@
 						// Avoid autoscroll but allow handling of all pass-through ctrl shortcuts
 						textInput.style.left = (graph.container.scrollLeft + 10) + 'px';
 						textInput.style.top = (graph.container.scrollTop + 10) + 'px';
-						
+						var x0 = graph.container.scrollLeft;
+						var y0 = graph.container.scrollTop;
+
 						graph.container.appendChild(textInput);
 						restoreFocus = true;
 						
 						textInput.focus();
 						document.execCommand('selectAll', false, null);
+
+						// Workaround for Safari 16 scroll after CMD key press
+						graph.container.scrollLeft = x0;
+						graph.container.scrollTop = y0;
 					}
 				}
 			}
@@ -10541,8 +10553,15 @@
 
 				if (!mxEvent.isConsumed(evt))
 				{
+					var x0 = graph.container.scrollLeft;
+					var y0 = graph.container.scrollTop;
+
 					window.setTimeout(mxUtils.bind(this, function()
 					{
+						// Workaround for Safari 16 scroll after paste
+						graph.container.scrollLeft = x0;
+						graph.container.scrollTop = y0;
+
 						this.pasteCells(evt, textInput, false, true);
 					}), 0);
 				}
@@ -10568,9 +10587,8 @@
 	EditorUi.prototype.setCurrentTheme = function(value, noRestart)
 	{
 		mxSettings.setUi(value);
-		noRestart = noRestart || this.doSetCurrentTheme(value);
-		this.fireEvent(new mxEventObject('currentThemeChanged'));
-		
+		noRestart = this.doSetCurrentTheme(value) || noRestart;
+
 		if (!noRestart)
 		{
 			this.alert(mxResources.get('restartForChangeRequired'));
@@ -10582,85 +10600,127 @@
 	 */
 	EditorUi.prototype.doSetCurrentTheme = function(value)
 	{
+		function isDefault(theme)
+		{
+			return theme == '' || theme == 'dark' ||
+				theme == 'kennedy' || theme == null;
+		};
+
 		var curr = Editor.currentTheme;
-		var noRestart = false;
+		value = (isDefault(value)) ? 'default' : value;
+		curr = (isDefault(curr)) ? 'default' : curr;
 
-		if (curr != value)
+		// From kennedy to sketch or vice versa
+		var transition = curr == 'sketch' && value == 'default' ||
+			curr == 'default' && value == 'sketch';
+
+		if (transition && urlParams['live-ui'] == '1' && !this.themeSwitching)
 		{
-			if (urlParams['live-ui'] == '1')
+			Editor.currentTheme = value;
+			this.themeSwitching = true;
+
+			// Saves scroll position
+			var t = this.editor.graph.view.translate;
+			var tx = t.x;
+			var ty = t.y;
+			var off = mxUtils.getOffset(this.editor.graph.container);
+			var x = this.editor.graph.container.scrollLeft - off.x;
+			var y = this.editor.graph.container.scrollTop - off.y;
+
+			var delay = 100;
+			mxUtils.setPrefixedStyle(this.container.style, 'transition', 'all ' + delay + 'ms');
+
+			window.setTimeout(mxUtils.bind(this, function()
 			{
-				console.log('doSetCurrentTheme', curr, value);
+				this.container.style.opacity = '0';
 
-				function isDefault(theme)
+				window.setTimeout(mxUtils.bind(this, function()
 				{
-					return theme == null || theme == '' || theme == 'dark' ||
-						theme == 'kennedy';
-				};
+					if (curr == 'sketch' && value == 'default')
+					{
+						this.sidebarFooterContainer.style.display = 'block';
+						this.menubarContainer.style.display = 'block';
+						this.toolbarContainer.style.display = 'block';
+						this.tabContainer.style.display = 'block';
+						this.hsplit.style.display = 'block';
+						this.hsplitPosition = EditorUi.prototype.hsplitPosition;
+						this.menubarHeight = App.prototype.menubarHeight;
+						this.formatWidth = EditorUi.prototype.formatWidth;
+					}
+					else if (curr == 'default' && value == 'sketch')
+					{
+						this.sidebarFooterContainer.style.display = 'none';
+						this.menubarContainer.style.display = 'none';
+						this.toolbarContainer.style.display = 'none';
+						this.tabContainer.style.display = 'none';
+						this.hsplit.style.display = 'none';
+						this.hsplitPosition = 0;
+						this.menubarHeight = 0;
+						this.formatWidth = 0;
+					}
 
-				value = (isDefault(value)) ? 'default' : value;
-				curr = (isDefault(curr)) ? 'default' : curr;
+					this.switchTheme(value);
 
-				// TODO: Change theme at runtime
-				if (curr == 'sketch' && value == 'default')
-				{
-					this.sidebarFooterContainer.style.display = 'block';
-					this.menubarContainer.style.display = 'block';
-					this.toolbarContainer.style.display = 'block';
-					this.sidebarContainer.style.display = 'block';
-					this.tabContainer.style.display = 'block';
-					this.hsplit.style.display = 'block';
-					this.hsplitPosition = EditorUi.prototype.hsplitPosition;
-					this.menubarHeight = App.prototype.menubarHeight;
-					this.formatWidth = EditorUi.prototype.formatWidth;
-					noRestart = true;
-				}
-				else if (curr == 'default' && value == 'sketch')
-				{
-					this.sidebarFooterContainer.style.display = 'none';
-					this.menubarContainer.style.display = 'none';
-					this.toolbarContainer.style.display = 'none';
-					this.sidebarContainer.style.display = 'none';
-					this.tabContainer.style.display = 'none';
-					this.hsplit.style.display = 'none';
-					this.hsplitPosition = 0;
-					this.menubarHeight = 0;
-					this.formatWidth = 0;
-					noRestart = true;
-				}
+					window.setTimeout(mxUtils.bind(this, function()
+					{
+						this.fireEvent(new mxEventObject('currentThemeChanged'));
 
-				this.switchTheme(value);
-			}
+						// Restores scroll position
+						this.editor.graph.refresh();
+						var s = this.editor.graph.view.scale;
+						off = mxUtils.getOffset(this.editor.graph.container);
+						this.editor.graph.container.scrollLeft = x + off.x + (t.x - tx) * s;
+						this.editor.graph.container.scrollTop = y + off.y + (t.y - ty) * s;
 
-			Editor.currentTheme = value;
+						this.container.style.opacity = '';
+
+						window.setTimeout(mxUtils.bind(this, function()
+						{
+							mxUtils.setPrefixedStyle(this.container.style, 'transition', null);
+							delete this.themeSwitching;
+						}), delay);
+					}), delay);
+				}), delay);
+			}), 0);
 		}
 
-		return noRestart;
+		return transition;
 	};
 
 	/**
 	 * Overrides image dialog to add image search and Google+.
 	 */
 	EditorUi.prototype.switchTheme = function(value)
 	{
-		this.createMenubarForTheme(value);
+		this.switchThemeConstants(value);
 		this.switchCssForTheme(value);
+		this.createWrapperForTheme(value);
+		this.createPickerMenuForTheme(value);
+		this.createMainMenuForTheme(value);
+		this.createMenubarForTheme(value);
+		this.createFooterMenuForTheme(value);
+
+		// TODO: Check what hides sidebarContainer
+		this.sidebarContainer.style.display = '';
 
 		if (value == 'sketch')
 		{
-
-			this.refresh();
-	
-	
+			// Format window
 			this.createFormatWindow();
-
 			this.formatContainer.style.left = '0px';
 			this.formatContainer.style.top = '0px';
 			this.formatContainer.style.width = '';
 
-
+			// Shapes window
+			this.createShapesWindow();
+			this.sidebarContainer.style.left = '0px';
+			this.sidebarContainer.style.top = '0px';
+			this.sidebarContainer.style.bottom = '0px';
+			this.sidebarContainer.style.width = '100%';
 		}
 		else if (value == 'default')
 		{
+			// Format window
 			if (this.formatContainer != null)
 			{
 				this.formatContainer.style.left = '';
@@ -10669,20 +10729,117 @@
 				{
 					if (this.footerContainer.parentNode != this.formatContainer.parentNode)
 					{
-						this.footerContainer.parentNode.insertBefore(this.formatContainer, this.footerContainer);
+						this.footerContainer.parentNode.insertBefore(
+							this.formatContainer, this.footerContainer);
 					}
 				}
 
-				if (this.formatWindow != null)
+				// Shapes window
+				if (this.sidebarContainer != null)
 				{
-					this.formatWindow.destroy();
-					this.formatWindow = null;
+					if (this.formatContainer.parentNode != this.sidebarContainer.parentNode)
+					{
+						this.formatContainer.parentNode.insertBefore(
+							this.sidebarContainer, this.formatContainer);
+					}
 				}
 			}
+		}
 
-			this.refresh();
+		// Format panel close button
+		if (this.format != null)
+		{
+			var closeButton = value == 'default' || value == 'atlas'; 
 
+			if (this.format.showCloseButton != closeButton)
+			{
+				this.format.showCloseButton = closeButton;
+				this.format.refresh();
+			}
+		}
+	};
+
+	/**
+	 * Overrides image dialog to add image search and Google+.
+	 */
+	EditorUi.prototype.destroyWindows = function()
+	{
+        if (this.sidebarWindow != null)
+        {
+            this.sidebarWindow.destroy();
+            this.sidebarWindow = null;
+        }
+        
+        if (this.formatWindow != null)
+        {
+        	this.formatWindow.destroy();
+        	this.formatWindow = null;
+        }
+
+		if (this.freehandWindow != null)
+		{
+        	this.freehandWindow.destroy();
+        	this.freehandWindow = null;
+        }
+
+        if (this.actions.outlineWindow != null)
+        {
+        	this.actions.outlineWindow.destroy();
+        	this.actions.outlineWindow = null;
+        }
 
+        if (this.actions.layersWindow != null)
+        {
+        	this.actions.layersWindow.destroy();
+        	this.actions.layersWindow = null;
+        }
+
+        if (this.menus.tagsWindow != null)
+        {
+        	this.menus.tagsWindow.destroy();
+        	this.menus.tagsWindow = null;
+        }
+
+        if (this.menus.findWindow != null)
+        {
+        	this.menus.findWindow.destroy();
+        	this.menus.findWindow = null;
+        }
+
+        if (this.menus.findReplaceWindow != null)
+        {
+        	this.menus.findReplaceWindow.destroy();
+        	this.menus.findReplaceWindow = null;
+        }
+
+		if (this.menus.commentsWindow != null)
+		{
+			this.menus.commentsWindow.destroy();
+			this.menus.commentsWindow = null;
+		}
+	};
+
+	/**
+	 * Overrides image dialog to add image search and Google+.
+	 */
+	EditorUi.prototype.switchThemeConstants = function(value)
+	{
+		this.destroyWindows();
+
+		if (value == 'sketch')
+		{
+			mxWindow.prototype.closeImage = Graph.createSvgImage(18, 10,
+				'<path d="M 5 1 L 13 9 M 13 1 L 5 9" stroke="#C0C0C0" stroke-width="2"/>').src;
+			mxWindow.prototype.minimizeImage = Graph.createSvgImage(14, 10,
+				'<path d="M 3 7 L 7 3 L 11 7" stroke="#C0C0C0" stroke-width="2" fill="none"/>').src;
+			mxWindow.prototype.normalizeImage = Graph.createSvgImage(14, 10,
+				'<path d="M 3 3 L 7 7 L 11 3" stroke="#C0C0C0" stroke-width="2" fill="none"/>').src;
+		}
+		else
+		{
+			mxWindow.prototype.closeImage = mxClient.imageBasePath + '/close.gif';
+			mxWindow.prototype.minimizeImage = mxClient.imageBasePath + '/minimize.gif';
+			mxWindow.prototype.normalizeImage = mxClient.imageBasePath + '/normalize.gif';
 		}
 	};
 
@@ -10711,6 +10868,354 @@
 		}
 	};
 
+	/**
+	 * Overrides image dialog to add image search and Google+.
+	 */
+	EditorUi.prototype.createWrapperForTheme = function(value)
+	{
+		if (value == 'sketch')
+		{
+			if (this.sketchWrapperElt == null)
+			{
+				this.sketchWrapperElt = document.createElement('div');
+				this.sketchWrapperElt.style.cssText = 'position:absolute;' +
+					'top:0px;left:0px;right:0px;bottom:0px;overflow:hidden;';
+			}
+
+			this.diagramContainer.parentNode.appendChild(this.sketchWrapperElt);
+			this.sketchWrapperElt.appendChild(this.diagramContainer);
+		}
+		else if (this.sketchWrapperElt != null && this.sketchWrapperElt.parentNode != null)
+		{
+			this.tabContainer.parentNode.insertBefore(this.diagramContainer, this.tabContainer);
+			this.sketchWrapperElt.parentNode.removeChild(this.sketchWrapperElt);
+		}
+	};
+
+	/**
+	 * Overrides image dialog to add image search and Google+.
+	 */
+	EditorUi.prototype.createMainMenuForTheme = function(value)
+	{
+		if (value == 'sketch')
+		{
+			if (this.sketchMainMenuElt == null)
+			{
+				this.sketchMainMenuElt = document.createElement('div');
+				this.sketchMainMenuElt.className = 'geToolbarContainer';
+				this.sketchMainMenuElt.style.cssText = 'position:absolute;left:10px;top:10px;height:44px;' +
+					'border-radius:4px;padding:9px 12px;overflow:hidden;z-index:1;white-space:nowrap;' +
+					'text-align:right;user-select:none;box-sizing:border-box;border-bottom:1px solid lightgray;';
+
+				this.sketchMainMenuElt.appendChild(this.createMenu('diagram', Editor.menuImage));
+				this.sketchMainMenuElt.appendChild(this.createMenuItem('delete', Editor.trashImage));
+				var undoElt = this.sketchMainMenuElt.appendChild(this.createMenuItem('undo', Editor.undoImage));
+				var redoElt = this.sketchMainMenuElt.appendChild(this.createMenuItem('redo', Editor.redoImage));
+
+				var undoListener = mxUtils.bind(this, function()
+				{
+					undoElt.style.display = (this.editor.undoManager.history.length > 0 ||
+						this.editor.graph.isEditing()) ? 'inline-block' : 'none';
+					redoElt.style.display = undoElt.style.display;
+				});
+				
+				this.actions.get('undo').addListener('stateChanged', undoListener);
+				this.actions.get('redo').addListener('stateChanged', undoListener);
+				undoListener();
+
+				this.sketchWrapperElt.appendChild(this.sketchMainMenuElt);
+			}
+		}
+	};
+
+	/**
+	 * Overrides image dialog to add image search and Google+.
+	 */
+	EditorUi.prototype.createFooterMenuForTheme = function(value)
+	{
+		if (value == 'sketch')
+		{
+			if (this.sketchFooterMenuElt == null)
+			{
+				this.sketchFooterMenuElt = document.createElement('div');
+				this.sketchFooterMenuElt.className = 'geToolbarContainer';
+				this.sketchFooterMenuElt.style.cssText = 'position:absolute;right:14px;bottom:14px;height:44px;' +
+					'border-radius:4px;padding:9px 12px;overflow:hidden;z-index:1;white-space:nowrap;' +
+					'text-align:right;user-select:none;box-sizing:border-box;border-bottom:1px solid lightgray;';
+
+				var footer = this.sketchFooterMenuElt;
+
+				var pageMenu = this.createPageMenuTab(false, true);
+				pageMenu.className = 'geToolbarButton';
+				pageMenu.style.cssText = 'display:inline-block;cursor:pointer;overflow:hidden;padding:4px;' +
+					'white-space:nowrap;max-width:160px;text-overflow:ellipsis;filter:none;opacity:1;';
+				footer.appendChild(pageMenu);
+
+				var updatePageName = mxUtils.bind(this, function()
+				{
+					pageMenu.innerText = '';
+
+					if (this.currentPage != null)
+					{
+						mxUtils.write(pageMenu, this.currentPage.getName());
+						var n = (this.pages != null) ? this.pages.length : 1;
+						var idx = this.getPageIndex(this.currentPage);
+						idx = (idx != null) ? idx + 1 : 1;
+						var id = this.currentPage.getId();
+						pageMenu.setAttribute('title', this.currentPage.getName() +
+							' (' + idx + '/' + n + ')' + ((id != null) ?
+							' [' + id + ']' : ''));
+					}
+				});
+
+				this.editor.addListener('pagesPatched', updatePageName);
+				this.editor.addListener('pageSelected', updatePageName);
+				this.editor.addListener('pageRenamed', updatePageName);
+				this.editor.addListener('fileLoaded', updatePageName);
+				updatePageName();
+				
+				// Page menu only visible for multiple pages
+				var pagesVisibleChanged = mxUtils.bind(this, function()
+				{
+					pageMenu.style.display = this.pages != null &&
+						(urlParams['pages'] != '0' || this.pages.length > 1 ||
+						Editor.pagesVisible) ? 'inline-block' : 'none';
+				});
+
+				this.addListener('fileDescriptorChanged', pagesVisibleChanged);
+				this.addListener('pagesVisibleChanged', pagesVisibleChanged);
+				this.editor.addListener('pagesPatched', pagesVisibleChanged);
+				pagesVisibleChanged();
+
+				footer.appendChild(this.createMenuItem('zoomOut', Editor.zoomOutImage));
+
+				var elt = this.createMenu('viewZoom', Editor.plusImage);
+				elt.setAttribute('title', mxResources.get('zoom'));
+				elt.innerHTML = '100%';
+				elt.className = 'geToolbarButton';
+				elt.style.cssText = 'display:inline-block;position:relative;vertical-align:top;opacity:1;color:inherit;' +
+					'padding:4px;box-shadow:none;width:40px;text-align:center;margin-right:-6px;filter:none;';
+				footer.appendChild(elt);
+
+				// Updates the label if the scale changes
+				(mxUtils.bind(this, function(elt)
+				{
+					// Adds shift+/alt+click on zoom label
+					mxEvent.addListener(elt, 'click', mxUtils.bind(this, function(evt)
+					{
+						if (mxEvent.isAltDown(evt))
+						{
+							this.hideCurrentMenu();
+							this.actions.get('customZoom').funct();
+							mxEvent.consume(evt);
+						}
+						// geItem is a dropdown menu, geMenuItem is a button in the toolbar
+						else if (mxEvent.isShiftDown(evt))
+						{
+							this.hideCurrentMenu();
+							this.actions.get('smartFit').funct();
+							mxEvent.consume(evt);
+						}
+					}));
+
+					var updateZoom = mxUtils.bind(this, function()
+					{
+						elt.innerText = '';
+						mxUtils.write(elt, Math.round(this.editor.graph.view.scale * 100) + '%');
+					});
+
+					this.editor.graph.view.addListener(mxEvent.EVENT_SCALE, updateZoom);
+					this.editor.addListener('resetGraphView', updateZoom);
+					this.editor.addListener('pageSelected', updateZoom);
+				}))(elt);
+
+				footer.appendChild(this.createMenuItem('zoomIn', Editor.zoomInImage));
+				
+				this.sketchWrapperElt.appendChild(this.sketchFooterMenuElt);
+			}
+		}
+	};
+
+	/**
+	 * Overrides image dialog to add image search and Google+.
+	 */
+	EditorUi.prototype.createPickerMenuForTheme = function(value)
+	{
+		if (value == 'sketch')
+		{
+			if (this.sketchPickerMenuElt == null)
+			{
+				this.sketchPickerMenuElt = document.createElement('div');
+				this.sketchPickerMenuElt.className = 'geToolbarContainer';
+				this.sketchPickerMenuElt.style.cssText = 'position:absolute;left:10px;border-radius:4px;' +
+					'padding:0px 4px 4px;white-space:nowrap;' +
+					'z-index:1;transform:translate(0, -50%);top:50%;user-select:none;width:40px;';
+
+				var picker = this.sketchPickerMenuElt;
+				mxUtils.setPrefixedStyle(picker.style, 'transition', 'transform .3s ease-out');
+				
+				var foldImg = document.createElement('a');
+				foldImg.style.padding = '0px';
+				foldImg.style.boxShadow = 'none';
+				foldImg.className = 'geMenuItem';
+				foldImg.style.display = 'block';
+				foldImg.style.width = '100%';
+				foldImg.style.height = '14px';
+				foldImg.style.backgroundImage = 'url(' + mxWindow.prototype.normalizeImage + ')';
+				foldImg.style.backgroundPosition = 'top center';
+				foldImg.style.backgroundRepeat = 'no-repeat';
+				foldImg.setAttribute('title', 'Minimize'/*TODO:mxResources.get('minimize')*/);
+				
+				var freehandElt = this.createMenuItem('insertFreehand',
+					Editor.freehandImage, true);
+				freehandElt.style.paddingLeft = '12px';
+				freehandElt.style.backgroundSize = '';
+				freehandElt.style.width = '26px';
+				freehandElt.style.height = '30px';
+				freehandElt.style.opacity = '0.7';
+				
+				var insertElt = this.createMenu('insert', Editor.plusImage);
+				insertElt.style.backgroundSize = '';
+				insertElt.style.marginBottom = '4px';
+				insertElt.style.display = 'block';
+				insertElt.style.width = '30px';
+				insertElt.style.height = '30px';
+				insertElt.style.padding = '4px';
+				insertElt.style.opacity = '0.7';
+
+				var collapsed = false;
+	
+				var initPicker = mxUtils.bind(this, function()
+				{
+					picker.innerText = '';
+					
+					if (!collapsed)
+					{
+						function addKey(elt, key)
+						{
+							elt.style.position = 'relative';
+							elt.style.overflow = 'visible';
+	
+							var div = document.createElement('div');
+							div.style.position = 'absolute';
+							div.style.fontSize = '8px';
+							div.style.left = '32px';
+							div.style.top = '28px';
+							mxUtils.write(div, key);
+							elt.appendChild(div);
+						};
+	
+						function addElt(elt, title, cursor, key)
+						{
+							if (title != null)
+							{
+								elt.setAttribute('title', title);
+							}
+							
+							elt.style.cursor = 'pointer';
+							elt.style.margin = '8px 0px';
+							elt.style.display = 'block';
+							picker.appendChild(elt);
+							
+							if (key != null)
+							{
+								addKey(elt, key);
+							}
+							
+							return elt;
+						};
+						
+						// Append sidebar elements
+						addElt(this.sidebar.createVertexTemplate('text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;', 
+							60, 30, 'Text', mxResources.get('text') + ' (A)', true, false, null, true, true),
+							mxResources.get('text') + ' (A)', null, 'A');
+						addElt(this.sidebar.createVertexTemplate('shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;' +
+							'fontColor=#000000;darkOpacity=0.05;fillColor=#FFF9B2;strokeColor=none;fillStyle=solid;' +
+							'direction=west;gradientDirection=north;gradientColor=#FFF2A1;shadow=1;size=20;pointerEvents=1;',
+							140, 160, '', mxResources.get('note') + ' (S)', true, false, null, true),
+							mxResources.get('note') + ' (S)', null, 'S');
+						addElt(this.sidebar.createVertexTemplate('rounded=0;whiteSpace=wrap;html=1;', 160, 80, '',
+							mxResources.get('rectangle') + ' (D)', true, false, null, true),
+							mxResources.get('rectangle') + ' (D)', null, 'D');
+						addElt(this.sidebar.createVertexTemplate('ellipse;whiteSpace=wrap;html=1;', 160, 100, '',
+							mxResources.get('ellipse') + ' (F)', true, false, null, true),
+							mxResources.get('ellipse') + ' (F)', null, 'F');
+						
+						var edgeStyle = 'edgeStyle=none;orthogonalLoop=1;jettySize=auto;html=1;';
+						var cell = new mxCell('', new mxGeometry(0, 0, this.editor.graph.defaultEdgeLength + 20, 0), edgeStyle);
+						cell.geometry.setTerminalPoint(new mxPoint(0, 0), true);
+						cell.geometry.setTerminalPoint(new mxPoint(cell.geometry.width, 0), false);
+						cell.geometry.points = [];
+						cell.geometry.relative = true;
+						cell.edge = true;
+						
+						addElt(this.sidebar.createEdgeTemplateFromCells([cell],
+							cell.geometry.width, cell.geometry.height,
+							mxResources.get('line') + ' (C)', true, null, true, false),
+							mxResources.get('line') + ' (C)', null, 'C');
+							
+						cell = cell.clone();
+						cell.style = edgeStyle + 'shape=flexArrow;rounded=1;startSize=8;endSize=8;';
+						cell.geometry.width = this.editor.graph.defaultEdgeLength + 20;
+						cell.geometry.setTerminalPoint(new mxPoint(0, 20), true);
+						cell.geometry.setTerminalPoint(new mxPoint(cell.geometry.width, 20), false);
+		
+						addElt(this.sidebar.createEdgeTemplateFromCells([cell],
+							cell.geometry.width, 40, mxResources.get('arrow'),
+							true, null, true, false), mxResources.get('arrow'));
+					
+						addElt(freehandElt, mxResources.get('freehand') + ' (X)', null, 'X');
+						this.sketchPickerMenuElt.appendChild(insertElt);
+					}
+					
+					if (urlParams['embedInline'] != '1')
+					{
+						picker.appendChild(foldImg);
+					}
+				});
+				
+				mxEvent.addListener(foldImg, 'click', mxUtils.bind(this, function()
+				{
+					if (collapsed)
+					{
+						mxUtils.setPrefixedStyle(picker.style, 'transform', 'translate(0, -50%)');
+						picker.style.padding = '8px 6px 4px';
+						picker.style.width = '40px';
+						picker.style.top = '50%';
+						picker.style.bottom = '';
+						picker.style.height = '';
+						foldImg.style.backgroundImage = 'url(' + mxWindow.prototype.normalizeImage + ')';
+						foldImg.setAttribute('title', 'Minimize'/*TODO:mxResources.get('minimize')*/);
+						foldImg.style.height = '14px';
+						collapsed = false;
+						initPicker();
+					}
+					else
+					{				
+						picker.innerText = '';
+						picker.appendChild(foldImg);
+						mxUtils.setPrefixedStyle(picker.style, 'transform', 'translate(0, 0)');
+						picker.style.bottom = '12px';
+						picker.style.padding = '0px';
+						picker.style.height = '24px';
+						picker.style.width = '24px';
+						picker.style.top = '';
+						foldImg.style.backgroundImage = 'url(' + Editor.plusImage + ')';
+						foldImg.setAttribute('title', mxResources.get('insert'));
+						foldImg.style.height = '24px';
+						collapsed = true;
+					}
+				}));
+				
+				this.addListener('darkModeChanged', initPicker);
+				this.addListener('sketchModeChanged', initPicker);
+				initPicker();
+
+				this.sketchWrapperElt.appendChild(this.sketchPickerMenuElt);
+			}
+		}
+	};
+
 	/**
 	 * Overrides image dialog to add image search and Google+.
 	 */
@@ -10722,62 +11227,64 @@
 			{
 				this.sketchMenubarElt = document.createElement('div');
 				this.sketchMenubarElt.className = 'geToolbarContainer';
-				this.sketchMenubarElt.style.cssText = 'position:absolute;right:14px;top:10px;height:30px;z-index:1;' +
-					'border-radius:4px;padding:6px;border:1px solid #c0c0c0;overflow:hidden;' +
-					'text-align:right;white-space:nowrap;user-select:none;';
+				this.sketchMenubarElt.style.cssText = 'position:absolute;right:14px;top:10px;height:44px;' +
+					'border-radius:4px;padding:7px 12px;overflow:hidden;z-index:1;white-space:nowrap;' +
+					'text-align:right;user-select:none;box-sizing:border-box;border-bottom:1px solid lightgray;';
+				this.sketchWrapperElt.appendChild(this.sketchMenubarElt);
+			}
 
-				if (this.switchThemeElt != null)
-				{
-					this.switchThemeElt.style.position = 'relative';
-					this.switchThemeElt.style.width = '22px';
-					this.switchThemeElt.style.height = '22px';
-					this.switchThemeElt.style.top = '0px';
-					this.switchThemeElt.style.right = '6px';
+			if (this.userElement != null)
+			{
+				this.sketchMenubarElt.appendChild(this.userElement);
+			}
 
-					this.sketchMenubarElt.appendChild(this.switchThemeElt);
-				}
+			var elt = this.menubar.langIcon;
 
-				this.diagramContainer.parentNode.appendChild(this.sketchMenubarElt);
+			if (elt != null)
+			{
+				elt.style.position = 'relative';
+				elt.style.height = '21px';
+				elt.style.width = '21px';
+				elt.style.right = '0px';
+				elt.style.top = '3px';
+
+				this.sketchMenubarElt.appendChild(elt);
 			}
 		}
 		else
 		{
-			if (this.switchThemeElt != null)
+			if (this.userElement != null)
 			{
-				this.switchThemeElt.style.position = 'absolute';
-				this.switchThemeElt.style.width = '19px';
-				this.switchThemeElt.style.height = '19px';
-				this.switchThemeElt.style.top = '0px';
-				this.switchThemeElt.style.right = '17px';
-
-				document.body.appendChild(this.switchThemeElt);
+				this.menubarContainer.appendChild(this.userElement);
 			}
 
-			if (this.sketchMenubarElt != null)
+			var elt = this.menubar.langIcon;
+
+			if (elt != null)
 			{
-				this.sketchMenubarElt.parentNode.removeChild(this.sketchMenubarElt);
-				this.sketchMenubarElt = null;
+				elt.style.position = 'absolute';
+				elt.style.height = '18px';
+				elt.style.width = '18px';
+				elt.style.right = '14px';
+				elt.style.top = '5px';
+
+				document.body.appendChild(elt);
 			}
 		}
 	};
 
 	/**
 	 * Overrides image dialog to add image search and Google+.
 	 */
-	EditorUi.prototype.addMenuToMenubar = function(menubar, key, classname, img)
+	EditorUi.prototype.createMenu = function(key, img)
 	{
 		var menu = this.menus.get(key);
-		var elt = menubar.addMenu(mxResources.get(key), menu.funct);
+		var elt = this.menubar.addMenu(mxResources.get(key), menu.funct);
 		
-		elt.className = classname;
+		elt.className = 'geToolbarButton';
 		elt.style.display = 'inline-block';
-		elt.style.boxSizing = 'border-box';
-		elt.style.top = '6px';
-		elt.style.marginRight = '6px';
-		elt.style.height = '30px';
-		elt.style.paddingTop = '6px';
-		elt.style.paddingBottom = '6px';
 		elt.style.cursor = 'pointer';
+		elt.style.height = '24px';
 		elt.setAttribute('title', mxResources.get(key));
 		this.menus.menuCreated(menu, elt, 'geMenuItem');
 		
@@ -10786,24 +11293,88 @@
 			elt.style.backgroundImage = 'url(' + img + ')';
 			elt.style.backgroundPosition = 'center center';
 			elt.style.backgroundRepeat = 'no-repeat';
-			elt.style.backgroundSize = '24px 24px';
-			elt.style.width = '34px';
+			elt.style.backgroundSize = '100% 100%';
+			elt.style.width = '24px';
 			elt.innerText = '';
 		}
 
 		return elt;
 	};
 
+	/**
+	 * Overrides image dialog to add image search and Google+.
+	 */
+	EditorUi.prototype.createMenuItem = function(key, img, ignoreState)
+	{
+		var btn = document.createElement('a');
+		btn.className = 'geToolbarButton';
+		btn.setAttribute('title', mxResources.get(key));
+		btn.style.backgroundImage = 'url(' + img + ')';
+		btn.style.backgroundPosition = 'center center';
+		btn.style.backgroundRepeat = 'no-repeat';
+		btn.style.backgroundSize = '100% 100%';
+		btn.style.display = 'inline-block';
+		btn.style.cursor = 'pointer';
+		btn.style.marginLeft = '6px';
+		btn.style.width = '24px';
+		btn.style.height = '24px';
+
+		var action = this.actions.get(key);
+
+		if (action != null)
+		{
+			// Prevents focus
+			mxEvent.addListener(btn, (mxClient.IS_POINTER) ? 'pointerdown' : 'mousedown',
+				mxUtils.bind(this, function(evt)
+			{
+				evt.preventDefault();
+			}));
+	
+			mxEvent.addListener(btn, 'click', function(evt)
+			{
+				if (btn.getAttribute('disabled') != 'disabled')
+				{
+					action.funct(evt);
+				}
+				
+				mxEvent.consume(evt);
+			});
+	
+			if (!ignoreState)
+			{
+				function updateState()
+				{
+					if (action.isEnabled())
+					{
+						btn.removeAttribute('disabled');
+						btn.style.cursor = 'pointer';
+					}
+					else
+					{
+						btn.setAttribute('disabled', 'disabled');
+						btn.style.cursor = 'default';
+					}
+
+					btn.style.opacity = (action.isEnabled()) ? '' : '0.2';
+				};
+				
+				this.editor.graph.addListener('enabledChanged', updateState);
+				action.addListener('stateChanged', updateState);
+				updateState();
+			}
+		}
+	   
+		return btn;
+	};
+
 	/**
 	 * Overrides image dialog to add image search and Google+.
 	 */
 	EditorUi.prototype.createFormatWindow = function()
 	{
 		if (this.formatWindow == null)
 		{
-			var x = (urlParams['sketch'] == '1') ?
-				Math.max(10, this.diagramContainer.clientWidth - 241) :
-				Math.max(10, this.diagramContainer.clientWidth - 248);
+			var x = Math.max(10, this.diagramContainer.parentNode.clientWidth - 256);
 			var y = urlParams['winCtrls'] == '1' && urlParams['sketch'] == '1'? 80 : 60;
 			var h = (urlParams['embedInline'] == '1') ? 580 :
 				((urlParams['sketch'] == '1') ? 580 : Math.min(566,
@@ -10821,6 +11392,37 @@
 			}));
 			
 			this.formatWindow.window.minimumSize = new mxRectangle(0, 0, 240, 80);
+			this.formatWindow.window.setVisible(false);
+		}
+	};
+
+	/**
+	 * Overrides image dialog to add image search and Google+.
+	 */
+	EditorUi.prototype.createShapesWindow = function()
+	{
+		if (this.sidebarWindow == null)
+		{
+			var w = Math.min(this.diagramContainer.parentNode.clientWidth - 10, 218);
+			var h = (urlParams['embedInline'] == '1') ? 650 :
+				Math.min(this.diagramContainer.parentNode.clientHeight, 650);
+			
+			this.sidebarWindow = new WrapperWindow(this, mxResources.get('shapes'),
+				(Editor.currentTheme == 'sketch' && urlParams['embedInline'] != '1') ? 66 : 10,
+				(Editor.currentTheme == 'sketch' && urlParams['embedInline'] != '1') ?
+					Math.max(30, (this.diagramContainer.parentNode.clientHeight - h) / 2) : 56,
+				w - 6, h - 6, mxUtils.bind(this, function(container)
+			{
+				container.appendChild(this.sidebarContainer);
+			}));
+			
+			this.sidebarWindow.window.addListener(mxEvent.SHOW, mxUtils.bind(this, function()
+			{
+				this.sidebarWindow.window.fit();
+			}));
+
+			this.sidebarWindow.window.minimumSize = new mxRectangle(0, 0, 90, 90);
+			this.sidebarWindow.window.setVisible(false);
 		}
 	};
 
@@ -10835,14 +11437,14 @@
 			{
 				this.spinner.stop();
 				this.doSetSketchMode(value);
-				 
+				
 				// Persist setting
 				if (urlParams['rough'] == null)
 				{
 					mxSettings.settings.sketchMode = value;
 					mxSettings.save();
 				}
-					 
+				
 				this.fireEvent(new mxEventObject('sketchModeChanged'));
 			}), 0);
 		}
@@ -10869,6 +11471,7 @@
 			'html body .mxCellEditor { color: #f0f0f0; }'
 			:
 			// Non-dark mode styles
+			'html > body > div > .geToolbarContainer { box-shadow:0px 0px 3px 1px #c0c0c0; }' +
 			'html body div.geToolbarContainer a.geInverted { filter: invert(1); }' +
 			'html body.geEditor .geTabContainer div { border-color: #e5e5e5 !important; }'
 			) +
@@ -10887,7 +11490,7 @@
 			'html body a.geMenuItem[disabled]:active { opacity: 0.2; }' +
 			'html body div.geActivePage { opacity: 0.7; }' +
 			'html body a.geMenuItem:active { opacity: 0.2; }' +
-			'html body .geToolbarButton { opacity: 0.3; }' +
+			//'html body .geToolbarButton { opacity: 0.3; }' +
 			'html body .geToolbarButton:active { opacity: 0.15; }' +
 			'html body .geStatus:active { opacity: 0.5; }' +
 			'.geStatus > div { box-sizing: border-box; max-width: 100%; text-overflow: ellipsis; }' +
@@ -10913,12 +11516,13 @@
 			'html body .mxWindow td.mxWindowPane input, html body .mxWindow td.mxWindowPane select, html body .mxWindow td.mxWindowPane textarea, html body .mxWindow td.mxWindowPane radio { padding: 0px; box-sizing: border-box; }' +
 			'.geDialog, .mxWindow td.mxWindowPane *, div.geSprite, td.mxWindowTitle, .geDiagramContainer { box-sizing:content-box; }' +
 			'.mxWindow div button.geStyleButton { box-sizing: border-box; }' +
+			'.mxWindowPane > .geSidebarContainer { border: none !important; }' +
 			'table.mxWindow td.mxWindowPane button.geColorBtn { padding:0px; box-sizing: border-box; }' +
 			'td.mxWindowPane .geSidebarContainer button { padding:2px; box-sizing: border-box; }' +
 			'html body .geMenuItem { font-size:14px; text-decoration: none; font-weight: normal; padding: 6px 10px 6px 10px; border: none; border-radius: 5px; color: #353535; box-shadow: inset 0 0 0 1px rgba(0,0,0,.11), inset 0 -1px 0 0 rgba(0,0,0,.08), 0 1px 2px 0 rgba(0,0,0,.04); ' + (EditorUi.isElectronApp? 'app-region: no-drag; ' : '') + '}' +
 			// Styling for Minimal
 			'.geTabContainer { border-bottom:1px solid lightgray; border-top:1px solid lightgray; background: ' + (Editor.isDarkMode() ? Editor.darkColor : '#fff') + ' !important; }' +
-			'.geToolbarContainer { background: ' + (Editor.isDarkMode() ? Editor.darkColor : '#fff') + '; }' +
+			'html body .geToolbarContainer { background: ' + (Editor.isDarkMode() ? Editor.darkColor : '#fff') + '; }' +
 			'div.geSidebarContainer { background-color: ' + (Editor.isDarkMode() ? Editor.darkColor : '#fff') + '; }' +
 			'div.geSidebarContainer .geTitle { background-color: ' + (Editor.isDarkMode() ? Editor.darkColor : '#fdfdfd') + '; }' +
 			'div.mxWindow td.mxWindowPane button { background-image: none; float: none; }' +
@@ -11040,7 +11644,11 @@
 				Editor.darkCheckmarkImage : Editor.lightCheckmarkImage;
 			
 			// Updates CSS
-			if (Editor.styleElt != null)
+			if (this.sketchStyleElt != null)
+			{
+				this.sketchStyleElt.innerHTML = Editor.createMinimalCss();
+			}
+			else if (Editor.styleElt != null)
 			{
 				Editor.styleElt.innerHTML = Editor.createMinimalCss();
 			}
@@ -13655,7 +14263,8 @@
 			{
 				if (urlParams['saveAndExit'] != '0')
 				{
-					var saveAndExitTitle = urlParams['publishClose'] == '1' ? mxResources.get('publish') : mxResources.get('saveAndExit');
+					var saveAndExitTitle = urlParams['publishClose'] == '1' ?
+						mxResources.get('publish') : mxResources.get('saveAndExit');
 					mxUtils.write(button, saveAndExitTitle);
 					button.setAttribute('title', saveAndExitTitle);
 					

--- src/main/webapp/js/diagramly/Embed.js ---
@@ -77,7 +77,7 @@
 				{
 					load: [(urlParams['math-output'] == 'html') ?
 						'output/chtml' : 'output/svg', 'input/tex',
-						'input/asciimath']
+						'input/asciimath', 'ui/safe']
 				},
 				startup:
 				{

--- src/main/webapp/js/diagramly/Menus.js ---
@@ -327,10 +327,12 @@
 			{
 				if (graph.isEnabled())
 				{
-					if (this.freehandWindow == null)
+					if (editorUi.freehandWindow == null)
 					{
 						var withBrush = !mxClient.IS_IE && !mxClient.IS_IE11;
-						this.freehandWindow = new FreehandWindow(editorUi, document.body.offsetWidth - 420, 102, 176, withBrush? 120 : 84, withBrush);
+						editorUi.freehandWindow = new FreehandWindow(
+							editorUi, document.body.offsetWidth - 420, 102, 176,
+							withBrush? 120 : 84, withBrush);
 					}
 					
 					if (graph.freehand.isDrawing())
@@ -342,7 +344,7 @@
 						graph.freehand.startDrawing();
 					}
 					
-					this.freehandWindow.window.setVisible(graph.freehand.isDrawing());
+					editorUi.freehandWindow.window.setVisible(graph.freehand.isDrawing());
 				}
 			}, null, null, 'X')).isEnabled = function()
 			{
@@ -1242,71 +1244,51 @@
 				var menubar = menusCreateMenuBar.apply(this, arguments);
 				
 				if (menubar != null && urlParams['embed'] != '1' &&
-					(uiTheme != 'atlas' || urlParams['live-ui'] == '1'))
+					(uiTheme != 'atlas' && urlParams['live-ui'] == '1'))
 				{
-					var langMenu = this.get((urlParams['live-ui'] == '1') ? 'theme' : 'language');
+					var langMenu = this.get((urlParams['live-ui'] == '1') ?
+						'appearance' : 'language');
 					
 					if (langMenu != null)
 					{
 						var elt = menubar.addMenu('', langMenu.funct);
 						elt.setAttribute('title', mxResources.get(
 							(urlParams['live-ui'] == '1') ?
-							'preferences' : 'language'));
-						elt.className = 'geAdaptiveAsset';
-						elt.style.boxSizing = 'border-box';
-						elt.style.width = '19px';
-						elt.style.height = '19px';
-						elt.style.paddingTop = '2px';
-						elt.style.paddingLeft = '4px';
+							'theme' : 'language'));
+						elt.className = 'geToolbarButton geAdaptiveAsset';
+						elt.style.backgroundImage = 'url(' + Editor.globeImage + ')';
+						elt.style.backgroundPosition = 'center center';
+						elt.style.backgroundRepeat = 'no-repeat';
+						elt.style.backgroundSize = '100% 100%';
+						elt.style.display = 'inline-block';
+						elt.style.verticalAlign = 'top';
+						elt.style.marginLeft = '2px';
+						elt.style.cursor = 'pointer';
 						elt.style.zIndex = '1';
+
+						// Depends on theme
 						elt.style.position = 'absolute';
-						elt.style.display = 'block';
-						elt.style.cursor = 'pointer';
-						elt.style.right = '20px';
-						
-						if (uiTheme == 'min')
+						elt.style.height = '18px';
+						elt.style.width = '18px';
+
+						if (Editor.currentTheme == 'atlas')
 						{
-							elt.style.top = '2px';
+							elt.style.filter = 'invert(100%)';
+							elt.style.right = '11px';
+							elt.style.top = '10px';
 						}
 						else
 						{
-							elt.style.top = '0px';
-						}
-						
-						var icon = document.createElement('div');
-						icon.className = 'geToolbarButton';
-						icon.style.backgroundImage = 'url(' + Editor.globeImage + ')';
-						icon.style.backgroundPosition = 'center center';
-						icon.style.backgroundRepeat = 'no-repeat';
-						icon.style.backgroundSize = '100% 100%';
-						icon.style.filter = 'none';
-						icon.style.position = 'absolute';
-						icon.style.height = '100%';
-						icon.style.width = '100%';
-						icon.style.marginTop = (uiTheme == 'atlas') ? '8px' : '2px';
-						icon.style.marginLeft = '2px';
-						icon.style.zIndex = '1';
-						elt.appendChild(icon);
-
-						if (urlParams['live-ui'] != '1')
-						{
-							mxUtils.setOpacity(elt, 70);
+							elt.style.right = '14px';
+							elt.style.top = '5px';
 						}
 						
 						if (urlParams['winCtrls'] == '1')
 						{
 							elt.style.right = '95px';
-							elt.style.width = '19px';
-							elt.style.height = '19px';
 							elt.style.webkitAppRegion = 'no-drag';
 							icon.style.webkitAppRegion = 'no-drag';
 						}
-						
-						if (uiTheme == 'atlas')
-						{
-							elt.style.filter = 'invert(100%)';
-							elt.style.opacity = '0.85';
-						}
 
 						document.body.appendChild(elt);
 						menubar.langIcon = elt;
@@ -1315,13 +1297,17 @@
 						{
 							var updateThemeElement = mxUtils.bind(this, function()
 							{
-								icon.style.backgroundImage = 'url(\'' + ((Editor.isDarkMode() || uiTheme == 'atlas') ?
-									Editor.lightModeImage : Editor.darkModeImage) + '\')';
+								elt.style.backgroundImage = 'url(\'' + ((Editor.isDarkMode() || uiTheme == 'atlas') ?
+									Editor.darkModeImage : Editor.lightModeImage) + '\')';
 							});
 				
 							this.editorUi.addListener('darkModeChanged', updateThemeElement);
 							updateThemeElement();
 						}
+						else
+						{
+							mxUtils.setOpacity(elt, 40);
+						}
 
 						this.editorUi.switchThemeElt = elt;
 					}
@@ -1398,6 +1384,22 @@
 			editorUi.showDialog(dlg.container, 620, 460, true, true);
 			dlg.init();
 		});
+
+		// Adds outline option to zoom menu
+        var viewZoomMenu = this.get('viewZoom');
+		var viewZoomMenuFunct = viewZoomMenu.funct;
+		
+		viewZoomMenu.funct = mxUtils.bind(this, function(menu, parent)
+		{
+			viewZoomMenuFunct.apply(this, arguments);
+
+			var sketchTheme = Editor.currentTheme == 'sketch' || urlParams['sketch'] == '1';
+			
+			if (sketchTheme || uiTheme == 'min')
+			{
+				this.addMenuItems(menu, ['-', 'outline', 'fullscreen'], parent);
+			}
+		});
 		
 		var layoutMenu = this.get('layout');
 		var layoutMenuFunct = layoutMenu.funct;
@@ -2884,6 +2886,24 @@
 			}
 		}))).isEnabled = isGraphEnabled;
 
+		this.put('appearance', new Menu(mxUtils.bind(this, function(menu, parent)
+		{
+			if (Editor.isDarkMode() || (!mxClient.IS_IE && !mxClient.IS_IE11))
+			{
+				this.addMenuItems(menu, ['toggleDarkMode'], parent);
+			}
+			
+			var item = menu.addItem(mxResources.get('simple'), null, function()
+			{
+				editorUi.setCurrentTheme((Editor.currentTheme == 'sketch') ? '' : 'sketch');
+			}, parent);
+
+			if (Editor.currentTheme == 'sketch')
+			{
+				menu.addCheckmark(item, Editor.checkmarkImage);
+			}
+		})));
+
 		this.put('theme', new Menu(mxUtils.bind(this, function(menu, parent)
 		{
 			var theme = (urlParams['sketch'] == '1') ? 'sketch' : mxSettings.getUi();
@@ -2896,14 +2916,24 @@
 			
 			menu.addSeparator(parent);
 			
-			var item = menu.addItem(mxResources.get('default'), null, function()
+			var item = menu.addItem(mxResources.get('automatic'), null, function()
 			{
 				editorUi.setCurrentTheme('');
 			}, parent);
+			
+			if (theme != 'kennedy' && theme != 'atlas' &&
+				theme != 'dark' && theme != 'min' &&
+				theme != 'sketch')
+			{
+				menu.addCheckmark(item, Editor.checkmarkImage);
+			}
+			
+			item = menu.addItem(mxResources.get('default'), null, function()
+			{
+				editorUi.setCurrentTheme('kennedy');
+			}, parent);
 
-			if (theme == 'kennedy' || theme == 'dark' ||
-				(theme != 'atlas' && theme != 'min' &&
-				theme != 'sketch'))
+			if (theme == 'kennedy' || theme == 'dark')
 			{
 				menu.addCheckmark(item, Editor.checkmarkImage);
 			}
@@ -3320,7 +3350,39 @@
 						graph.getInsertPoint() : null);
 			}
 		}, null, null, 'C')).isEnabled = isGraphEnabled;
+
+		var toggleFormat = editorUi.actions.put('toggleFormat', new Action(mxResources.get('format'), function()
+        {
+			if (editorUi.formatWindow != null)
+			{
+				editorUi.formatWindow.window.setVisible(
+					!editorUi.formatWindow.window.isVisible());
+			}
+        }));
+
+		toggleFormat.shortcut = editorUi.actions.get('formatPanel').shortcut;
+		toggleFormat.setToggleAction(true);
+		toggleFormat.setSelectedCallback(mxUtils.bind(this, function()
+		{
+			return editorUi.formatWindow != null && editorUi.formatWindow.window.isVisible();
+		}));
 		
+		var toggleShapes = editorUi.actions.put('toggleShapes', new Action(mxResources.get('shapes'), function()
+        {
+			if (editorUi.sidebarWindow != null)
+			{
+				editorUi.sidebarWindow.window.setVisible(
+					!editorUi.sidebarWindow.window.isVisible());
+			}
+        }));
+
+		toggleShapes.shortcut = editorUi.actions.get('formatPanel').shortcut;
+		toggleShapes.setToggleAction(true);
+		toggleShapes.setSelectedCallback(mxUtils.bind(this, function()
+		{
+			return editorUi.sidebarWindow != null && editorUi.sidebarWindow.window.isVisible();
+		}));
+
 		editorUi.addInsertMenuItems = mxUtils.bind(this, function(menu, parent, methods)
 		{
 			for (var i = 0; i < methods.length; i++)
@@ -3338,18 +3400,49 @@
 		
 		this.put('insert', new Menu(mxUtils.bind(this, function(menu, parent)
 		{
-			this.addMenuItems(menu, ['insertRectangle', 'insertEllipse', 'insertRhombus',
-				'-', 'insertEdge', 'insertNote', '-', 'insertText', 'insertLink',
-				'-', 'createShape', 'insertFreehand', '-', 'insertImage'], parent);
+			// Compatiblity code for live UI switch and static UI
+			var sketchTheme = Editor.currentTheme == 'sketch' || urlParams['sketch'] == '1';
+			
+			if (sketchTheme)
+			{
+				editorUi.menus.addMenuItems(menu, ['toggleShapes'], parent);
+				editorUi.menus.addSubmenu('table', menu, parent);
+				menu.addSeparator(parent);
 
-			if (editorUi.insertTemplateEnabled && !editorUi.isOffline())
+				if (editorUi.insertTemplateEnabled && !editorUi.isOffline())
+				{
+					editorUi.menus.addMenuItems(menu, ['insertTemplate'], parent);
+				}
+				
+				editorUi.menus.addMenuItems(menu, ['insertImage', 'insertLink', '-'], parent);
+				editorUi.menus.addSubmenu('insertAdvanced', menu, parent, mxResources.get('advanced'));
+				editorUi.menus.addSubmenu('layout', menu, parent);
+			}
+			else
 			{
-				this.addMenuItems(menu, ['insertTemplate'], parent);
+				this.addMenuItems(menu, ['insertRectangle', 'insertEllipse', 'insertRhombus',
+					'-', 'insertEdge', 'insertNote', '-', 'insertText', 'insertLink',
+					'-', 'createShape', 'insertFreehand', '-', 'insertImage'], parent);
+
+				if (editorUi.insertTemplateEnabled && !editorUi.isOffline())
+				{
+					this.addMenuItems(menu, ['insertTemplate'], parent);
+				}
+				
+				menu.addSeparator(parent);
+				this.addSubmenu('insertLayout', menu, parent, mxResources.get('layout'));
+				this.addSubmenu('insertAdvanced', menu, parent, mxResources.get('advanced'));
+
+				if (uiTheme == 'min')
+				{
+					this.addSubmenu('table', menu, parent);
+				}
 			}
-			
-			menu.addSeparator(parent);
-			this.addSubmenu('insertLayout', menu, parent, mxResources.get('layout'));
-			this.addSubmenu('insertAdvanced', menu, parent, mxResources.get('advanced'));
+		})));
+
+        this.put('table', new Menu(mxUtils.bind(this, function(menu, parent)
+		{
+			editorUi.menus.addInsertTableCellItem(menu, parent);
 		})));
 
 		this.put('insertLayout', new Menu(mxUtils.bind(this, function(menu, parent)
@@ -3966,136 +4059,386 @@
 				dlg.init();
 			});
 		}
+		
+		var langMenu = this.get('language');
 
 		this.put('extras', new Menu(mxUtils.bind(this, function(menu, parent)
 		{
-			if (urlParams['embed'] != '1' || urlParams['lang'] == null)
+			// Compatiblity code for live UI switch and static UI
+			var sketchTheme = Editor.currentTheme == 'sketch' || urlParams['sketch'] == '1';
+			
+			if (sketchTheme || uiTheme == 'min')
 			{
-				this.addSubmenu('language', menu, parent);
+				if (langMenu != null && (urlParams['embed'] != '1' || urlParams['lang'] == null))
+				{
+					editorUi.menus.addSubmenu('language', menu, parent);
+				}
+				
+				if (urlParams['embed'] != '1' && urlParams['extAuth'] != '1' && editorUi.mode != App.MODE_ATLAS)
+				{
+					editorUi.menus.addSubmenu('theme', menu, parent);
+				}
+				
+				editorUi.menus.addSubmenu('units', menu, parent);
+				menu.addSeparator(parent);
+	
+				if (!sketchTheme)
+				{
+					editorUi.menus.addMenuItems(menu, ['scrollbars', '-', 'tooltips',
+						'copyConnect', 'collapseExpand'], parent);
+				}
+	
+				if (urlParams['embedInline'] != '1' && !sketchTheme && urlParams['embed'] != '1' &&
+					(isLocalStorage || mxClient.IS_CHROMEAPP) && editorUi.mode != App.MODE_ATLAS)
+				{
+					editorUi.menus.addMenuItems(menu, ['-', 'showStartScreen', 'search', 'scratchpad'], parent);
+				}
+	
+				menu.addSeparator(parent);
+				
+				if (sketchTheme)
+				{
+					editorUi.menus.addMenuItems(menu, ['copyConnect',
+						'collapseExpand', 'tooltips', '-'], parent);
+				}
+				
+				if (EditorUi.isElectronApp)
+				{
+					editorUi.menus.addMenuItems(menu, ['-',
+						'spellCheck', 'autoBkp',
+						'drafts', '-'], parent);
+				}
+	
+				var file = editorUi.getCurrentFile();
+				
+				if (file != null && file.isRealtimeEnabled() && file.isRealtimeSupported())
+				{
+					this.addMenuItems(menu, ['-', 'showRemoteCursors',
+						'shareCursor', '-'], parent);
+				}
+	
+				if (Graph.translateDiagram)
+				{
+					editorUi.menus.addMenuItems(menu, ['diagramLanguage'], parent);
+				}
+				
+				if (editorUi.mode != App.MODE_ATLAS) 
+				{
+					editorUi.menus.addMenuItem(menu, 'configuration', parent);
+				}
+	
+				if (!sketchTheme)
+				{
+					if (!editorUi.isOfflineApp() && isLocalStorage && editorUi.mode != App.MODE_ATLAS)
+					{
+						editorUi.menus.addMenuItem(menu, 'plugins', parent);
+					}
+				}
+				
+				// Adds trailing separator in case new plugin entries are added
+				menu.addSeparator(parent);
 			}
-			
-			if (urlParams['embed'] != '1')
+			else
 			{
-				this.addSubmenu('theme', menu, parent);
+				if (urlParams['embed'] != '1' || urlParams['lang'] == null)
+				{
+					this.addSubmenu('language', menu, parent);
+				}
+				
+				if (urlParams['embed'] != '1')
+				{
+					this.addSubmenu('theme', menu, parent);
+				}
+
+				menu.addSeparator(parent);
+
+				if (typeof(MathJax) !== 'undefined')
+				{
+					var item = this.addMenuItem(menu, 'mathematicalTypesetting', parent);
+					
+					if (!editorUi.isOffline() || mxClient.IS_CHROMEAPP || EditorUi.isElectronApp)
+					{
+						this.addLinkToItem(item, 'https://www.diagrams.net/doc/faq/math-typesetting');
+					}
+				}
+		
+				if (EditorUi.isElectronApp)
+				{
+					this.addMenuItems(menu, ['spellCheck', 'autoBkp', 'drafts'], parent);
+				}
+
+				this.addMenuItems(menu, ['copyConnect', 'collapseExpand', '-'], parent);
+				
+				if (urlParams['embed'] != '1')
+				{
+					var file = editorUi.getCurrentFile();
+
+					if (file != null && file.isRealtimeEnabled() && file.isRealtimeSupported())
+					{
+						this.addMenuItems(menu, ['showRemoteCursors',
+							'shareCursor'], parent);
+					}
+
+					this.addMenuItems(menu, ['autosave'], parent);
+				}
+
+				menu.addSeparator(parent);
+				
+				if (!editorUi.isOfflineApp() && isLocalStorage)
+				{
+					this.addMenuItem(menu, 'plugins', parent);
+				}
+
+				this.addMenuItems(menu, ['-', 'editDiagram'], parent);
+		
+				if (Graph.translateDiagram)
+				{
+					this.addMenuItems(menu, ['diagramLanguage']);
+				}
+				
+				menu.addSeparator(parent);
+
+				if (urlParams['embed'] != '1' && (isLocalStorage || mxClient.IS_CHROMEAPP))
+				{
+					this.addMenuItems(menu, ['showStartScreen'], parent);
+				}
+
+				this.addMenuItems(menu, ['configuration'], parent);
+				
+				// Adds trailing separator in case new plugin entries are added
+				menu.addSeparator(parent);
+				
+				if (urlParams['newTempDlg'] == '1')
+				{
+					editorUi.actions.addAction('templates', function()
+					{
+						function driveObjToTempDlg(item)
+						{
+							return {id: item.id, isExt: true, url: item.downloadUrl, title: item.title, imgUrl: item.thumbnailLink,
+									changedBy: item.lastModifyingUserName, lastModifiedOn: item.modifiedDate}
+						};
+						
+						var tempDlg = new TemplatesDialog(editorUi, function(xml){console.log(arguments)}, null,
+								null, null, 'user', function(callback, error, username)
+						{
+							var oneWeek = new Date();
+							oneWeek.setDate(oneWeek.getDate() - 7);
+							
+							editorUi.drive.listFiles(null, oneWeek, username? true : false, function(resp)
+							{
+								var results = [];
+								
+								for (var i = 0; i < resp.items.length; i++)
+								{
+									results.push(driveObjToTempDlg(resp.items[i]));
+								}
+								
+								callback(results);
+							}, error)
+						}, function(str, callback, error, username)
+						{
+							editorUi.drive.listFiles(str, null, username? true : false, function(resp)
+							{
+								var results = [];
+								
+								for (var i = 0; i < resp.items.length; i++)
+								{
+									results.push(driveObjToTempDlg(resp.items[i]));
+								}
+								
+								callback(results);
+							}, error)
+						}, function(obj, callback, error)
+						{
+							editorUi.drive.getFile(obj.id, function(file)
+							{
+								callback(file.data);
+							}, error);
+						}, null, function(callback)
+						{
+							callback({'Test': []}, 1);
+						}, true, false);
+						
+						editorUi.showDialog(tempDlg.container, window.innerWidth, window.innerHeight, true, false, null, false, true);
+					});
+					this.addMenuItem(menu, 'templates', parent);
+				}
 			}
+		})));
 
+		this.put('diagram', new Menu(mxUtils.bind(this, function(menu, parent)
+		{
+			var file = editorUi.getCurrentFile();
+			editorUi.menus.addSubmenu('extras', menu, parent, mxResources.get('preferences'));
 			menu.addSeparator(parent);
 
-			if (typeof(MathJax) !== 'undefined')
+			// Compatiblity code for live UI switch and static UI
+			var sketchTheme = Editor.currentTheme == 'sketch' || urlParams['sketch'] == '1';
+			
+			if (mxClient.IS_CHROMEAPP || EditorUi.isElectronApp)
 			{
-				var item = this.addMenuItem(menu, 'mathematicalTypesetting', parent);
+				editorUi.menus.addMenuItems(menu, ['new', 'open', '-', 'synchronize',
+					'-', 'save', 'saveAs', '-'], parent);
+			}
+			else if (urlParams['embed'] == '1' || editorUi.mode == App.MODE_ATLAS)
+			{
+				if (urlParams['noSaveBtn'] != '1' &&
+					urlParams['embedInline'] != '1')
+				{
+					editorUi.menus.addMenuItems(menu, ['-', 'save'], parent);
+				}
 				
-				if (!editorUi.isOffline() || mxClient.IS_CHROMEAPP || EditorUi.isElectronApp)
+				if (urlParams['saveAndExit'] == '1' || 
+					(urlParams['noSaveBtn'] == '1' &&
+					urlParams['saveAndExit'] != '0') || editorUi.mode == App.MODE_ATLAS)
 				{
-					this.addLinkToItem(item, 'https://www.diagrams.net/doc/faq/math-typesetting');
+					editorUi.menus.addMenuItems(menu, ['saveAndExit'], parent);
+					
+					if (file != null && file.isRevisionHistorySupported())
+					{
+						editorUi.menus.addMenuItems(menu, ['revisionHistory'], parent);
+					}
 				}
+				
+				menu.addSeparator(parent);
 			}
-	
-			if (EditorUi.isElectronApp)
+			else if (editorUi.mode == App.MODE_ATLAS)
 			{
-				this.addMenuItems(menu, ['spellCheck', 'autoBkp', 'drafts'], parent);
+				editorUi.menus.addMenuItems(menu, ['save', 'synchronize', '-'], parent);
 			}
-
-			this.addMenuItems(menu, ['copyConnect', 'collapseExpand', '-'], parent);
-			
-			if (urlParams['embed'] != '1')
+			else if (urlParams['noFileMenu'] != '1')
 			{
-				var file = editorUi.getCurrentFile();
-
-				if (file != null && file.isRealtimeEnabled() && file.isRealtimeSupported())
+				if (!sketchTheme)
 				{
-					this.addMenuItems(menu, ['showRemoteCursors',
-						'shareCursor'], parent);
+					editorUi.menus.addMenuItems(menu, ['new'], parent);
+					editorUi.menus.addSubmenu('openFrom', menu, parent);
+	
+					if (isLocalStorage)
+					{
+						this.addSubmenu('openRecent', menu, parent);
+					}
+				
+					menu.addSeparator(parent);
+	
+					if (file != null)
+					{		
+						if (file.constructor == DriveFile)
+						{
+							editorUi.menus.addMenuItems(menu, ['share'], parent);
+						}
+						
+						if (!mxClient.IS_CHROMEAPP && !EditorUi.isElectronApp &&
+							file.constructor != LocalFile)
+						{
+							editorUi.menus.addMenuItems(menu, ['synchronize'], parent);
+						}
+					}
+					
+					menu.addSeparator(parent);
+					editorUi.menus.addSubmenu('save', menu, parent);
+				}
+				else
+				{
+					editorUi.menus.addSubmenu('file', menu, parent);
 				}
-
-				this.addMenuItems(menu, ['autosave'], parent);
 			}
-
-			menu.addSeparator(parent);
 			
-			if (!editorUi.isOfflineApp() && isLocalStorage)
+			editorUi.menus.addSubmenu('exportAs', menu, parent);
+			
+			if (mxClient.IS_CHROMEAPP || EditorUi.isElectronApp)
 			{
-				this.addMenuItem(menu, 'plugins', parent);
+				editorUi.menus.addMenuItems(menu, ['import'], parent);
 			}
-
-			this.addMenuItems(menu, ['-', 'editDiagram'], parent);
+			else if (urlParams['noFileMenu'] != '1')
+			{
+				editorUi.menus.addSubmenu('importFrom', menu, parent);
+			}
+	
+			editorUi.menus.addMenuItems(menu, ['-',  'findReplace'], parent);
 	
-			if (Graph.translateDiagram)
+			if (editorUi.commentsSupported())
 			{
-				this.addMenuItems(menu, ['diagramLanguage']);
+				editorUi.menus.addMenuItems(menu, ['comments', '-'], parent);
 			}
-			
+	
+			editorUi.menus.addMenuItems(menu, ['toggleFormat', 'layers', 'tags', '-', 'pageSetup'], parent);
+	
+			// Cannot use print in standalone mode on iOS as we cannot open new windows
+			if (urlParams['noFileMenu'] != '1' && (!mxClient.IS_IOS || !navigator.standalone))
+			{
+				editorUi.menus.addMenuItems(menu, ['print'], parent);
+			}
+	
+			if (!sketchTheme)
+			{
+				if (file != null && editorUi.fileNode != null && urlParams['embedInline'] != '1')
+				{
+					var filename = (file.getTitle() != null) ?
+						file.getTitle() : editorUi.defaultFilename;
+					
+					if (!/(\.html)$/i.test(filename) &&
+						!/(\.svg)$/i.test(filename))
+					{
+						this.addMenuItems(menu, ['-', 'properties']);
+					}
+				}
+			}
+	
 			menu.addSeparator(parent);
-
-			if (urlParams['embed'] != '1' && (isLocalStorage || mxClient.IS_CHROMEAPP))
+			editorUi.menus.addSubmenu('help', menu, parent);
+	
+			if (urlParams['embed'] == '1' || editorUi.mode == App.MODE_ATLAS)
 			{
-				this.addMenuItems(menu, ['showStartScreen'], parent);
+				if (urlParams['noExitBtn'] != '1' || editorUi.mode == App.MODE_ATLAS)
+				{
+					editorUi.menus.addMenuItems(menu, ['-', 'exit'], parent);
+				}
+			}
+			else if (urlParams['noFileMenu'] != '1')
+			{
+				editorUi.menus.addMenuItems(menu, ['-', 'close']);
 			}
+		})));
 
-			this.addMenuItems(menu, ['configuration'], parent);
-			
-			// Adds trailing separator in case new plugin entries are added
-			menu.addSeparator(parent);
+		this.put('save', new Menu(mxUtils.bind(this, function(menu, parent)
+		{
+			var file = editorUi.getCurrentFile();
 			
-			if (urlParams['newTempDlg'] == '1')
+			if (file != null && file.constructor == DriveFile)
+			{
+				editorUi.menus.addMenuItems(menu, ['save', 'makeCopy', '-', 'rename', 'moveToFolder'], parent);
+			}
+			else
 			{
-				editorUi.actions.addAction('templates', function()
+				editorUi.menus.addMenuItems(menu, ['save', 'saveAs', '-', 'rename'], parent);
+				
+				if (editorUi.isOfflineApp())
 				{
-					function driveObjToTempDlg(item)
-					{
-						return {id: item.id, isExt: true, url: item.downloadUrl, title: item.title, imgUrl: item.thumbnailLink,
-								changedBy: item.lastModifyingUserName, lastModifiedOn: item.modifiedDate}
-					};
-					
-					var tempDlg = new TemplatesDialog(editorUi, function(xml){console.log(arguments)}, null,
-							null, null, 'user', function(callback, error, username)
-					{
-						var oneWeek = new Date();
-						oneWeek.setDate(oneWeek.getDate() - 7);
-						
-						editorUi.drive.listFiles(null, oneWeek, username? true : false, function(resp)
-						{
-							var results = [];
-							
-							for (var i = 0; i < resp.items.length; i++)
-							{
-								results.push(driveObjToTempDlg(resp.items[i]));
-							}
-							
-							callback(results);
-						}, error)
-					}, function(str, callback, error, username)
-					{
-						editorUi.drive.listFiles(str, null, username? true : false, function(resp)
-						{
-							var results = [];
-							
-							for (var i = 0; i < resp.items.length; i++)
-							{
-								results.push(driveObjToTempDlg(resp.items[i]));
-							}
-							
-							callback(results);
-						}, error)
-					}, function(obj, callback, error)
-					{
-						editorUi.drive.getFile(obj.id, function(file)
-						{
-							callback(file.data);
-						}, error);
-					}, null, function(callback)
+					if (navigator.onLine && urlParams['stealth'] != '1' && urlParams['lockdown'] != '1')
 					{
-						callback({'Test': []}, 1);
-					}, true, false);
-					
-					editorUi.showDialog(tempDlg.container, window.innerWidth, window.innerHeight, true, false, null, false, true);
-				});
-				this.addMenuItem(menu, 'templates', parent);
+						this.addMenuItems(menu, ['upload'], parent);
+					}
+				}
+				else
+				{
+					editorUi.menus.addMenuItems(menu, ['makeCopy'], parent);
+				}
+			}
+			
+			editorUi.menus.addMenuItems(menu, ['-', 'autosave'], parent);
+	
+			if (file != null && file.isRevisionHistorySupported())
+			{
+				editorUi.menus.addMenuItems(menu, ['-', 'revisionHistory'], parent);
 			}
 		})));
 
 		this.put('file', new Menu(mxUtils.bind(this, function(menu, parent)
 		{
+			// Compatiblity code for live UI switch and static UI
+			var minTheme = Editor.currentTheme == 'sketch' || uiTheme == 'min' ||
+				Editor.currentTheme == 'min';
+
 			if (urlParams['embed'] == '1')
 			{
 				this.addSubmenu('importFrom', menu, parent);
@@ -4141,6 +4484,83 @@
 					this.addMenuItems(menu, ['exit'], parent);
 				}
 			}
+			else if (minTheme)
+			{
+				var file = editorUi.getCurrentFile();
+				editorUi.menus.addMenuItems(menu, ['new'], parent);
+				editorUi.menus.addSubmenu('openFrom', menu, parent);
+
+				if (isLocalStorage)
+				{
+					this.addSubmenu('openRecent', menu, parent);
+				}
+				
+				menu.addSeparator(parent);
+
+				editorUi.menus.addMenuItems(menu, ['-', 'save'], parent);
+
+				if (file == null || file.constructor != DriveFile)
+				{
+					editorUi.menus.addMenuItems(menu, ['saveAs'], parent);
+				}
+
+				if (!mxClient.IS_CHROMEAPP && !EditorUi.isElectronApp &&
+					file != null && (file.constructor != LocalFile ||
+					file.fileHandle != null))
+				{
+					editorUi.menus.addMenuItems(menu, ['synchronize'], parent);
+				}
+
+				if (file != null && file.constructor == DriveFile)
+				{
+					editorUi.menus.addMenuItems(menu, ['-', 'rename', 'makeCopy',
+						'-', 'moveToFolder', 'openFolder'], parent);
+				}
+				else
+				{
+					editorUi.menus.addMenuItems(menu, ['-', 'rename'], parent);
+					
+					if (editorUi.isOfflineApp())
+					{
+						if (navigator.onLine && urlParams['stealth'] != '1' && urlParams['lockdown'] != '1')
+						{
+							this.addMenuItems(menu, ['upload'], parent);
+						}
+					}
+					else
+					{
+						editorUi.menus.addMenuItems(menu, ['makeCopy'], parent);
+					}
+				}
+
+				if (file != null && file.isRevisionHistorySupported())
+				{
+					editorUi.menus.addMenuItems(menu, ['-', 'revisionHistory'], parent);
+				}
+
+				if (file != null)
+				{
+					if (editorUi.fileNode != null && urlParams['embedInline'] != '1')
+					{
+						var filename = (file.getTitle() != null) ?
+							file.getTitle() : editorUi.defaultFilename;
+						
+						if ((file.constructor == DriveFile && file.sync != null &&
+							file.sync.isConnected()) || (!/(\.html)$/i.test(filename) &&
+							!/(\.svg)$/i.test(filename)))
+						{
+							this.addMenuItems(menu, ['properties'], parent);
+						}
+					}
+					
+					if (file.constructor == DriveFile)
+					{
+						editorUi.menus.addMenuItems(menu, ['share'], parent);
+					}
+				}
+
+				editorUi.menus.addMenuItems(menu, ['-', 'autosave'], parent);
+			}
 			else
 			{
 				var file = this.editorUi.getCurrentFile();

--- src/main/webapp/js/diagramly/Minimal.js ---
@@ -403,7 +403,7 @@ EditorUi.initMinimalTheme = function()
 
 					var err = file.getRealtimeError();
 					var state = file.getRealtimeState();
-					title += ' (' + mxResources.get('realtimeCollaboration');
+					title += ' (' + mxResources.get('realtimeCollaboration') + ': ';
 
 					if (state == 1)
 					{
@@ -531,34 +531,7 @@ EditorUi.initMinimalTheme = function()
 			this.editor.fireEvent(new mxEventObject('statusChanged'));
 		}
 	};
-	
-	// Fixes sidebar tooltips (previews)
-	var sidebarGetTooltipOffset = Sidebar.prototype.getTooltipOffset;
-	
-	Sidebar.prototype.getTooltipOffset = function(elt, bounds)
-	{
-		if (this.editorUi.sidebarWindow == null ||
-			mxUtils.isAncestorNode(this.editorUi.picker, elt))
-		{
-			var off = mxUtils.getOffset(this.editorUi.picker);
-			
-			off.x += this.editorUi.picker.offsetWidth + 4;
-			off.y += elt.offsetTop - bounds.height / 2 + 16;
-			
-			return off;
-		}
-		else
-		{
-			var result = sidebarGetTooltipOffset.apply(this, arguments);
-			var off = mxUtils.getOffset(this.editorUi.sidebarWindow.window.div);
-			
-			result.x += off.x - 16;
-			result.y += off.y;
-	        
-			return result;
-		}
-	};
-    
+
     // Adds context menu items
     var menuCreatePopupMenu = Menus.prototype.createPopupMenu;
     
@@ -649,49 +622,7 @@ EditorUi.initMinimalTheme = function()
 	var editorUiDestroy = EditorUi.prototype.destroy;
 	EditorUi.prototype.destroy = function()
 	{
-        if (this.sidebarWindow != null)
-        {
-            this.sidebarWindow.window.setVisible(false);
-            this.sidebarWindow.window.destroy();
-            this.sidebarWindow = null;
-        }
-        
-        if (this.formatWindow != null)
-        {
-        	this.formatWindow.destroy();
-        	this.formatWindow = null;
-        }
-
-        if (this.actions.outlineWindow != null)
-        {
-        	this.actions.outlineWindow.destroy();
-        	this.actions.outlineWindow = null;
-        }
-
-        if (this.actions.layersWindow != null)
-        {
-        	this.actions.layersWindow.destroy();
-        	this.actions.layersWindow = null;
-        }
-
-        if (this.menus.tagsWindow != null)
-        {
-        	this.menus.tagsWindow.destroy();
-        	this.menus.tagsWindow = null;
-        }
-
-        if (this.menus.findWindow != null)
-        {
-        	this.menus.findWindow.destroy();
-        	this.menus.findWindow = null;
-        }
-
-        if (this.menus.findReplaceWindow != null)
-        {
-        	this.menus.findReplaceWindow.destroy();
-        	this.menus.findReplaceWindow = null;
-        }
-
+		this.destroyWindows();
 		editorUiDestroy.apply(this, arguments);
 	};
 	
@@ -809,247 +740,6 @@ EditorUi.initMinimalTheme = function()
 			this.addSubmenu('editCell', menu, parent, mxResources.get('edit'));
 		};
 
-		this.put('file', new Menu(mxUtils.bind(this, function(menu, parent)
-		{
-			var file = ui.getCurrentFile();
-			ui.menus.addMenuItems(menu, ['new'], parent);
-			ui.menus.addSubmenu('openFrom', menu, parent);
-
-			if (isLocalStorage)
-			{
-				this.addSubmenu('openRecent', menu, parent);
-			}
-			
-			menu.addSeparator(parent);
-
-			ui.menus.addMenuItems(menu, ['-', 'save'], parent);
-
-			if (file == null || file.constructor != DriveFile)
-			{
-				ui.menus.addMenuItems(menu, ['saveAs'], parent);
-			}
-
-			if (!mxClient.IS_CHROMEAPP && !EditorUi.isElectronApp &&
-				(file.constructor != LocalFile || file.fileHandle != null))
-			{
-				ui.menus.addMenuItems(menu, ['synchronize'], parent);
-			}
-
-			if (file != null && file.constructor == DriveFile)
-			{
-				ui.menus.addMenuItems(menu, ['-', 'rename', 'makeCopy',
-					'-', 'moveToFolder', 'openFolder'], parent);
-			}
-			else
-			{
-				ui.menus.addMenuItems(menu, ['-', 'rename'], parent);
-				
-				if (ui.isOfflineApp())
-				{
-					if (navigator.onLine && urlParams['stealth'] != '1' && urlParams['lockdown'] != '1')
-					{
-						this.addMenuItems(menu, ['upload'], parent);
-					}
-				}
-				else
-				{
-					ui.menus.addMenuItems(menu, ['makeCopy'], parent);
-				}
-			}
-
-			if (file != null && file.isRevisionHistorySupported())
-			{
-				ui.menus.addMenuItems(menu, ['-', 'revisionHistory'], parent);
-			}
-
-			if (file != null)
-			{
-				if (ui.fileNode != null && urlParams['embedInline'] != '1')
-				{
-					var filename = (file.getTitle() != null) ?
-						file.getTitle() : ui.defaultFilename;
-					
-					if ((file.constructor == DriveFile && file.sync != null &&
-						file.sync.isConnected()) || (!/(\.html)$/i.test(filename) &&
-						!/(\.svg)$/i.test(filename)))
-					{
-						this.addMenuItems(menu, ['properties'], parent);
-					}
-				}
-				
-				if (file.constructor == DriveFile)
-				{
-					ui.menus.addMenuItems(menu, ['share'], parent);
-				}
-			}
-
-			ui.menus.addMenuItems(menu, ['-', 'autosave'], parent);
-		})));
-
-        this.put('diagram', new Menu(mxUtils.bind(this, function(menu, parent)
-        {
-			var file = ui.getCurrentFile();
-        	ui.menus.addSubmenu('extras', menu, parent, mxResources.get('preferences'));
-			menu.addSeparator(parent);
-			
-			if (mxClient.IS_CHROMEAPP || EditorUi.isElectronApp)
-			{
-				ui.menus.addMenuItems(menu, ['new', 'open', '-', 'synchronize',
-					'-', 'save', 'saveAs', '-'], parent);
-			}
-			else if (urlParams['embed'] == '1' || ui.mode == App.MODE_ATLAS)
-			{
-				if (urlParams['noSaveBtn'] != '1' &&
-					urlParams['embedInline'] != '1')
-				{
-					ui.menus.addMenuItems(menu, ['-', 'save'], parent);
-				}
-				
-				if (urlParams['saveAndExit'] == '1' || 
-					(urlParams['noSaveBtn'] == '1' &&
-					urlParams['saveAndExit'] != '0') || ui.mode == App.MODE_ATLAS)
-				{
-					ui.menus.addMenuItems(menu, ['saveAndExit'], parent);
-					
-					if (file != null && file.isRevisionHistorySupported())
-					{
-						ui.menus.addMenuItems(menu, ['revisionHistory'], parent);
-					}
-				}
-				
-				menu.addSeparator(parent);
-			}
-			else if (ui.mode == App.MODE_ATLAS)
-			{
-				ui.menus.addMenuItems(menu, ['save', 'synchronize', '-'], parent);
-			}
-			else if (urlParams['noFileMenu'] != '1')
-			{
-				if (urlParams['sketch'] != '1')
-				{
-					ui.menus.addMenuItems(menu, ['new'], parent);
-					ui.menus.addSubmenu('openFrom', menu, parent);
-
-					if (isLocalStorage)
-					{
-						this.addSubmenu('openRecent', menu, parent);
-					}
-				
-					menu.addSeparator(parent);
-
-					if (file != null)
-					{		
-						if (file.constructor == DriveFile)
-						{
-							ui.menus.addMenuItems(menu, ['share'], parent);
-						}
-						
-						if (!mxClient.IS_CHROMEAPP && !EditorUi.isElectronApp &&
-							file.constructor != LocalFile)
-						{
-							ui.menus.addMenuItems(menu, ['synchronize'], parent);
-						}
-					}
-					
-					menu.addSeparator(parent);
-					ui.menus.addSubmenu('save', menu, parent);
-				}
-				else
-				{
-					ui.menus.addSubmenu('file', menu, parent);
-				}
-			}
-			
-			ui.menus.addSubmenu('exportAs', menu, parent);
-			
-			if (mxClient.IS_CHROMEAPP || EditorUi.isElectronApp)
-			{
-				ui.menus.addMenuItems(menu, ['import'], parent);
-			}
-			else if (urlParams['noFileMenu'] != '1')
-			{
-				ui.menus.addSubmenu('importFrom', menu, parent);
-			}
-
-			ui.menus.addMenuItems(menu, ['-',  'findReplace'], parent);
-
-			if (ui.commentsSupported())
-			{
-				ui.menus.addMenuItems(menu, ['comments', '-'], parent);
-			}
-
-			ui.menus.addMenuItems(menu, ['toggleFormat', 'layers', 'tags', '-', 'pageSetup'], parent);
-
-			// Cannot use print in standalone mode on iOS as we cannot open new windows
-			if (urlParams['noFileMenu'] != '1' && (!mxClient.IS_IOS || !navigator.standalone))
-			{
-				ui.menus.addMenuItems(menu, ['print'], parent);
-			}
-
-			if (urlParams['sketch'] != '1')
-			{
-				if (file != null && ui.fileNode != null && urlParams['embedInline'] != '1')
-				{
-					var filename = (file.getTitle() != null) ?
-						file.getTitle() : ui.defaultFilename;
-					
-					if (!/(\.html)$/i.test(filename) &&
-						!/(\.svg)$/i.test(filename))
-					{
-						this.addMenuItems(menu, ['-', 'properties']);
-					}
-				}
-			}
-
-			menu.addSeparator(parent);
-			ui.menus.addSubmenu('help', menu, parent);
-
-            if (urlParams['embed'] == '1' || ui.mode == App.MODE_ATLAS)
-			{
-				if (urlParams['noExitBtn'] != '1' || ui.mode == App.MODE_ATLAS)
-				{
-					ui.menus.addMenuItems(menu, ['-', 'exit'], parent);
-				}
-			}
-			else if (urlParams['noFileMenu'] != '1')
-			{
-				ui.menus.addMenuItems(menu, ['-', 'close']);
-			}
-        })));
-
-		this.put('save', new Menu(mxUtils.bind(this, function(menu, parent)
-        {
-			var file = ui.getCurrentFile();
-			
-			if (file != null && file.constructor == DriveFile)
-			{
-				ui.menus.addMenuItems(menu, ['save', 'makeCopy', '-', 'rename', 'moveToFolder'], parent);
-			}
-			else
-			{
-				ui.menus.addMenuItems(menu, ['save', 'saveAs', '-', 'rename'], parent);
-				
-				if (ui.isOfflineApp())
-				{
-					if (navigator.onLine && urlParams['stealth'] != '1' && urlParams['lockdown'] != '1')
-					{
-						this.addMenuItems(menu, ['upload'], parent);
-					}
-				}
-				else
-				{
-					ui.menus.addMenuItems(menu, ['makeCopy'], parent);
-				}
-			}
-			
-			ui.menus.addMenuItems(menu, ['-', 'autosave'], parent);
-
-			if (file != null && file.isRevisionHistorySupported())
-			{
-				ui.menus.addMenuItems(menu, ['-', 'revisionHistory'], parent);
-			}
-        })));
-        
         // Augments the existing export menu
         var exportAsMenu = this.get('exportAs');
         
@@ -1071,13 +761,6 @@ EditorUi.initMinimalTheme = function()
     		}
         })));
 
-        var langMenu = this.get('language');
-        
-        this.put('table', new Menu(mxUtils.bind(this, function(menu, parent)
-		{
-			ui.menus.addInsertTableCellItem(menu, parent);
-		})));
-
 		var unitsMenu = this.get('units');
 		
 		this.put('units', new Menu(mxUtils.bind(this, function(menu, parent)
@@ -1086,109 +769,6 @@ EditorUi.initMinimalTheme = function()
 			this.addMenuItems(menu, ['-', 'ruler', '-', 'pageScale'], parent);
 		})));
 		
-        // Extras menu is labelled preferences but keeps ID for extensions
-        this.put('extras', new Menu(mxUtils.bind(this, function(menu, parent)
-        {
-			if (langMenu != null && (urlParams['embed'] != '1' || urlParams['lang'] == null))
-			{
-				ui.menus.addSubmenu('language', menu, parent);
-			}
-			
-			if (urlParams['embed'] != '1' && urlParams['extAuth'] != '1' && ui.mode != App.MODE_ATLAS)
-			{
-				ui.menus.addSubmenu('theme', menu, parent);
-			}
-			
-			ui.menus.addSubmenu('units', menu, parent);
-			menu.addSeparator(parent);
-
-			if (urlParams['sketch'] != '1')
-			{
-				ui.menus.addMenuItems(menu, ['scrollbars', '-', 'tooltips',
-					'copyConnect', 'collapseExpand'], parent);
-			}
-
-			if (urlParams['embedInline'] != '1' && urlParams['sketch'] != '1' && urlParams['embed'] != '1' &&
-				(isLocalStorage || mxClient.IS_CHROMEAPP) && ui.mode != App.MODE_ATLAS)
-			{
-				ui.menus.addMenuItems(menu, ['-', 'showStartScreen', 'search', 'scratchpad'], parent);
-			}
-
-			menu.addSeparator(parent);
-			
-			if (urlParams['sketch'] == '1')
-			{
-				ui.menus.addMenuItems(menu, ['copyConnect',
-					'collapseExpand', 'tooltips', '-'], parent);
-			}
-			
-			if (EditorUi.isElectronApp)
-			{
-				ui.menus.addMenuItems(menu, ['-',
-					'spellCheck', 'autoBkp',
-					'drafts', '-'], parent);
-			}
-
-			var file = ui.getCurrentFile();
-			
-			if (file != null && file.isRealtimeEnabled() && file.isRealtimeSupported())
-			{
-				this.addMenuItems(menu, ['-', 'showRemoteCursors',
-					'shareCursor', '-'], parent);
-			}
-
-			if (Graph.translateDiagram)
-			{
-				ui.menus.addMenuItems(menu, ['diagramLanguage'], parent);
-			}
-			
-			if (ui.mode != App.MODE_ATLAS) 
-			{
-				ui.menus.addMenuItem(menu, 'configuration', parent);
-			}
-
-			if (urlParams['sketch'] != '1')
-			{
-				if (!ui.isOfflineApp() && isLocalStorage && ui.mode != App.MODE_ATLAS)
-				{
-					ui.menus.addMenuItem(menu, 'plugins', parent);
-				}
-			}
-			
-			// Adds trailing separator in case new plugin entries are added
-			menu.addSeparator(parent);
-		})));
-
-		(mxUtils.bind(this, function()
-		{
-			var insertMenu = this.get('insert');
-			var insertMenuFunct = insertMenu.funct;
-			
-			insertMenu.funct = function(menu, parent)
-			{
-				if (urlParams['sketch'] == '1')
-				{
-					ui.menus.addMenuItems(menu, ['toggleShapes'], parent);
-					ui.menus.addSubmenu('table', menu, parent);
-					menu.addSeparator(parent);
-
-					if (ui.insertTemplateEnabled && !ui.isOffline())
-					{
-						ui.menus.addMenuItems(menu, ['insertTemplate'], parent);
-					}
-					
-					ui.menus.addMenuItems(menu, ['insertImage', 'insertLink', '-'], parent);
-					ui.menus.addSubmenu('insertAdvanced', menu, parent, mxResources.get('advanced'));
-					ui.menus.addSubmenu('layout', menu, parent);
-				}
-				else
-				{
-					insertMenuFunct.apply(this, arguments);
-					ui.menus.addSubmenu('table', menu, parent);
-				}
-			};
-        }))();
-		
         var methods = ['horizontalFlow', 'verticalFlow', '-', 'horizontalTree', 'verticalTree',
                        'radialTree', '-', 'organic', 'circle'];
 
@@ -1670,16 +1250,6 @@ EditorUi.initMinimalTheme = function()
 			previousParent.appendChild(ui.titlebar);
 		}
 		
-		// Adds outline option to zoom menu
-        var viewZoomMenu = ui.menus.get('viewZoom');
-		var viewZoomMenuFunct = viewZoomMenu.funct;
-		
-		viewZoomMenu.funct = function(menu, parent)
-		{
-			viewZoomMenuFunct.apply(this, arguments);
-			ui.menus.addMenuItems(menu, ['-', 'outline', 'fullscreen'], parent);
-		};
-		
 		var insertImage = (urlParams['sketch'] != '1') ? Editor.plusImage : Editor.shapesImage;
 		var footer = (urlParams['sketch'] == '1') ? document.createElement('div') : null;
 		var picker = (urlParams['sketch'] == '1') ? document.createElement('div') : null;
@@ -1847,6 +1417,10 @@ EditorUi.initMinimalTheme = function()
 			menubar.className = 'geToolbarContainer';
 			
 			ui.picker = picker;
+
+			// Passing to code in Sidebar for live UI
+			ui.sketchPickerMenuElt = picker;
+
 			var statusVisible = false;
 			
 			if (urlParams['embed'] != '1' && ui.getServiceName() != 'atlassian')
@@ -1880,31 +1454,6 @@ EditorUi.initMinimalTheme = function()
 				}
 			});
 
-			if (urlParams['embed'] != '1' && urlParams['live-ui'] == '1')
-			{
-				var themeElt = addMenu('theme', null, Editor.darkModeImage);
-
-				if (themeElt != null)
-				{
-					themeElt.style.position = 'relative';
-					themeElt.style.backgroundPosition = 'top center';
-					themeElt.style.backgroundSize = '22px 22px';
-					themeElt.style.width = '24px';
-					themeElt.style.height = '28px';
-					themeElt.style.top = '4px';
-					menubar.appendChild(themeElt);
-
-					var updateThemeElement = mxUtils.bind(this, function()
-					{
-						themeElt.style.backgroundImage = 'url(\'' + ((Editor.isDarkMode()) ?
-							Editor.lightModeImage : Editor.darkModeImage) + '\')';
-					});
-		
-					ui.addListener('darkModeChanged', updateThemeElement);
-					updateThemeElement();
-				}
-			}
-			
 			// Connects the status bar to the editor status and moves
 			// status to bell icon title for frequent common messages
 			menubar.style.visibility = (menubar.clientWidth < 20) ? 'hidden' : '';
@@ -2169,6 +1718,8 @@ EditorUi.initMinimalTheme = function()
 			}));
 		}
 
+        var viewZoomMenu = ui.menus.get('viewZoom');
+
 		if (viewZoomMenu != null)
 		{
 			var fitFunction = function(evt)
@@ -2200,12 +1751,12 @@ EditorUi.initMinimalTheme = function()
 			{
 				var deleteAction = ui.actions.get('delete');
 				var deleteElt = addMenuItem('', deleteAction.funct, null, mxResources.get('delete'), deleteAction, Editor.trashImage);
-				deleteElt.style.opacity = '0.1';
+				deleteElt.style.opacity = '0.3';
 	        	toolbar.appendChild(deleteElt);
 
 				deleteAction.addListener('stateChanged', function()
 				{
-					deleteElt.style.opacity = (deleteAction.enabled) ? '' : '0.1';
+					deleteElt.style.opacity = (deleteAction.enabled) ? '' : '0.3';
 				});
 				
 				var undoListener = function()
@@ -2214,8 +1765,8 @@ EditorUi.initMinimalTheme = function()
 						graph.isEditing()) ? 'inline-block' : 'none';
 					redoElt.style.display = undoElt.style.display;
 					
-					undoElt.style.opacity = (undoAction.enabled) ? '' : '0.1';
-					redoElt.style.opacity = (redoAction.enabled) ? '' : '0.1';
+					undoElt.style.opacity = (undoAction.enabled) ? '' : '0.3';
+					redoElt.style.opacity = (redoAction.enabled) ? '' : '0.3';
 				};
 				
 				toolbar.appendChild(undoElt);
@@ -2226,26 +1777,8 @@ EditorUi.initMinimalTheme = function()
 				undoListener();
 				
 				var pageMenu = this.createPageMenuTab(false, true);
-				pageMenu.style.display = 'none';
-				pageMenu.style.position = '';
-				pageMenu.style.marginLeft = '';
-				pageMenu.style.top = '';
-				pageMenu.style.left = '';
-				pageMenu.style.height = '100%';
-				pageMenu.style.lineHeight = '';
-				pageMenu.style.borderStyle = 'none';
-				pageMenu.style.padding = '3px 0';
-				pageMenu.style.margin = '0px';
-				pageMenu.style.background = '';
-				pageMenu.style.border = '';
-				pageMenu.style.boxShadow = 'none';
-				pageMenu.style.verticalAlign = 'top';
-				pageMenu.style.width = 'auto';
-				pageMenu.style.maxWidth = '160px';
-				pageMenu.style.position = 'relative';
-				pageMenu.style.padding = '6px';
-				pageMenu.style.textOverflow = 'ellipsis';
-				pageMenu.style.opacity = '0.8';
+				pageMenu.style.cssText = 'display:inline-block;white-space:nowrap;overflow:hidden;' +
+					'padding:6px;cursor:pointer;max-width:160px;text-overflow:ellipsis;';
 				footer.appendChild(pageMenu);
 
 				function updatePageName()
@@ -2302,7 +1835,6 @@ EditorUi.initMinimalTheme = function()
 				elt.style.padding = '6px 0';
 				elt.style.fontSize = '14px';
 				elt.style.width = '40px';
-				elt.style.opacity = '0.4';
 				footer.appendChild(elt);
 				
 				var zoomInElt = addMenuItem('', zoomInAction.funct, true, mxResources.get('zoomIn') +
@@ -2522,8 +2054,7 @@ EditorUi.initMinimalTheme = function()
 				}), null, null);
 			}
 	        
-			var langMenu = ui.menus.get((urlParams['live-ui'] == '1') ?
-				'theme' : 'language');
+			var langMenu = ui.menus.get('language');
 
 			if (langMenu != null && !mxClient.IS_CHROMEAPP &&
 				!EditorUi.isElectronApp && iw >= 600 &&
@@ -2533,8 +2064,7 @@ EditorUi.initMinimalTheme = function()
 				if (langMenuElt == null)
 				{
 					var elt = menuObj.addMenu('', langMenu.funct);
-					elt.setAttribute('title', mxResources.get((urlParams['live-ui'] == '1') ?
-						'preferences' : 'language'));
+					elt.setAttribute('title', 'language');
 					elt.className = 'geToolbarButton';
 					elt.style.backgroundImage = 'url(' + Editor.globeImage + ')';
 					elt.style.backgroundPosition = 'center center';
@@ -2549,18 +2079,6 @@ EditorUi.initMinimalTheme = function()
 					elt.style.top = '12px';
 					menubar.appendChild(elt);
 					langMenuElt = elt;
-
-					if (urlParams['live-ui'] == '1')
-					{
-						var updateThemeElement = mxUtils.bind(this, function()
-						{
-							elt.style.backgroundImage = 'url(\'' + ((Editor.isDarkMode()) ?
-								Editor.lightModeImage : Editor.darkModeImage) + '\')';
-						});
-			
-						ui.addListener('darkModeChanged', updateThemeElement);
-						updateThemeElement();
-					}
 				}
 				
 				ui.buttonContainer.style.paddingRight = '34px';

--- src/main/webapp/js/diagramly/mxFreehand.js ---
@@ -28,7 +28,7 @@ function mxFreehand(graph)
 	var openFill = true;
 	var buffer = []; // Contains the last positions of the mouse cursor
 	var enabled = false;
-	var stopClickEnabled = true;
+	var stopClickEnabled = false;
 	var selectInserted = false;
 	var perfectFreehandOptions = {
 		size: 5,
@@ -139,7 +139,7 @@ function mxFreehand(graph)
 	    	// Click stops drawing
 	    	var doStop = stopClickEnabled && drawPoints.length > 0 &&
 	    		lastPart != null && lastPart.length < 2;
-	    	
+			
 			if (!doStop)
 			{
 				drawPoints.push.apply(drawPoints, lastPart);
@@ -155,7 +155,7 @@ function mxFreehand(graph)
 				this.stopDrawing();
 			}
 			
-			if (autoInsert && lastLength >= 2)
+			if (autoInsert && (!doStop || lastLength >= 2))
 			{
 				this.startDrawing();
 			}

--- src/main/webapp/js/diagramly/sidebar/Sidebar.js ---
@@ -1417,7 +1417,41 @@
 		
 		sidebarSearchEntries.apply(this, arguments);
 	};
-
+	
+	// Fixes sidebar tooltips (previews)
+	var sidebarGetTooltipOffset = Sidebar.prototype.getTooltipOffset;
+	
+	Sidebar.prototype.getTooltipOffset = function(elt, bounds)
+	{
+		if (Editor.currentTheme == 'sketch' || uiTheme == 'min')
+		{
+			if (this.editorUi.sidebarWindow == null ||
+				mxUtils.isAncestorNode(this.editorUi.sketchPickerMenuElt, elt))
+			{
+				var off = mxUtils.getOffset(this.editorUi.sketchPickerMenuElt);
+				
+				off.x += this.editorUi.sketchPickerMenuElt.offsetWidth + 4;
+				off.y += elt.offsetTop - bounds.height / 2 + 16;
+				
+				return off;
+			}
+			else
+			{
+				var result = sidebarGetTooltipOffset.apply(this, arguments);
+				var off = mxUtils.getOffset(this.editorUi.sidebarWindow.window.div);
+				
+				result.x += off.x - 16;
+				result.y += off.y;
+				
+				return result;
+			}
+		}
+		else
+		{
+			return sidebarGetTooltipOffset.apply(this, arguments);
+		}
+	};
+    
 	/**
 	 * Adds a click handler for inserting the cell as target for dangling edge.
 	 */

--- src/main/webapp/js/embed.dev.js ---
@@ -77,7 +77,7 @@
 				{
 					load: [(urlParams['math-output'] == 'html') ?
 						'output/chtml' : 'output/svg', 'input/tex',
-						'input/asciimath']
+						'input/asciimath', 'ui/safe']
 				},
 				startup:
 				{

--- src/main/webapp/js/grapheditor/Actions.js ---
@@ -874,14 +874,17 @@ Actions.prototype.init = function()
 				for (var i = 0; i < cells.length; i++)
 				{
 					var cell = cells[i];
-					
-					if (graph.getModel().getChildCount(cell) > 0)
-					{
-						graph.updateGroupBounds([cell], 0, true);
-					}
-					else
+
+					if (graph.getModel().isVertex(cell))
 					{
-						graph.updateCellSize(cell);
+						if (graph.getModel().getChildCount(cell) > 0)
+						{
+							graph.updateGroupBounds([cell], 0, true);
+						}
+						else
+						{
+							graph.updateCellSize(cell);
+						}
 					}
 				}
 			}

--- src/main/webapp/js/grapheditor/EditorUi.js ---
@@ -4234,7 +4234,7 @@ EditorUi.prototype.updateActionStates = function()
 	this.actions.get('sendBackward').setEnabled(ss.cells.length == 1);
 	this.actions.get('rotation').setEnabled(ss.vertices.length == 1);
 	this.actions.get('wordWrap').setEnabled(ss.vertices.length == 1);
-	this.actions.get('autosize').setEnabled(ss.vertices.length == 1);
+	this.actions.get('autosize').setEnabled(ss.vertices.length > 0);
 	this.actions.get('copySize').setEnabled(ss.vertices.length == 1);
 	this.actions.get('clearWaypoints').setEnabled(ss.connections);
 	this.actions.get('curved').setEnabled(ss.edges.length > 0);
@@ -4296,6 +4296,17 @@ EditorUi.prototype.getDiagramContainerOffset = function()
  */
 EditorUi.prototype.refresh = function(sizeDidChange)
 {
+	if (this.formatContainer != null && this.formatContainer.parentNode != null &&
+		this.formatContainer.parentNode.className != 'geEditor')
+	{
+		this.diagramContainer.style.left = '0';
+		this.diagramContainer.style.top = '0';
+		this.diagramContainer.style.right = '0';
+		this.diagramContainer.style.bottom = '0';
+
+		return;
+	}
+
 	sizeDidChange = (sizeDidChange != null) ? sizeDidChange : true;
 	
 	var w = this.container.clientWidth;

--- src/main/webapp/js/grapheditor/Menus.js ---
@@ -49,7 +49,7 @@ Menus.prototype.init = function()
 
 	this.customFonts = [];
 	this.customFontSizes = [];
-
+	
 	this.put('fontFamily', new Menu(mxUtils.bind(this, function(menu, parent)
 	{
 		var addItem = mxUtils.bind(this, function(fontFamily)
@@ -604,7 +604,7 @@ Menus.prototype.addMenu = function(name, popupMenu, parent)
 	
 	if (menu != null && (popupMenu.showDisabled || menu.isEnabled()))
 	{
-		this.get(name).execute(popupMenu, parent);
+		menu.execute(popupMenu, parent);
 	}
 };
 

--- src/main/webapp/js/math-print.js ---
@@ -10,7 +10,7 @@
 		{
 			load: [(window.opener.urlParams['math-output'] == 'html') ?
 				'output/chtml' : 'output/svg', 'input/tex',
-				'input/asciimath']
+				'input/asciimath', 'ui/safe']
 		},
 		startup:
 		{

--- src/main/webapp/mxgraph/mxClient.js ---
@@ -1,4 +1,4 @@
-var mxClient={VERSION:"20.3.0",IS_IE:null!=navigator.userAgent&&0<=navigator.userAgent.indexOf("MSIE"),IS_IE11:null!=navigator.userAgent&&!!navigator.userAgent.match(/Trident\/7\./),IS_EDGE:null!=navigator.userAgent&&!!navigator.userAgent.match(/Edge\//),IS_EM:"spellcheck"in document.createElement("textarea")&&8==document.documentMode,VML_PREFIX:"v",OFFICE_PREFIX:"o",IS_NS:null!=navigator.userAgent&&0<=navigator.userAgent.indexOf("Mozilla/")&&0>navigator.userAgent.indexOf("MSIE")&&0>navigator.userAgent.indexOf("Edge/"),
+var mxClient={VERSION:"20.3.1",IS_IE:null!=navigator.userAgent&&0<=navigator.userAgent.indexOf("MSIE"),IS_IE11:null!=navigator.userAgent&&!!navigator.userAgent.match(/Trident\/7\./),IS_EDGE:null!=navigator.userAgent&&!!navigator.userAgent.match(/Edge\//),IS_EM:"spellcheck"in document.createElement("textarea")&&8==document.documentMode,VML_PREFIX:"v",OFFICE_PREFIX:"o",IS_NS:null!=navigator.userAgent&&0<=navigator.userAgent.indexOf("Mozilla/")&&0>navigator.userAgent.indexOf("MSIE")&&0>navigator.userAgent.indexOf("Edge/"),
 IS_OP:null!=navigator.userAgent&&(0<=navigator.userAgent.indexOf("Opera/")||0<=navigator.userAgent.indexOf("OPR/")),IS_OT:null!=navigator.userAgent&&0<=navigator.userAgent.indexOf("Presto/")&&0>navigator.userAgent.indexOf("Presto/2.4.")&&0>navigator.userAgent.indexOf("Presto/2.3.")&&0>navigator.userAgent.indexOf("Presto/2.2.")&&0>navigator.userAgent.indexOf("Presto/2.1.")&&0>navigator.userAgent.indexOf("Presto/2.0.")&&0>navigator.userAgent.indexOf("Presto/1."),IS_SF:/Apple Computer, Inc/.test(navigator.vendor),
 IS_ANDROID:0<=navigator.appVersion.indexOf("Android"),IS_IOS:/iP(hone|od|ad)/.test(navigator.platform)||navigator.userAgent.match(/Mac/)&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints,IS_WEBVIEW:/((iPhone|iPod|iPad).*AppleWebKit(?!.*Version)|; wv)/i.test(navigator.userAgent),IS_GC:/Google Inc/.test(navigator.vendor),IS_CHROMEAPP:null!=window.chrome&&null!=chrome.app&&null!=chrome.app.runtime,IS_FF:"undefined"!==typeof InstallTrigger,IS_MT:0<=navigator.userAgent.indexOf("Firefox/")&&0>navigator.userAgent.indexOf("Firefox/1.")&&
 0>navigator.userAgent.indexOf("Firefox/2.")||0<=navigator.userAgent.indexOf("Iceweasel/")&&0>navigator.userAgent.indexOf("Iceweasel/1.")&&0>navigator.userAgent.indexOf("Iceweasel/2.")||0<=navigator.userAgent.indexOf("SeaMonkey/")&&0>navigator.userAgent.indexOf("SeaMonkey/1.")||0<=navigator.userAgent.indexOf("Iceape/")&&0>navigator.userAgent.indexOf("Iceape/1."),IS_SVG:"MICROSOFT INTERNET EXPLORER"!=navigator.appName.toUpperCase(),NO_FO:!document.createElementNS||"[object SVGForeignObjectElement]"!==

--- src/main/webapp/resources/dia_de.txt ---
@@ -735,7 +735,7 @@ templates=Vorlagen
 text=Text
 textAlignment=Text Ausrichtung
 textOpacity=Text Deckkraft
-theme=Thema
+theme=Darstellung
 timeout=Zeitberschreitung
 title=Titel
 to=bis

--- src/main/webapp/resources/dia_fr.txt ---
@@ -67,15 +67,15 @@ blockquote=Bloc de citation
 blog=Blogue
 bold=Gras
 bootstrap=Bootstrap
-border=Border
+border=Bordure
 borderColor=Couleur de la bordure
 borderWidth=Largeur de la bordure
 bottom=En bas
 bottomAlign=Aligner en bas
 bottomLeft=Aligner en bas  gauche
 bottomRight=Aligner en bas  droite
 bpmn=BPMN
-bringForward=Bring Forward
+bringForward=Faire avancer
 browser=Navigateur
 bulletedList=Liste  puces
 business=Entreprise
@@ -126,7 +126,7 @@ clearWaypoints=Effacer les repres
 clipart=Clipart
 close=Fermer
 closingFile=Fermeture du fichier
-realtimeCollaboration=Real-Time Collaboration
+realtimeCollaboration=Collaboration en temps rel
 collaborator=Collaborateur
 collaborators=Collaborateurs
 collapse=Rduire
@@ -150,7 +150,7 @@ copiedToClipboard=Copi au presse-papier
 copy=Copier
 copyConnect=Copier  la connexion
 copyCreated=Une copie du fichier a t cre.
-copyData=Copy Data
+copyData=Copie des donnes
 copyOf=Copie de {1}
 copyOfDrawing=Copie d'un dessin
 copySize=Copie de la taille
@@ -304,7 +304,7 @@ filetypeSvg=.svg causes file to save as SVG with embedded data
 fileWillBeSavedInAppFolder={1} sera enregistr dans le dossier de l'application.
 fill=Remplir
 fillColor=Couleur de remplissage
-filterCards=Filter Cards
+filterCards=Cartes de filtre
 find=Chercher
 fit=Ajuster
 fitContainer=Redimensionner le conteneur
@@ -354,7 +354,7 @@ fullscreen=Plein cran
 gap=Espace
 gcp=GCP
 general=Gnral
-getNotionChromeExtension=Get the Notion Chrome Extension
+getNotionChromeExtension=Obtenir l'extension Notion pour Chrome
 github=GitHub
 gitlab=GitLab
 gliffy=Gliffy
@@ -677,7 +677,7 @@ selectFont=Slectionner une police
 selectNone=Tout dslectionner
 selectTemplate=Choisir un modle
 selectVertices=Slectionner des sommets
-sendBackward=Send Backward
+sendBackward=Envoyer en arrire
 sendMessage=Envoyer
 sendYourFeedback=Envoyer votre commentaire
 serviceUnavailableOrBlocked=Le service est indisponible ou bloqu
@@ -693,7 +693,7 @@ shareLink=Lien pour l'dition partage
 sharingAvailable=Sharing available for Google Drive and OneDrive files.
 sharp=Dur
 show=Montrer
-showRemoteCursors=Show Remote Mouse Cursors
+showRemoteCursors=Afficher les curseurs de la souris distante
 showStartScreen=Montrer cran de dmarrage
 sidebarTooltip=Cliquer pour agrandir. Glisser et dposer les formes sur le diagramme. Maj+clic pour changer la slection. Alt+clic pour insrer et connecter.
 signs=Signes
@@ -728,7 +728,7 @@ sysml=SysML
 tags=Tags
 table=Tableau
 tables=Tables
-takeOver=Take Over
+takeOver=Prendre le contrle
 targetSpacing=Espacement de la cible
 template=Modle
 templates=Modles
@@ -775,7 +775,7 @@ updatingSelection=Mise  jour de la slection. Veuillez patienter...
 upload=Tlcharger
 url=URL
 useOffline=Utiliser hors-ligne
-useRootFolder=Use root folder?
+useRootFolder=Utiliser le dossier racine ?
 userManual=Manuel d'utilisation
 vertical=Vertical
 verticalFlow=Flux vertical
@@ -814,8 +814,8 @@ webLink=Hyperlien
 wireframes=Maquettes conceptuelles
 property=Proprits
 value=Valeur
-showMore=Show More
-showLess=Show Less
+showMore=Afficher plus
+showLess=Afficher moins
 myDiagrams=My Diagrams
 allDiagrams=All Diagrams
 recentlyUsed=Recently used
@@ -860,7 +860,7 @@ selectSiblings=Slectionner les co-latraux
 selectParent=Slectionner le parent
 selectDescendants=Slectionner les descendants
 lastSaved=Last saved {1} ago
-resolve=Resolve
+resolve=Rsoudre
 reopen=R-ouvrir
 showResolved=Show Resolved
 reply=Reply
@@ -965,10 +965,10 @@ confAIndexDiagFailed=Indexing diagram "{1}" failed.
 confASkipDiagOtherPage=Skipped "{1}" as it belongs to another page!
 confADiagUptoDate=Diagram "{1}" is up to date.
 confACheckPagesWDraw=Checking pages having draw.io diagrams.
-confAErrOccured=An error occurred!
-savedSucc=Saved successfully
+confAErrOccured=Une erreur est survenue !
+savedSucc=Sauvegard avec succs
 confASaveFailedErr=Saving Failed (Unexpected Error)
-character=Character
+character=Caractre
 confAConfPageDesc=This page contains draw.io configuration file (configuration.json) as attachment
 confALibPageDesc=This page contains draw.io custom libraries as attachments
 confATempPageDesc=This page contains draw.io custom templates as attachments
@@ -1067,21 +1067,21 @@ confAReimportStarted=Re-import {1} diagrams started...
 spaceFilter=Filter by spaces
 curViewState=Current Viewer State
 pageLayers=Page and Layers
-customize=Customize
+customize=Personnaliser
 firstPage=First Page (All Layers)
 curEditorState=Current Editor State
 noAnchorsFound=No anchors found
 attachment=Attachment
 curDiagram=Current Diagram
 recentDiags=Recent Diagrams
 csvImport=CSV Import
-chooseFile=Choose a file...
-choose=Choose
+chooseFile=Choisir un fichier...
+choose=Choisir
 gdriveFname=Google Drive filename
 widthOfViewer=Width of the viewer (px)
 heightOfViewer=Height of the viewer (px)
 autoSetViewerSize=Automatically set the size of the viewer
-thumbnail=Thumbnail
+thumbnail=Miniature
 prevInDraw=Preview in draw.io
 onedriveFname=OneDrive filename
 diagFname=Diagram filename
@@ -1109,7 +1109,7 @@ errGAuthWinBlocked=Error: Google Authentication window blocked
 authDrawAccess=Authorize draw.io to access {1}
 connTimeout=The connection has timed out
 errAuthSrvc=Error authenticating to {1}
-plsSelectFile=Please select a file
+plsSelectFile=Veuillez slectionner un fichier
 mustBgtZ={1} must be greater than zero
 cantLoadPrev=Cannot load file preview.
 errAccessFile=Error: Access Denied. You do not have permission to access "{1}".
@@ -1144,7 +1144,7 @@ notifications=Notifications
 drawioImp=draw.io Import
 confALibsImp=Importing draw.io Libraries
 confALibsImpFailed=Importing {1} library failed
-contributors=Contributors
+contributors=Contributeurs
 drawDiagrams=draw.io Diagrams
 errFileNotFoundOrNoPer=Error: Access Denied. File not found or you do not have permission to access "{1}" on {2}.
 confACheckPagesWEmbed=Checking pages having embedded draw.io diagrams.
@@ -1182,7 +1182,7 @@ confPartialPageList=We couldn't fetch all pages due to an error in Confluence. C
 spellCheck=Spell checker
 noChange=No Change
 lblToSvg=Convert labels to SVG
-txtSettings=Text Settings
+txtSettings=Paramtres du texte
 LinksLost=Links will be lost
 arcSize=Arc Size
 editConnectionPoints=Edit Connection Points

--- src/main/webapp/service-worker.js ---
@@ -1,2 +1,2 @@
-if(!self.define){const e=e=>{"require"!==e&&(e+=".js");let r=Promise.resolve();return i[e]||(r=new Promise((async r=>{if("document"in self){const i=document.createElement("script");i.src=e,document.head.appendChild(i),i.onload=r}else importScripts(e),r()}))),r.then((()=>{if(!i[e])throw new Error(`Module ${e} didnt register its module`);return i[e]}))},r=(r,i)=>{Promise.all(r.map(e)).then((e=>i(1===e.length?e[0]:e)))},i={require:Promise.resolve(r)};self.define=(r,c,a)=>{i[r]||(i[r]=Promise.resolve().then((()=>{let i={};const s={uri:location.origin+r.slice(1)};return Promise.all(c.map((r=>{switch(r){case"exports":return i;case"module":return s;default:return e(r)}}))).then((e=>{const r=a(...e);return i.default||(i.default=r),i}))})))}}define("./service-worker.js",["./workbox-4768a546"],(function(e){"use strict";self.addEventListener("message",(e=>{e.data&&"SKIP_WAITING"===e.data.type&&self.skipWaiting()})),e.precacheAndRoute([{url:"js/app.min.js",revision:"bd7965a97ad4dda04d5cc5112c0897e1"},{url:"js/extensions.min.js",revision:"a6b272e834a0a5032db20b0c99ec7ce6"},{url:"js/stencils.min.js",revision:"3d96d1eb82e1110df9f3a549d83d19db"},{url:"js/shapes-14-6-5.min.js",revision:"5f31b0ee8f38bb810dca0906e86300f2"},{url:"js/math-print.js",revision:"acea91d5b3b68fdec3f02c08a087aeb0"},{url:"index.html",revision:"ce45ae8650f5c256034bb1cb01a8278b"},{url:"open.html",revision:"d71816b3b00e769fc6019fcdd6921662"},{url:"styles/fonts/ArchitectsDaughter-Regular.ttf",revision:"31c2153c0530e32553b31a49b3d70736"},{url:"styles/grapheditor.css",revision:"4f2c07c4585347249c95cd9158872fb2"},{url:"styles/atlas.css",revision:"47f4071d6d5308d3469de007d510ea12"},{url:"styles/dark.css",revision:"06d77cbda9c3ebf49e244567f20e5dbc"},{url:"js/dropbox/Dropbox-sdk.min.js",revision:"4b9842892aa37b156db0a8364b7a83b0"},{url:"js/onedrive/OneDrive.js",revision:"505e8280346666f7ee801bc59521fa67"},{url:"js/viewer-static.min.js",revision:"74a0628d7ed019faac08680c1e5eda18"},{url:"connect/jira/editor-1-3-3.html",revision:"a2b0e7267a08a838f3cc404eba831ec0"},{url:"connect/jira/viewerPanel-1-3-12.html",revision:"c96db1790184cb35781f791e8d1dafd9"},{url:"connect/jira/fullScreenViewer-1-3-3.html",revision:"ba7ece2dfb2833b72f97280d7092f25e"},{url:"connect/jira/viewerPanel.js",revision:"df9ba18d1f247c069258c13516f78a9d"},{url:"connect/jira/spinner.gif",revision:"7d857ab9d86123e93d74d48e958fe743"},{url:"connect/jira/editor.js",revision:"36146c8b69293c22554aa861de8a5e71"},{url:"connect/jira/fullscreen-viewer-init.js",revision:"e00ad51fc16b87c362d6eaf930ab1fa5"},{url:"connect/jira/fullscreen-viewer.js",revision:"4e0775a6c156a803e777870623ac7c3e"},{url:"plugins/connectJira.js",revision:"4cefa13414e0d406550f3c073923080c"},{url:"plugins/cConf-comments.js",revision:"c787357209cff2986dcca567b599e2ef"},{url:"plugins/cConf-1-4-8.js",revision:"5cbc270aa83ca3972060fac0317d47aa"},{url:"connect/confluence/connectUtils-1-4-8.js",revision:"6028a57f97e49ee6fc173dcae2e9c8e8"},{url:"connect/new_common/cac.js",revision:"3d8c436c566db645fb1e6e6ba9f69bbc"},{url:"connect/gdrive_common/gac.js",revision:"38f1df3ecc4d78290493f47e62202138"},{url:"connect/onedrive_common/ac.js",revision:"d089f12446d443ca01752a5115456fcc"},{url:"connect/confluence/viewer-init.js",revision:"8aa8d02147def4535563bc65632a3e6d"},{url:"connect/confluence/viewer.js",revision:"3e57b80290703eb71edc942d86e2e385"},{url:"connect/confluence/viewer-1-4-42.html",revision:"c14807286438f2236b44c9fb78eb4bb3"},{url:"connect/confluence/macroEditor-1-4-8.html",revision:"8cd74a2fb60bf2e3e86026d66107cf11"},{url:"connect/confluence/includeDiagram-1-4-8.js",revision:"c8411f9ffe8d33c461676508f1c2d388"},{url:"connect/confluence/includeDiagram.html",revision:"1f2e4d088a8a1525ba047239643f3f4f"},{url:"connect/confluence/macro-editor.js",revision:"412bc4b87e630b697a40f247c579d398"},{url:"math/es5/startup.js",revision:"dc7130cdc866593293dbb5dde11ceb40"},{url:"math/es5/core.js",revision:"f71bc0bfb7d2ac8261747f97a5d47dd4"},{url:"math/es5/output/svg.js",revision:"4f55967d16197ebb01b86356d8ab179a"},{url:"math/es5/input/tex.js",revision:"5c4f470da2ccb1acf85041fcecd6fff6"},{url:"math/es5/input/asciimath.js",revision:"c2d4076dd8e26d509bfe3a378e71cfa7"},{url:"math/es5/output/svg/fonts/tex.js",revision:"6eab785a3788ea805bd2b552d1f0aab8"},{url:"resources/dia.txt",revision:"b4882fa73042c95c33e2b0d423f3489a"},{url:"resources/dia_am.txt",revision:"28ac9e18c8a09680714c474d7312b79b"},{url:"resources/dia_ar.txt",revision:"e6372c6fd658fe2f57ec33e55820a20b"},{url:"resources/dia_bg.txt",revision:"943ce2c53ecd94f5395a2d9c889af908"},{url:"resources/dia_bn.txt",revision:"d1cf44cc4b9b72f76d55d6dc5022cdc9"},{url:"resources/dia_bs.txt",revision:"039ab75e9330bb0e3f8d9e98cfbe3dab"},{url:"resources/dia_ca.txt",revision:"b955242f6e100ced4c965bfbc7aee610"},{url:"resources/dia_cs.txt",revision:"376b21e08a50c1a3cd12461dc8ae4137"},{url:"resources/dia_da.txt",revision:"331e73df843d992999b7b15e846f9ea9"},{url:"resources/dia_de.txt",revision:"75313e231874d093176e2e849b66c43f"},{url:"resources/dia_el.txt",revision:"16c64fde35cf6dc8530651c39df83eba"},{url:"resources/dia_eo.txt",revision:"b4c5f45691abf8f4d6ac7d721d6790f5"},{url:"resources/dia_es.txt",revision:"808abd0f3bc5cc76f2882742a2b9fb77"},{url:"resources/dia_et.txt",revision:"9fd5d06f519256e4913feea4a9739eff"},{url:"resources/dia_eu.txt",revision:"7c7596c99a5a0cedc0b6cba6559c4940"},{url:"resources/dia_fa.txt",revision:"3e3cbd19c527489dfda1f8e630c988ae"},{url:"resources/dia_fi.txt",revision:"96eaa2f5b2f0adbe943994fce638b616"},{url:"resources/dia_fil.txt",revision:"8cc7d2ea86d9826f1c3e022f018c03cd"},{url:"resources/dia_fr.txt",revision:"98efe277ec681a6484f1d2e591cfeb8d"},{url:"resources/dia_gl.txt",revision:"210c259d3999c9a69babec4657e41ca7"},{url:"resources/dia_gu.txt",revision:"ec928ded61681856c7cf597007e813e6"},{url:"resources/dia_he.txt",revision:"1574e96fe2a62a079855dddeff8ed525"},{url:"resources/dia_hi.txt",revision:"6a6468379a5c34f729a7aefe7e89ee51"},{url:"resources/dia_hr.txt",revision:"11410eaeccedd4bc69bb9b4f9b2f2333"},{url:"resources/dia_hu.txt",revision:"f0ef067bd037594e12fb8d51a82b4602"},{url:"resources/dia_id.txt",revision:"9a4ef05dfb8084dc3badaea323920e1b"},{url:"resources/dia_it.txt",revision:"bfd27e3d624bc04b5900e8312a43cc53"},{url:"resources/dia_ja.txt",revision:"70ab707c2be3e7d6a3a3f842f7a3634b"},{url:"resources/dia_kn.txt",revision:"7010d08f01632c36b6fa0e8797f90757"},{url:"resources/dia_ko.txt",revision:"7cd9ed0c6977e012f78f029e2aa34c44"},{url:"resources/dia_lt.txt",revision:"a86d4b49a7ba3c63232bc73ff09ada10"},{url:"resources/dia_lv.txt",revision:"11977900dfe9818ec8dc875660b98506"},{url:"resources/dia_ml.txt",revision:"6c293d98312d34ba69b5ac2f5a76e383"},{url:"resources/dia_mr.txt",revision:"a5195f46b671284a6f4ae440274c2e85"},{url:"resources/dia_ms.txt",revision:"74b3057d958779d892246ee63188c6c6"},{url:"resources/dia_my.txt",revision:"b4882fa73042c95c33e2b0d423f3489a"},{url:"resources/dia_nl.txt",revision:"56cbe24705df20d692d622d29b3533ea"},{url:"resources/dia_no.txt",revision:"30df0498ebcc2eb59f81b1d691b69ff1"},{url:"resources/dia_pl.txt",revision:"b514a4ec516d8184ad2ff4a65a60cda5"},{url:"resources/dia_pt-br.txt",revision:"f798286d581a0e74fe1d5d9c6c396a41"},{url:"resources/dia_pt.txt",revision:"5565ccf82e7cfe9e2e121774610eda45"},{url:"resources/dia_ro.txt",revision:"151ee594248acdbe158e88842cb2ff7a"},{url:"resources/dia_ru.txt",revision:"631a424b62199bbe1367a965f87812ee"},{url:"resources/dia_si.txt",revision:"b4882fa73042c95c33e2b0d423f3489a"},{url:"resources/dia_sk.txt",revision:"99f16f5c7664920e2654dc6e5376e25e"},{url:"resources/dia_sl.txt",revision:"3c02f3678d513130dedefdfe343947e0"},{url:"resources/dia_sr.txt",revision:"09bd67f9ec4fc5d3be6f0c8a7d5e659b"},{url:"resources/dia_sv.txt",revision:"dff62533d217d37f125611646e2f6c95"},{url:"resources/dia_sw.txt",revision:"7ec1bc477d8da9df5cbf875b14ce194d"},{url:"resources/dia_ta.txt",revision:"75c252159b55a44128bea76a28067a24"},{url:"resources/dia_te.txt",revision:"b07781b7a16832b05e5fb8314b20557d"},{url:"resources/dia_th.txt",revision:"51ac0a933b02010c21267dd35355f99b"},{url:"resources/dia_tr.txt",revision:"f1fc3b9d9c9f6cc16cb8479f6aece146"},{url:"resources/dia_uk.txt",revision:"cff00ca7d00c63f3c4034c31bf07d593"},{url:"resources/dia_vi.txt",revision:"51794054cc1717fc8b3fd033f3f56669"},{url:"resources/dia_zh-tw.txt",revision:"8b826b67aa047030a3bc97fc7759ec30"},{url:"resources/dia_zh.txt",revision:"28f6868d073105e3365f87342fc6c6d8"},{url:"favicon.ico",revision:"fab2d88b37c72d83607527573de45281"},{url:"images/manifest.json",revision:"c6236bde53ed79aaaec60a1aca8ee2ef"},{url:"images/logo.png",revision:"89630b64b911ebe0daa3dfe442087cfa"},{url:"images/drawlogo.svg",revision:"4bf4d14ebcf072d8bd4c5a1c89e88fc6"},{url:"images/drawlogo48.png",revision:"8b13428373aca67b895364d025f42417"},{url:"images/drawlogo-gray.svg",revision:"0aabacbc0873816e1e09e4736ae44c7d"},{url:"images/drawlogo-text-bottom.svg",revision:"f6c438823ab31f290940bd4feb8dd9c2"},{url:"images/default-user.jpg",revision:"2c399696a87c8921f12d2f9e1990cc6e"},{url:"images/logo-flat-small.png",revision:"4b178e59ff499d6dd1894fc498b59877"},{url:"images/apple-touch-icon.png",revision:"73da7989a23ce9a4be565ec65658a239"},{url:"images/favicon-16x16.png",revision:"1a79d5461a5d2bf21f6652e0ac20d6e5"},{url:"images/favicon-32x32.png",revision:"e3b92da2febe70bad5372f6f3474b034"},{url:"images/android-chrome-196x196.png",revision:"f8c045b2d7b1c719fda64edab04c415c"},{url:"images/android-chrome-512x512.png",revision:"959b5fac2453963ff6d60fb85e4b73fd"},{url:"images/delete.png",revision:"5f2350f2fd20f1a229637aed32ed8f29"},{url:"images/droptarget.png",revision:"bbf7f563fb6784de1ce96f329519b043"},{url:"images/help.png",revision:"9266c6c3915bd33c243d80037d37bf61"},{url:"images/download.png",revision:"35418dd7bd48d87502c71b578cc6c37f"},{url:"images/logo-flat.png",revision:"038070ab43aee6e54a791211859fc67b"},{url:"images/google-drive-logo.svg",revision:"5d9f2f5bbc7dcc252730a0072bb23059"},{url:"images/onedrive-logo.svg",revision:"3645b344ec0634c1290dd58d7dc87b97"},{url:"images/dropbox-logo.svg",revision:"e6be408c77cf9c82d41ac64fa854280a"},{url:"images/github-logo.svg",revision:"a1a999b69a275eac0cb918360ac05ae1"},{url:"images/gitlab-logo.svg",revision:"0faea8c818899e58533e153c44b10517"},{url:"images/trello-logo.svg",revision:"006fd0d7d70d7e95dc691674cb12e044"},{url:"images/osa_drive-harddisk.png",revision:"b954e1ae772087c5b4c6ae797e1f9649"},{url:"images/osa_database.png",revision:"c350d9d9b95f37b6cfe798b40ede5fb0"},{url:"images/google-drive-logo-white.svg",revision:"f329d8b1be7778515a85b93fc35d9f26"},{url:"images/dropbox-logo-white.svg",revision:"4ea8299ac3bc31a16f199ee3aec223bf"},{url:"images/onedrive-logo-white.svg",revision:"b3602fa0fc947009cff3f33a581cff4d"},{url:"images/github-logo-white.svg",revision:"537b1127b3ca0f95b45782d1304fb77a"},{url:"images/gitlab-logo-white.svg",revision:"5fede9ac2f394c716b8c23e3fddc3910"},{url:"images/trello-logo-white-orange.svg",revision:"e2a0a52ba3766682f138138d10a75eb5"},{url:"images/logo-confluence.png",revision:"ed1e55d44ae5eba8f999aba2c93e8331"},{url:"images/logo-jira.png",revision:"f8d460555a0d1f87cfd901e940666629"},{url:"images/clear.gif",revision:"db13c778e4382e0b55258d0f811d5d70"},{url:"images/spin.gif",revision:"487cbb40b9ced439aa1ad914e816d773"},{url:"images/checkmark.gif",revision:"ba764ce62f2bf952df5bbc2bb4d381c5"},{url:"images/hs.png",revision:"fefa1a03d92ebad25c88dca94a0b63db"},{url:"images/aui-wait.gif",revision:"5a474bcbd8d2f2826f03d10ea44bf60e"},{url:"mxgraph/css/common.css",revision:"b5b7280ec98671bb6c3847a36bc7ea12"},{url:"mxgraph/images/expanded.gif",revision:"2b67c2c035af1e9a5cc814f0d22074cf"},{url:"mxgraph/images/collapsed.gif",revision:"73cc826da002a3d740ca4ce6ec5c1f4a"},{url:"mxgraph/images/maximize.gif",revision:"5cd13d6925493ab51e876694cc1c2ec2"},{url:"mxgraph/images/minimize.gif",revision:"8957741b9b0f86af9438775f2aadbb54"},{url:"mxgraph/images/close.gif",revision:"8b84669812ac7382984fca35de8da48b"},{url:"mxgraph/images/resize.gif",revision:"a6477612b3567a34033f9cac6184eed3"},{url:"mxgraph/images/separator.gif",revision:"7819742ff106c97da7a801c2372bbbe5"},{url:"mxgraph/images/window.gif",revision:"fd9a21dd4181f98052a202a0a01f18ab"},{url:"mxgraph/images/window-title.gif",revision:"3fb1d6c43246cdf991a11dfe826dfe99"},{url:"mxgraph/images/button.gif",revision:"00759bdc3ad218fa739f584369541809"},{url:"mxgraph/images/point.gif",revision:"83a43717b284902442620f61bc4e9fa6"}],{ignoreURLParametersMatching:[/.*/]})}));
+if(!self.define){const e=e=>{"require"!==e&&(e+=".js");let i=Promise.resolve();return r[e]||(i=new Promise((async i=>{if("document"in self){const r=document.createElement("script");r.src=e,document.head.appendChild(r),r.onload=i}else importScripts(e),i()}))),i.then((()=>{if(!r[e])throw new Error(`Module ${e} didnt register its module`);return r[e]}))},i=(i,r)=>{Promise.all(i.map(e)).then((e=>r(1===e.length?e[0]:e)))},r={require:Promise.resolve(i)};self.define=(i,c,a)=>{r[i]||(r[i]=Promise.resolve().then((()=>{let r={};const s={uri:location.origin+i.slice(1)};return Promise.all(c.map((i=>{switch(i){case"exports":return r;case"module":return s;default:return e(i)}}))).then((e=>{const i=a(...e);return r.default||(r.default=i),r}))})))}}define("./service-worker.js",["./workbox-4768a546"],(function(e){"use strict";self.addEventListener("message",(e=>{e.data&&"SKIP_WAITING"===e.data.type&&self.skipWaiting()})),e.precacheAndRoute([{url:"js/app.min.js",revision:"cad0dba3fac4015470adfd8a7b7bc073"},{url:"js/extensions.min.js",revision:"a6b272e834a0a5032db20b0c99ec7ce6"},{url:"js/stencils.min.js",revision:"3d96d1eb82e1110df9f3a549d83d19db"},{url:"js/shapes-14-6-5.min.js",revision:"5f31b0ee8f38bb810dca0906e86300f2"},{url:"js/math-print.js",revision:"cf64f6a493a8cb5079f2b70813e478d7"},{url:"index.html",revision:"ce45ae8650f5c256034bb1cb01a8278b"},{url:"open.html",revision:"d71816b3b00e769fc6019fcdd6921662"},{url:"styles/fonts/ArchitectsDaughter-Regular.ttf",revision:"31c2153c0530e32553b31a49b3d70736"},{url:"styles/grapheditor.css",revision:"4cf52a1356b27d0709033f454e875f74"},{url:"styles/atlas.css",revision:"47f4071d6d5308d3469de007d510ea12"},{url:"styles/dark.css",revision:"06d77cbda9c3ebf49e244567f20e5dbc"},{url:"js/dropbox/Dropbox-sdk.min.js",revision:"4b9842892aa37b156db0a8364b7a83b0"},{url:"js/onedrive/OneDrive.js",revision:"505e8280346666f7ee801bc59521fa67"},{url:"js/viewer-static.min.js",revision:"c52b2f8c9375bee16f723d685c8ab594"},{url:"connect/jira/editor-1-3-3.html",revision:"a2b0e7267a08a838f3cc404eba831ec0"},{url:"connect/jira/viewerPanel-1-3-12.html",revision:"c96db1790184cb35781f791e8d1dafd9"},{url:"connect/jira/fullScreenViewer-1-3-3.html",revision:"ba7ece2dfb2833b72f97280d7092f25e"},{url:"connect/jira/viewerPanel.js",revision:"df9ba18d1f247c069258c13516f78a9d"},{url:"connect/jira/spinner.gif",revision:"7d857ab9d86123e93d74d48e958fe743"},{url:"connect/jira/editor.js",revision:"36146c8b69293c22554aa861de8a5e71"},{url:"connect/jira/fullscreen-viewer-init.js",revision:"e00ad51fc16b87c362d6eaf930ab1fa5"},{url:"connect/jira/fullscreen-viewer.js",revision:"4e0775a6c156a803e777870623ac7c3e"},{url:"plugins/connectJira.js",revision:"4cefa13414e0d406550f3c073923080c"},{url:"plugins/cConf-comments.js",revision:"c787357209cff2986dcca567b599e2ef"},{url:"plugins/cConf-1-4-8.js",revision:"2295073c89ee8d856cc6ba12c4b9f4ca"},{url:"connect/confluence/connectUtils-1-4-8.js",revision:"51177342e9df51e133f05e61575131ee"},{url:"connect/new_common/cac.js",revision:"3d8c436c566db645fb1e6e6ba9f69bbc"},{url:"connect/gdrive_common/gac.js",revision:"38f1df3ecc4d78290493f47e62202138"},{url:"connect/onedrive_common/ac.js",revision:"d089f12446d443ca01752a5115456fcc"},{url:"connect/confluence/viewer-init.js",revision:"8aa8d02147def4535563bc65632a3e6d"},{url:"connect/confluence/viewer.js",revision:"15188e7f36099d5e2ad0fafe4f783f44"},{url:"connect/confluence/viewer-1-4-42.html",revision:"c14807286438f2236b44c9fb78eb4bb3"},{url:"connect/confluence/macroEditor-1-4-8.html",revision:"8cd74a2fb60bf2e3e86026d66107cf11"},{url:"connect/confluence/includeDiagram-1-4-8.js",revision:"9835a94d469af27db7dbfecf6d434ebc"},{url:"connect/confluence/includeDiagram.html",revision:"1f2e4d088a8a1525ba047239643f3f4f"},{url:"connect/confluence/macro-editor.js",revision:"412bc4b87e630b697a40f247c579d398"},{url:"math/es5/startup.js",revision:"dc7130cdc866593293dbb5dde11ceb40"},{url:"math/es5/core.js",revision:"f71bc0bfb7d2ac8261747f97a5d47dd4"},{url:"math/es5/ui/safe.js",revision:"8c1fcfee7c879588ad409edcdd9cce53"},{url:"math/es5/output/svg.js",revision:"4f55967d16197ebb01b86356d8ab179a"},{url:"math/es5/input/tex.js",revision:"5c4f470da2ccb1acf85041fcecd6fff6"},{url:"math/es5/input/asciimath.js",revision:"c2d4076dd8e26d509bfe3a378e71cfa7"},{url:"math/es5/output/svg/fonts/tex.js",revision:"6eab785a3788ea805bd2b552d1f0aab8"},{url:"resources/dia.txt",revision:"b4882fa73042c95c33e2b0d423f3489a"},{url:"resources/dia_am.txt",revision:"28ac9e18c8a09680714c474d7312b79b"},{url:"resources/dia_ar.txt",revision:"e6372c6fd658fe2f57ec33e55820a20b"},{url:"resources/dia_bg.txt",revision:"943ce2c53ecd94f5395a2d9c889af908"},{url:"resources/dia_bn.txt",revision:"d1cf44cc4b9b72f76d55d6dc5022cdc9"},{url:"resources/dia_bs.txt",revision:"039ab75e9330bb0e3f8d9e98cfbe3dab"},{url:"resources/dia_ca.txt",revision:"b955242f6e100ced4c965bfbc7aee610"},{url:"resources/dia_cs.txt",revision:"376b21e08a50c1a3cd12461dc8ae4137"},{url:"resources/dia_da.txt",revision:"331e73df843d992999b7b15e846f9ea9"},{url:"resources/dia_de.txt",revision:"1a42bea88b2eb89ae8261a0d11106e78"},{url:"resources/dia_el.txt",revision:"16c64fde35cf6dc8530651c39df83eba"},{url:"resources/dia_eo.txt",revision:"b4c5f45691abf8f4d6ac7d721d6790f5"},{url:"resources/dia_es.txt",revision:"808abd0f3bc5cc76f2882742a2b9fb77"},{url:"resources/dia_et.txt",revision:"9fd5d06f519256e4913feea4a9739eff"},{url:"resources/dia_eu.txt",revision:"7c7596c99a5a0cedc0b6cba6559c4940"},{url:"resources/dia_fa.txt",revision:"3e3cbd19c527489dfda1f8e630c988ae"},{url:"resources/dia_fi.txt",revision:"96eaa2f5b2f0adbe943994fce638b616"},{url:"resources/dia_fil.txt",revision:"8cc7d2ea86d9826f1c3e022f018c03cd"},{url:"resources/dia_fr.txt",revision:"63ca63773f881838319bad29ad26511d"},{url:"resources/dia_gl.txt",revision:"210c259d3999c9a69babec4657e41ca7"},{url:"resources/dia_gu.txt",revision:"ec928ded61681856c7cf597007e813e6"},{url:"resources/dia_he.txt",revision:"1574e96fe2a62a079855dddeff8ed525"},{url:"resources/dia_hi.txt",revision:"6a6468379a5c34f729a7aefe7e89ee51"},{url:"resources/dia_hr.txt",revision:"11410eaeccedd4bc69bb9b4f9b2f2333"},{url:"resources/dia_hu.txt",revision:"f0ef067bd037594e12fb8d51a82b4602"},{url:"resources/dia_id.txt",revision:"9a4ef05dfb8084dc3badaea323920e1b"},{url:"resources/dia_it.txt",revision:"bfd27e3d624bc04b5900e8312a43cc53"},{url:"resources/dia_ja.txt",revision:"70ab707c2be3e7d6a3a3f842f7a3634b"},{url:"resources/dia_kn.txt",revision:"7010d08f01632c36b6fa0e8797f90757"},{url:"resources/dia_ko.txt",revision:"7cd9ed0c6977e012f78f029e2aa34c44"},{url:"resources/dia_lt.txt",revision:"a86d4b49a7ba3c63232bc73ff09ada10"},{url:"resources/dia_lv.txt",revision:"11977900dfe9818ec8dc875660b98506"},{url:"resources/dia_ml.txt",revision:"6c293d98312d34ba69b5ac2f5a76e383"},{url:"resources/dia_mr.txt",revision:"a5195f46b671284a6f4ae440274c2e85"},{url:"resources/dia_ms.txt",revision:"74b3057d958779d892246ee63188c6c6"},{url:"resources/dia_my.txt",revision:"b4882fa73042c95c33e2b0d423f3489a"},{url:"resources/dia_nl.txt",revision:"56cbe24705df20d692d622d29b3533ea"},{url:"resources/dia_no.txt",revision:"30df0498ebcc2eb59f81b1d691b69ff1"},{url:"resources/dia_pl.txt",revision:"b514a4ec516d8184ad2ff4a65a60cda5"},{url:"resources/dia_pt-br.txt",revision:"f798286d581a0e74fe1d5d9c6c396a41"},{url:"resources/dia_pt.txt",revision:"5565ccf82e7cfe9e2e121774610eda45"},{url:"resources/dia_ro.txt",revision:"151ee594248acdbe158e88842cb2ff7a"},{url:"resources/dia_ru.txt",revision:"631a424b62199bbe1367a965f87812ee"},{url:"resources/dia_si.txt",revision:"b4882fa73042c95c33e2b0d423f3489a"},{url:"resources/dia_sk.txt",revision:"99f16f5c7664920e2654dc6e5376e25e"},{url:"resources/dia_sl.txt",revision:"3c02f3678d513130dedefdfe343947e0"},{url:"resources/dia_sr.txt",revision:"09bd67f9ec4fc5d3be6f0c8a7d5e659b"},{url:"resources/dia_sv.txt",revision:"dff62533d217d37f125611646e2f6c95"},{url:"resources/dia_sw.txt",revision:"7ec1bc477d8da9df5cbf875b14ce194d"},{url:"resources/dia_ta.txt",revision:"75c252159b55a44128bea76a28067a24"},{url:"resources/dia_te.txt",revision:"b07781b7a16832b05e5fb8314b20557d"},{url:"resources/dia_th.txt",revision:"51ac0a933b02010c21267dd35355f99b"},{url:"resources/dia_tr.txt",revision:"f1fc3b9d9c9f6cc16cb8479f6aece146"},{url:"resources/dia_uk.txt",revision:"cff00ca7d00c63f3c4034c31bf07d593"},{url:"resources/dia_vi.txt",revision:"51794054cc1717fc8b3fd033f3f56669"},{url:"resources/dia_zh-tw.txt",revision:"8b826b67aa047030a3bc97fc7759ec30"},{url:"resources/dia_zh.txt",revision:"28f6868d073105e3365f87342fc6c6d8"},{url:"favicon.ico",revision:"fab2d88b37c72d83607527573de45281"},{url:"images/manifest.json",revision:"c6236bde53ed79aaaec60a1aca8ee2ef"},{url:"images/logo.png",revision:"89630b64b911ebe0daa3dfe442087cfa"},{url:"images/drawlogo.svg",revision:"4bf4d14ebcf072d8bd4c5a1c89e88fc6"},{url:"images/drawlogo48.png",revision:"8b13428373aca67b895364d025f42417"},{url:"images/drawlogo-gray.svg",revision:"0aabacbc0873816e1e09e4736ae44c7d"},{url:"images/drawlogo-text-bottom.svg",revision:"f6c438823ab31f290940bd4feb8dd9c2"},{url:"images/default-user.jpg",revision:"2c399696a87c8921f12d2f9e1990cc6e"},{url:"images/logo-flat-small.png",revision:"4b178e59ff499d6dd1894fc498b59877"},{url:"images/apple-touch-icon.png",revision:"73da7989a23ce9a4be565ec65658a239"},{url:"images/favicon-16x16.png",revision:"1a79d5461a5d2bf21f6652e0ac20d6e5"},{url:"images/favicon-32x32.png",revision:"e3b92da2febe70bad5372f6f3474b034"},{url:"images/android-chrome-196x196.png",revision:"f8c045b2d7b1c719fda64edab04c415c"},{url:"images/android-chrome-512x512.png",revision:"959b5fac2453963ff6d60fb85e4b73fd"},{url:"images/delete.png",revision:"5f2350f2fd20f1a229637aed32ed8f29"},{url:"images/droptarget.png",revision:"bbf7f563fb6784de1ce96f329519b043"},{url:"images/help.png",revision:"9266c6c3915bd33c243d80037d37bf61"},{url:"images/download.png",revision:"35418dd7bd48d87502c71b578cc6c37f"},{url:"images/logo-flat.png",revision:"038070ab43aee6e54a791211859fc67b"},{url:"images/google-drive-logo.svg",revision:"5d9f2f5bbc7dcc252730a0072bb23059"},{url:"images/onedrive-logo.svg",revision:"3645b344ec0634c1290dd58d7dc87b97"},{url:"images/dropbox-logo.svg",revision:"e6be408c77cf9c82d41ac64fa854280a"},{url:"images/github-logo.svg",revision:"a1a999b69a275eac0cb918360ac05ae1"},{url:"images/gitlab-logo.svg",revision:"0faea8c818899e58533e153c44b10517"},{url:"images/trello-logo.svg",revision:"006fd0d7d70d7e95dc691674cb12e044"},{url:"images/osa_drive-harddisk.png",revision:"b954e1ae772087c5b4c6ae797e1f9649"},{url:"images/osa_database.png",revision:"c350d9d9b95f37b6cfe798b40ede5fb0"},{url:"images/google-drive-logo-white.svg",revision:"f329d8b1be7778515a85b93fc35d9f26"},{url:"images/dropbox-logo-white.svg",revision:"4ea8299ac3bc31a16f199ee3aec223bf"},{url:"images/onedrive-logo-white.svg",revision:"b3602fa0fc947009cff3f33a581cff4d"},{url:"images/github-logo-white.svg",revision:"537b1127b3ca0f95b45782d1304fb77a"},{url:"images/gitlab-logo-white.svg",revision:"5fede9ac2f394c716b8c23e3fddc3910"},{url:"images/trello-logo-white-orange.svg",revision:"e2a0a52ba3766682f138138d10a75eb5"},{url:"images/logo-confluence.png",revision:"ed1e55d44ae5eba8f999aba2c93e8331"},{url:"images/logo-jira.png",revision:"f8d460555a0d1f87cfd901e940666629"},{url:"images/clear.gif",revision:"db13c778e4382e0b55258d0f811d5d70"},{url:"images/spin.gif",revision:"487cbb40b9ced439aa1ad914e816d773"},{url:"images/checkmark.gif",revision:"ba764ce62f2bf952df5bbc2bb4d381c5"},{url:"images/hs.png",revision:"fefa1a03d92ebad25c88dca94a0b63db"},{url:"images/aui-wait.gif",revision:"5a474bcbd8d2f2826f03d10ea44bf60e"},{url:"mxgraph/css/common.css",revision:"b5b7280ec98671bb6c3847a36bc7ea12"},{url:"mxgraph/images/expanded.gif",revision:"2b67c2c035af1e9a5cc814f0d22074cf"},{url:"mxgraph/images/collapsed.gif",revision:"73cc826da002a3d740ca4ce6ec5c1f4a"},{url:"mxgraph/images/maximize.gif",revision:"5cd13d6925493ab51e876694cc1c2ec2"},{url:"mxgraph/images/minimize.gif",revision:"8957741b9b0f86af9438775f2aadbb54"},{url:"mxgraph/images/close.gif",revision:"8b84669812ac7382984fca35de8da48b"},{url:"mxgraph/images/resize.gif",revision:"a6477612b3567a34033f9cac6184eed3"},{url:"mxgraph/images/separator.gif",revision:"7819742ff106c97da7a801c2372bbbe5"},{url:"mxgraph/images/window.gif",revision:"fd9a21dd4181f98052a202a0a01f18ab"},{url:"mxgraph/images/window-title.gif",revision:"3fb1d6c43246cdf991a11dfe826dfe99"},{url:"mxgraph/images/button.gif",revision:"00759bdc3ad218fa739f584369541809"},{url:"mxgraph/images/point.gif",revision:"83a43717b284902442620f61bc4e9fa6"}],{ignoreURLParametersMatching:[/.*/]})}));
 //# sourceMappingURL=service-worker.js.map

--- src/main/webapp/service-worker.js.map ---
@@ -1 +1 @@
-{"version":3,"file":"service-worker.js","sources":["../../../../../../../tmp/a2b08e7755f882c79d7f949f10b24de8/service-worker.js"],"sourcesContent":["import {precacheAndRoute as workbox_precaching_precacheAndRoute} from '/opt/hostedtoolcache/node/14.20.0/x64/lib/node_modules/workbox-cli/node_modules/workbox-precaching/precacheAndRoute.mjs';/**\n * Welcome to your Workbox-powered service worker!\n *\n * You'll need to register this file in your web app.\n * See https://goo.gl/nhQhGp\n *\n * The rest of the code is auto-generated. Please don't update this file\n * directly; instead, make changes to your Workbox build configuration\n * and re-run your build process.\n * See https://goo.gl/2aRDsh\n */\n\n\n\n\n\n\n\n\nself.addEventListener('message', (event) => {\n  if (event.data && event.data.type === 'SKIP_WAITING') {\n    self.skipWaiting();\n  }\n});\n\n\n\n\n/**\n * The precacheAndRoute() method efficiently caches and responds to\n * requests for URLs in the manifest.\n * See https://goo.gl/S9QRab\n */\nworkbox_precaching_precacheAndRoute([\n  {\n    \"url\": \"js/app.min.js\",\n    \"revision\": \"bd7965a97ad4dda04d5cc5112c0897e1\"\n  },\n  {\n    \"url\": \"js/extensions.min.js\",\n    \"revision\": \"a6b272e834a0a5032db20b0c99ec7ce6\"\n  },\n  {\n    \"url\": \"js/stencils.min.js\",\n    \"revision\": \"3d96d1eb82e1110df9f3a549d83d19db\"\n  },\n  {\n    \"url\": \"js/shapes-14-6-5.min.js\",\n    \"revision\": \"5f31b0ee8f38bb810dca0906e86300f2\"\n  },\n  {\n    \"url\": \"js/math-print.js\",\n    \"revision\": \"acea91d5b3b68fdec3f02c08a087aeb0\"\n  },\n  {\n    \"url\": \"index.html\",\n    \"revision\": \"ce45ae8650f5c256034bb1cb01a8278b\"\n  },\n  {\n    \"url\": \"open.html\",\n    \"revision\": \"d71816b3b00e769fc6019fcdd6921662\"\n  },\n  {\n    \"url\": \"styles/fonts/ArchitectsDaughter-Regular.ttf\",\n    \"revision\": \"31c2153c0530e32553b31a49b3d70736\"\n  },\n  {\n    \"url\": \"styles/grapheditor.css\",\n    \"revision\": \"4f2c07c4585347249c95cd9158872fb2\"\n  },\n  {\n    \"url\": \"styles/atlas.css\",\n    \"revision\": \"47f4071d6d5308d3469de007d510ea12\"\n  },\n  {\n    \"url\": \"styles/dark.css\",\n    \"revision\": \"06d77cbda9c3ebf49e244567f20e5dbc\"\n  },\n  {\n    \"url\": \"js/dropbox/Dropbox-sdk.min.js\",\n    \"revision\": \"4b9842892aa37b156db0a8364b7a83b0\"\n  },\n  {\n    \"url\": \"js/onedrive/OneDrive.js\",\n    \"revision\": \"505e8280346666f7ee801bc59521fa67\"\n  },\n  {\n    \"url\": \"js/viewer-static.min.js\",\n    \"revision\": \"74a0628d7ed019faac08680c1e5eda18\"\n  },\n  {\n    \"url\": \"connect/jira/editor-1-3-3.html\",\n    \"revision\": \"a2b0e7267a08a838f3cc404eba831ec0\"\n  },\n  {\n    \"url\": \"connect/jira/viewerPanel-1-3-12.html\",\n    \"revision\": \"c96db1790184cb35781f791e8d1dafd9\"\n  },\n  {\n    \"url\": \"connect/jira/fullScreenViewer-1-3-3.html\",\n    \"revision\": \"ba7ece2dfb2833b72f97280d7092f25e\"\n  },\n  {\n    \"url\": \"connect/jira/viewerPanel.js\",\n    \"revision\": \"df9ba18d1f247c069258c13516f78a9d\"\n  },\n  {\n    \"url\": \"connect/jira/spinner.gif\",\n    \"revision\": \"7d857ab9d86123e93d74d48e958fe743\"\n  },\n  {\n    \"url\": \"connect/jira/editor.js\",\n    \"revision\": \"36146c8b69293c22554aa861de8a5e71\"\n  },\n  {\n    \"url\": \"connect/jira/fullscreen-viewer-init.js\",\n    \"revision\": \"e00ad51fc16b87c362d6eaf930ab1fa5\"\n  },\n  {\n    \"url\": \"connect/jira/fullscreen-viewer.js\",\n    \"revision\": \"4e0775a6c156a803e777870623ac7c3e\"\n  },\n  {\n    \"url\": \"plugins/connectJira.js\",\n    \"revision\": \"4cefa13414e0d406550f3c073923080c\"\n  },\n  {\n    \"url\": \"plugins/cConf-comments.js\",\n    \"revision\": \"c787357209cff2986dcca567b599e2ef\"\n  },\n  {\n    \"url\": \"plugins/cConf-1-4-8.js\",\n    \"revision\": \"5cbc270aa83ca3972060fac0317d47aa\"\n  },\n  {\n    \"url\": \"connect/confluence/connectUtils-1-4-8.js\",\n    \"revision\": \"6028a57f97e49ee6fc173dcae2e9c8e8\"\n  },\n  {\n    \"url\": \"connect/new_common/cac.js\",\n    \"revision\": \"3d8c436c566db645fb1e6e6ba9f69bbc\"\n  },\n  {\n    \"url\": \"connect/gdrive_common/gac.js\",\n    \"revision\": \"38f1df3ecc4d78290493f47e62202138\"\n  },\n  {\n    \"url\": \"connect/onedrive_common/ac.js\",\n    \"revision\": \"d089f12446d443ca01752a5115456fcc\"\n  },\n  {\n    \"url\": \"connect/confluence/viewer-init.js\",\n    \"revision\": \"8aa8d02147def4535563bc65632a3e6d\"\n  },\n  {\n    \"url\": \"connect/confluence/viewer.js\",\n    \"revision\": \"3e57b80290703eb71edc942d86e2e385\"\n  },\n  {\n    \"url\": \"connect/confluence/viewer-1-4-42.html\",\n    \"revision\": \"c14807286438f2236b44c9fb78eb4bb3\"\n  },\n  {\n    \"url\": \"connect/confluence/macroEditor-1-4-8.html\",\n    \"revision\": \"8cd74a2fb60bf2e3e86026d66107cf11\"\n  },\n  {\n    \"url\": \"connect/confluence/includeDiagram-1-4-8.js\",\n    \"revision\": \"c8411f9ffe8d33c461676508f1c2d388\"\n  },\n  {\n    \"url\": \"connect/confluence/includeDiagram.html\",\n    \"revision\": \"1f2e4d088a8a1525ba047239643f3f4f\"\n  },\n  {\n    \"url\": \"connect/confluence/macro-editor.js\",\n    \"revision\": \"412bc4b87e630b697a40f247c579d398\"\n  },\n  {\n    \"url\": \"math/es5/startup.js\",\n    \"revision\": \"dc7130cdc866593293dbb5dde11ceb40\"\n  },\n  {\n    \"url\": \"math/es5/core.js\",\n    \"revision\": \"f71bc0bfb7d2ac8261747f97a5d47dd4\"\n  },\n  {\n    \"url\": \"math/es5/output/svg.js\",\n    \"revision\": \"4f55967d16197ebb01b86356d8ab179a\"\n  },\n  {\n    \"url\": \"math/es5/input/tex.js\",\n    \"revision\": \"5c4f470da2ccb1acf85041fcecd6fff6\"\n  },\n  {\n    \"url\": \"math/es5/input/asciimath.js\",\n    \"revision\": \"c2d4076dd8e26d509bfe3a378e71cfa7\"\n  },\n  {\n    \"url\": \"math/es5/output/svg/fonts/tex.js\",\n    \"revision\": \"6eab785a3788ea805bd2b552d1f0aab8\"\n  },\n  {\n    \"url\": \"resources/dia.txt\",\n    \"revision\": \"b4882fa73042c95c33e2b0d423f3489a\"\n  },\n  {\n    \"url\": \"resources/dia_am.txt\",\n    \"revision\": \"28ac9e18c8a09680714c474d7312b79b\"\n  },\n  {\n    \"url\": \"resources/dia_ar.txt\",\n    \"revision\": \"e6372c6fd658fe2f57ec33e55820a20b\"\n  },\n  {\n    \"url\": \"resources/dia_bg.txt\",\n    \"revision\": \"943ce2c53ecd94f5395a2d9c889af908\"\n  },\n  {\n    \"url\": \"resources/dia_bn.txt\",\n    \"revision\": \"d1cf44cc4b9b72f76d55d6dc5022cdc9\"\n  },\n  {\n    \"url\": \"resources/dia_bs.txt\",\n    \"revision\": \"039ab75e9330bb0e3f8d9e98cfbe3dab\"\n  },\n  {\n    \"url\": \"resources/dia_ca.txt\",\n    \"revision\": \"b955242f6e100ced4c965bfbc7aee610\"\n  },\n  {\n    \"url\": \"resources/dia_cs.txt\",\n    \"revision\": \"376b21e08a50c1a3cd12461dc8ae4137\"\n  },\n  {\n    \"url\": \"resources/dia_da.txt\",\n    \"revision\": \"331e73df843d992999b7b15e846f9ea9\"\n  },\n  {\n    \"url\": \"resources/dia_de.txt\",\n    \"revision\": \"75313e231874d093176e2e849b66c43f\"\n  },\n  {\n    \"url\": \"resources/dia_el.txt\",\n    \"revision\": \"16c64fde35cf6dc8530651c39df83eba\"\n  },\n  {\n    \"url\": \"resources/dia_eo.txt\",\n    \"revision\": \"b4c5f45691abf8f4d6ac7d721d6790f5\"\n  },\n  {\n    \"url\": \"resources/dia_es.txt\",\n    \"revision\": \"808abd0f3bc5cc76f2882742a2b9fb77\"\n  },\n  {\n    \"url\": \"resources/dia_et.txt\",\n    \"revision\": \"9fd5d06f519256e4913feea4a9739eff\"\n  },\n  {\n    \"url\": \"resources/dia_eu.txt\",\n    \"revision\": \"7c7596c99a5a0cedc0b6cba6559c4940\"\n  },\n  {\n    \"url\": \"resources/dia_fa.txt\",\n    \"revision\": \"3e3cbd19c527489dfda1f8e630c988ae\"\n  },\n  {\n    \"url\": \"resources/dia_fi.txt\",\n    \"revision\": \"96eaa2f5b2f0adbe943994fce638b616\"\n  },\n  {\n    \"url\": \"resources/dia_fil.txt\",\n    \"revision\": \"8cc7d2ea86d9826f1c3e022f018c03cd\"\n  },\n  {\n    \"url\": \"resources/dia_fr.txt\",\n    \"revision\": \"98efe277ec681a6484f1d2e591cfeb8d\"\n  },\n  {\n    \"url\": \"resources/dia_gl.txt\",\n    \"revision\": \"210c259d3999c9a69babec4657e41ca7\"\n  },\n  {\n    \"url\": \"resources/dia_gu.txt\",\n    \"revision\": \"ec928ded61681856c7cf597007e813e6\"\n  },\n  {\n    \"url\": \"resources/dia_he.txt\",\n    \"revision\": \"1574e96fe2a62a079855dddeff8ed525\"\n  },\n  {\n    \"url\": \"resources/dia_hi.txt\",\n    \"revision\": \"6a6468379a5c34f729a7aefe7e89ee51\"\n  },\n  {\n    \"url\": \"resources/dia_hr.txt\",\n    \"revision\": \"11410eaeccedd4bc69bb9b4f9b2f2333\"\n  },\n  {\n    \"url\": \"resources/dia_hu.txt\",\n    \"revision\": \"f0ef067bd037594e12fb8d51a82b4602\"\n  },\n  {\n    \"url\": \"resources/dia_id.txt\",\n    \"revision\": \"9a4ef05dfb8084dc3badaea323920e1b\"\n  },\n  {\n    \"url\": \"resources/dia_it.txt\",\n    \"revision\": \"bfd27e3d624bc04b5900e8312a43cc53\"\n  },\n  {\n    \"url\": \"resources/dia_ja.txt\",\n    \"revision\": \"70ab707c2be3e7d6a3a3f842f7a3634b\"\n  },\n  {\n    \"url\": \"resources/dia_kn.txt\",\n    \"revision\": \"7010d08f01632c36b6fa0e8797f90757\"\n  },\n  {\n    \"url\": \"resources/dia_ko.txt\",\n    \"revision\": \"7cd9ed0c6977e012f78f029e2aa34c44\"\n  },\n  {\n    \"url\": \"resources/dia_lt.txt\",\n    \"revision\": \"a86d4b49a7ba3c63232bc73ff09ada10\"\n  },\n  {\n    \"url\": \"resources/dia_lv.txt\",\n    \"revision\": \"11977900dfe9818ec8dc875660b98506\"\n  },\n  {\n    \"url\": \"resources/dia_ml.txt\",\n    \"revision\": \"6c293d98312d34ba69b5ac2f5a76e383\"\n  },\n  {\n    \"url\": \"resources/dia_mr.txt\",\n    \"revision\": \"a5195f46b671284a6f4ae440274c2e85\"\n  },\n  {\n    \"url\": \"resources/dia_ms.txt\",\n    \"revision\": \"74b3057d958779d892246ee63188c6c6\"\n  },\n  {\n    \"url\": \"resources/dia_my.txt\",\n    \"revision\": \"b4882fa73042c95c33e2b0d423f3489a\"\n  },\n  {\n    \"url\": \"resources/dia_nl.txt\",\n    \"revision\": \"56cbe24705df20d692d622d29b3533ea\"\n  },\n  {\n    \"url\": \"resources/dia_no.txt\",\n    \"revision\": \"30df0498ebcc2eb59f81b1d691b69ff1\"\n  },\n  {\n    \"url\": \"resources/dia_pl.txt\",\n    \"revision\": \"b514a4ec516d8184ad2ff4a65a60cda5\"\n  },\n  {\n    \"url\": \"resources/dia_pt-br.txt\",\n    \"revision\": \"f798286d581a0e74fe1d5d9c6c396a41\"\n  },\n  {\n    \"url\": \"resources/dia_pt.txt\",\n    \"revision\": \"5565ccf82e7cfe9e2e121774610eda45\"\n  },\n  {\n    \"url\": \"resources/dia_ro.txt\",\n    \"revision\": \"151ee594248acdbe158e88842cb2ff7a\"\n  },\n  {\n    \"url\": \"resources/dia_ru.txt\",\n    \"revision\": \"631a424b62199bbe1367a965f87812ee\"\n  },\n  {\n    \"url\": \"resources/dia_si.txt\",\n    \"revision\": \"b4882fa73042c95c33e2b0d423f3489a\"\n  },\n  {\n    \"url\": \"resources/dia_sk.txt\",\n    \"revision\": \"99f16f5c7664920e2654dc6e5376e25e\"\n  },\n  {\n    \"url\": \"resources/dia_sl.txt\",\n    \"revision\": \"3c02f3678d513130dedefdfe343947e0\"\n  },\n  {\n    \"url\": \"resources/dia_sr.txt\",\n    \"revision\": \"09bd67f9ec4fc5d3be6f0c8a7d5e659b\"\n  },\n  {\n    \"url\": \"resources/dia_sv.txt\",\n    \"revision\": \"dff62533d217d37f125611646e2f6c95\"\n  },\n  {\n    \"url\": \"resources/dia_sw.txt\",\n    \"revision\": \"7ec1bc477d8da9df5cbf875b14ce194d\"\n  },\n  {\n    \"url\": \"resources/dia_ta.txt\",\n    \"revision\": \"75c252159b55a44128bea76a28067a24\"\n  },\n  {\n    \"url\": \"resources/dia_te.txt\",\n    \"revision\": \"b07781b7a16832b05e5fb8314b20557d\"\n  },\n  {\n    \"url\": \"resources/dia_th.txt\",\n    \"revision\": \"51ac0a933b02010c21267dd35355f99b\"\n  },\n  {\n    \"url\": \"resources/dia_tr.txt\",\n    \"revision\": \"f1fc3b9d9c9f6cc16cb8479f6aece146\"\n  },\n  {\n    \"url\": \"resources/dia_uk.txt\",\n    \"revision\": \"cff00ca7d00c63f3c4034c31bf07d593\"\n  },\n  {\n    \"url\": \"resources/dia_vi.txt\",\n    \"revision\": \"51794054cc1717fc8b3fd033f3f56669\"\n  },\n  {\n    \"url\": \"resources/dia_zh-tw.txt\",\n    \"revision\": \"8b826b67aa047030a3bc97fc7759ec30\"\n  },\n  {\n    \"url\": \"resources/dia_zh.txt\",\n    \"revision\": \"28f6868d073105e3365f87342fc6c6d8\"\n  },\n  {\n    \"url\": \"favicon.ico\",\n    \"revision\": \"fab2d88b37c72d83607527573de45281\"\n  },\n  {\n    \"url\": \"images/manifest.json\",\n    \"revision\": \"c6236bde53ed79aaaec60a1aca8ee2ef\"\n  },\n  {\n    \"url\": \"images/logo.png\",\n    \"revision\": \"89630b64b911ebe0daa3dfe442087cfa\"\n  },\n  {\n    \"url\": \"images/drawlogo.svg\",\n    \"revision\": \"4bf4d14ebcf072d8bd4c5a1c89e88fc6\"\n  },\n  {\n    \"url\": \"images/drawlogo48.png\",\n    \"revision\": \"8b13428373aca67b895364d025f42417\"\n  },\n  {\n    \"url\": \"images/drawlogo-gray.svg\",\n    \"revision\": \"0aabacbc0873816e1e09e4736ae44c7d\"\n  },\n  {\n    \"url\": \"images/drawlogo-text-bottom.svg\",\n    \"revision\": \"f6c438823ab31f290940bd4feb8dd9c2\"\n  },\n  {\n    \"url\": \"images/default-user.jpg\",\n    \"revision\": \"2c399696a87c8921f12d2f9e1990cc6e\"\n  },\n  {\n    \"url\": \"images/logo-flat-small.png\",\n    \"revision\": \"4b178e59ff499d6dd1894fc498b59877\"\n  },\n  {\n    \"url\": \"images/apple-touch-icon.png\",\n    \"revision\": \"73da7989a23ce9a4be565ec65658a239\"\n  },\n  {\n    \"url\": \"images/favicon-16x16.png\",\n    \"revision\": \"1a79d5461a5d2bf21f6652e0ac20d6e5\"\n  },\n  {\n    \"url\": \"images/favicon-32x32.png\",\n    \"revision\": \"e3b92da2febe70bad5372f6f3474b034\"\n  },\n  {\n    \"url\": \"images/android-chrome-196x196.png\",\n    \"revision\": \"f8c045b2d7b1c719fda64edab04c415c\"\n  },\n  {\n    \"url\": \"images/android-chrome-512x512.png\",\n    \"revision\": \"959b5fac2453963ff6d60fb85e4b73fd\"\n  },\n  {\n    \"url\": \"images/delete.png\",\n    \"revision\": \"5f2350f2fd20f1a229637aed32ed8f29\"\n  },\n  {\n    \"url\": \"images/droptarget.png\",\n    \"revision\": \"bbf7f563fb6784de1ce96f329519b043\"\n  },\n  {\n    \"url\": \"images/help.png\",\n    \"revision\": \"9266c6c3915bd33c243d80037d37bf61\"\n  },\n  {\n    \"url\": \"images/download.png\",\n    \"revision\": \"35418dd7bd48d87502c71b578cc6c37f\"\n  },\n  {\n    \"url\": \"images/logo-flat.png\",\n    \"revision\": \"038070ab43aee6e54a791211859fc67b\"\n  },\n  {\n    \"url\": \"images/google-drive-logo.svg\",\n    \"revision\": \"5d9f2f5bbc7dcc252730a0072bb23059\"\n  },\n  {\n    \"url\": \"images/onedrive-logo.svg\",\n    \"revision\": \"3645b344ec0634c1290dd58d7dc87b97\"\n  },\n  {\n    \"url\": \"images/dropbox-logo.svg\",\n    \"revision\": \"e6be408c77cf9c82d41ac64fa854280a\"\n  },\n  {\n    \"url\": \"images/github-logo.svg\",\n    \"revision\": \"a1a999b69a275eac0cb918360ac05ae1\"\n  },\n  {\n    \"url\": \"images/gitlab-logo.svg\",\n    \"revision\": \"0faea8c818899e58533e153c44b10517\"\n  },\n  {\n    \"url\": \"images/trello-logo.svg\",\n    \"revision\": \"006fd0d7d70d7e95dc691674cb12e044\"\n  },\n  {\n    \"url\": \"images/osa_drive-harddisk.png\",\n    \"revision\": \"b954e1ae772087c5b4c6ae797e1f9649\"\n  },\n  {\n    \"url\": \"images/osa_database.png\",\n    \"revision\": \"c350d9d9b95f37b6cfe798b40ede5fb0\"\n  },\n  {\n    \"url\": \"images/google-drive-logo-white.svg\",\n    \"revision\": \"f329d8b1be7778515a85b93fc35d9f26\"\n  },\n  {\n    \"url\": \"images/dropbox-logo-white.svg\",\n    \"revision\": \"4ea8299ac3bc31a16f199ee3aec223bf\"\n  },\n  {\n    \"url\": \"images/onedrive-logo-white.svg\",\n    \"revision\": \"b3602fa0fc947009cff3f33a581cff4d\"\n  },\n  {\n    \"url\": \"images/github-logo-white.svg\",\n    \"revision\": \"537b1127b3ca0f95b45782d1304fb77a\"\n  },\n  {\n    \"url\": \"images/gitlab-logo-white.svg\",\n    \"revision\": \"5fede9ac2f394c716b8c23e3fddc3910\"\n  },\n  {\n    \"url\": \"images/trello-logo-white-orange.svg\",\n    \"revision\": \"e2a0a52ba3766682f138138d10a75eb5\"\n  },\n  {\n    \"url\": \"images/logo-confluence.png\",\n    \"revision\": \"ed1e55d44ae5eba8f999aba2c93e8331\"\n  },\n  {\n    \"url\": \"images/logo-jira.png\",\n    \"revision\": \"f8d460555a0d1f87cfd901e940666629\"\n  },\n  {\n    \"url\": \"images/clear.gif\",\n    \"revision\": \"db13c778e4382e0b55258d0f811d5d70\"\n  },\n  {\n    \"url\": \"images/spin.gif\",\n    \"revision\": \"487cbb40b9ced439aa1ad914e816d773\"\n  },\n  {\n    \"url\": \"images/checkmark.gif\",\n    \"revision\": \"ba764ce62f2bf952df5bbc2bb4d381c5\"\n  },\n  {\n    \"url\": \"images/hs.png\",\n    \"revision\": \"fefa1a03d92ebad25c88dca94a0b63db\"\n  },\n  {\n    \"url\": \"images/aui-wait.gif\",\n    \"revision\": \"5a474bcbd8d2f2826f03d10ea44bf60e\"\n  },\n  {\n    \"url\": \"mxgraph/css/common.css\",\n    \"revision\": \"b5b7280ec98671bb6c3847a36bc7ea12\"\n  },\n  {\n    \"url\": \"mxgraph/images/expanded.gif\",\n    \"revision\": \"2b67c2c035af1e9a5cc814f0d22074cf\"\n  },\n  {\n    \"url\": \"mxgraph/images/collapsed.gif\",\n    \"revision\": \"73cc826da002a3d740ca4ce6ec5c1f4a\"\n  },\n  {\n    \"url\": \"mxgraph/images/maximize.gif\",\n    \"revision\": \"5cd13d6925493ab51e876694cc1c2ec2\"\n  },\n  {\n    \"url\": \"mxgraph/images/minimize.gif\",\n    \"revision\": \"8957741b9b0f86af9438775f2aadbb54\"\n  },\n  {\n    \"url\": \"mxgraph/images/close.gif\",\n    \"revision\": \"8b84669812ac7382984fca35de8da48b\"\n  },\n  {\n    \"url\": \"mxgraph/images/resize.gif\",\n    \"revision\": \"a6477612b3567a34033f9cac6184eed3\"\n  },\n  {\n    \"url\": \"mxgraph/images/separator.gif\",\n    \"revision\": \"7819742ff106c97da7a801c2372bbbe5\"\n  },\n  {\n    \"url\": \"mxgraph/images/window.gif\",\n    \"revision\": \"fd9a21dd4181f98052a202a0a01f18ab\"\n  },\n  {\n    \"url\": \"mxgraph/images/window-title.gif\",\n    \"revision\": \"3fb1d6c43246cdf991a11dfe826dfe99\"\n  },\n  {\n    \"url\": \"mxgraph/images/button.gif\",\n    \"revision\": \"00759bdc3ad218fa739f584369541809\"\n  },\n  {\n    \"url\": \"mxgraph/images/point.gif\",\n    \"revision\": \"83a43717b284902442620f61bc4e9fa6\"\n  }\n], {\n  \"ignoreURLParametersMatching\": [/.*/]\n});\n\n\n\n\n\n\n\n\n"],"names":["self","addEventListener","event","data","type","skipWaiting","workbox_precaching_precacheAndRoute","url","revision","ignoreURLParametersMatching"],"mappings":"szBAmBAA,KAAKC,iBAAiB,WAAYC,IAC5BA,EAAMC,MAA4B,iBAApBD,EAAMC,KAAKC,MAC3BJ,KAAKK,aACN,IAWHC,EAAAA,iBAAoC,CAClC,CACEC,IAAO,gBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,qBACPC,SAAY,oCAEd,CACED,IAAO,0BACPC,SAAY,oCAEd,CACED,IAAO,mBACPC,SAAY,oCAEd,CACED,IAAO,aACPC,SAAY,oCAEd,CACED,IAAO,YACPC,SAAY,oCAEd,CACED,IAAO,8CACPC,SAAY,oCAEd,CACED,IAAO,yBACPC,SAAY,oCAEd,CACED,IAAO,mBACPC,SAAY,oCAEd,CACED,IAAO,kBACPC,SAAY,oCAEd,CACED,IAAO,gCACPC,SAAY,oCAEd,CACED,IAAO,0BACPC,SAAY,oCAEd,CACED,IAAO,0BACPC,SAAY,oCAEd,CACED,IAAO,iCACPC,SAAY,oCAEd,CACED,IAAO,uCACPC,SAAY,oCAEd,CACED,IAAO,2CACPC,SAAY,oCAEd,CACED,IAAO,8BACPC,SAAY,oCAEd,CACED,IAAO,2BACPC,SAAY,oCAEd,CACED,IAAO,yBACPC,SAAY,oCAEd,CACED,IAAO,yCACPC,SAAY,oCAEd,CACED,IAAO,oCACPC,SAAY,oCAEd,CACED,IAAO,yBACPC,SAAY,oCAEd,CACED,IAAO,4BACPC,SAAY,oCAEd,CACED,IAAO,yBACPC,SAAY,oCAEd,CACED,IAAO,2CACPC,SAAY,oCAEd,CACED,IAAO,4BACPC,SAAY,oCAEd,CACED,IAAO,+BACPC,SAAY,oCAEd,CACED,IAAO,gCACPC,SAAY,oCAEd,CACED,IAAO,oCACPC,SAAY,oCAEd,CACED,IAAO,+BACPC,SAAY,oCAEd,CACED,IAAO,wCACPC,SAAY,oCAEd,CACED,IAAO,4CACPC,SAAY,oCAEd,CACED,IAAO,6CACPC,SAAY,oCAEd,CACED,IAAO,yCACPC,SAAY,oCAEd,CACED,IAAO,qCACPC,SAAY,oCAEd,CACED,IAAO,sBACPC,SAAY,oCAEd,CACED,IAAO,mBACPC,SAAY,oCAEd,CACED,IAAO,yBACPC,SAAY,oCAEd,CACED,IAAO,wBACPC,SAAY,oCAEd,CACED,IAAO,8BACPC,SAAY,oCAEd,CACED,IAAO,mCACPC,SAAY,oCAEd,CACED,IAAO,oBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,wBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,0BACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,0BACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,cACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,kBACPC,SAAY,oCAEd,CACED,IAAO,sBACPC,SAAY,oCAEd,CACED,IAAO,wBACPC,SAAY,oCAEd,CACED,IAAO,2BACPC,SAAY,oCAEd,CACED,IAAO,kCACPC,SAAY,oCAEd,CACED,IAAO,0BACPC,SAAY,oCAEd,CACED,IAAO,6BACPC,SAAY,oCAEd,CACED,IAAO,8BACPC,SAAY,oCAEd,CACED,IAAO,2BACPC,SAAY,oCAEd,CACED,IAAO,2BACPC,SAAY,oCAEd,CACED,IAAO,oCACPC,SAAY,oCAEd,CACED,IAAO,oCACPC,SAAY,oCAEd,CACED,IAAO,oBACPC,SAAY,oCAEd,CACED,IAAO,wBACPC,SAAY,oCAEd,CACED,IAAO,kBACPC,SAAY,oCAEd,CACED,IAAO,sBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,+BACPC,SAAY,oCAEd,CACED,IAAO,2BACPC,SAAY,oCAEd,CACED,IAAO,0BACPC,SAAY,oCAEd,CACED,IAAO,yBACPC,SAAY,oCAEd,CACED,IAAO,yBACPC,SAAY,oCAEd,CACED,IAAO,yBACPC,SAAY,oCAEd,CACED,IAAO,gCACPC,SAAY,oCAEd,CACED,IAAO,0BACPC,SAAY,oCAEd,CACED,IAAO,qCACPC,SAAY,oCAEd,CACED,IAAO,gCACPC,SAAY,oCAEd,CACED,IAAO,iCACPC,SAAY,oCAEd,CACED,IAAO,+BACPC,SAAY,oCAEd,CACED,IAAO,+BACPC,SAAY,oCAEd,CACED,IAAO,sCACPC,SAAY,oCAEd,CACED,IAAO,6BACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,mBACPC,SAAY,oCAEd,CACED,IAAO,kBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,gBACPC,SAAY,oCAEd,CACED,IAAO,sBACPC,SAAY,oCAEd,CACED,IAAO,yBACPC,SAAY,oCAEd,CACED,IAAO,8BACPC,SAAY,oCAEd,CACED,IAAO,+BACPC,SAAY,oCAEd,CACED,IAAO,8BACPC,SAAY,oCAEd,CACED,IAAO,8BACPC,SAAY,oCAEd,CACED,IAAO,2BACPC,SAAY,oCAEd,CACED,IAAO,4BACPC,SAAY,oCAEd,CACED,IAAO,+BACPC,SAAY,oCAEd,CACED,IAAO,4BACPC,SAAY,oCAEd,CACED,IAAO,kCACPC,SAAY,oCAEd,CACED,IAAO,4BACPC,SAAY,oCAEd,CACED,IAAO,2BACPC,SAAY,qCAEb,CACDC,4BAA+B,CAAC"}
\ No newline at end of file
+{"version":3,"file":"service-worker.js","sources":["../../../../../../../tmp/be9b51b408f0b83e06adad63bbefb661/service-worker.js"],"sourcesContent":["import {precacheAndRoute as workbox_precaching_precacheAndRoute} from '/opt/hostedtoolcache/node/14.20.0/x64/lib/node_modules/workbox-cli/node_modules/workbox-precaching/precacheAndRoute.mjs';/**\n * Welcome to your Workbox-powered service worker!\n *\n * You'll need to register this file in your web app.\n * See https://goo.gl/nhQhGp\n *\n * The rest of the code is auto-generated. Please don't update this file\n * directly; instead, make changes to your Workbox build configuration\n * and re-run your build process.\n * See https://goo.gl/2aRDsh\n */\n\n\n\n\n\n\n\n\nself.addEventListener('message', (event) => {\n  if (event.data && event.data.type === 'SKIP_WAITING') {\n    self.skipWaiting();\n  }\n});\n\n\n\n\n/**\n * The precacheAndRoute() method efficiently caches and responds to\n * requests for URLs in the manifest.\n * See https://goo.gl/S9QRab\n */\nworkbox_precaching_precacheAndRoute([\n  {\n    \"url\": \"js/app.min.js\",\n    \"revision\": \"cad0dba3fac4015470adfd8a7b7bc073\"\n  },\n  {\n    \"url\": \"js/extensions.min.js\",\n    \"revision\": \"a6b272e834a0a5032db20b0c99ec7ce6\"\n  },\n  {\n    \"url\": \"js/stencils.min.js\",\n    \"revision\": \"3d96d1eb82e1110df9f3a549d83d19db\"\n  },\n  {\n    \"url\": \"js/shapes-14-6-5.min.js\",\n    \"revision\": \"5f31b0ee8f38bb810dca0906e86300f2\"\n  },\n  {\n    \"url\": \"js/math-print.js\",\n    \"revision\": \"cf64f6a493a8cb5079f2b70813e478d7\"\n  },\n  {\n    \"url\": \"index.html\",\n    \"revision\": \"ce45ae8650f5c256034bb1cb01a8278b\"\n  },\n  {\n    \"url\": \"open.html\",\n    \"revision\": \"d71816b3b00e769fc6019fcdd6921662\"\n  },\n  {\n    \"url\": \"styles/fonts/ArchitectsDaughter-Regular.ttf\",\n    \"revision\": \"31c2153c0530e32553b31a49b3d70736\"\n  },\n  {\n    \"url\": \"styles/grapheditor.css\",\n    \"revision\": \"4cf52a1356b27d0709033f454e875f74\"\n  },\n  {\n    \"url\": \"styles/atlas.css\",\n    \"revision\": \"47f4071d6d5308d3469de007d510ea12\"\n  },\n  {\n    \"url\": \"styles/dark.css\",\n    \"revision\": \"06d77cbda9c3ebf49e244567f20e5dbc\"\n  },\n  {\n    \"url\": \"js/dropbox/Dropbox-sdk.min.js\",\n    \"revision\": \"4b9842892aa37b156db0a8364b7a83b0\"\n  },\n  {\n    \"url\": \"js/onedrive/OneDrive.js\",\n    \"revision\": \"505e8280346666f7ee801bc59521fa67\"\n  },\n  {\n    \"url\": \"js/viewer-static.min.js\",\n    \"revision\": \"c52b2f8c9375bee16f723d685c8ab594\"\n  },\n  {\n    \"url\": \"connect/jira/editor-1-3-3.html\",\n    \"revision\": \"a2b0e7267a08a838f3cc404eba831ec0\"\n  },\n  {\n    \"url\": \"connect/jira/viewerPanel-1-3-12.html\",\n    \"revision\": \"c96db1790184cb35781f791e8d1dafd9\"\n  },\n  {\n    \"url\": \"connect/jira/fullScreenViewer-1-3-3.html\",\n    \"revision\": \"ba7ece2dfb2833b72f97280d7092f25e\"\n  },\n  {\n    \"url\": \"connect/jira/viewerPanel.js\",\n    \"revision\": \"df9ba18d1f247c069258c13516f78a9d\"\n  },\n  {\n    \"url\": \"connect/jira/spinner.gif\",\n    \"revision\": \"7d857ab9d86123e93d74d48e958fe743\"\n  },\n  {\n    \"url\": \"connect/jira/editor.js\",\n    \"revision\": \"36146c8b69293c22554aa861de8a5e71\"\n  },\n  {\n    \"url\": \"connect/jira/fullscreen-viewer-init.js\",\n    \"revision\": \"e00ad51fc16b87c362d6eaf930ab1fa5\"\n  },\n  {\n    \"url\": \"connect/jira/fullscreen-viewer.js\",\n    \"revision\": \"4e0775a6c156a803e777870623ac7c3e\"\n  },\n  {\n    \"url\": \"plugins/connectJira.js\",\n    \"revision\": \"4cefa13414e0d406550f3c073923080c\"\n  },\n  {\n    \"url\": \"plugins/cConf-comments.js\",\n    \"revision\": \"c787357209cff2986dcca567b599e2ef\"\n  },\n  {\n    \"url\": \"plugins/cConf-1-4-8.js\",\n    \"revision\": \"2295073c89ee8d856cc6ba12c4b9f4ca\"\n  },\n  {\n    \"url\": \"connect/confluence/connectUtils-1-4-8.js\",\n    \"revision\": \"51177342e9df51e133f05e61575131ee\"\n  },\n  {\n    \"url\": \"connect/new_common/cac.js\",\n    \"revision\": \"3d8c436c566db645fb1e6e6ba9f69bbc\"\n  },\n  {\n    \"url\": \"connect/gdrive_common/gac.js\",\n    \"revision\": \"38f1df3ecc4d78290493f47e62202138\"\n  },\n  {\n    \"url\": \"connect/onedrive_common/ac.js\",\n    \"revision\": \"d089f12446d443ca01752a5115456fcc\"\n  },\n  {\n    \"url\": \"connect/confluence/viewer-init.js\",\n    \"revision\": \"8aa8d02147def4535563bc65632a3e6d\"\n  },\n  {\n    \"url\": \"connect/confluence/viewer.js\",\n    \"revision\": \"15188e7f36099d5e2ad0fafe4f783f44\"\n  },\n  {\n    \"url\": \"connect/confluence/viewer-1-4-42.html\",\n    \"revision\": \"c14807286438f2236b44c9fb78eb4bb3\"\n  },\n  {\n    \"url\": \"connect/confluence/macroEditor-1-4-8.html\",\n    \"revision\": \"8cd74a2fb60bf2e3e86026d66107cf11\"\n  },\n  {\n    \"url\": \"connect/confluence/includeDiagram-1-4-8.js\",\n    \"revision\": \"9835a94d469af27db7dbfecf6d434ebc\"\n  },\n  {\n    \"url\": \"connect/confluence/includeDiagram.html\",\n    \"revision\": \"1f2e4d088a8a1525ba047239643f3f4f\"\n  },\n  {\n    \"url\": \"connect/confluence/macro-editor.js\",\n    \"revision\": \"412bc4b87e630b697a40f247c579d398\"\n  },\n  {\n    \"url\": \"math/es5/startup.js\",\n    \"revision\": \"dc7130cdc866593293dbb5dde11ceb40\"\n  },\n  {\n    \"url\": \"math/es5/core.js\",\n    \"revision\": \"f71bc0bfb7d2ac8261747f97a5d47dd4\"\n  },\n  {\n    \"url\": \"math/es5/ui/safe.js\",\n    \"revision\": \"8c1fcfee7c879588ad409edcdd9cce53\"\n  },\n  {\n    \"url\": \"math/es5/output/svg.js\",\n    \"revision\": \"4f55967d16197ebb01b86356d8ab179a\"\n  },\n  {\n    \"url\": \"math/es5/input/tex.js\",\n    \"revision\": \"5c4f470da2ccb1acf85041fcecd6fff6\"\n  },\n  {\n    \"url\": \"math/es5/input/asciimath.js\",\n    \"revision\": \"c2d4076dd8e26d509bfe3a378e71cfa7\"\n  },\n  {\n    \"url\": \"math/es5/output/svg/fonts/tex.js\",\n    \"revision\": \"6eab785a3788ea805bd2b552d1f0aab8\"\n  },\n  {\n    \"url\": \"resources/dia.txt\",\n    \"revision\": \"b4882fa73042c95c33e2b0d423f3489a\"\n  },\n  {\n    \"url\": \"resources/dia_am.txt\",\n    \"revision\": \"28ac9e18c8a09680714c474d7312b79b\"\n  },\n  {\n    \"url\": \"resources/dia_ar.txt\",\n    \"revision\": \"e6372c6fd658fe2f57ec33e55820a20b\"\n  },\n  {\n    \"url\": \"resources/dia_bg.txt\",\n    \"revision\": \"943ce2c53ecd94f5395a2d9c889af908\"\n  },\n  {\n    \"url\": \"resources/dia_bn.txt\",\n    \"revision\": \"d1cf44cc4b9b72f76d55d6dc5022cdc9\"\n  },\n  {\n    \"url\": \"resources/dia_bs.txt\",\n    \"revision\": \"039ab75e9330bb0e3f8d9e98cfbe3dab\"\n  },\n  {\n    \"url\": \"resources/dia_ca.txt\",\n    \"revision\": \"b955242f6e100ced4c965bfbc7aee610\"\n  },\n  {\n    \"url\": \"resources/dia_cs.txt\",\n    \"revision\": \"376b21e08a50c1a3cd12461dc8ae4137\"\n  },\n  {\n    \"url\": \"resources/dia_da.txt\",\n    \"revision\": \"331e73df843d992999b7b15e846f9ea9\"\n  },\n  {\n    \"url\": \"resources/dia_de.txt\",\n    \"revision\": \"1a42bea88b2eb89ae8261a0d11106e78\"\n  },\n  {\n    \"url\": \"resources/dia_el.txt\",\n    \"revision\": \"16c64fde35cf6dc8530651c39df83eba\"\n  },\n  {\n    \"url\": \"resources/dia_eo.txt\",\n    \"revision\": \"b4c5f45691abf8f4d6ac7d721d6790f5\"\n  },\n  {\n    \"url\": \"resources/dia_es.txt\",\n    \"revision\": \"808abd0f3bc5cc76f2882742a2b9fb77\"\n  },\n  {\n    \"url\": \"resources/dia_et.txt\",\n    \"revision\": \"9fd5d06f519256e4913feea4a9739eff\"\n  },\n  {\n    \"url\": \"resources/dia_eu.txt\",\n    \"revision\": \"7c7596c99a5a0cedc0b6cba6559c4940\"\n  },\n  {\n    \"url\": \"resources/dia_fa.txt\",\n    \"revision\": \"3e3cbd19c527489dfda1f8e630c988ae\"\n  },\n  {\n    \"url\": \"resources/dia_fi.txt\",\n    \"revision\": \"96eaa2f5b2f0adbe943994fce638b616\"\n  },\n  {\n    \"url\": \"resources/dia_fil.txt\",\n    \"revision\": \"8cc7d2ea86d9826f1c3e022f018c03cd\"\n  },\n  {\n    \"url\": \"resources/dia_fr.txt\",\n    \"revision\": \"63ca63773f881838319bad29ad26511d\"\n  },\n  {\n    \"url\": \"resources/dia_gl.txt\",\n    \"revision\": \"210c259d3999c9a69babec4657e41ca7\"\n  },\n  {\n    \"url\": \"resources/dia_gu.txt\",\n    \"revision\": \"ec928ded61681856c7cf597007e813e6\"\n  },\n  {\n    \"url\": \"resources/dia_he.txt\",\n    \"revision\": \"1574e96fe2a62a079855dddeff8ed525\"\n  },\n  {\n    \"url\": \"resources/dia_hi.txt\",\n    \"revision\": \"6a6468379a5c34f729a7aefe7e89ee51\"\n  },\n  {\n    \"url\": \"resources/dia_hr.txt\",\n    \"revision\": \"11410eaeccedd4bc69bb9b4f9b2f2333\"\n  },\n  {\n    \"url\": \"resources/dia_hu.txt\",\n    \"revision\": \"f0ef067bd037594e12fb8d51a82b4602\"\n  },\n  {\n    \"url\": \"resources/dia_id.txt\",\n    \"revision\": \"9a4ef05dfb8084dc3badaea323920e1b\"\n  },\n  {\n    \"url\": \"resources/dia_it.txt\",\n    \"revision\": \"bfd27e3d624bc04b5900e8312a43cc53\"\n  },\n  {\n    \"url\": \"resources/dia_ja.txt\",\n    \"revision\": \"70ab707c2be3e7d6a3a3f842f7a3634b\"\n  },\n  {\n    \"url\": \"resources/dia_kn.txt\",\n    \"revision\": \"7010d08f01632c36b6fa0e8797f90757\"\n  },\n  {\n    \"url\": \"resources/dia_ko.txt\",\n    \"revision\": \"7cd9ed0c6977e012f78f029e2aa34c44\"\n  },\n  {\n    \"url\": \"resources/dia_lt.txt\",\n    \"revision\": \"a86d4b49a7ba3c63232bc73ff09ada10\"\n  },\n  {\n    \"url\": \"resources/dia_lv.txt\",\n    \"revision\": \"11977900dfe9818ec8dc875660b98506\"\n  },\n  {\n    \"url\": \"resources/dia_ml.txt\",\n    \"revision\": \"6c293d98312d34ba69b5ac2f5a76e383\"\n  },\n  {\n    \"url\": \"resources/dia_mr.txt\",\n    \"revision\": \"a5195f46b671284a6f4ae440274c2e85\"\n  },\n  {\n    \"url\": \"resources/dia_ms.txt\",\n    \"revision\": \"74b3057d958779d892246ee63188c6c6\"\n  },\n  {\n    \"url\": \"resources/dia_my.txt\",\n    \"revision\": \"b4882fa73042c95c33e2b0d423f3489a\"\n  },\n  {\n    \"url\": \"resources/dia_nl.txt\",\n    \"revision\": \"56cbe24705df20d692d622d29b3533ea\"\n  },\n  {\n    \"url\": \"resources/dia_no.txt\",\n    \"revision\": \"30df0498ebcc2eb59f81b1d691b69ff1\"\n  },\n  {\n    \"url\": \"resources/dia_pl.txt\",\n    \"revision\": \"b514a4ec516d8184ad2ff4a65a60cda5\"\n  },\n  {\n    \"url\": \"resources/dia_pt-br.txt\",\n    \"revision\": \"f798286d581a0e74fe1d5d9c6c396a41\"\n  },\n  {\n    \"url\": \"resources/dia_pt.txt\",\n    \"revision\": \"5565ccf82e7cfe9e2e121774610eda45\"\n  },\n  {\n    \"url\": \"resources/dia_ro.txt\",\n    \"revision\": \"151ee594248acdbe158e88842cb2ff7a\"\n  },\n  {\n    \"url\": \"resources/dia_ru.txt\",\n    \"revision\": \"631a424b62199bbe1367a965f87812ee\"\n  },\n  {\n    \"url\": \"resources/dia_si.txt\",\n    \"revision\": \"b4882fa73042c95c33e2b0d423f3489a\"\n  },\n  {\n    \"url\": \"resources/dia_sk.txt\",\n    \"revision\": \"99f16f5c7664920e2654dc6e5376e25e\"\n  },\n  {\n    \"url\": \"resources/dia_sl.txt\",\n    \"revision\": \"3c02f3678d513130dedefdfe343947e0\"\n  },\n  {\n    \"url\": \"resources/dia_sr.txt\",\n    \"revision\": \"09bd67f9ec4fc5d3be6f0c8a7d5e659b\"\n  },\n  {\n    \"url\": \"resources/dia_sv.txt\",\n    \"revision\": \"dff62533d217d37f125611646e2f6c95\"\n  },\n  {\n    \"url\": \"resources/dia_sw.txt\",\n    \"revision\": \"7ec1bc477d8da9df5cbf875b14ce194d\"\n  },\n  {\n    \"url\": \"resources/dia_ta.txt\",\n    \"revision\": \"75c252159b55a44128bea76a28067a24\"\n  },\n  {\n    \"url\": \"resources/dia_te.txt\",\n    \"revision\": \"b07781b7a16832b05e5fb8314b20557d\"\n  },\n  {\n    \"url\": \"resources/dia_th.txt\",\n    \"revision\": \"51ac0a933b02010c21267dd35355f99b\"\n  },\n  {\n    \"url\": \"resources/dia_tr.txt\",\n    \"revision\": \"f1fc3b9d9c9f6cc16cb8479f6aece146\"\n  },\n  {\n    \"url\": \"resources/dia_uk.txt\",\n    \"revision\": \"cff00ca7d00c63f3c4034c31bf07d593\"\n  },\n  {\n    \"url\": \"resources/dia_vi.txt\",\n    \"revision\": \"51794054cc1717fc8b3fd033f3f56669\"\n  },\n  {\n    \"url\": \"resources/dia_zh-tw.txt\",\n    \"revision\": \"8b826b67aa047030a3bc97fc7759ec30\"\n  },\n  {\n    \"url\": \"resources/dia_zh.txt\",\n    \"revision\": \"28f6868d073105e3365f87342fc6c6d8\"\n  },\n  {\n    \"url\": \"favicon.ico\",\n    \"revision\": \"fab2d88b37c72d83607527573de45281\"\n  },\n  {\n    \"url\": \"images/manifest.json\",\n    \"revision\": \"c6236bde53ed79aaaec60a1aca8ee2ef\"\n  },\n  {\n    \"url\": \"images/logo.png\",\n    \"revision\": \"89630b64b911ebe0daa3dfe442087cfa\"\n  },\n  {\n    \"url\": \"images/drawlogo.svg\",\n    \"revision\": \"4bf4d14ebcf072d8bd4c5a1c89e88fc6\"\n  },\n  {\n    \"url\": \"images/drawlogo48.png\",\n    \"revision\": \"8b13428373aca67b895364d025f42417\"\n  },\n  {\n    \"url\": \"images/drawlogo-gray.svg\",\n    \"revision\": \"0aabacbc0873816e1e09e4736ae44c7d\"\n  },\n  {\n    \"url\": \"images/drawlogo-text-bottom.svg\",\n    \"revision\": \"f6c438823ab31f290940bd4feb8dd9c2\"\n  },\n  {\n    \"url\": \"images/default-user.jpg\",\n    \"revision\": \"2c399696a87c8921f12d2f9e1990cc6e\"\n  },\n  {\n    \"url\": \"images/logo-flat-small.png\",\n    \"revision\": \"4b178e59ff499d6dd1894fc498b59877\"\n  },\n  {\n    \"url\": \"images/apple-touch-icon.png\",\n    \"revision\": \"73da7989a23ce9a4be565ec65658a239\"\n  },\n  {\n    \"url\": \"images/favicon-16x16.png\",\n    \"revision\": \"1a79d5461a5d2bf21f6652e0ac20d6e5\"\n  },\n  {\n    \"url\": \"images/favicon-32x32.png\",\n    \"revision\": \"e3b92da2febe70bad5372f6f3474b034\"\n  },\n  {\n    \"url\": \"images/android-chrome-196x196.png\",\n    \"revision\": \"f8c045b2d7b1c719fda64edab04c415c\"\n  },\n  {\n    \"url\": \"images/android-chrome-512x512.png\",\n    \"revision\": \"959b5fac2453963ff6d60fb85e4b73fd\"\n  },\n  {\n    \"url\": \"images/delete.png\",\n    \"revision\": \"5f2350f2fd20f1a229637aed32ed8f29\"\n  },\n  {\n    \"url\": \"images/droptarget.png\",\n    \"revision\": \"bbf7f563fb6784de1ce96f329519b043\"\n  },\n  {\n    \"url\": \"images/help.png\",\n    \"revision\": \"9266c6c3915bd33c243d80037d37bf61\"\n  },\n  {\n    \"url\": \"images/download.png\",\n    \"revision\": \"35418dd7bd48d87502c71b578cc6c37f\"\n  },\n  {\n    \"url\": \"images/logo-flat.png\",\n    \"revision\": \"038070ab43aee6e54a791211859fc67b\"\n  },\n  {\n    \"url\": \"images/google-drive-logo.svg\",\n    \"revision\": \"5d9f2f5bbc7dcc252730a0072bb23059\"\n  },\n  {\n    \"url\": \"images/onedrive-logo.svg\",\n    \"revision\": \"3645b344ec0634c1290dd58d7dc87b97\"\n  },\n  {\n    \"url\": \"images/dropbox-logo.svg\",\n    \"revision\": \"e6be408c77cf9c82d41ac64fa854280a\"\n  },\n  {\n    \"url\": \"images/github-logo.svg\",\n    \"revision\": \"a1a999b69a275eac0cb918360ac05ae1\"\n  },\n  {\n    \"url\": \"images/gitlab-logo.svg\",\n    \"revision\": \"0faea8c818899e58533e153c44b10517\"\n  },\n  {\n    \"url\": \"images/trello-logo.svg\",\n    \"revision\": \"006fd0d7d70d7e95dc691674cb12e044\"\n  },\n  {\n    \"url\": \"images/osa_drive-harddisk.png\",\n    \"revision\": \"b954e1ae772087c5b4c6ae797e1f9649\"\n  },\n  {\n    \"url\": \"images/osa_database.png\",\n    \"revision\": \"c350d9d9b95f37b6cfe798b40ede5fb0\"\n  },\n  {\n    \"url\": \"images/google-drive-logo-white.svg\",\n    \"revision\": \"f329d8b1be7778515a85b93fc35d9f26\"\n  },\n  {\n    \"url\": \"images/dropbox-logo-white.svg\",\n    \"revision\": \"4ea8299ac3bc31a16f199ee3aec223bf\"\n  },\n  {\n    \"url\": \"images/onedrive-logo-white.svg\",\n    \"revision\": \"b3602fa0fc947009cff3f33a581cff4d\"\n  },\n  {\n    \"url\": \"images/github-logo-white.svg\",\n    \"revision\": \"537b1127b3ca0f95b45782d1304fb77a\"\n  },\n  {\n    \"url\": \"images/gitlab-logo-white.svg\",\n    \"revision\": \"5fede9ac2f394c716b8c23e3fddc3910\"\n  },\n  {\n    \"url\": \"images/trello-logo-white-orange.svg\",\n    \"revision\": \"e2a0a52ba3766682f138138d10a75eb5\"\n  },\n  {\n    \"url\": \"images/logo-confluence.png\",\n    \"revision\": \"ed1e55d44ae5eba8f999aba2c93e8331\"\n  },\n  {\n    \"url\": \"images/logo-jira.png\",\n    \"revision\": \"f8d460555a0d1f87cfd901e940666629\"\n  },\n  {\n    \"url\": \"images/clear.gif\",\n    \"revision\": \"db13c778e4382e0b55258d0f811d5d70\"\n  },\n  {\n    \"url\": \"images/spin.gif\",\n    \"revision\": \"487cbb40b9ced439aa1ad914e816d773\"\n  },\n  {\n    \"url\": \"images/checkmark.gif\",\n    \"revision\": \"ba764ce62f2bf952df5bbc2bb4d381c5\"\n  },\n  {\n    \"url\": \"images/hs.png\",\n    \"revision\": \"fefa1a03d92ebad25c88dca94a0b63db\"\n  },\n  {\n    \"url\": \"images/aui-wait.gif\",\n    \"revision\": \"5a474bcbd8d2f2826f03d10ea44bf60e\"\n  },\n  {\n    \"url\": \"mxgraph/css/common.css\",\n    \"revision\": \"b5b7280ec98671bb6c3847a36bc7ea12\"\n  },\n  {\n    \"url\": \"mxgraph/images/expanded.gif\",\n    \"revision\": \"2b67c2c035af1e9a5cc814f0d22074cf\"\n  },\n  {\n    \"url\": \"mxgraph/images/collapsed.gif\",\n    \"revision\": \"73cc826da002a3d740ca4ce6ec5c1f4a\"\n  },\n  {\n    \"url\": \"mxgraph/images/maximize.gif\",\n    \"revision\": \"5cd13d6925493ab51e876694cc1c2ec2\"\n  },\n  {\n    \"url\": \"mxgraph/images/minimize.gif\",\n    \"revision\": \"8957741b9b0f86af9438775f2aadbb54\"\n  },\n  {\n    \"url\": \"mxgraph/images/close.gif\",\n    \"revision\": \"8b84669812ac7382984fca35de8da48b\"\n  },\n  {\n    \"url\": \"mxgraph/images/resize.gif\",\n    \"revision\": \"a6477612b3567a34033f9cac6184eed3\"\n  },\n  {\n    \"url\": \"mxgraph/images/separator.gif\",\n    \"revision\": \"7819742ff106c97da7a801c2372bbbe5\"\n  },\n  {\n    \"url\": \"mxgraph/images/window.gif\",\n    \"revision\": \"fd9a21dd4181f98052a202a0a01f18ab\"\n  },\n  {\n    \"url\": \"mxgraph/images/window-title.gif\",\n    \"revision\": \"3fb1d6c43246cdf991a11dfe826dfe99\"\n  },\n  {\n    \"url\": \"mxgraph/images/button.gif\",\n    \"revision\": \"00759bdc3ad218fa739f584369541809\"\n  },\n  {\n    \"url\": \"mxgraph/images/point.gif\",\n    \"revision\": \"83a43717b284902442620f61bc4e9fa6\"\n  }\n], {\n  \"ignoreURLParametersMatching\": [/.*/]\n});\n\n\n\n\n\n\n\n\n"],"names":["self","addEventListener","event","data","type","skipWaiting","workbox_precaching_precacheAndRoute","url","revision","ignoreURLParametersMatching"],"mappings":"szBAmBAA,KAAKC,iBAAiB,WAAYC,IAC5BA,EAAMC,MAA4B,iBAApBD,EAAMC,KAAKC,MAC3BJ,KAAKK,aACN,IAWHC,EAAAA,iBAAoC,CAClC,CACEC,IAAO,gBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,qBACPC,SAAY,oCAEd,CACED,IAAO,0BACPC,SAAY,oCAEd,CACED,IAAO,mBACPC,SAAY,oCAEd,CACED,IAAO,aACPC,SAAY,oCAEd,CACED,IAAO,YACPC,SAAY,oCAEd,CACED,IAAO,8CACPC,SAAY,oCAEd,CACED,IAAO,yBACPC,SAAY,oCAEd,CACED,IAAO,mBACPC,SAAY,oCAEd,CACED,IAAO,kBACPC,SAAY,oCAEd,CACED,IAAO,gCACPC,SAAY,oCAEd,CACED,IAAO,0BACPC,SAAY,oCAEd,CACED,IAAO,0BACPC,SAAY,oCAEd,CACED,IAAO,iCACPC,SAAY,oCAEd,CACED,IAAO,uCACPC,SAAY,oCAEd,CACED,IAAO,2CACPC,SAAY,oCAEd,CACED,IAAO,8BACPC,SAAY,oCAEd,CACED,IAAO,2BACPC,SAAY,oCAEd,CACED,IAAO,yBACPC,SAAY,oCAEd,CACED,IAAO,yCACPC,SAAY,oCAEd,CACED,IAAO,oCACPC,SAAY,oCAEd,CACED,IAAO,yBACPC,SAAY,oCAEd,CACED,IAAO,4BACPC,SAAY,oCAEd,CACED,IAAO,yBACPC,SAAY,oCAEd,CACED,IAAO,2CACPC,SAAY,oCAEd,CACED,IAAO,4BACPC,SAAY,oCAEd,CACED,IAAO,+BACPC,SAAY,oCAEd,CACED,IAAO,gCACPC,SAAY,oCAEd,CACED,IAAO,oCACPC,SAAY,oCAEd,CACED,IAAO,+BACPC,SAAY,oCAEd,CACED,IAAO,wCACPC,SAAY,oCAEd,CACED,IAAO,4CACPC,SAAY,oCAEd,CACED,IAAO,6CACPC,SAAY,oCAEd,CACED,IAAO,yCACPC,SAAY,oCAEd,CACED,IAAO,qCACPC,SAAY,oCAEd,CACED,IAAO,sBACPC,SAAY,oCAEd,CACED,IAAO,mBACPC,SAAY,oCAEd,CACED,IAAO,sBACPC,SAAY,oCAEd,CACED,IAAO,yBACPC,SAAY,oCAEd,CACED,IAAO,wBACPC,SAAY,oCAEd,CACED,IAAO,8BACPC,SAAY,oCAEd,CACED,IAAO,mCACPC,SAAY,oCAEd,CACED,IAAO,oBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,wBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,0BACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,0BACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,cACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,kBACPC,SAAY,oCAEd,CACED,IAAO,sBACPC,SAAY,oCAEd,CACED,IAAO,wBACPC,SAAY,oCAEd,CACED,IAAO,2BACPC,SAAY,oCAEd,CACED,IAAO,kCACPC,SAAY,oCAEd,CACED,IAAO,0BACPC,SAAY,oCAEd,CACED,IAAO,6BACPC,SAAY,oCAEd,CACED,IAAO,8BACPC,SAAY,oCAEd,CACED,IAAO,2BACPC,SAAY,oCAEd,CACED,IAAO,2BACPC,SAAY,oCAEd,CACED,IAAO,oCACPC,SAAY,oCAEd,CACED,IAAO,oCACPC,SAAY,oCAEd,CACED,IAAO,oBACPC,SAAY,oCAEd,CACED,IAAO,wBACPC,SAAY,oCAEd,CACED,IAAO,kBACPC,SAAY,oCAEd,CACED,IAAO,sBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,+BACPC,SAAY,oCAEd,CACED,IAAO,2BACPC,SAAY,oCAEd,CACED,IAAO,0BACPC,SAAY,oCAEd,CACED,IAAO,yBACPC,SAAY,oCAEd,CACED,IAAO,yBACPC,SAAY,oCAEd,CACED,IAAO,yBACPC,SAAY,oCAEd,CACED,IAAO,gCACPC,SAAY,oCAEd,CACED,IAAO,0BACPC,SAAY,oCAEd,CACED,IAAO,qCACPC,SAAY,oCAEd,CACED,IAAO,gCACPC,SAAY,oCAEd,CACED,IAAO,iCACPC,SAAY,oCAEd,CACED,IAAO,+BACPC,SAAY,oCAEd,CACED,IAAO,+BACPC,SAAY,oCAEd,CACED,IAAO,sCACPC,SAAY,oCAEd,CACED,IAAO,6BACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,mBACPC,SAAY,oCAEd,CACED,IAAO,kBACPC,SAAY,oCAEd,CACED,IAAO,uBACPC,SAAY,oCAEd,CACED,IAAO,gBACPC,SAAY,oCAEd,CACED,IAAO,sBACPC,SAAY,oCAEd,CACED,IAAO,yBACPC,SAAY,oCAEd,CACED,IAAO,8BACPC,SAAY,oCAEd,CACED,IAAO,+BACPC,SAAY,oCAEd,CACED,IAAO,8BACPC,SAAY,oCAEd,CACED,IAAO,8BACPC,SAAY,oCAEd,CACED,IAAO,2BACPC,SAAY,oCAEd,CACED,IAAO,4BACPC,SAAY,oCAEd,CACED,IAAO,+BACPC,SAAY,oCAEd,CACED,IAAO,4BACPC,SAAY,oCAEd,CACED,IAAO,kCACPC,SAAY,oCAEd,CACED,IAAO,4BACPC,SAAY,oCAEd,CACED,IAAO,2BACPC,SAAY,qCAEb,CACDC,4BAA+B,CAAC"}
\ No newline at end of file

--- src/main/webapp/styles/grapheditor.css ---
@@ -289,7 +289,7 @@
 	opacity: 0.6;
 }
 .geToolbarButton:active {
-	opacity: 0.2;
+	opacity: 0.2 !important;
 }
 .mxDisabled:hover {
 	background:inherit !important;


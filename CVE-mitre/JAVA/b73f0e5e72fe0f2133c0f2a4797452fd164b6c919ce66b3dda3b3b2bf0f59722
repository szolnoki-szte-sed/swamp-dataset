--- server-core/src/main/java/io/onedev/server/model/support/inputspec/InputSpec.java ---
@@ -105,7 +105,7 @@ public List<String> getPossibleValues() {
 		return Lists.newArrayList();
 	}
 
-	protected String escape(String string) {
+	public static String escape(String string) {
 		String escaped = JavaEscape.escapeJava(string);
 		// escape $ character since it has special meaning in groovy string
 		escaped = escaped.replace("$", "\\$");

--- server-core/src/main/java/io/onedev/server/model/support/inputspec/textinput/TextInput.java ---
@@ -15,6 +15,7 @@ public class TextInput {
 
 	public static String getPropertyDef(InputSpec inputSpec, Map<String, Integer> indexes, 
 			String pattern, DefaultValueProvider defaultValueProvider) {
+		pattern = InputSpec.escape(pattern);
 		int index = indexes.get(inputSpec.getName());
 		StringBuffer buffer = new StringBuffer();
 		inputSpec.appendField(buffer, index, "String");
@@ -24,7 +25,7 @@ public static String getPropertyDef(InputSpec inputSpec, Map<String, Integer> in
 		if (pattern != null)
 			buffer.append("    @Pattern(regexp=\"" + pattern + "\", message=\"Should match regular expression: " + pattern + "\")\n");
 		inputSpec.appendMethods(buffer, index, "String", null, defaultValueProvider);
-		
+
 		return buffer.toString();
 	}
 

--- server-product/src/test/java/io/onedev/server/product/Test.java ---
@@ -5,5 +5,5 @@ public class Test {
 	@org.junit.Test
 	public void test() {
 	}		
-	
+
 }
\ No newline at end of file


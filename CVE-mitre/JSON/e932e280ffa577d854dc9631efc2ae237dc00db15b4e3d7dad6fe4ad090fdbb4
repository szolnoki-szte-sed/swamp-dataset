--- ChuanhuChatbot.py ---
@@ -781,7 +781,7 @@ def create_greeting(request: gr.Request):
     # Invisible elements
     updateChuanhuBtn.click(
         update_chuanhu,
-        [],
+        [user_name],
         [status_display],
         show_progress=True,
     )

--- config_example.json ---
@@ -33,6 +33,7 @@
     //== åŸºç¡€é…ç½® ==
     "language": "auto", // ç•Œé¢è¯­è¨€ï¼Œå¯é€‰"auto", "zh_CN", "en_US", "ja_JP", "ko_KR", "sv_SE", "ru_RU", "vi_VN"
     "users": [], // ç”¨æˆ·åˆ—è¡¨ï¼Œ[["ç”¨æˆ·å1", "å¯†ç 1"], ["ç”¨æˆ·å2", "å¯†ç 2"], ...]
+    "admin_list": [], // ç®¡ç†å‘˜åˆ—è¡¨ï¼Œ["ç”¨æˆ·å1", "ç”¨æˆ·å2", ...] åªæœ‰ç®¡ç†å‘˜å¯ä»¥é‡å¯æœåŠ¡
     "local_embedding": false, //æ˜¯å¦åœ¨æœ¬åœ°ç¼–åˆ¶ç´¢å¼•
     "hide_history_when_not_logged_in": false, //æœªç™»å½•æƒ…å†µä¸‹æ˜¯å¦ä¸å±•ç¤ºå¯¹è¯å†å²
     "check_update": true, //æ˜¯å¦å¯ç”¨æ£€æŸ¥æ›´æ–°

--- locale/en_US.json ---
@@ -280,5 +280,6 @@
     "chuanhu_question_4": "Any new trends on TikTok?",
     "gpt4o_description": "OpenAI's most advanced, multimodal flagship model thatâ€™s cheaper and faster than GPT-4 Turbo.",
     "gpt4omini_description": "OpenAI's affordable and intelligent small model for fast, lightweight tasks.",
-    "o1_description": "The o1 series of large language models are trained with reinforcement learning to perform complex reasoning. o1 models think before they answer, producing a long internal chain of thought before responding to the user."
+    "o1_description": "The o1 series of large language models are trained with reinforcement learning to perform complex reasoning. o1 models think before they answer, producing a long internal chain of thought before responding to the user.",
+    "no_permission_to_update_description": "You do not have permission to update. Please contact the administrator. The administrator's configuration method is to add the username to the admin_list in the configuration file config.json."
 }
\ No newline at end of file

--- locale/ja_JP.json ---
@@ -194,5 +194,6 @@
     "ğŸ—‘ï¸ åˆ é™¤æœ€æ–°å¯¹è¯": "ğŸ—‘ï¸ æœ€æ–°ã®ä¼šè©±å‰Šé™¤",
     "ğŸ—‘ï¸ åˆ é™¤æœ€æ—§å¯¹è¯": "ğŸ—‘ï¸ æœ€å¤ã®ä¼šè©±å‰Šé™¤",
     "ğŸ§¹ æ–°çš„å¯¹è¯": "ğŸ§¹ æ–°ã—ã„ä¼šè©±",
-    "o1_description": "o1ã‚·ãƒªãƒ¼ã‚ºã®å¤§è¦æ¨¡è¨€èªãƒ¢ãƒ‡ãƒ«ã¯ã€è¤‡é›‘ãªæ¨è«–ã‚’è¡Œã†ãŸã‚ã«å¼·åŒ–å­¦ç¿’ã§è¨“ç·´ã•ã‚Œã¦ã„ã¾ã™ã€‚o1ãƒ¢ãƒ‡ãƒ«ã¯å›ç­”ã™ã‚‹å‰ã«è€ƒãˆã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å¿œç­”ã™ã‚‹å‰ã«é•·ã„å†…éƒ¨æ€è€ƒã®é€£é–ã‚’ç”Ÿæˆã—ã¾ã™ã€‚"
+    "o1_description": "o1ã‚·ãƒªãƒ¼ã‚ºã®å¤§è¦æ¨¡è¨€èªãƒ¢ãƒ‡ãƒ«ã¯ã€è¤‡é›‘ãªæ¨è«–ã‚’è¡Œã†ãŸã‚ã«å¼·åŒ–å­¦ç¿’ã§è¨“ç·´ã•ã‚Œã¦ã„ã¾ã™ã€‚o1ãƒ¢ãƒ‡ãƒ«ã¯å›ç­”ã™ã‚‹å‰ã«è€ƒãˆã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å¿œç­”ã™ã‚‹å‰ã«é•·ã„å†…éƒ¨æ€è€ƒã®é€£é–ã‚’ç”Ÿæˆã—ã¾ã™ã€‚",
+    "no_permission_to_update_description": "ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã®æ¨©é™ãŒã‚ã‚Šã¾ã›ã‚“ã€‚ ç®¡ç†è€…ã«é€£çµ¡ã—ã¦ãã ã•ã„ã€‚ ç®¡ç†è€…ã®è¨­å®šã¯ã€è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«config.jsonã®admin_listã«ãƒ¦ãƒ¼ã‚¶ãƒ¼åã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã§è¡Œã„ã¾ã™ã€‚"
 }
\ No newline at end of file

--- locale/ko_KR.json ---
@@ -193,5 +193,6 @@
     "ğŸ”™ æ¢å¤é»˜è®¤ç½‘ç»œè®¾ç½®": "ğŸ”™ ë„¤íŠ¸ì›Œí¬ ì„¤ì • ì´ˆê¸°í™”",
     "ğŸ—‘ï¸ åˆ é™¤æœ€æ–°å¯¹è¯": "ğŸ—‘ï¸ ìµœì‹  ëŒ€í™” ì‚­ì œ",
     "ğŸ—‘ï¸ åˆ é™¤æœ€æ—§å¯¹è¯": "ğŸ—‘ï¸ ê°€ì¥ ì˜¤ë˜ëœ ëŒ€í™” ì‚­ì œ",
-    "ğŸ§¹ æ–°çš„å¯¹è¯": "ğŸ§¹ ìƒˆë¡œìš´ ëŒ€í™”"
+    "ğŸ§¹ æ–°çš„å¯¹è¯": "ğŸ§¹ ìƒˆë¡œìš´ ëŒ€í™”",
+    "no_permission_to_update_description": "ì—…ë°ì´íŠ¸í•  ìˆ˜ ìˆëŠ” ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤. ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•˜ì„¸ìš”. ê´€ë¦¬ìëŠ” êµ¬ì„± íŒŒì¼ config.jsonì˜ admin_listì— ì‚¬ìš©ì ì•„ì´ë””ë¥¼ ì¶”ê°€í•˜ì—¬ êµ¬ì„±í•©ë‹ˆë‹¤."
 }
\ No newline at end of file

--- locale/ru_RU.json ---
@@ -193,5 +193,6 @@
     "ğŸ”™ æ¢å¤é»˜è®¤ç½‘ç»œè®¾ç½®": "ğŸ”™ Ğ’Ğ¾ÑÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ ÑĞµÑ‚Ğ¸ Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ",
     "ğŸ—‘ï¸ åˆ é™¤æœ€æ–°å¯¹è¯": "ğŸ—‘ï¸ Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğ¹ Ğ´Ğ¸Ğ°Ğ»Ğ¾Ğ³",
     "ğŸ—‘ï¸ åˆ é™¤æœ€æ—§å¯¹è¯": "ğŸ—‘ï¸ Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ ÑÑ‚Ğ°Ñ€ĞµĞ¹ÑˆĞ¸Ğ¹ Ğ´Ğ¸Ğ°Ğ»Ğ¾Ğ³",
-    "ğŸ§¹ æ–°çš„å¯¹è¯": "ğŸ§¹ ĞĞ¾Ğ²Ñ‹Ğ¹ Ğ´Ğ¸Ğ°Ğ»Ğ¾Ğ³"
+    "ğŸ§¹ æ–°çš„å¯¹è¯": "ğŸ§¹ ĞĞ¾Ğ²Ñ‹Ğ¹ Ğ´Ğ¸Ğ°Ğ»Ğ¾Ğ³",
+    "no_permission_to_update_description": "Ğ£ Ğ²Ğ°Ñ Ğ½ĞµÑ‚ Ñ€Ğ°Ğ·Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ Ğ½Ğ° Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ. ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, ÑĞ²ÑĞ¶Ğ¸Ñ‚ĞµÑÑŒ Ñ Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ¾Ğ¼. ĞĞ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€ Ğ½Ğ°ÑÑ‚Ñ€Ğ°Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ Ğ¿ÑƒÑ‚ĞµĞ¼ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ¸Ğ¼ĞµĞ½Ğ¸ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ Ğ² ÑĞ¿Ğ¸ÑĞ¾Ğº admin_list Ğ² Ñ„Ğ°Ğ¹Ğ»Ğµ config.json."
 }
\ No newline at end of file

--- locale/sv_SE.json ---
@@ -193,5 +193,6 @@
     "ğŸ”™ æ¢å¤é»˜è®¤ç½‘ç»œè®¾ç½®": "ğŸ”™ Ã…terstÃ¤ll standardnÃ¤tverksinstÃ¤llningar+",
     "ğŸ—‘ï¸ åˆ é™¤æœ€æ–°å¯¹è¯": "ğŸ—‘ï¸ Ta bort senaste dialogen",
     "ğŸ—‘ï¸ åˆ é™¤æœ€æ—§å¯¹è¯": "ğŸ—‘ï¸ Ta bort Ã¤ldsta dialogen",
-    "ğŸ§¹ æ–°çš„å¯¹è¯": "ğŸ§¹ Ny Dialog"
+    "ğŸ§¹ æ–°çš„å¯¹è¯": "ğŸ§¹ Ny Dialog",
+    "no_permission_to_update_description": "Du har inte behÃ¶righet att uppdatera. VÃ¤nligen kontakta administratÃ¶ren. AdministratÃ¶ren konfigureras genom att lÃ¤gga till anvÃ¤ndarnamnet i admin_list i konfigurationsfilen config.json."
 }
\ No newline at end of file

--- locale/vi_VN.json ---
@@ -193,5 +193,6 @@
     "ğŸ”™ æ¢å¤é»˜è®¤ç½‘ç»œè®¾ç½®": "ğŸ”™ KhÃ´i phá»¥c cÃ i Ä‘áº·t máº¡ng máº·c Ä‘á»‹nh",
     "ğŸ—‘ï¸ åˆ é™¤æœ€æ–°å¯¹è¯": "ğŸ—‘ï¸ XÃ³a cuá»™c trÃ² chuyá»‡n má»›i nháº¥t",
     "ğŸ—‘ï¸ åˆ é™¤æœ€æ—§å¯¹è¯": "ğŸ—‘ï¸ XÃ³a cuá»™c trÃ² chuyá»‡n cÅ© nháº¥t",
-    "ğŸ§¹ æ–°çš„å¯¹è¯": "ğŸ§¹ Cuá»™c trÃ² chuyá»‡n má»›i"
+    "ğŸ§¹ æ–°çš„å¯¹è¯": "ğŸ§¹ Cuá»™c trÃ² chuyá»‡n má»›i",
+    "no_permission_to_update_description": "Báº¡n khÃ´ng cÃ³ quyá»n cáº­p nháº­t. Vui lÃ²ng liÃªn há»‡ vá»›i quáº£n trá»‹ viÃªn. CÃ¡ch cáº¥u hÃ¬nh cá»§a quáº£n trá»‹ viÃªn lÃ  thÃªm tÃªn ngÆ°á»i dÃ¹ng vÃ o danh sÃ¡ch admin_list trong tá»‡p cáº¥u hÃ¬nh config.json."
 }
\ No newline at end of file

--- locale/zh_CN.json ---
@@ -22,5 +22,6 @@
     "chuanhu_question_4": "TikTok ä¸Šæœ‰ä»€ä¹ˆæ–°æ¢—ï¼Ÿ",
     "gpt4o_description": "OpenAI çš„æœ€å…ˆè¿›çš„å¤šæ¨¡æ€æ——èˆ°æ¨¡å‹ï¼Œæ¯” GPT-4 Turbo æ›´ä¾¿å®œã€æ›´å¿«ã€‚",
     "gpt4omini_description": "OpenAI çš„ç»æµå®æƒ ä¸”æ™ºèƒ½çš„å°å‹æ¨¡å‹ï¼Œé€‚ç”¨äºå¿«é€Ÿã€è½»é‡çº§ä»»åŠ¡ã€‚",
-    "o1_description": "o1 ç³»åˆ—çš„å¤§å‹è¯­è¨€æ¨¡å‹é€šè¿‡å¼ºåŒ–å­¦ä¹ è®­ç»ƒï¼Œèƒ½å¤Ÿæ‰§è¡Œå¤æ‚çš„æ¨ç†ä»»åŠ¡ã€‚o1 æ¨¡å‹åœ¨å›ç­”ä¹‹å‰ä¼šè¿›è¡Œæ€è€ƒï¼Œäº§ç”Ÿä¸€é•¿ä¸²å†…éƒ¨æ€ç»´é“¾ï¼Œç„¶åå†å›åº”ç”¨æˆ·ã€‚"
+    "o1_description": "o1 ç³»åˆ—çš„å¤§å‹è¯­è¨€æ¨¡å‹é€šè¿‡å¼ºåŒ–å­¦ä¹ è®­ç»ƒï¼Œèƒ½å¤Ÿæ‰§è¡Œå¤æ‚çš„æ¨ç†ä»»åŠ¡ã€‚o1 æ¨¡å‹åœ¨å›ç­”ä¹‹å‰ä¼šè¿›è¡Œæ€è€ƒï¼Œäº§ç”Ÿä¸€é•¿ä¸²å†…éƒ¨æ€ç»´é“¾ï¼Œç„¶åå†å›åº”ç”¨æˆ·ã€‚",
+    "no_permission_to_update_description": "ä½ æ²¡æœ‰æƒé™æ›´æ–°ã€‚è¯·è”ç³»ç®¡ç†å‘˜ã€‚ç®¡ç†å‘˜çš„é…ç½®æ–¹å¼ä¸ºåœ¨é…ç½®æ–‡ä»¶ config.json ä¸­çš„ admin_list ä¸­æ·»åŠ ç”¨æˆ·åã€‚"
 }
\ No newline at end of file

--- modules/config.py ---
@@ -190,6 +190,7 @@ def load_config_to_environ(key_list):
     shared.state.set_api_key_queue(api_key_list)
 
 auth_list = config.get("users", [])  # å®é™…ä¸Šæ˜¯ä½¿ç”¨è€…çš„åˆ—è¡¨
+admin_list = config.get("admin_list", [])  # ç®¡ç†å‘˜åˆ—è¡¨
 authflag = len(auth_list) > 0  # æ˜¯å¦å¼€å¯è®¤è¯çš„çŠ¶æ€å€¼ï¼Œæ”¹ä¸ºåˆ¤æ–­auth_listé•¿åº¦
 
 # å¤„ç†è‡ªå®šä¹‰çš„api_hostï¼Œä¼˜å…ˆè¯»ç¯å¢ƒå˜é‡çš„é…ç½®ï¼Œå¦‚æœå­˜åœ¨åˆ™è‡ªåŠ¨è£…é…

--- modules/utils.py ---
@@ -27,7 +27,7 @@
 
 from modules.presets import *
 from . import shared
-from modules.config import retrieve_proxy, hide_history_when_not_logged_in
+from modules.config import retrieve_proxy, hide_history_when_not_logged_in, admin_list
 
 if TYPE_CHECKING:
     from typing import TypedDict
@@ -741,7 +741,9 @@ def transfer_input(inputs):
     )
 
 
-def update_chuanhu():
+def update_chuanhu(username):
+    if username not in admin_list:
+        return gr.Markdown(value=i18n("no_permission_to_update_description"))
     from .repo import background_update
 
     print("[Updater] Trying to update...")


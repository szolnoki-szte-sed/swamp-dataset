--- public/build/assets/AccountSetting.d3009f2e.js ---
@@ -1 +1 @@
-var L=Object.defineProperty,R=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var V=(u,s,i)=>s in u?L(u,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):u[s]=i,U=(u,s)=>{for(var i in s||(s={}))T.call(s,i)&&V(u,i,s[i]);if(b)for(var i of b(s))z.call(s,i)&&V(u,i,s[i]);return u},S=(u,s)=>R(u,P(s));import{J as E,B,k as I,L as v,M as y,Q as J,N as Q,P as H,a0 as K,T as O,r as m,o as C,e as W,f as r,w as d,u as e,x as X,l as Y,m as Z,j as x,i as ee,t as ae,U as se,h as te}from"./vendor.01d0adc5.js";import{e as ne,d as oe,b as re}from"./main.832b14c7.js";const le=["onSubmit"],ie=te("span",null,null,-1),pe={setup(u){const s=ne(),i=oe(),M=re(),{t:g}=E();let p=B(!1),w=B(null),f=B([]);s.currentUser.avatar&&f.value.push({image:s.currentUser.avatar});const F=I(()=>({name:{required:v.withMessage(g("validation.required"),y)},email:{required:v.withMessage(g("validation.required"),y),email:v.withMessage(g("validation.email_incorrect"),J)},password:{minLength:v.withMessage(g("validation.password_length",{count:8}),Q(8))},confirm_password:{sameAsPassword:v.withMessage(g("validation.password_incorrect"),H(t.password))}})),t=K({name:s.currentUser.name,email:s.currentUser.email,language:s.currentUserSettings.language||M.selectedCompanySettings.language,password:"",confirm_password:""}),o=O(F,I(()=>t));function q(l,a){w.value=a}function k(){w.value=null}async function N(){if(o.value.$touch(),o.value.$invalid)return!0;p.value=!0;let l={name:t.name,email:t.email};try{if(t.password!=null&&t.password!==void 0&&t.password!==""&&(l=S(U({},l),{password:t.password})),s.currentUserSettings.language!==t.language&&await s.updateUserSettings({settings:{language:t.language}}),(await s.updateCurrentUser(l)).data.data){if(p.value=!1,w.value){let $=new FormData;$.append("admin_avatar",w.value),await s.uploadAvatar($)}t.password="",t.confirm_password=""}}catch{return p.value=!1,!0}}return(l,a)=>{const $=m("BaseFileUploader"),c=m("BaseInputGroup"),_=m("BaseInput"),G=m("BaseMultiselect"),D=m("BaseInputGrid"),h=m("BaseIcon"),j=m("BaseButton"),A=m("BaseSettingCard");return C(),W("form",{class:"relative",onSubmit:se(N,["prevent"])},[r(A,{title:l.$t("settings.account_settings.account_settings"),description:l.$t("settings.account_settings.section_description")},{default:d(()=>[r(D,null,{default:d(()=>[r(c,{label:l.$tc("settings.account_settings.profile_picture")},{default:d(()=>[r($,{modelValue:e(f),"onUpdate:modelValue":a[0]||(a[0]=n=>X(f)?f.value=n:f=n),avatar:!0,accept:"image/*",onChange:q,onRemove:k},null,8,["modelValue"])]),_:1},8,["label"]),ie,r(c,{label:l.$tc("settings.account_settings.name"),error:e(o).name.$error&&e(o).name.$errors[0].$message,required:""},{default:d(()=>[r(_,{modelValue:e(t).name,"onUpdate:modelValue":a[1]||(a[1]=n=>e(t).name=n),invalid:e(o).name.$error,onInput:a[2]||(a[2]=n=>e(o).name.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),r(c,{label:l.$tc("settings.account_settings.email"),error:e(o).email.$error&&e(o).email.$errors[0].$message,required:""},{default:d(()=>[r(_,{modelValue:e(t).email,"onUpdate:modelValue":a[3]||(a[3]=n=>e(t).email=n),invalid:e(o).email.$error,onInput:a[4]||(a[4]=n=>e(o).email.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),r(c,{error:e(o).password.$error&&e(o).password.$errors[0].$message,label:l.$tc("settings.account_settings.password")},{default:d(()=>[r(_,{modelValue:e(t).password,"onUpdate:modelValue":a[5]||(a[5]=n=>e(t).password=n),type:"password",onInput:a[6]||(a[6]=n=>e(o).password.$touch())},null,8,["modelValue"])]),_:1},8,["error","label"]),r(c,{label:l.$tc("settings.account_settings.confirm_password"),error:e(o).confirm_password.$error&&e(o).confirm_password.$errors[0].$message},{default:d(()=>[r(_,{modelValue:e(t).confirm_password,"onUpdate:modelValue":a[7]||(a[7]=n=>e(t).confirm_password=n),type:"password",onInput:a[8]||(a[8]=n=>e(o).confirm_password.$touch())},null,8,["modelValue"])]),_:1},8,["label","error"]),r(c,{label:l.$tc("settings.language")},{default:d(()=>[r(G,{modelValue:e(t).language,"onUpdate:modelValue":a[9]||(a[9]=n=>e(t).language=n),options:e(i).config.languages,label:"name","value-prop":"code","track-by":"code","open-direction":"top"},null,8,["modelValue","options"])]),_:1},8,["label"])]),_:1}),r(j,{loading:e(p),disabled:e(p),class:"mt-6"},{left:d(n=>[e(p)?x("",!0):(C(),Y(h,{key:0,name:"SaveIcon",class:Z(n.class)},null,8,["class"]))]),default:d(()=>[ee(" "+ae(l.$tc("settings.company_info.save")),1)]),_:1},8,["loading","disabled"])]),_:1},8,["title","description"])],40,le)}}};export{pe as default};
+var L=Object.defineProperty,R=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var b=(u,s,i)=>s in u?L(u,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):u[s]=i,U=(u,s)=>{for(var i in s||(s={}))T.call(s,i)&&b(u,i,s[i]);if(V)for(var i of V(s))z.call(s,i)&&b(u,i,s[i]);return u},S=(u,s)=>R(u,P(s));import{J as E,B,k as I,L as v,M as y,Q as J,N as Q,P as H,a0 as K,T as O,r as m,o as C,e as W,f as r,w as d,u as e,x as X,l as Y,m as Z,j as x,i as ee,t as ae,U as se,h as te}from"./vendor.01d0adc5.js";import{e as ne,d as oe,b as re}from"./main.75722495.js";const le=["onSubmit"],ie=te("span",null,null,-1),pe={setup(u){const s=ne(),i=oe(),M=re(),{t:g}=E();let p=B(!1),w=B(null),f=B([]);s.currentUser.avatar&&f.value.push({image:s.currentUser.avatar});const F=I(()=>({name:{required:v.withMessage(g("validation.required"),y)},email:{required:v.withMessage(g("validation.required"),y),email:v.withMessage(g("validation.email_incorrect"),J)},password:{minLength:v.withMessage(g("validation.password_length",{count:8}),Q(8))},confirm_password:{sameAsPassword:v.withMessage(g("validation.password_incorrect"),H(t.password))}})),t=K({name:s.currentUser.name,email:s.currentUser.email,language:s.currentUserSettings.language||M.selectedCompanySettings.language,password:"",confirm_password:""}),o=O(F,I(()=>t));function q(l,a){w.value=a}function k(){w.value=null}async function N(){if(o.value.$touch(),o.value.$invalid)return!0;p.value=!0;let l={name:t.name,email:t.email};try{if(t.password!=null&&t.password!==void 0&&t.password!==""&&(l=S(U({},l),{password:t.password})),s.currentUserSettings.language!==t.language&&await s.updateUserSettings({settings:{language:t.language}}),(await s.updateCurrentUser(l)).data.data){if(p.value=!1,w.value){let $=new FormData;$.append("admin_avatar",w.value),await s.uploadAvatar($)}t.password="",t.confirm_password=""}}catch{return p.value=!1,!0}}return(l,a)=>{const $=m("BaseFileUploader"),c=m("BaseInputGroup"),_=m("BaseInput"),G=m("BaseMultiselect"),D=m("BaseInputGrid"),h=m("BaseIcon"),j=m("BaseButton"),A=m("BaseSettingCard");return C(),W("form",{class:"relative",onSubmit:se(N,["prevent"])},[r(A,{title:l.$t("settings.account_settings.account_settings"),description:l.$t("settings.account_settings.section_description")},{default:d(()=>[r(D,null,{default:d(()=>[r(c,{label:l.$tc("settings.account_settings.profile_picture")},{default:d(()=>[r($,{modelValue:e(f),"onUpdate:modelValue":a[0]||(a[0]=n=>X(f)?f.value=n:f=n),avatar:!0,accept:"image/*",onChange:q,onRemove:k},null,8,["modelValue"])]),_:1},8,["label"]),ie,r(c,{label:l.$tc("settings.account_settings.name"),error:e(o).name.$error&&e(o).name.$errors[0].$message,required:""},{default:d(()=>[r(_,{modelValue:e(t).name,"onUpdate:modelValue":a[1]||(a[1]=n=>e(t).name=n),invalid:e(o).name.$error,onInput:a[2]||(a[2]=n=>e(o).name.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),r(c,{label:l.$tc("settings.account_settings.email"),error:e(o).email.$error&&e(o).email.$errors[0].$message,required:""},{default:d(()=>[r(_,{modelValue:e(t).email,"onUpdate:modelValue":a[3]||(a[3]=n=>e(t).email=n),invalid:e(o).email.$error,onInput:a[4]||(a[4]=n=>e(o).email.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),r(c,{error:e(o).password.$error&&e(o).password.$errors[0].$message,label:l.$tc("settings.account_settings.password")},{default:d(()=>[r(_,{modelValue:e(t).password,"onUpdate:modelValue":a[5]||(a[5]=n=>e(t).password=n),type:"password",onInput:a[6]||(a[6]=n=>e(o).password.$touch())},null,8,["modelValue"])]),_:1},8,["error","label"]),r(c,{label:l.$tc("settings.account_settings.confirm_password"),error:e(o).confirm_password.$error&&e(o).confirm_password.$errors[0].$message},{default:d(()=>[r(_,{modelValue:e(t).confirm_password,"onUpdate:modelValue":a[7]||(a[7]=n=>e(t).confirm_password=n),type:"password",onInput:a[8]||(a[8]=n=>e(o).confirm_password.$touch())},null,8,["modelValue"])]),_:1},8,["label","error"]),r(c,{label:l.$tc("settings.language")},{default:d(()=>[r(G,{modelValue:e(t).language,"onUpdate:modelValue":a[9]||(a[9]=n=>e(t).language=n),options:e(i).config.languages,label:"name","value-prop":"code","track-by":"code","open-direction":"top"},null,8,["modelValue","options"])]),_:1},8,["label"])]),_:1}),r(j,{loading:e(p),disabled:e(p),class:"mt-6"},{left:d(n=>[e(p)?x("",!0):(C(),Y(h,{key:0,name:"SaveIcon",class:Z(n.class)},null,8,["class"]))]),default:d(()=>[ee(" "+ae(l.$tc("settings.company_info.save")),1)]),_:1},8,["loading","disabled"])]),_:1},8,["title","description"])],40,le)}}};export{pe as default};

--- public/build/assets/AddressInformation.908aefd5.js ---
@@ -1 +1 @@
-import{G as C,J as z,B as I,r as m,o as b,e as y,f as o,w as r,h as d,t as p,u as e,m as h,i as F,j as v,l as S,U as j}from"./vendor.01d0adc5.js";import{a as k,u as w}from"./global.8697213a.js";import"./auth.77d12976.js";import"./main.832b14c7.js";const D=["onSubmit"],G={class:"mb-6"},N={class:"font-bold text-left"},A={class:"mt-2 text-sm leading-snug text-left text-gray-500",style:{"max-width":"680px"}},T={class:"grid grid-cols-5 gap-4 mb-8"},E={class:"col-span-5 text-lg font-semibold text-left lg:col-span-1"},J={class:"grid col-span-5 lg:col-span-4 gap-y-6 gap-x-4 md:grid-cols-6"},R={class:"md:col-span-3"},q={class:"flex items-center justify-start mb-6 md:justify-end md:mb-0"},H={class:"p-1"},K={class:"grid grid-cols-5 gap-4 mb-8"},L={class:"col-span-5 text-lg font-semibold text-left lg:col-span-1"},O={key:0,class:"grid col-span-5 lg:col-span-4 gap-y-6 gap-x-4 md:grid-cols-6"},P={class:"md:col-span-3"},Q={class:"flex items-center justify-end"},se={setup(W){const s=k();C();const{tm:$,t:X}=z(),g=w();let u=I(!1);g.fetchCountries();function B(){u.value=!0;let a=s.userForm;s.updateCurrentUser({data:a,message:$("customers.address_updated_message")}).then(t=>{u.value=!1}).catch(t=>{u.value=!1})}return(a,t)=>{const i=m("BaseInput"),n=m("BaseInputGroup"),f=m("BaseMultiselect"),c=m("BaseTextarea"),U=m("BaseDivider"),_=m("BaseIcon"),V=m("BaseButton"),M=m("BaseCard");return b(),y("form",{class:"relative h-full mt-4",onSubmit:j(B,["prevent"])},[o(M,null,{default:r(()=>[d("div",G,[d("h6",N,p(a.$t("settings.menu_title.address_information")),1),d("p",A,p(a.$t("settings.address_information.section_description")),1)]),d("div",T,[d("h6",E,p(a.$t("customers.billing_address")),1),d("div",J,[o(n,{label:a.$t("customers.name"),class:"w-full md:col-span-3"},{default:r(()=>[o(i,{modelValue:e(s).userForm.billing.name,"onUpdate:modelValue":t[0]||(t[0]=l=>e(s).userForm.billing.name=l),modelModifiers:{trim:!0},type:"text",class:"w-full",name:"address_name"},null,8,["modelValue"])]),_:1},8,["label"]),o(n,{label:a.$t("customers.country"),class:"md:col-span-3"},{default:r(()=>[o(f,{modelValue:e(s).userForm.billing.country_id,"onUpdate:modelValue":t[1]||(t[1]=l=>e(s).userForm.billing.country_id=l),"value-prop":"id",label:"name","track-by":"name","resolve-on-load":"",searchable:"",options:e(g).countries,placeholder:a.$t("general.select_country"),class:"w-full"},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"]),o(n,{label:a.$t("customers.state"),class:"md:col-span-3"},{default:r(()=>[o(i,{modelValue:e(s).userForm.billing.state,"onUpdate:modelValue":t[2]||(t[2]=l=>e(s).userForm.billing.state=l),name:"billing.state",type:"text"},null,8,["modelValue"])]),_:1},8,["label"]),o(n,{label:a.$t("customers.city"),class:"md:col-span-3"},{default:r(()=>[o(i,{modelValue:e(s).userForm.billing.city,"onUpdate:modelValue":t[3]||(t[3]=l=>e(s).userForm.billing.city=l),name:"billing.city",type:"text"},null,8,["modelValue"])]),_:1},8,["label"]),o(n,{label:a.$t("customers.address"),class:"md:col-span-3"},{default:r(()=>[o(c,{modelValue:e(s).userForm.billing.address_street_1,"onUpdate:modelValue":t[4]||(t[4]=l=>e(s).userForm.billing.address_street_1=l),modelModifiers:{trim:!0},placeholder:a.$t("general.street_1"),type:"text",name:"billing_street1","container-class":"mt-3"},null,8,["modelValue","placeholder"]),o(c,{modelValue:e(s).userForm.billing.address_street_2,"onUpdate:modelValue":t[5]||(t[5]=l=>e(s).userForm.billing.address_street_2=l),modelModifiers:{trim:!0},placeholder:a.$t("general.street_2"),type:"text",class:"mt-3",name:"billing_street2","container-class":"mt-3"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),d("div",R,[o(n,{label:a.$t("customers.phone"),class:"text-left"},{default:r(()=>[o(i,{modelValue:e(s).userForm.billing.phone,"onUpdate:modelValue":t[6]||(t[6]=l=>e(s).userForm.billing.phone=l),modelModifiers:{trim:!0},type:"text",name:"phone"},null,8,["modelValue"])]),_:1},8,["label"]),o(n,{label:a.$t("customers.zip_code"),class:"mt-2 text-left"},{default:r(()=>[o(i,{modelValue:e(s).userForm.billing.zip,"onUpdate:modelValue":t[7]||(t[7]=l=>e(s).userForm.billing.zip=l),modelModifiers:{trim:!0},type:"text",name:"zip"},null,8,["modelValue"])]),_:1},8,["label"])])])]),o(U,{class:"mb-5 md:mb-8"}),d("div",q,[d("div",H,[o(V,{ref:(l,x)=>{x.sameAddress=l},type:"button",onClick:t[8]||(t[8]=l=>e(s).copyAddress(!0))},{left:r(l=>[o(_,{name:"DocumentDuplicateIcon",class:h(l.class)},null,8,["class"])]),default:r(()=>[F(" "+p(a.$t("customers.copy_billing_address")),1)]),_:1},512)])]),d("div",K,[d("h6",L,p(a.$t("customers.shipping_address")),1),e(s).userForm.shipping?(b(),y("div",O,[o(n,{label:a.$t("customers.name"),class:"md:col-span-3"},{default:r(()=>[o(i,{modelValue:e(s).userForm.shipping.name,"onUpdate:modelValue":t[9]||(t[9]=l=>e(s).userForm.shipping.name=l),modelModifiers:{trim:!0},type:"text",name:"address_name"},null,8,["modelValue"])]),_:1},8,["label"]),o(n,{label:a.$t("customers.country"),class:"md:col-span-3"},{default:r(()=>[o(f,{modelValue:e(s).userForm.shipping.country_id,"onUpdate:modelValue":t[10]||(t[10]=l=>e(s).userForm.shipping.country_id=l),"value-prop":"id",label:"name","track-by":"name","resolve-on-load":"",searchable:"",options:e(g).countries,placeholder:a.$t("general.select_country"),class:"w-full"},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"]),o(n,{label:a.$t("customers.state"),class:"md:col-span-3"},{default:r(()=>[o(i,{modelValue:e(s).userForm.shipping.state,"onUpdate:modelValue":t[11]||(t[11]=l=>e(s).userForm.shipping.state=l),name:"shipping.state",type:"text"},null,8,["modelValue"])]),_:1},8,["label"]),o(n,{label:a.$t("customers.city"),class:"md:col-span-3"},{default:r(()=>[o(i,{modelValue:e(s).userForm.shipping.city,"onUpdate:modelValue":t[12]||(t[12]=l=>e(s).userForm.shipping.city=l),name:"shipping.city",type:"text"},null,8,["modelValue"])]),_:1},8,["label"]),o(n,{label:a.$t("customers.address"),class:"md:col-span-3"},{default:r(()=>[o(c,{modelValue:e(s).userForm.shipping.address_street_1,"onUpdate:modelValue":t[13]||(t[13]=l=>e(s).userForm.shipping.address_street_1=l),modelModifiers:{trim:!0},type:"text",placeholder:a.$t("general.street_1"),name:"shipping_street1"},null,8,["modelValue","placeholder"]),o(c,{modelValue:e(s).userForm.shipping.address_street_2,"onUpdate:modelValue":t[14]||(t[14]=l=>e(s).userForm.shipping.address_street_2=l),modelModifiers:{trim:!0},type:"text",placeholder:a.$t("general.street_2"),name:"shipping_street2",class:"mt-3"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),d("div",P,[o(n,{label:a.$t("customers.phone"),class:"text-left"},{default:r(()=>[o(i,{modelValue:e(s).userForm.shipping.phone,"onUpdate:modelValue":t[15]||(t[15]=l=>e(s).userForm.shipping.phone=l),modelModifiers:{trim:!0},type:"text",name:"phone"},null,8,["modelValue"])]),_:1},8,["label"]),o(n,{label:a.$t("customers.zip_code"),class:"mt-2 text-left"},{default:r(()=>[o(i,{modelValue:e(s).userForm.shipping.zip,"onUpdate:modelValue":t[16]||(t[16]=l=>e(s).userForm.shipping.zip=l),modelModifiers:{trim:!0},type:"text",name:"zip"},null,8,["modelValue"])]),_:1},8,["label"])])])):v("",!0)]),d("div",Q,[o(V,{loading:e(u),disabled:e(u)},{left:r(l=>[e(u)?v("",!0):(b(),S(_,{key:0,name:"SaveIcon",class:h(l.class)},null,8,["class"]))]),default:r(()=>[F(" "+p(a.$t("general.save")),1)]),_:1},8,["loading","disabled"])])]),_:1})],40,D)}}};export{se as default};
+import{G as C,J as z,B as I,r as m,o as b,e as y,f as o,w as r,h as d,t as p,u as e,m as h,i as F,j as v,l as S,U as j}from"./vendor.01d0adc5.js";import{a as k,u as w}from"./global.08b6a984.js";import"./auth.4644c288.js";import"./main.75722495.js";const D=["onSubmit"],G={class:"mb-6"},N={class:"font-bold text-left"},A={class:"mt-2 text-sm leading-snug text-left text-gray-500",style:{"max-width":"680px"}},T={class:"grid grid-cols-5 gap-4 mb-8"},E={class:"col-span-5 text-lg font-semibold text-left lg:col-span-1"},J={class:"grid col-span-5 lg:col-span-4 gap-y-6 gap-x-4 md:grid-cols-6"},R={class:"md:col-span-3"},q={class:"flex items-center justify-start mb-6 md:justify-end md:mb-0"},H={class:"p-1"},K={class:"grid grid-cols-5 gap-4 mb-8"},L={class:"col-span-5 text-lg font-semibold text-left lg:col-span-1"},O={key:0,class:"grid col-span-5 lg:col-span-4 gap-y-6 gap-x-4 md:grid-cols-6"},P={class:"md:col-span-3"},Q={class:"flex items-center justify-end"},se={setup(W){const s=k();C();const{tm:$,t:X}=z(),g=w();let u=I(!1);g.fetchCountries();function B(){u.value=!0;let a=s.userForm;s.updateCurrentUser({data:a,message:$("customers.address_updated_message")}).then(t=>{u.value=!1}).catch(t=>{u.value=!1})}return(a,t)=>{const i=m("BaseInput"),n=m("BaseInputGroup"),f=m("BaseMultiselect"),c=m("BaseTextarea"),U=m("BaseDivider"),_=m("BaseIcon"),V=m("BaseButton"),M=m("BaseCard");return b(),y("form",{class:"relative h-full mt-4",onSubmit:j(B,["prevent"])},[o(M,null,{default:r(()=>[d("div",G,[d("h6",N,p(a.$t("settings.menu_title.address_information")),1),d("p",A,p(a.$t("settings.address_information.section_description")),1)]),d("div",T,[d("h6",E,p(a.$t("customers.billing_address")),1),d("div",J,[o(n,{label:a.$t("customers.name"),class:"w-full md:col-span-3"},{default:r(()=>[o(i,{modelValue:e(s).userForm.billing.name,"onUpdate:modelValue":t[0]||(t[0]=l=>e(s).userForm.billing.name=l),modelModifiers:{trim:!0},type:"text",class:"w-full",name:"address_name"},null,8,["modelValue"])]),_:1},8,["label"]),o(n,{label:a.$t("customers.country"),class:"md:col-span-3"},{default:r(()=>[o(f,{modelValue:e(s).userForm.billing.country_id,"onUpdate:modelValue":t[1]||(t[1]=l=>e(s).userForm.billing.country_id=l),"value-prop":"id",label:"name","track-by":"name","resolve-on-load":"",searchable:"",options:e(g).countries,placeholder:a.$t("general.select_country"),class:"w-full"},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"]),o(n,{label:a.$t("customers.state"),class:"md:col-span-3"},{default:r(()=>[o(i,{modelValue:e(s).userForm.billing.state,"onUpdate:modelValue":t[2]||(t[2]=l=>e(s).userForm.billing.state=l),name:"billing.state",type:"text"},null,8,["modelValue"])]),_:1},8,["label"]),o(n,{label:a.$t("customers.city"),class:"md:col-span-3"},{default:r(()=>[o(i,{modelValue:e(s).userForm.billing.city,"onUpdate:modelValue":t[3]||(t[3]=l=>e(s).userForm.billing.city=l),name:"billing.city",type:"text"},null,8,["modelValue"])]),_:1},8,["label"]),o(n,{label:a.$t("customers.address"),class:"md:col-span-3"},{default:r(()=>[o(c,{modelValue:e(s).userForm.billing.address_street_1,"onUpdate:modelValue":t[4]||(t[4]=l=>e(s).userForm.billing.address_street_1=l),modelModifiers:{trim:!0},placeholder:a.$t("general.street_1"),type:"text",name:"billing_street1","container-class":"mt-3"},null,8,["modelValue","placeholder"]),o(c,{modelValue:e(s).userForm.billing.address_street_2,"onUpdate:modelValue":t[5]||(t[5]=l=>e(s).userForm.billing.address_street_2=l),modelModifiers:{trim:!0},placeholder:a.$t("general.street_2"),type:"text",class:"mt-3",name:"billing_street2","container-class":"mt-3"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),d("div",R,[o(n,{label:a.$t("customers.phone"),class:"text-left"},{default:r(()=>[o(i,{modelValue:e(s).userForm.billing.phone,"onUpdate:modelValue":t[6]||(t[6]=l=>e(s).userForm.billing.phone=l),modelModifiers:{trim:!0},type:"text",name:"phone"},null,8,["modelValue"])]),_:1},8,["label"]),o(n,{label:a.$t("customers.zip_code"),class:"mt-2 text-left"},{default:r(()=>[o(i,{modelValue:e(s).userForm.billing.zip,"onUpdate:modelValue":t[7]||(t[7]=l=>e(s).userForm.billing.zip=l),modelModifiers:{trim:!0},type:"text",name:"zip"},null,8,["modelValue"])]),_:1},8,["label"])])])]),o(U,{class:"mb-5 md:mb-8"}),d("div",q,[d("div",H,[o(V,{ref:(l,x)=>{x.sameAddress=l},type:"button",onClick:t[8]||(t[8]=l=>e(s).copyAddress(!0))},{left:r(l=>[o(_,{name:"DocumentDuplicateIcon",class:h(l.class)},null,8,["class"])]),default:r(()=>[F(" "+p(a.$t("customers.copy_billing_address")),1)]),_:1},512)])]),d("div",K,[d("h6",L,p(a.$t("customers.shipping_address")),1),e(s).userForm.shipping?(b(),y("div",O,[o(n,{label:a.$t("customers.name"),class:"md:col-span-3"},{default:r(()=>[o(i,{modelValue:e(s).userForm.shipping.name,"onUpdate:modelValue":t[9]||(t[9]=l=>e(s).userForm.shipping.name=l),modelModifiers:{trim:!0},type:"text",name:"address_name"},null,8,["modelValue"])]),_:1},8,["label"]),o(n,{label:a.$t("customers.country"),class:"md:col-span-3"},{default:r(()=>[o(f,{modelValue:e(s).userForm.shipping.country_id,"onUpdate:modelValue":t[10]||(t[10]=l=>e(s).userForm.shipping.country_id=l),"value-prop":"id",label:"name","track-by":"name","resolve-on-load":"",searchable:"",options:e(g).countries,placeholder:a.$t("general.select_country"),class:"w-full"},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"]),o(n,{label:a.$t("customers.state"),class:"md:col-span-3"},{default:r(()=>[o(i,{modelValue:e(s).userForm.shipping.state,"onUpdate:modelValue":t[11]||(t[11]=l=>e(s).userForm.shipping.state=l),name:"shipping.state",type:"text"},null,8,["modelValue"])]),_:1},8,["label"]),o(n,{label:a.$t("customers.city"),class:"md:col-span-3"},{default:r(()=>[o(i,{modelValue:e(s).userForm.shipping.city,"onUpdate:modelValue":t[12]||(t[12]=l=>e(s).userForm.shipping.city=l),name:"shipping.city",type:"text"},null,8,["modelValue"])]),_:1},8,["label"]),o(n,{label:a.$t("customers.address"),class:"md:col-span-3"},{default:r(()=>[o(c,{modelValue:e(s).userForm.shipping.address_street_1,"onUpdate:modelValue":t[13]||(t[13]=l=>e(s).userForm.shipping.address_street_1=l),modelModifiers:{trim:!0},type:"text",placeholder:a.$t("general.street_1"),name:"shipping_street1"},null,8,["modelValue","placeholder"]),o(c,{modelValue:e(s).userForm.shipping.address_street_2,"onUpdate:modelValue":t[14]||(t[14]=l=>e(s).userForm.shipping.address_street_2=l),modelModifiers:{trim:!0},type:"text",placeholder:a.$t("general.street_2"),name:"shipping_street2",class:"mt-3"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),d("div",P,[o(n,{label:a.$t("customers.phone"),class:"text-left"},{default:r(()=>[o(i,{modelValue:e(s).userForm.shipping.phone,"onUpdate:modelValue":t[15]||(t[15]=l=>e(s).userForm.shipping.phone=l),modelModifiers:{trim:!0},type:"text",name:"phone"},null,8,["modelValue"])]),_:1},8,["label"]),o(n,{label:a.$t("customers.zip_code"),class:"mt-2 text-left"},{default:r(()=>[o(i,{modelValue:e(s).userForm.shipping.zip,"onUpdate:modelValue":t[16]||(t[16]=l=>e(s).userForm.shipping.zip=l),modelModifiers:{trim:!0},type:"text",name:"zip"},null,8,["modelValue"])]),_:1},8,["label"])])])):v("",!0)]),d("div",Q,[o(V,{loading:e(u),disabled:e(u)},{left:r(l=>[e(u)?v("",!0):(b(),S(_,{key:0,name:"SaveIcon",class:h(l.class)},null,8,["class"]))]),default:r(()=>[F(" "+p(a.$t("general.save")),1)]),_:1},8,["loading","disabled"])])]),_:1})],40,D)}}};export{se as default};

--- public/build/assets/BackupSetting.f5a6fab0.js ---
@@ -1 +1 @@
-var te=Object.defineProperty,ae=Object.defineProperties;var se=Object.getOwnPropertyDescriptors;var U=Object.getOwnPropertySymbols;var oe=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var F=(u,t,l)=>t in u?te(u,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):u[t]=l,q=(u,t)=>{for(var l in t||(t={}))oe.call(t,l)&&F(u,l,t[l]);if(U)for(var l of U(t))ne.call(t,l)&&F(u,l,t[l]);return u},G=(u,t)=>ae(u,se(t));import{a as x,d as le,B as w,a0 as E,J as O,k as D,L as R,M as A,T as ce,r as d,o as L,l as H,w as i,h as $,i as S,t as C,u as o,f as n,m as J,j as ie,U as re,e as de,F as ue}from"./vendor.01d0adc5.js";import{h as P,u as X,c as K,j as pe}from"./main.832b14c7.js";import{u as Q}from"./disk.3cfd12a4.js";const W=(u=!1)=>{const t=u?window.pinia.defineStore:le,{global:l}=window.i18n;return t({id:"backup",state:()=>({backups:[],currentBackupData:{option:"full",selected_disk:null}}),actions:{fetchBackups(b){return new Promise((c,s)=>{x.get("/api/v1/backups",{params:b}).then(e=>{this.backups=e.data.data,c(e)}).catch(e=>{P(e),s(e)})})},createBackup(b){return new Promise((c,s)=>{x.post("/api/v1/backups",b).then(e=>{X().showNotification({type:"success",message:l.t("settings.backup.created_message")}),c(e)}).catch(e=>{P(e),s(e)})})},removeBackup(b){return new Promise((c,s)=>{x.delete(`/api/v1/backups/${b.disk}`,{params:b}).then(e=>{X().showNotification({type:"success",message:l.t("settings.backup.deleted_message")}),c(e)}).catch(e=>{P(e),s(e)})})}}})()},ke={class:"flex justify-between w-full"},me=["onSubmit"],fe={class:"p-6"},_e={class:"z-0 flex justify-end p-4 border-t border-gray-200 border-solid"},be={setup(u){w(null),w(!1);let t=w(!1),l=w(!1);const b=E(["full","only-db","only-files"]),c=W(),s=K(),e=Q(),{t:f}=O(),_=D(()=>s.active&&s.componentName==="BackupModal"),M=D(()=>e.disks.map(r=>G(q({},r),{name:r.name+" \u2014 ["+r.driver+"]"}))),V=D(()=>({currentBackupData:{option:{required:R.withMessage(f("validation.required"),A)},selected_disk:{required:R.withMessage(f("validation.required"),A)}}})),g=ce(V,D(()=>c));async function N(){if(g.value.currentBackupData.$touch(),g.value.currentBackupData.$invalid)return!0;let r={option:c.currentBackupData.option,file_disk_id:c.currentBackupData.selected_disk.id};try{t.value=!0,(await c.createBackup(r)).data&&(t.value=!1,s.refreshData&&s.refreshData(),s.closeModal())}catch{t.value=!1}}async function j(){l.value=!0;let r=await e.fetchDisks({limit:"all"});c.currentBackupData.selected_disk=r.data.data[0],l.value=!1}function I(){s.closeModal(),setTimeout(()=>{g.value.$reset(),c.$reset()})}return(r,h)=>{const a=d("BaseIcon"),p=d("BaseMultiselect"),m=d("BaseInputGroup"),k=d("BaseInputGrid"),y=d("BaseButton"),T=d("BaseModal");return L(),H(T,{show:o(_),onClose:I,onOpen:j},{header:i(()=>[$("div",ke,[S(C(o(s).title)+" ",1),n(a,{name:"XIcon",class:"w-6 h-6 text-gray-500 cursor-pointer",onClick:I})])]),default:i(()=>[$("form",{onSubmit:re(N,["prevent"])},[$("div",fe,[n(k,{layout:"one-column"},{default:i(()=>[n(m,{label:r.$t("settings.backup.select_backup_type"),error:o(g).currentBackupData.option.$error&&o(g).currentBackupData.option.$errors[0].$message,horizontal:"",required:"",class:"py-2"},{default:i(()=>[n(p,{modelValue:o(c).currentBackupData.option,"onUpdate:modelValue":h[0]||(h[0]=v=>o(c).currentBackupData.option=v),options:o(b),"can-deselect":!1,placeholder:r.$t("settings.backup.select_backup_type"),searchable:""},null,8,["modelValue","options","placeholder"])]),_:1},8,["label","error"]),n(m,{label:r.$t("settings.disk.select_disk"),error:o(g).currentBackupData.selected_disk.$error&&o(g).currentBackupData.selected_disk.$errors[0].$message,horizontal:"",required:"",class:"py-2"},{default:i(()=>[n(p,{modelValue:o(c).currentBackupData.selected_disk,"onUpdate:modelValue":h[1]||(h[1]=v=>o(c).currentBackupData.selected_disk=v),"content-loading":o(l),options:o(M),searchable:!0,"allow-empty":!1,label:"name","value-prop":"id",placeholder:r.$t("settings.disk.select_disk"),"track-by":"id",object:""},null,8,["modelValue","content-loading","options","placeholder"])]),_:1},8,["label","error"])]),_:1})]),$("div",_e,[n(y,{class:"mr-3",variant:"primary-outline",type:"button",onClick:I},{default:i(()=>[S(C(r.$t("general.cancel")),1)]),_:1}),n(y,{loading:o(t),disabled:o(t),variant:"primary",type:"submit"},{left:i(v=>[o(t)?ie("",!0):(L(),H(a,{key:0,name:"SaveIcon",class:J(v.class)},null,8,["class"]))]),default:i(()=>[S(" "+C(r.$t("general.create")),1)]),_:1},8,["loading","disabled"])])],40,me)]),_:1},8,["show"])}}},ge={class:"grid my-14 md:grid-cols-3"},Be={class:"inline-block"},De={setup(u){const t=pe(),l=W(),b=K(),c=Q(),{t:s}=O(),e=E({selected_disk:{driver:"local"}}),f=w("");let _=w(!0);const M=D(()=>[{key:"path",label:s("settings.backup.path"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"created_at",label:s("settings.backup.created_at"),tdClass:"font-medium text-gray-900"},{key:"size",label:s("settings.backup.size"),tdClass:"font-medium text-gray-900"},{key:"actions",label:"",tdClass:"text-right text-sm font-medium",sortable:!1}]),V=D(()=>c.disks.map(a=>G(q({},a),{name:a.name+" \u2014 ["+a.driver+"]"})));j();function g(a){t.openDialog({title:s("general.are_you_sure"),message:s("settings.backup.backup_confirm_delete"),yesLabel:s("general.ok"),noLabel:s("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(async p=>{if(p){let m={disk:e.selected_disk.driver,file_disk_id:e.selected_disk.id,path:a.path},k=await l.removeBackup(m);if(k.data.success||k.data.backup)return f.value&&f.value.refresh(),!0}})}function N(){setTimeout(()=>{f.value.refresh()},100)}async function j(){_.value=!0;let a=await c.fetchDisks({limit:"all"});a.data.error,e.selected_disk=a.data.data.find(p=>p.set_as_default==0),_.value=!1}async function I({page:a,filter:p,sort:m}){let k={disk:e.selected_disk.driver,filed_disk_id:e.selected_disk.id};_.value=!0;let y=await l.fetchBackups(k);return _.value=!1,{data:y.data.backups,pagination:{totalPages:1,currentPage:1}}}async function r(){b.openModal({title:s("settings.backup.create_backup"),componentName:"BackupModal",refreshData:f.value&&f.value.refresh,size:"sm"})}async function h(a){_.value=!0,window.axios({method:"GET",url:"/api/v1/download-backup",responseType:"blob",params:{disk:e.selected_disk.driver,file_disk_id:e.selected_disk.id,path:a.path}}).then(p=>{const m=window.URL.createObjectURL(new Blob([p.data])),k=document.createElement("a");k.href=m,k.setAttribute("download",a.path.split("/")[1]),document.body.appendChild(k),k.click(),_.value=!1}).catch(p=>{_.value=!1})}return(a,p)=>{const m=d("BaseIcon"),k=d("BaseButton"),y=d("BaseMultiselect"),T=d("BaseInputGroup"),v=d("BaseDropdownItem"),Y=d("BaseDropdown"),Z=d("BaseTable"),ee=d("BaseSettingCard");return L(),de(ue,null,[n(be),n(ee,{title:a.$tc("settings.backup.title",1),description:a.$t("settings.backup.description")},{action:i(()=>[n(k,{variant:"primary-outline",onClick:r},{left:i(B=>[n(m,{class:J(B.class),name:"PlusIcon"},null,8,["class"])]),default:i(()=>[S(" "+C(a.$t("settings.backup.new_backup")),1)]),_:1})]),default:i(()=>[$("div",ge,[n(T,{label:a.$t("settings.disk.select_disk"),"content-loading":o(_)},{default:i(()=>[n(y,{modelValue:o(e).selected_disk,"onUpdate:modelValue":p[0]||(p[0]=B=>o(e).selected_disk=B),"content-loading":o(_),options:o(V),"track-by":"id",placeholder:a.$t("settings.disk.select_disk"),label:"name",searchable:!0,object:"",class:"w-full","value-prop":"id",onSelect:N},null,8,["modelValue","content-loading","options","placeholder"])]),_:1},8,["label","content-loading"])]),n(Z,{ref:(B,z)=>{z.table=B,f.value=B},class:"mt-10","show-filter":!1,data:I,columns:o(M)},{"cell-actions":i(({row:B})=>[n(Y,null,{activator:i(()=>[$("div",Be,[n(m,{name:"DotsHorizontalIcon",class:"text-gray-500"})])]),default:i(()=>[n(v,{onClick:z=>h(B.data)},{default:i(()=>[n(m,{name:"CloudDownloadIcon",class:"mr-3 text-gray-600"}),S(" "+C(a.$t("general.download")),1)]),_:2},1032,["onClick"]),n(v,{onClick:z=>g(B.data)},{default:i(()=>[n(m,{name:"TrashIcon",class:"mr-3 text-gray-600"}),S(" "+C(a.$t("general.delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:1},8,["columns"])]),_:1},8,["title","description"])],64)}}};export{De as default};
+var te=Object.defineProperty,ae=Object.defineProperties;var se=Object.getOwnPropertyDescriptors;var U=Object.getOwnPropertySymbols;var oe=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var F=(u,t,l)=>t in u?te(u,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):u[t]=l,q=(u,t)=>{for(var l in t||(t={}))oe.call(t,l)&&F(u,l,t[l]);if(U)for(var l of U(t))ne.call(t,l)&&F(u,l,t[l]);return u},G=(u,t)=>ae(u,se(t));import{a as x,d as le,B as w,a0 as E,J as O,k as D,L as R,M as A,T as ce,r as d,o as L,l as H,w as i,h as $,i as S,t as C,u as o,f as n,m as J,j as ie,U as re,e as de,F as ue}from"./vendor.01d0adc5.js";import{h as P,u as X,c as K,j as pe}from"./main.75722495.js";import{u as Q}from"./disk.518ebc4b.js";const W=(u=!1)=>{const t=u?window.pinia.defineStore:le,{global:l}=window.i18n;return t({id:"backup",state:()=>({backups:[],currentBackupData:{option:"full",selected_disk:null}}),actions:{fetchBackups(b){return new Promise((c,s)=>{x.get("/api/v1/backups",{params:b}).then(e=>{this.backups=e.data.data,c(e)}).catch(e=>{P(e),s(e)})})},createBackup(b){return new Promise((c,s)=>{x.post("/api/v1/backups",b).then(e=>{X().showNotification({type:"success",message:l.t("settings.backup.created_message")}),c(e)}).catch(e=>{P(e),s(e)})})},removeBackup(b){return new Promise((c,s)=>{x.delete(`/api/v1/backups/${b.disk}`,{params:b}).then(e=>{X().showNotification({type:"success",message:l.t("settings.backup.deleted_message")}),c(e)}).catch(e=>{P(e),s(e)})})}}})()},ke={class:"flex justify-between w-full"},me=["onSubmit"],fe={class:"p-6"},_e={class:"z-0 flex justify-end p-4 border-t border-gray-200 border-solid"},be={setup(u){w(null),w(!1);let t=w(!1),l=w(!1);const b=E(["full","only-db","only-files"]),c=W(),s=K(),e=Q(),{t:f}=O(),_=D(()=>s.active&&s.componentName==="BackupModal"),M=D(()=>e.disks.map(r=>G(q({},r),{name:r.name+" \u2014 ["+r.driver+"]"}))),V=D(()=>({currentBackupData:{option:{required:R.withMessage(f("validation.required"),A)},selected_disk:{required:R.withMessage(f("validation.required"),A)}}})),g=ce(V,D(()=>c));async function N(){if(g.value.currentBackupData.$touch(),g.value.currentBackupData.$invalid)return!0;let r={option:c.currentBackupData.option,file_disk_id:c.currentBackupData.selected_disk.id};try{t.value=!0,(await c.createBackup(r)).data&&(t.value=!1,s.refreshData&&s.refreshData(),s.closeModal())}catch{t.value=!1}}async function j(){l.value=!0;let r=await e.fetchDisks({limit:"all"});c.currentBackupData.selected_disk=r.data.data[0],l.value=!1}function I(){s.closeModal(),setTimeout(()=>{g.value.$reset(),c.$reset()})}return(r,h)=>{const a=d("BaseIcon"),p=d("BaseMultiselect"),m=d("BaseInputGroup"),k=d("BaseInputGrid"),y=d("BaseButton"),T=d("BaseModal");return L(),H(T,{show:o(_),onClose:I,onOpen:j},{header:i(()=>[$("div",ke,[S(C(o(s).title)+" ",1),n(a,{name:"XIcon",class:"w-6 h-6 text-gray-500 cursor-pointer",onClick:I})])]),default:i(()=>[$("form",{onSubmit:re(N,["prevent"])},[$("div",fe,[n(k,{layout:"one-column"},{default:i(()=>[n(m,{label:r.$t("settings.backup.select_backup_type"),error:o(g).currentBackupData.option.$error&&o(g).currentBackupData.option.$errors[0].$message,horizontal:"",required:"",class:"py-2"},{default:i(()=>[n(p,{modelValue:o(c).currentBackupData.option,"onUpdate:modelValue":h[0]||(h[0]=v=>o(c).currentBackupData.option=v),options:o(b),"can-deselect":!1,placeholder:r.$t("settings.backup.select_backup_type"),searchable:""},null,8,["modelValue","options","placeholder"])]),_:1},8,["label","error"]),n(m,{label:r.$t("settings.disk.select_disk"),error:o(g).currentBackupData.selected_disk.$error&&o(g).currentBackupData.selected_disk.$errors[0].$message,horizontal:"",required:"",class:"py-2"},{default:i(()=>[n(p,{modelValue:o(c).currentBackupData.selected_disk,"onUpdate:modelValue":h[1]||(h[1]=v=>o(c).currentBackupData.selected_disk=v),"content-loading":o(l),options:o(M),searchable:!0,"allow-empty":!1,label:"name","value-prop":"id",placeholder:r.$t("settings.disk.select_disk"),"track-by":"id",object:""},null,8,["modelValue","content-loading","options","placeholder"])]),_:1},8,["label","error"])]),_:1})]),$("div",_e,[n(y,{class:"mr-3",variant:"primary-outline",type:"button",onClick:I},{default:i(()=>[S(C(r.$t("general.cancel")),1)]),_:1}),n(y,{loading:o(t),disabled:o(t),variant:"primary",type:"submit"},{left:i(v=>[o(t)?ie("",!0):(L(),H(a,{key:0,name:"SaveIcon",class:J(v.class)},null,8,["class"]))]),default:i(()=>[S(" "+C(r.$t("general.create")),1)]),_:1},8,["loading","disabled"])])],40,me)]),_:1},8,["show"])}}},ge={class:"grid my-14 md:grid-cols-3"},Be={class:"inline-block"},De={setup(u){const t=pe(),l=W(),b=K(),c=Q(),{t:s}=O(),e=E({selected_disk:{driver:"local"}}),f=w("");let _=w(!0);const M=D(()=>[{key:"path",label:s("settings.backup.path"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"created_at",label:s("settings.backup.created_at"),tdClass:"font-medium text-gray-900"},{key:"size",label:s("settings.backup.size"),tdClass:"font-medium text-gray-900"},{key:"actions",label:"",tdClass:"text-right text-sm font-medium",sortable:!1}]),V=D(()=>c.disks.map(a=>G(q({},a),{name:a.name+" \u2014 ["+a.driver+"]"})));j();function g(a){t.openDialog({title:s("general.are_you_sure"),message:s("settings.backup.backup_confirm_delete"),yesLabel:s("general.ok"),noLabel:s("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(async p=>{if(p){let m={disk:e.selected_disk.driver,file_disk_id:e.selected_disk.id,path:a.path},k=await l.removeBackup(m);if(k.data.success||k.data.backup)return f.value&&f.value.refresh(),!0}})}function N(){setTimeout(()=>{f.value.refresh()},100)}async function j(){_.value=!0;let a=await c.fetchDisks({limit:"all"});a.data.error,e.selected_disk=a.data.data.find(p=>p.set_as_default==0),_.value=!1}async function I({page:a,filter:p,sort:m}){let k={disk:e.selected_disk.driver,filed_disk_id:e.selected_disk.id};_.value=!0;let y=await l.fetchBackups(k);return _.value=!1,{data:y.data.backups,pagination:{totalPages:1,currentPage:1}}}async function r(){b.openModal({title:s("settings.backup.create_backup"),componentName:"BackupModal",refreshData:f.value&&f.value.refresh,size:"sm"})}async function h(a){_.value=!0,window.axios({method:"GET",url:"/api/v1/download-backup",responseType:"blob",params:{disk:e.selected_disk.driver,file_disk_id:e.selected_disk.id,path:a.path}}).then(p=>{const m=window.URL.createObjectURL(new Blob([p.data])),k=document.createElement("a");k.href=m,k.setAttribute("download",a.path.split("/")[1]),document.body.appendChild(k),k.click(),_.value=!1}).catch(p=>{_.value=!1})}return(a,p)=>{const m=d("BaseIcon"),k=d("BaseButton"),y=d("BaseMultiselect"),T=d("BaseInputGroup"),v=d("BaseDropdownItem"),Y=d("BaseDropdown"),Z=d("BaseTable"),ee=d("BaseSettingCard");return L(),de(ue,null,[n(be),n(ee,{title:a.$tc("settings.backup.title",1),description:a.$t("settings.backup.description")},{action:i(()=>[n(k,{variant:"primary-outline",onClick:r},{left:i(B=>[n(m,{class:J(B.class),name:"PlusIcon"},null,8,["class"])]),default:i(()=>[S(" "+C(a.$t("settings.backup.new_backup")),1)]),_:1})]),default:i(()=>[$("div",ge,[n(T,{label:a.$t("settings.disk.select_disk"),"content-loading":o(_)},{default:i(()=>[n(y,{modelValue:o(e).selected_disk,"onUpdate:modelValue":p[0]||(p[0]=B=>o(e).selected_disk=B),"content-loading":o(_),options:o(V),"track-by":"id",placeholder:a.$t("settings.disk.select_disk"),label:"name",searchable:!0,object:"",class:"w-full","value-prop":"id",onSelect:N},null,8,["modelValue","content-loading","options","placeholder"])]),_:1},8,["label","content-loading"])]),n(Z,{ref:(B,z)=>{z.table=B,f.value=B},class:"mt-10","show-filter":!1,data:I,columns:o(M)},{"cell-actions":i(({row:B})=>[n(Y,null,{activator:i(()=>[$("div",Be,[n(m,{name:"DotsHorizontalIcon",class:"text-gray-500"})])]),default:i(()=>[n(v,{onClick:z=>h(B.data)},{default:i(()=>[n(m,{name:"CloudDownloadIcon",class:"mr-3 text-gray-600"}),S(" "+C(a.$t("general.download")),1)]),_:2},1032,["onClick"]),n(v,{onClick:z=>g(B.data)},{default:i(()=>[n(m,{name:"TrashIcon",class:"mr-3 text-gray-600"}),S(" "+C(a.$t("general.delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:1},8,["columns"])]),_:1},8,["title","description"])],64)}}};export{De as default};

--- public/build/assets/BaseListItem.4eea691c.js ---
@@ -1 +1 @@
-import{_ as o}from"./main.832b14c7.js";import{o as n,e as c,g as i,k as l,r as u,l as m,w as _,j as f,h as $,t as h,s as B}from"./vendor.01d0adc5.js";const k={name:"List"},v={class:"list-none"};function x(e,r,t,s,a,d){return n(),c("div",v,[i(e.$slots,"default")])}var L=o(k,[["render",x]]);const y={name:"ListItem",props:{title:{type:String,required:!1,default:""},active:{type:Boolean,required:!0},index:{type:Number,default:null}},setup(e,{slots:r}){const t="cursor-pointer pb-2 pr-0 text-sm font-medium leading-5  flex items-center";let s=l(()=>!!r.icon),a=l(()=>e.active?`${t} text-primary-500`:`${t} text-gray-500`);return{hasIconSlot:s,containerClass:a}}},g={key:0,class:"mr-3"};function C(e,r,t,s,a,d){const p=u("router-link");return n(),m(p,B(e.$attrs,{class:s.containerClass}),{default:_(()=>[s.hasIconSlot?(n(),c("span",g,[i(e.$slots,"icon")])):f("",!0),$("span",null,h(t.title),1)]),_:3},16,["class"])}var b=o(y,[["render",C]]);export{b as B,L as a};
+import{_ as o}from"./main.75722495.js";import{o as n,e as c,g as i,k as l,r as u,l as m,w as _,j as f,h as $,t as h,s as B}from"./vendor.01d0adc5.js";const k={name:"List"},v={class:"list-none"};function x(e,r,t,s,a,d){return n(),c("div",v,[i(e.$slots,"default")])}var L=o(k,[["render",x]]);const y={name:"ListItem",props:{title:{type:String,required:!1,default:""},active:{type:Boolean,required:!0},index:{type:Number,default:null}},setup(e,{slots:r}){const t="cursor-pointer pb-2 pr-0 text-sm font-medium leading-5  flex items-center";let s=l(()=>!!r.icon),a=l(()=>e.active?`${t} text-primary-500`:`${t} text-gray-500`);return{hasIconSlot:s,containerClass:a}}},g={key:0,class:"mr-3"};function C(e,r,t,s,a,d){const p=u("router-link");return n(),m(p,B(e.$attrs,{class:s.containerClass}),{default:_(()=>[s.hasIconSlot?(n(),c("span",g,[i(e.$slots,"icon")])):f("",!0),$("span",null,h(t.title),1)]),_:3},16,["class"])}var j=o(y,[["render",C]]);export{j as B,L as a};

--- public/build/assets/BaseMultiselect.b73cc8d6.js ---
@@ -1 +1 @@
-var Xe=Object.defineProperty,Ye=Object.defineProperties;var Ze=Object.getOwnPropertyDescriptors;var Be=Object.getOwnPropertySymbols;var $e=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable;var qe=(e,n,a)=>n in e?Xe(e,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[n]=a,G=(e,n)=>{for(var a in n||(n={}))$e.call(n,a)&&qe(e,a,n[a]);if(Be)for(var a of Be(n))_e.call(n,a)&&qe(e,a,n[a]);return e},Ce=(e,n)=>Ye(e,Ze(n));import{bd as x,B as N,k as w,C as re,be as Te,r as De,o as I,l as el,w as ll,f as al,e as B,m as O,U as ve,j as E,F as ae,y as se,g as T,i as tl,t as J,h as P}from"./vendor.01d0adc5.js";import{_ as nl}from"./main.832b14c7.js";function F(e){return[null,void 0,!1].indexOf(e)!==-1}function rl(e,n,a){const{object:i,valueProp:o,mode:v}=x(e),f=a.iv,g=p=>{f.value=c(p);const b=t(p);n.emit("change",b),n.emit("input",b),n.emit("update:modelValue",b)},t=p=>i.value||F(p)?p:Array.isArray(p)?p.map(b=>b[o.value]):p[o.value],c=p=>F(p)?v.value==="single"?{}:[]:p;return{update:g}}function sl(e,n){const{value:a,modelValue:i,mode:o,valueProp:v}=x(e),f=N(o.value!=="single"?[]:{}),g=n.expose!==void 0?i:a,t=w(()=>o.value==="single"?f.value[v.value]:f.value.map(p=>p[v.value])),c=w(()=>o.value!=="single"?f.value.map(p=>p[v.value]).join(","):f.value[v.value]);return{iv:f,internalValue:f,ev:g,externalValue:g,textValue:c,plainValue:t}}function ul(e,n,a){const{preserveSearch:i}=x(e),o=N(e.initialSearch)||N(null),v=N(null),f=()=>{i.value||(o.value="")},g=c=>{o.value=c.target.value},t=c=>{n.emit("paste",c)};return re(o,c=>{n.emit("search-change",c)}),{search:o,input:v,clearSearch:f,handleSearchInput:g,handlePaste:t}}function ol(e,n,a){const{groupSelect:i,mode:o,groups:v}=x(e),f=N(null),g=c=>{c===void 0||c!==null&&c.disabled||v.value&&c&&c.group&&(o.value==="single"||!i.value)||(f.value=c)};return{pointer:f,setPointer:g,clearPointer:()=>{g(null)}}}function Ee(e,n=!0){return n?String(e).toLowerCase().trim():String(e).normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().trim()}function il(e){return Object.prototype.toString.call(e)==="[object Object]"}function cl(e,n){const a=n.slice().sort();return e.length===n.length&&e.slice().sort().every(function(i,o){return i===a[o]})}function dl(e,n,a){const{options:i,mode:o,trackBy:v,limit:f,hideSelected:g,createTag:t,label:c,appendNewTag:p,multipleLabel:b,object:q,loading:V,delay:D,resolveOnLoad:m,minChars:s,filterResults:A,clearOnSearch:Z,clearOnSelect:k,valueProp:d,canDeselect:j,max:L,strict:Q,closeOnSelect:X,groups:$,groupLabel:ue,groupOptions:M,groupHideEmpty:pe,groupSelect:fe}=x(e),S=a.iv,z=a.ev,C=a.search,_=a.clearSearch,ee=a.update,ge=a.pointer,oe=a.clearPointer,W=a.blur,te=a.deactivate,r=N([]),h=N([]),R=N(!1),H=w(()=>{if($.value){let l=h.value||[],u=[];return l.forEach(y=>{ke(y[M.value]).forEach(U=>{u.push(Object.assign({},U,y.disabled?{disabled:!0}:{}))})}),u}else{let l=ke(h.value||[]);return r.value.length&&(l=l.concat(r.value)),l}}),Oe=w(()=>$.value?Ue((h.value||[]).map(l=>{const u=ke(l[M.value]);return Ce(G({},l),{group:!0,[M.value]:Se(u,!1).map(y=>Object.assign({},y,l.disabled?{disabled:!0}:{})),__VISIBLE__:Se(u).map(y=>Object.assign({},y,l.disabled?{disabled:!0}:{}))})})):[]),ie=w(()=>{let l=H.value;return me.value.length&&(l=me.value.concat(l)),l=Se(l),f.value>0&&(l=l.slice(0,f.value)),l}),be=w(()=>{switch(o.value){case"single":return!F(S.value[d.value]);case"multiple":case"tags":return!F(S.value)&&S.value.length>0}}),Ve=w(()=>b!==void 0&&b.value!==void 0?b.value(S.value):S.value&&S.value.length>1?`${S.value.length} options selected`:"1 option selected"),je=w(()=>!H.value.length&&!R.value&&!me.value.length),Re=w(()=>H.value.length>0&&ie.value.length==0&&(C.value&&$.value||!$.value)),me=w(()=>t.value===!1||!C.value?[]:ze(C.value)!==-1?[]:[{[d.value]:C.value,[c.value]:C.value,[v.value]:C.value}]),Ge=w(()=>{switch(o.value){case"single":return null;case"multiple":case"tags":return[]}}),Ae=w(()=>V.value||R.value),ne=l=>{switch(typeof l!="object"&&(l=K(l)),o.value){case"single":ee(l);break;case"multiple":case"tags":ee(S.value.concat(l));break}n.emit("select",Le(l),l)},le=l=>{switch(typeof l!="object"&&(l=K(l)),o.value){case"single":Ie();break;case"tags":case"multiple":ee(Array.isArray(l)?S.value.filter(u=>l.map(y=>y[d.value]).indexOf(u[d.value])===-1):S.value.filter(u=>u[d.value]!=l[d.value]));break}n.emit("deselect",Le(l),l)},Le=l=>q.value?l:l[d.value],Pe=l=>{le(l)},Me=(l,u)=>{if(u.button!==0){u.preventDefault();return}Pe(l)},Ie=()=>{n.emit("clear"),ee(Ge.value)},Y=l=>{if(l.group!==void 0)return o.value==="single"?!1:Fe(l[M.value])&&l[M.value].length;switch(o.value){case"single":return!F(S.value)&&S.value[d.value]==l[d.value];case"tags":case"multiple":return!F(S.value)&&S.value.map(u=>u[d.value]).indexOf(l[d.value])!==-1}},he=l=>l.disabled===!0,ye=()=>L===void 0||L.value===-1||!be.value&&L.value>0?!1:S.value.length>=L.value,Ne=l=>{if(!he(l)){switch(o.value){case"single":if(Y(l)){j.value&&le(l);return}W(),ne(l);break;case"multiple":if(Y(l)){le(l);return}if(ye())return;ne(l),k.value&&_(),g.value&&oe(),X.value&&W();break;case"tags":if(Y(l)){le(l);return}if(ye())return;K(l[d.value])===void 0&&t.value&&(n.emit("tag",l[d.value]),p.value&&We(l),_()),k.value&&_(),ne(l),g.value&&oe(),X.value&&W();break}X.value&&te()}},He=l=>{if(!(he(l)||o.value==="single"||!fe.value)){switch(o.value){case"multiple":case"tags":xe(l[M.value])?le(l[M.value]):ne(l[M.value].filter(u=>S.value.map(y=>y[d.value]).indexOf(u[d.value])===-1).filter(u=>!u.disabled).filter((u,y)=>S.value.length+1+y<=L.value||L.value===-1));break}X.value&&te()}},xe=l=>l.find(u=>!Y(u)&&!u.disabled)===void 0,Fe=l=>l.find(u=>!Y(u))===void 0,K=l=>H.value[H.value.map(u=>String(u[d.value])).indexOf(String(l))],ze=(l,u=!0)=>H.value.map(y=>y[v.value]).indexOf(l),Ke=l=>["tags","multiple"].indexOf(o.value)!==-1&&g.value&&Y(l),We=l=>{r.value.push(l)},Ue=l=>pe.value?l.filter(u=>C.value?u.__VISIBLE__.length:u[M.value].length):l.filter(u=>C.value?u.__VISIBLE__.length:!0),Se=(l,u=!0)=>{let y=l;return C.value&&A.value&&(y=y.filter(U=>Ee(U[v.value],Q.value).indexOf(Ee(C.value,Q.value))!==-1)),g.value&&u&&(y=y.filter(U=>!Ke(U))),y},ke=l=>{let u=l;return il(u)&&(u=Object.keys(u).map(y=>{let U=u[y];return{[d.value]:y,[v.value]:U,[c.value]:U}})),u=u.map(y=>typeof y=="object"?y:{[d.value]:y,[v.value]:y,[c.value]:y}),u},ce=()=>{F(z.value)||(S.value=de(z.value))},we=l=>{R.value=!0,i.value(C.value).then(u=>{h.value=u,typeof l=="function"&&l(u),R.value=!1})},Je=()=>{if(!!be.value)if(o.value==="single"){let l=K(S.value[d.value])[c.value];S.value[c.value]=l,q.value&&(z.value[c.value]=l)}else S.value.forEach((l,u)=>{let y=K(S.value[u][d.value])[c.value];S.value[u][c.value]=y,q.value&&(z.value[u][c.value]=y)})},Qe=l=>{we(l)},de=l=>F(l)?o.value==="single"?{}:[]:q.value?l:o.value==="single"?K(l)||{}:l.filter(u=>!!K(u)).map(u=>K(u));if(o.value!=="single"&&!F(z.value)&&!Array.isArray(z.value))throw new Error(`v-model must be an array when using "${o.value}" mode`);return i&&typeof i.value=="function"?m.value?we(ce):q.value==!0&&ce():(h.value=i.value,ce()),D.value>-1&&re(C,l=>{l.length<s.value||(R.value=!0,Z.value&&(h.value=[]),setTimeout(()=>{l==C.value&&i.value(C.value).then(u=>{l==C.value&&(h.value=u,ge.value=ie.value.filter(y=>y.disabled!==!0)[0]||null,R.value=!1)})},D.value))},{flush:"sync"}),re(z,l=>{if(F(l)){S.value=de(l);return}switch(o.value){case"single":(q.value?l[d.value]!=S.value[d.value]:l!=S.value[d.value])&&(S.value=de(l));break;case"multiple":case"tags":cl(q.value?l.map(u=>u[d.value]):l,S.value.map(u=>u[d.value]))||(S.value=de(l));break}},{deep:!0}),typeof e.options!="function"&&re(i,(l,u)=>{h.value=e.options,Object.keys(S.value).length||ce(),Je()}),{fo:ie,filteredOptions:ie,hasSelected:be,multipleLabelText:Ve,eo:H,extendedOptions:H,fg:Oe,filteredGroups:Oe,noOptions:je,noResults:Re,resolving:R,busy:Ae,select:ne,deselect:le,remove:Pe,clear:Ie,isSelected:Y,isDisabled:he,isMax:ye,getOption:K,handleOptionClick:Ne,handleGroupClick:He,handleTagRemove:Me,refreshOptions:Qe,resolveOptions:we}}function vl(e,n,a){const{valueProp:i,showOptions:o,searchable:v,groupLabel:f,groups:g,mode:t,groupSelect:c}=x(e),p=a.fo,b=a.fg,q=a.handleOptionClick,V=a.handleGroupClick,D=a.search,m=a.pointer,s=a.setPointer,A=a.clearPointer,Z=a.multiselect,k=w(()=>p.value.filter(r=>!r.disabled)),d=w(()=>b.value.filter(r=>!r.disabled)),j=w(()=>t.value!=="single"&&c.value),L=w(()=>m.value&&m.value.group),Q=w(()=>W(m.value)),X=w(()=>{const r=L.value?m.value:W(m.value),h=d.value.map(H=>H[f.value]).indexOf(r[f.value]);let R=d.value[h-1];return R===void 0&&(R=ue.value),R}),$=w(()=>{let r=d.value.map(h=>h.label).indexOf(L.value?m.value[f.value]:W(m.value)[f.value])+1;return d.value.length<=r&&(r=0),d.value[r]}),ue=w(()=>[...d.value].slice(-1)[0]),M=w(()=>m.value.__VISIBLE__.filter(r=>!r.disabled)[0]),pe=w(()=>{const r=Q.value.__VISIBLE__.filter(h=>!h.disabled);return r[r.map(h=>h[i.value]).indexOf(m.value[i.value])-1]}),fe=w(()=>{const r=W(m.value).__VISIBLE__.filter(h=>!h.disabled);return r[r.map(h=>h[i.value]).indexOf(m.value[i.value])+1]}),S=w(()=>[...X.value.__VISIBLE__.filter(r=>!r.disabled)].slice(-1)[0]),z=w(()=>[...ue.value.__VISIBLE__.filter(r=>!r.disabled)].slice(-1)[0]),C=r=>{if(!!m.value)return r.group?m.value[f.value]==r[f.value]:m.value[i.value]==r[i.value]},_=()=>{s(k.value[0]||null)},ee=()=>{!m.value||m.value.disabled===!0||(L.value?V(m.value):q(m.value))},ge=()=>{if(m.value===null)s((g.value&&j.value?d.value[0]:k.value[0])||null);else if(g.value&&j.value){let r=L.value?M.value:fe.value;r===void 0&&(r=$.value),s(r||null)}else{let r=k.value.map(h=>h[i.value]).indexOf(m.value[i.value])+1;k.value.length<=r&&(r=0),s(k.value[r]||null)}Te(()=>{te()})},oe=()=>{if(m.value===null){let r=k.value[k.value.length-1];g.value&&j.value&&(r=z.value,r===void 0&&(r=ue.value)),s(r||null)}else if(g.value&&j.value){let r=L.value?S.value:pe.value;r===void 0&&(r=L.value?X.value:Q.value),s(r||null)}else{let r=k.value.map(h=>h[i.value]).indexOf(m.value[i.value])-1;r<0&&(r=k.value.length-1),s(k.value[r]||null)}Te(()=>{te()})},W=r=>d.value.find(h=>h.__VISIBLE__.map(R=>R[i.value]).indexOf(r[i.value])!==-1),te=()=>{let r=Z.value.querySelector("[data-pointed]");if(!r)return;let h=r.parentElement.parentElement;g.value&&(h=L.value?r.parentElement.parentElement.parentElement:r.parentElement.parentElement.parentElement.parentElement),r.offsetTop+r.offsetHeight>h.clientHeight+h.scrollTop&&(h.scrollTop=r.offsetTop+r.offsetHeight-h.clientHeight),r.offsetTop<h.scrollTop&&(h.scrollTop=r.offsetTop)};return re(D,r=>{v.value&&(r.length&&o.value?_():A())}),{pointer:m,canPointGroups:j,isPointed:C,setPointerFirst:_,selectPointer:ee,forwardPointer:ge,backwardPointer:oe}}function pl(e,n,a){const{disabled:i}=x(e),o=N(!1);return{isOpen:o,open:()=>{o.value||i.value||(o.value=!0,n.emit("open"))},close:()=>{!o.value||(o.value=!1,n.emit("close"))}}}function fl(e,n,a){const{searchable:i,disabled:o}=x(e),v=a.input,f=a.open,g=a.close,t=a.clearSearch,c=N(null),p=N(!1),b=w(()=>i.value||o.value?-1:0),q=()=>{i.value&&v.value.blur(),c.value.blur()},V=()=>{i.value&&!o.value&&v.value.focus()},D=()=>{o.value||(p.value=!0,f())},m=()=>{p.value=!1,setTimeout(()=>{p.value||(g(),t())},1)};return{multiselect:c,tabindex:b,isActive:p,blur:q,handleFocus:V,activate:D,deactivate:m,handleCaretClick:()=>{p.value?(m(),q()):D()}}}function gl(e,n,a){const{mode:i,addTagOn:o,createTag:v,openDirection:f,searchable:g,showOptions:t,valueProp:c,groups:p}=x(e),b=a.iv,q=a.update,V=a.search,D=a.setPointer,m=a.selectPointer,s=a.backwardPointer,A=a.forwardPointer,Z=a.blur,k=a.fo,d=()=>{i.value==="tags"&&!t.value&&v.value&&g.value&&!p.value&&D(k.value[k.value.map(L=>L[c.value]).indexOf(V.value)])};return{handleKeydown:L=>{switch(L.keyCode){case 8:if(i.value==="single"||g.value&&[null,""].indexOf(V.value)===-1||b.value.length===0)return;q([...b.value].slice(0,-1));break;case 13:if(L.preventDefault(),i.value==="tags"&&o.value.indexOf("enter")===-1&&v.value)return;d(),m();break;case 32:if(g.value&&i.value!=="tags"&&!v.value||i.value==="tags"&&(o.value.indexOf("space")===-1&&v.value||!v.value))return;L.preventDefault(),d(),m();break;case 9:case 186:case 188:if(i.value!=="tags")return;const Q={9:"tab",186:";",188:","};if(o.value.indexOf(Q[L.keyCode])===-1||!v.value)return;d(),m(),L.preventDefault();break;case 27:Z();break;case 38:if(L.preventDefault(),!t.value)return;f.value==="top"?A():s();break;case 40:if(L.preventDefault(),!t.value)return;f.value==="top"?s():A();break}},preparePointer:d}}function bl(e,n,a){const i=x(e),{disabled:o,openDirection:v,showOptions:f,invalid:g}=i,t=a.isOpen,c=a.isPointed,p=a.isSelected,b=a.isDisabled,q=a.isActive,V=a.canPointGroups,D=a.resolving,m=a.fo,s=G({container:"multiselect",containerDisabled:"is-disabled",containerOpen:"is-open",containerOpenTop:"is-open-top",containerActive:"is-active",containerInvalid:"is-invalid",containerInvalidActive:"is-invalid-active",singleLabel:"multiselect-single-label",multipleLabel:"multiselect-multiple-label",search:"multiselect-search",tags:"multiselect-tags",tag:"multiselect-tag",tagDisabled:"is-disabled",tagRemove:"multiselect-tag-remove",tagRemoveIcon:"multiselect-tag-remove-icon",tagsSearchWrapper:"multiselect-tags-search-wrapper",tagsSearch:"multiselect-tags-search",tagsSearchCopy:"multiselect-tags-search-copy",placeholder:"multiselect-placeholder",caret:"multiselect-caret",caretOpen:"is-open",clear:"multiselect-clear",clearIcon:"multiselect-clear-icon",spinner:"multiselect-spinner",dropdown:"multiselect-dropdown",dropdownTop:"is-top",dropdownHidden:"is-hidden",options:"multiselect-options",optionsTop:"is-top",group:"multiselect-group",groupLabel:"multiselect-group-label",groupLabelPointable:"is-pointable",groupLabelPointed:"is-pointed",groupLabelSelected:"is-selected",groupLabelDisabled:"is-disabled",groupLabelSelectedPointed:"is-selected is-pointed",groupLabelSelectedDisabled:"is-selected is-disabled",groupOptions:"multiselect-group-options",option:"multiselect-option",optionPointed:"is-pointed",optionSelected:"is-selected",optionDisabled:"is-disabled",optionSelectedPointed:"is-selected is-pointed",optionSelectedDisabled:"is-selected is-disabled",noOptions:"multiselect-no-options",noResults:"multiselect-no-results",fakeInput:"multiselect-fake-input",spacer:"multiselect-spacer"},i.classes.value),A=w(()=>!!(t.value&&f.value&&(!D.value||D.value&&m.value.length)));return{classList:w(()=>({container:[s.container].concat(o.value?s.containerDisabled:[]).concat(A.value&&v.value==="top"?s.containerOpenTop:[]).concat(A.value&&v.value!=="top"?s.containerOpen:[]).concat(q.value?s.containerActive:[]).concat(g.value?s.containerInvalid:[]),spacer:s.spacer,singleLabel:s.singleLabel,multipleLabel:s.multipleLabel,search:s.search,tags:s.tags,tag:[s.tag].concat(o.value?s.tagDisabled:[]),tagRemove:s.tagRemove,tagRemoveIcon:s.tagRemoveIcon,tagsSearchWrapper:s.tagsSearchWrapper,tagsSearch:s.tagsSearch,tagsSearchCopy:s.tagsSearchCopy,placeholder:s.placeholder,caret:[s.caret].concat(t.value?s.caretOpen:[]),clear:s.clear,clearIcon:s.clearIcon,spinner:s.spinner,dropdown:[s.dropdown].concat(v.value==="top"?s.dropdownTop:[]).concat(!t.value||!f.value||!A.value?s.dropdownHidden:[]),options:[s.options].concat(v.value==="top"?s.optionsTop:[]),group:s.group,groupLabel:k=>{let d=[s.groupLabel];return c(k)?d.push(p(k)?s.groupLabelSelectedPointed:s.groupLabelPointed):p(k)&&V.value?d.push(b(k)?s.groupLabelSelectedDisabled:s.groupLabelSelected):b(k)&&d.push(s.groupLabelDisabled),V.value&&d.push(s.groupLabelPointable),d},groupOptions:s.groupOptions,option:(k,d)=>{let j=[s.option];return c(k)?j.push(p(k)?s.optionSelectedPointed:s.optionPointed):p(k)?j.push(b(k)?s.optionSelectedDisabled:s.optionSelected):(b(k)||d&&b(d))&&j.push(s.optionDisabled),j},noOptions:s.noOptions,noResults:s.noResults,fakeInput:s.fakeInput})),showDropdown:A}}const ml={name:"BaseMultiselect",props:{preserveSearch:{type:Boolean,default:!1},initialSearch:{type:String,default:null},contentLoading:{type:Boolean,default:!1},value:{required:!1},modelValue:{required:!1},options:{type:[Array,Object,Function],required:!1,default:()=>[]},id:{type:[String,Number],required:!1},name:{type:[String,Number],required:!1,default:"multiselect"},disabled:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1,default:"label"},trackBy:{type:String,required:!1,default:"label"},valueProp:{type:String,required:!1,default:"value"},placeholder:{type:String,required:!1,default:null},mode:{type:String,required:!1,default:"single"},searchable:{type:Boolean,required:!1,default:!1},limit:{type:Number,required:!1,default:-1},hideSelected:{type:Boolean,required:!1,default:!0},createTag:{type:Boolean,required:!1,default:!1},appendNewTag:{type:Boolean,required:!1,default:!0},caret:{type:Boolean,required:!1,default:!0},loading:{type:Boolean,required:!1,default:!1},noOptionsText:{type:String,required:!1,default:"The list is empty"},noResultsText:{type:String,required:!1,default:"No results found"},multipleLabel:{type:Function,required:!1},object:{type:Boolean,required:!1,default:!1},delay:{type:Number,required:!1,default:-1},minChars:{type:Number,required:!1,default:0},resolveOnLoad:{type:Boolean,required:!1,default:!0},filterResults:{type:Boolean,required:!1,default:!0},clearOnSearch:{type:Boolean,required:!1,default:!1},clearOnSelect:{type:Boolean,required:!1,default:!0},canDeselect:{type:Boolean,required:!1,default:!0},canClear:{type:Boolean,required:!1,default:!1},max:{type:Number,required:!1,default:-1},showOptions:{type:Boolean,required:!1,default:!0},addTagOn:{type:Array,required:!1,default:()=>["enter"]},required:{type:Boolean,required:!1,default:!1},openDirection:{type:String,required:!1,default:"bottom"},nativeSupport:{type:Boolean,required:!1,default:!1},invalid:{type:Boolean,required:!1,default:!1},classes:{type:Object,required:!1,default:()=>({container:"p-0 relative mx-auto w-full flex items-center justify-end box-border cursor-pointer border border-gray-200 rounded-md bg-white text-sm leading-snug outline-none max-h-10",containerDisabled:"cursor-default bg-gray-200 bg-opacity-50 !text-gray-400",containerOpen:"",containerOpenTop:"",containerActive:"ring-1 ring-primary-400 border-primary-400",containerInvalid:"border-red-400 ring-red-400 focus:ring-red-400 focus:border-red-400",containerInvalidActive:"ring-1 border-red-400 ring-red-400",singleLabel:"flex items-center h-full absolute left-0 top-0 pointer-events-none bg-transparent leading-snug pl-3.5",multipleLabel:"flex items-center h-full absolute left-0 top-0 pointer-events-none bg-transparent leading-snug pl-3.5",search:"w-full absolute inset-0 outline-none appearance-none box-border border-0 text-sm font-sans bg-white rounded-md pl-3.5",tags:"grow shrink flex flex-wrap mt-1 pl-2",tag:"bg-primary-500 text-white text-sm font-semibold py-0.5 pl-2 rounded mr-1 mb-1 flex items-center whitespace-nowrap",tagDisabled:"pr-2 !bg-gray-400 text-white",tagRemove:"flex items-center justify-center p-1 mx-0.5 rounded-sm hover:bg-black hover:bg-opacity-10 group",tagRemoveIcon:"bg-multiselect-remove text-white bg-center bg-no-repeat opacity-30 inline-block w-3 h-3 group-hover:opacity-60",tagsSearchWrapper:"inline-block relative mx-1 mb-1 grow shrink h-full",tagsSearch:"absolute inset-0 border-0 focus:outline-none !shadow-none !focus:shadow-none appearance-none p-0 text-sm font-sans box-border w-full",tagsSearchCopy:"invisible whitespace-pre-wrap inline-block h-px",placeholder:"flex items-center h-full absolute left-0 top-0 pointer-events-none bg-transparent leading-snug pl-3.5 text-gray-400 text-sm",caret:"bg-multiselect-caret bg-center bg-no-repeat w-5 h-5 py-px box-content z-5 relative mr-1 opacity-40 shrink-0 grow-0 transition-transform",caretOpen:"rotate-180 pointer-events-auto",clear:"pr-3.5 relative z-10 opacity-40 transition duration-300 shrink-0 grow-0 flex hover:opacity-80",clearIcon:"bg-multiselect-remove bg-center bg-no-repeat w-2.5 h-4 py-px box-content inline-block",spinner:"bg-multiselect-spinner bg-center bg-no-repeat w-4 h-4 z-10 mr-3.5 animate-spin shrink-0 grow-0",dropdown:"max-h-60 shadow-lg absolute -left-px -right-px -bottom-1 translate-y-full border border-gray-300 mt-1 overflow-y-auto z-50 bg-white flex flex-col rounded-md",dropdownTop:"-translate-y-full -top-2 bottom-auto flex-col-reverse rounded-md",dropdownHidden:"hidden",options:"flex flex-col p-0 m-0 list-none",optionsTop:"flex-col-reverse",group:"p-0 m-0",groupLabel:"flex text-sm box-border items-center justify-start text-left py-1 px-3 font-semibold bg-gray-200 cursor-default leading-normal",groupLabelPointable:"cursor-pointer",groupLabelPointed:"bg-gray-300 text-gray-700",groupLabelSelected:"bg-primary-600 text-white",groupLabelDisabled:"bg-gray-100 text-gray-300 cursor-not-allowed",groupLabelSelectedPointed:"bg-primary-600 text-white opacity-90",groupLabelSelectedDisabled:"text-primary-100 bg-primary-600 bg-opacity-50 cursor-not-allowed",groupOptions:"p-0 m-0",option:"flex items-center justify-start box-border text-left cursor-pointer text-sm leading-snug py-2 px-3",optionPointed:"text-gray-800 bg-gray-100",optionSelected:"text-white bg-primary-500",optionDisabled:"text-gray-300 cursor-not-allowed",optionSelectedPointed:"text-white bg-primary-500 opacity-90",optionSelectedDisabled:"text-primary-100 bg-primary-500 bg-opacity-50 cursor-not-allowed",noOptions:"py-2 px-3 text-gray-600 bg-white",noResults:"py-2 px-3 text-gray-600 bg-white",fakeInput:"bg-transparent absolute left-0 right-0 -bottom-px w-full h-px border-0 p-0 appearance-none outline-none text-transparent",spacer:"h-9 py-px box-content"})},strict:{type:Boolean,required:!1,default:!0},closeOnSelect:{type:Boolean,required:!1,default:!0},autocomplete:{type:String,required:!1},groups:{type:Boolean,required:!1,default:!1},groupLabel:{type:String,required:!1,default:"label"},groupOptions:{type:String,required:!1,default:"options"},groupHideEmpty:{type:Boolean,required:!1,default:!1},groupSelect:{type:Boolean,required:!1,default:!0},inputType:{type:String,required:!1,default:"text"}},emits:["open","close","select","deselect","input","search-change","tag","update:modelValue","change","clear"],setup(e,n){const a=sl(e,n),i=ol(e),o=pl(e,n),v=ul(e,n),f=rl(e,n,{iv:a.iv}),g=fl(e,n,{input:v.input,open:o.open,close:o.close,clearSearch:v.clearSearch}),t=dl(e,n,{ev:a.ev,iv:a.iv,search:v.search,clearSearch:v.clearSearch,update:f.update,pointer:i.pointer,clearPointer:i.clearPointer,blur:g.blur,deactivate:g.deactivate}),c=vl(e,n,{fo:t.fo,fg:t.fg,handleOptionClick:t.handleOptionClick,handleGroupClick:t.handleGroupClick,search:v.search,pointer:i.pointer,setPointer:i.setPointer,clearPointer:i.clearPointer,multiselect:g.multiselect}),p=gl(e,n,{iv:a.iv,update:f.update,search:v.search,setPointer:i.setPointer,selectPointer:c.selectPointer,backwardPointer:c.backwardPointer,forwardPointer:c.forwardPointer,blur:g.blur,fo:t.fo}),b=bl(e,n,{isOpen:o.isOpen,isPointed:c.isPointed,canPointGroups:c.canPointGroups,isSelected:t.isSelected,isDisabled:t.isDisabled,isActive:g.isActive,resolving:t.resolving,fo:t.fo});return G(G(G(G(G(G(G(G(G(G({},a),o),g),i),f),v),t),c),p),b)}},hl=["id","tabindex"],yl=["type","modelValue","value","autocomplete"],Sl=["onMousedown"],kl=["type","modelValue","value","autocomplete"],wl={class:"w-full overflow-y-auto"},Ol=["data-pointed","onMouseenter","onClick"],Ll=["data-pointed","onMouseenter","onClick"],Pl=["data-pointed","onMouseenter","onClick"],Il=["innerHTML"],Bl=["innerHTML"],ql=["value"],Cl=["name","value"],Tl=["name","value"];function Dl(e,n,a,i,o,v){const f=De("BaseContentPlaceholdersBox"),g=De("BaseContentPlaceholders");return a.contentLoading?(I(),el(g,{key:0},{default:ll(()=>[al(f,{rounded:!0,class:"w-full",style:{height:"40px"}})]),_:1})):(I(),B("div",{key:1,id:a.id,ref:"multiselect",tabindex:e.tabindex,class:O(e.classList.container),onFocusin:n[6]||(n[6]=(...t)=>e.activate&&e.activate(...t)),onFocusout:n[7]||(n[7]=(...t)=>e.deactivate&&e.deactivate(...t)),onKeydown:n[8]||(n[8]=(...t)=>e.handleKeydown&&e.handleKeydown(...t)),onFocus:n[9]||(n[9]=(...t)=>e.handleFocus&&e.handleFocus(...t))},[a.mode!=="tags"&&a.searchable&&!a.disabled?(I(),B("input",{key:0,ref:"input",type:a.inputType,modelValue:e.search,value:e.search,class:O(e.classList.search),autocomplete:a.autocomplete,onInput:n[0]||(n[0]=(...t)=>e.handleSearchInput&&e.handleSearchInput(...t)),onPaste:n[1]||(n[1]=ve((...t)=>e.handlePaste&&e.handlePaste(...t),["stop"]))},null,42,yl)):E("",!0),a.mode=="tags"?(I(),B("div",{key:1,class:O(e.classList.tags)},[(I(!0),B(ae,null,se(e.iv,(t,c,p)=>T(e.$slots,"tag",{option:t,handleTagRemove:e.handleTagRemove,disabled:a.disabled},()=>[(I(),B("span",{key:p,class:O(e.classList.tag)},[tl(J(t[a.label])+" ",1),a.disabled?E("",!0):(I(),B("span",{key:0,class:O(e.classList.tagRemove),onMousedown:ve(b=>e.handleTagRemove(t,b),["stop"])},[P("span",{class:O(e.classList.tagRemoveIcon)},null,2)],42,Sl))],2))])),256)),P("div",{class:O(e.classList.tagsSearchWrapper)},[P("span",{class:O(e.classList.tagsSearchCopy)},J(e.search),3),a.searchable&&!a.disabled?(I(),B("input",{key:0,ref:"input",type:a.inputType,modelValue:e.search,value:e.search,class:O(e.classList.tagsSearch),autocomplete:a.autocomplete,style:{"box-shadow":"none !important"},onInput:n[2]||(n[2]=(...t)=>e.handleSearchInput&&e.handleSearchInput(...t)),onPaste:n[3]||(n[3]=ve((...t)=>e.handlePaste&&e.handlePaste(...t),["stop"]))},null,42,kl)):E("",!0)],2)],2)):E("",!0),a.mode=="single"&&e.hasSelected&&!e.search&&e.iv?T(e.$slots,"singlelabel",{key:2,value:e.iv},()=>[P("div",{class:O(e.classList.singleLabel)},J(e.iv[a.label]),3)]):E("",!0),a.mode=="multiple"&&e.hasSelected&&!e.search?T(e.$slots,"multiplelabel",{key:3,values:e.iv},()=>[P("div",{class:O(e.classList.multipleLabel)},J(e.multipleLabelText),3)]):E("",!0),a.placeholder&&!e.hasSelected&&!e.search?T(e.$slots,"placeholder",{key:4},()=>[P("div",{class:O(e.classList.placeholder)},J(a.placeholder),3)]):E("",!0),e.busy?T(e.$slots,"spinner",{key:5},()=>[P("span",{class:O(e.classList.spinner)},null,2)]):E("",!0),e.hasSelected&&!a.disabled&&a.canClear&&!e.busy?T(e.$slots,"clear",{key:6,clear:e.clear},()=>[P("span",{class:O(e.classList.clear),onMousedown:n[4]||(n[4]=(...t)=>e.clear&&e.clear(...t))},[P("span",{class:O(e.classList.clearIcon)},null,2)],34)]):E("",!0),a.caret?T(e.$slots,"caret",{key:7},()=>[P("span",{class:O(e.classList.caret),onMousedown:n[5]||(n[5]=ve((...t)=>e.handleCaretClick&&e.handleCaretClick(...t),["prevent","stop"]))},null,34)]):E("",!0),P("div",{class:O(e.classList.dropdown),tabindex:"-1"},[P("div",wl,[T(e.$slots,"beforelist",{options:e.fo}),P("ul",{class:O(e.classList.options)},[a.groups?(I(!0),B(ae,{key:0},se(e.fg,(t,c,p)=>(I(),B("li",{key:p,class:O(e.classList.group)},[P("div",{class:O(e.classList.groupLabel(t)),"data-pointed":e.isPointed(t),onMouseenter:b=>e.setPointer(t),onClick:b=>e.handleGroupClick(t)},[T(e.$slots,"grouplabel",{group:t},()=>[P("span",null,J(t[a.groupLabel]),1)])],42,Ol),P("ul",{class:O(e.classList.groupOptions)},[(I(!0),B(ae,null,se(t.__VISIBLE__,(b,q,V)=>(I(),B("li",{key:V,class:O(e.classList.option(b,t)),"data-pointed":e.isPointed(b),onMouseenter:D=>e.setPointer(b),onClick:D=>e.handleOptionClick(b)},[T(e.$slots,"option",{option:b,search:e.search},()=>[P("span",null,J(b[a.label]),1)])],42,Ll))),128))],2)],2))),128)):(I(!0),B(ae,{key:1},se(e.fo,(t,c,p)=>(I(),B("li",{key:p,class:O(e.classList.option(t)),"data-pointed":e.isPointed(t),onMouseenter:b=>e.setPointer(t),onClick:b=>e.handleOptionClick(t)},[T(e.$slots,"option",{option:t,search:e.search},()=>[P("span",null,J(t[a.label]),1)])],42,Pl))),128))],2),e.noOptions?T(e.$slots,"nooptions",{key:0},()=>[P("div",{class:O(e.classList.noOptions),innerHTML:a.noOptionsText},null,10,Il)]):E("",!0),e.noResults?T(e.$slots,"noresults",{key:1},()=>[P("div",{class:O(e.classList.noResults),innerHTML:a.noResultsText},null,10,Bl)]):E("",!0),T(e.$slots,"afterlist",{options:e.fo})]),T(e.$slots,"action")],2),a.required?(I(),B("input",{key:8,class:O(e.classList.fakeInput),tabindex:"-1",value:e.textValue,required:""},null,10,ql)):E("",!0),a.nativeSupport?(I(),B(ae,{key:9},[a.mode=="single"?(I(),B("input",{key:0,type:"hidden",name:a.name,value:e.plainValue!==void 0?e.plainValue:""},null,8,Cl)):(I(!0),B(ae,{key:1},se(e.plainValue,(t,c)=>(I(),B("input",{key:c,type:"hidden",name:`${a.name}[]`,value:t},null,8,Tl))),128))],64)):E("",!0),P("div",{class:O(e.classList.spacer)},null,2)],42,hl))}var Rl=nl(ml,[["render",Dl]]);export{Rl as default};
+var Xe=Object.defineProperty,Ye=Object.defineProperties;var Ze=Object.getOwnPropertyDescriptors;var Be=Object.getOwnPropertySymbols;var $e=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable;var qe=(e,n,a)=>n in e?Xe(e,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[n]=a,G=(e,n)=>{for(var a in n||(n={}))$e.call(n,a)&&qe(e,a,n[a]);if(Be)for(var a of Be(n))_e.call(n,a)&&qe(e,a,n[a]);return e},Ce=(e,n)=>Ye(e,Ze(n));import{bd as x,B as N,k as w,C as re,be as Te,r as De,o as I,l as el,w as ll,f as al,e as B,m as O,U as ve,j as E,F as ae,y as se,g as T,i as tl,t as J,h as P}from"./vendor.01d0adc5.js";import{_ as nl}from"./main.75722495.js";function F(e){return[null,void 0,!1].indexOf(e)!==-1}function rl(e,n,a){const{object:i,valueProp:o,mode:v}=x(e),f=a.iv,g=p=>{f.value=c(p);const b=t(p);n.emit("change",b),n.emit("input",b),n.emit("update:modelValue",b)},t=p=>i.value||F(p)?p:Array.isArray(p)?p.map(b=>b[o.value]):p[o.value],c=p=>F(p)?v.value==="single"?{}:[]:p;return{update:g}}function sl(e,n){const{value:a,modelValue:i,mode:o,valueProp:v}=x(e),f=N(o.value!=="single"?[]:{}),g=n.expose!==void 0?i:a,t=w(()=>o.value==="single"?f.value[v.value]:f.value.map(p=>p[v.value])),c=w(()=>o.value!=="single"?f.value.map(p=>p[v.value]).join(","):f.value[v.value]);return{iv:f,internalValue:f,ev:g,externalValue:g,textValue:c,plainValue:t}}function ul(e,n,a){const{preserveSearch:i}=x(e),o=N(e.initialSearch)||N(null),v=N(null),f=()=>{i.value||(o.value="")},g=c=>{o.value=c.target.value},t=c=>{n.emit("paste",c)};return re(o,c=>{n.emit("search-change",c)}),{search:o,input:v,clearSearch:f,handleSearchInput:g,handlePaste:t}}function ol(e,n,a){const{groupSelect:i,mode:o,groups:v}=x(e),f=N(null),g=c=>{c===void 0||c!==null&&c.disabled||v.value&&c&&c.group&&(o.value==="single"||!i.value)||(f.value=c)};return{pointer:f,setPointer:g,clearPointer:()=>{g(null)}}}function Ee(e,n=!0){return n?String(e).toLowerCase().trim():String(e).normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().trim()}function il(e){return Object.prototype.toString.call(e)==="[object Object]"}function cl(e,n){const a=n.slice().sort();return e.length===n.length&&e.slice().sort().every(function(i,o){return i===a[o]})}function dl(e,n,a){const{options:i,mode:o,trackBy:v,limit:f,hideSelected:g,createTag:t,label:c,appendNewTag:p,multipleLabel:b,object:q,loading:V,delay:D,resolveOnLoad:m,minChars:s,filterResults:A,clearOnSearch:Z,clearOnSelect:k,valueProp:d,canDeselect:j,max:L,strict:Q,closeOnSelect:X,groups:$,groupLabel:ue,groupOptions:M,groupHideEmpty:pe,groupSelect:fe}=x(e),S=a.iv,z=a.ev,C=a.search,_=a.clearSearch,ee=a.update,ge=a.pointer,oe=a.clearPointer,W=a.blur,te=a.deactivate,r=N([]),h=N([]),R=N(!1),H=w(()=>{if($.value){let l=h.value||[],u=[];return l.forEach(y=>{ke(y[M.value]).forEach(U=>{u.push(Object.assign({},U,y.disabled?{disabled:!0}:{}))})}),u}else{let l=ke(h.value||[]);return r.value.length&&(l=l.concat(r.value)),l}}),Oe=w(()=>$.value?Ue((h.value||[]).map(l=>{const u=ke(l[M.value]);return Ce(G({},l),{group:!0,[M.value]:Se(u,!1).map(y=>Object.assign({},y,l.disabled?{disabled:!0}:{})),__VISIBLE__:Se(u).map(y=>Object.assign({},y,l.disabled?{disabled:!0}:{}))})})):[]),ie=w(()=>{let l=H.value;return me.value.length&&(l=me.value.concat(l)),l=Se(l),f.value>0&&(l=l.slice(0,f.value)),l}),be=w(()=>{switch(o.value){case"single":return!F(S.value[d.value]);case"multiple":case"tags":return!F(S.value)&&S.value.length>0}}),Ve=w(()=>b!==void 0&&b.value!==void 0?b.value(S.value):S.value&&S.value.length>1?`${S.value.length} options selected`:"1 option selected"),je=w(()=>!H.value.length&&!R.value&&!me.value.length),Re=w(()=>H.value.length>0&&ie.value.length==0&&(C.value&&$.value||!$.value)),me=w(()=>t.value===!1||!C.value?[]:ze(C.value)!==-1?[]:[{[d.value]:C.value,[c.value]:C.value,[v.value]:C.value}]),Ge=w(()=>{switch(o.value){case"single":return null;case"multiple":case"tags":return[]}}),Ae=w(()=>V.value||R.value),ne=l=>{switch(typeof l!="object"&&(l=K(l)),o.value){case"single":ee(l);break;case"multiple":case"tags":ee(S.value.concat(l));break}n.emit("select",Le(l),l)},le=l=>{switch(typeof l!="object"&&(l=K(l)),o.value){case"single":Ie();break;case"tags":case"multiple":ee(Array.isArray(l)?S.value.filter(u=>l.map(y=>y[d.value]).indexOf(u[d.value])===-1):S.value.filter(u=>u[d.value]!=l[d.value]));break}n.emit("deselect",Le(l),l)},Le=l=>q.value?l:l[d.value],Pe=l=>{le(l)},Me=(l,u)=>{if(u.button!==0){u.preventDefault();return}Pe(l)},Ie=()=>{n.emit("clear"),ee(Ge.value)},Y=l=>{if(l.group!==void 0)return o.value==="single"?!1:Fe(l[M.value])&&l[M.value].length;switch(o.value){case"single":return!F(S.value)&&S.value[d.value]==l[d.value];case"tags":case"multiple":return!F(S.value)&&S.value.map(u=>u[d.value]).indexOf(l[d.value])!==-1}},he=l=>l.disabled===!0,ye=()=>L===void 0||L.value===-1||!be.value&&L.value>0?!1:S.value.length>=L.value,Ne=l=>{if(!he(l)){switch(o.value){case"single":if(Y(l)){j.value&&le(l);return}W(),ne(l);break;case"multiple":if(Y(l)){le(l);return}if(ye())return;ne(l),k.value&&_(),g.value&&oe(),X.value&&W();break;case"tags":if(Y(l)){le(l);return}if(ye())return;K(l[d.value])===void 0&&t.value&&(n.emit("tag",l[d.value]),p.value&&We(l),_()),k.value&&_(),ne(l),g.value&&oe(),X.value&&W();break}X.value&&te()}},He=l=>{if(!(he(l)||o.value==="single"||!fe.value)){switch(o.value){case"multiple":case"tags":xe(l[M.value])?le(l[M.value]):ne(l[M.value].filter(u=>S.value.map(y=>y[d.value]).indexOf(u[d.value])===-1).filter(u=>!u.disabled).filter((u,y)=>S.value.length+1+y<=L.value||L.value===-1));break}X.value&&te()}},xe=l=>l.find(u=>!Y(u)&&!u.disabled)===void 0,Fe=l=>l.find(u=>!Y(u))===void 0,K=l=>H.value[H.value.map(u=>String(u[d.value])).indexOf(String(l))],ze=(l,u=!0)=>H.value.map(y=>y[v.value]).indexOf(l),Ke=l=>["tags","multiple"].indexOf(o.value)!==-1&&g.value&&Y(l),We=l=>{r.value.push(l)},Ue=l=>pe.value?l.filter(u=>C.value?u.__VISIBLE__.length:u[M.value].length):l.filter(u=>C.value?u.__VISIBLE__.length:!0),Se=(l,u=!0)=>{let y=l;return C.value&&A.value&&(y=y.filter(U=>Ee(U[v.value],Q.value).indexOf(Ee(C.value,Q.value))!==-1)),g.value&&u&&(y=y.filter(U=>!Ke(U))),y},ke=l=>{let u=l;return il(u)&&(u=Object.keys(u).map(y=>{let U=u[y];return{[d.value]:y,[v.value]:U,[c.value]:U}})),u=u.map(y=>typeof y=="object"?y:{[d.value]:y,[v.value]:y,[c.value]:y}),u},ce=()=>{F(z.value)||(S.value=de(z.value))},we=l=>{R.value=!0,i.value(C.value).then(u=>{h.value=u,typeof l=="function"&&l(u),R.value=!1})},Je=()=>{if(!!be.value)if(o.value==="single"){let l=K(S.value[d.value])[c.value];S.value[c.value]=l,q.value&&(z.value[c.value]=l)}else S.value.forEach((l,u)=>{let y=K(S.value[u][d.value])[c.value];S.value[u][c.value]=y,q.value&&(z.value[u][c.value]=y)})},Qe=l=>{we(l)},de=l=>F(l)?o.value==="single"?{}:[]:q.value?l:o.value==="single"?K(l)||{}:l.filter(u=>!!K(u)).map(u=>K(u));if(o.value!=="single"&&!F(z.value)&&!Array.isArray(z.value))throw new Error(`v-model must be an array when using "${o.value}" mode`);return i&&typeof i.value=="function"?m.value?we(ce):q.value==!0&&ce():(h.value=i.value,ce()),D.value>-1&&re(C,l=>{l.length<s.value||(R.value=!0,Z.value&&(h.value=[]),setTimeout(()=>{l==C.value&&i.value(C.value).then(u=>{l==C.value&&(h.value=u,ge.value=ie.value.filter(y=>y.disabled!==!0)[0]||null,R.value=!1)})},D.value))},{flush:"sync"}),re(z,l=>{if(F(l)){S.value=de(l);return}switch(o.value){case"single":(q.value?l[d.value]!=S.value[d.value]:l!=S.value[d.value])&&(S.value=de(l));break;case"multiple":case"tags":cl(q.value?l.map(u=>u[d.value]):l,S.value.map(u=>u[d.value]))||(S.value=de(l));break}},{deep:!0}),typeof e.options!="function"&&re(i,(l,u)=>{h.value=e.options,Object.keys(S.value).length||ce(),Je()}),{fo:ie,filteredOptions:ie,hasSelected:be,multipleLabelText:Ve,eo:H,extendedOptions:H,fg:Oe,filteredGroups:Oe,noOptions:je,noResults:Re,resolving:R,busy:Ae,select:ne,deselect:le,remove:Pe,clear:Ie,isSelected:Y,isDisabled:he,isMax:ye,getOption:K,handleOptionClick:Ne,handleGroupClick:He,handleTagRemove:Me,refreshOptions:Qe,resolveOptions:we}}function vl(e,n,a){const{valueProp:i,showOptions:o,searchable:v,groupLabel:f,groups:g,mode:t,groupSelect:c}=x(e),p=a.fo,b=a.fg,q=a.handleOptionClick,V=a.handleGroupClick,D=a.search,m=a.pointer,s=a.setPointer,A=a.clearPointer,Z=a.multiselect,k=w(()=>p.value.filter(r=>!r.disabled)),d=w(()=>b.value.filter(r=>!r.disabled)),j=w(()=>t.value!=="single"&&c.value),L=w(()=>m.value&&m.value.group),Q=w(()=>W(m.value)),X=w(()=>{const r=L.value?m.value:W(m.value),h=d.value.map(H=>H[f.value]).indexOf(r[f.value]);let R=d.value[h-1];return R===void 0&&(R=ue.value),R}),$=w(()=>{let r=d.value.map(h=>h.label).indexOf(L.value?m.value[f.value]:W(m.value)[f.value])+1;return d.value.length<=r&&(r=0),d.value[r]}),ue=w(()=>[...d.value].slice(-1)[0]),M=w(()=>m.value.__VISIBLE__.filter(r=>!r.disabled)[0]),pe=w(()=>{const r=Q.value.__VISIBLE__.filter(h=>!h.disabled);return r[r.map(h=>h[i.value]).indexOf(m.value[i.value])-1]}),fe=w(()=>{const r=W(m.value).__VISIBLE__.filter(h=>!h.disabled);return r[r.map(h=>h[i.value]).indexOf(m.value[i.value])+1]}),S=w(()=>[...X.value.__VISIBLE__.filter(r=>!r.disabled)].slice(-1)[0]),z=w(()=>[...ue.value.__VISIBLE__.filter(r=>!r.disabled)].slice(-1)[0]),C=r=>{if(!!m.value)return r.group?m.value[f.value]==r[f.value]:m.value[i.value]==r[i.value]},_=()=>{s(k.value[0]||null)},ee=()=>{!m.value||m.value.disabled===!0||(L.value?V(m.value):q(m.value))},ge=()=>{if(m.value===null)s((g.value&&j.value?d.value[0]:k.value[0])||null);else if(g.value&&j.value){let r=L.value?M.value:fe.value;r===void 0&&(r=$.value),s(r||null)}else{let r=k.value.map(h=>h[i.value]).indexOf(m.value[i.value])+1;k.value.length<=r&&(r=0),s(k.value[r]||null)}Te(()=>{te()})},oe=()=>{if(m.value===null){let r=k.value[k.value.length-1];g.value&&j.value&&(r=z.value,r===void 0&&(r=ue.value)),s(r||null)}else if(g.value&&j.value){let r=L.value?S.value:pe.value;r===void 0&&(r=L.value?X.value:Q.value),s(r||null)}else{let r=k.value.map(h=>h[i.value]).indexOf(m.value[i.value])-1;r<0&&(r=k.value.length-1),s(k.value[r]||null)}Te(()=>{te()})},W=r=>d.value.find(h=>h.__VISIBLE__.map(R=>R[i.value]).indexOf(r[i.value])!==-1),te=()=>{let r=Z.value.querySelector("[data-pointed]");if(!r)return;let h=r.parentElement.parentElement;g.value&&(h=L.value?r.parentElement.parentElement.parentElement:r.parentElement.parentElement.parentElement.parentElement),r.offsetTop+r.offsetHeight>h.clientHeight+h.scrollTop&&(h.scrollTop=r.offsetTop+r.offsetHeight-h.clientHeight),r.offsetTop<h.scrollTop&&(h.scrollTop=r.offsetTop)};return re(D,r=>{v.value&&(r.length&&o.value?_():A())}),{pointer:m,canPointGroups:j,isPointed:C,setPointerFirst:_,selectPointer:ee,forwardPointer:ge,backwardPointer:oe}}function pl(e,n,a){const{disabled:i}=x(e),o=N(!1);return{isOpen:o,open:()=>{o.value||i.value||(o.value=!0,n.emit("open"))},close:()=>{!o.value||(o.value=!1,n.emit("close"))}}}function fl(e,n,a){const{searchable:i,disabled:o}=x(e),v=a.input,f=a.open,g=a.close,t=a.clearSearch,c=N(null),p=N(!1),b=w(()=>i.value||o.value?-1:0),q=()=>{i.value&&v.value.blur(),c.value.blur()},V=()=>{i.value&&!o.value&&v.value.focus()},D=()=>{o.value||(p.value=!0,f())},m=()=>{p.value=!1,setTimeout(()=>{p.value||(g(),t())},1)};return{multiselect:c,tabindex:b,isActive:p,blur:q,handleFocus:V,activate:D,deactivate:m,handleCaretClick:()=>{p.value?(m(),q()):D()}}}function gl(e,n,a){const{mode:i,addTagOn:o,createTag:v,openDirection:f,searchable:g,showOptions:t,valueProp:c,groups:p}=x(e),b=a.iv,q=a.update,V=a.search,D=a.setPointer,m=a.selectPointer,s=a.backwardPointer,A=a.forwardPointer,Z=a.blur,k=a.fo,d=()=>{i.value==="tags"&&!t.value&&v.value&&g.value&&!p.value&&D(k.value[k.value.map(L=>L[c.value]).indexOf(V.value)])};return{handleKeydown:L=>{switch(L.keyCode){case 8:if(i.value==="single"||g.value&&[null,""].indexOf(V.value)===-1||b.value.length===0)return;q([...b.value].slice(0,-1));break;case 13:if(L.preventDefault(),i.value==="tags"&&o.value.indexOf("enter")===-1&&v.value)return;d(),m();break;case 32:if(g.value&&i.value!=="tags"&&!v.value||i.value==="tags"&&(o.value.indexOf("space")===-1&&v.value||!v.value))return;L.preventDefault(),d(),m();break;case 9:case 186:case 188:if(i.value!=="tags")return;const Q={9:"tab",186:";",188:","};if(o.value.indexOf(Q[L.keyCode])===-1||!v.value)return;d(),m(),L.preventDefault();break;case 27:Z();break;case 38:if(L.preventDefault(),!t.value)return;f.value==="top"?A():s();break;case 40:if(L.preventDefault(),!t.value)return;f.value==="top"?s():A();break}},preparePointer:d}}function bl(e,n,a){const i=x(e),{disabled:o,openDirection:v,showOptions:f,invalid:g}=i,t=a.isOpen,c=a.isPointed,p=a.isSelected,b=a.isDisabled,q=a.isActive,V=a.canPointGroups,D=a.resolving,m=a.fo,s=G({container:"multiselect",containerDisabled:"is-disabled",containerOpen:"is-open",containerOpenTop:"is-open-top",containerActive:"is-active",containerInvalid:"is-invalid",containerInvalidActive:"is-invalid-active",singleLabel:"multiselect-single-label",multipleLabel:"multiselect-multiple-label",search:"multiselect-search",tags:"multiselect-tags",tag:"multiselect-tag",tagDisabled:"is-disabled",tagRemove:"multiselect-tag-remove",tagRemoveIcon:"multiselect-tag-remove-icon",tagsSearchWrapper:"multiselect-tags-search-wrapper",tagsSearch:"multiselect-tags-search",tagsSearchCopy:"multiselect-tags-search-copy",placeholder:"multiselect-placeholder",caret:"multiselect-caret",caretOpen:"is-open",clear:"multiselect-clear",clearIcon:"multiselect-clear-icon",spinner:"multiselect-spinner",dropdown:"multiselect-dropdown",dropdownTop:"is-top",dropdownHidden:"is-hidden",options:"multiselect-options",optionsTop:"is-top",group:"multiselect-group",groupLabel:"multiselect-group-label",groupLabelPointable:"is-pointable",groupLabelPointed:"is-pointed",groupLabelSelected:"is-selected",groupLabelDisabled:"is-disabled",groupLabelSelectedPointed:"is-selected is-pointed",groupLabelSelectedDisabled:"is-selected is-disabled",groupOptions:"multiselect-group-options",option:"multiselect-option",optionPointed:"is-pointed",optionSelected:"is-selected",optionDisabled:"is-disabled",optionSelectedPointed:"is-selected is-pointed",optionSelectedDisabled:"is-selected is-disabled",noOptions:"multiselect-no-options",noResults:"multiselect-no-results",fakeInput:"multiselect-fake-input",spacer:"multiselect-spacer"},i.classes.value),A=w(()=>!!(t.value&&f.value&&(!D.value||D.value&&m.value.length)));return{classList:w(()=>({container:[s.container].concat(o.value?s.containerDisabled:[]).concat(A.value&&v.value==="top"?s.containerOpenTop:[]).concat(A.value&&v.value!=="top"?s.containerOpen:[]).concat(q.value?s.containerActive:[]).concat(g.value?s.containerInvalid:[]),spacer:s.spacer,singleLabel:s.singleLabel,multipleLabel:s.multipleLabel,search:s.search,tags:s.tags,tag:[s.tag].concat(o.value?s.tagDisabled:[]),tagRemove:s.tagRemove,tagRemoveIcon:s.tagRemoveIcon,tagsSearchWrapper:s.tagsSearchWrapper,tagsSearch:s.tagsSearch,tagsSearchCopy:s.tagsSearchCopy,placeholder:s.placeholder,caret:[s.caret].concat(t.value?s.caretOpen:[]),clear:s.clear,clearIcon:s.clearIcon,spinner:s.spinner,dropdown:[s.dropdown].concat(v.value==="top"?s.dropdownTop:[]).concat(!t.value||!f.value||!A.value?s.dropdownHidden:[]),options:[s.options].concat(v.value==="top"?s.optionsTop:[]),group:s.group,groupLabel:k=>{let d=[s.groupLabel];return c(k)?d.push(p(k)?s.groupLabelSelectedPointed:s.groupLabelPointed):p(k)&&V.value?d.push(b(k)?s.groupLabelSelectedDisabled:s.groupLabelSelected):b(k)&&d.push(s.groupLabelDisabled),V.value&&d.push(s.groupLabelPointable),d},groupOptions:s.groupOptions,option:(k,d)=>{let j=[s.option];return c(k)?j.push(p(k)?s.optionSelectedPointed:s.optionPointed):p(k)?j.push(b(k)?s.optionSelectedDisabled:s.optionSelected):(b(k)||d&&b(d))&&j.push(s.optionDisabled),j},noOptions:s.noOptions,noResults:s.noResults,fakeInput:s.fakeInput})),showDropdown:A}}const ml={name:"BaseMultiselect",props:{preserveSearch:{type:Boolean,default:!1},initialSearch:{type:String,default:null},contentLoading:{type:Boolean,default:!1},value:{required:!1},modelValue:{required:!1},options:{type:[Array,Object,Function],required:!1,default:()=>[]},id:{type:[String,Number],required:!1},name:{type:[String,Number],required:!1,default:"multiselect"},disabled:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1,default:"label"},trackBy:{type:String,required:!1,default:"label"},valueProp:{type:String,required:!1,default:"value"},placeholder:{type:String,required:!1,default:null},mode:{type:String,required:!1,default:"single"},searchable:{type:Boolean,required:!1,default:!1},limit:{type:Number,required:!1,default:-1},hideSelected:{type:Boolean,required:!1,default:!0},createTag:{type:Boolean,required:!1,default:!1},appendNewTag:{type:Boolean,required:!1,default:!0},caret:{type:Boolean,required:!1,default:!0},loading:{type:Boolean,required:!1,default:!1},noOptionsText:{type:String,required:!1,default:"The list is empty"},noResultsText:{type:String,required:!1,default:"No results found"},multipleLabel:{type:Function,required:!1},object:{type:Boolean,required:!1,default:!1},delay:{type:Number,required:!1,default:-1},minChars:{type:Number,required:!1,default:0},resolveOnLoad:{type:Boolean,required:!1,default:!0},filterResults:{type:Boolean,required:!1,default:!0},clearOnSearch:{type:Boolean,required:!1,default:!1},clearOnSelect:{type:Boolean,required:!1,default:!0},canDeselect:{type:Boolean,required:!1,default:!0},canClear:{type:Boolean,required:!1,default:!1},max:{type:Number,required:!1,default:-1},showOptions:{type:Boolean,required:!1,default:!0},addTagOn:{type:Array,required:!1,default:()=>["enter"]},required:{type:Boolean,required:!1,default:!1},openDirection:{type:String,required:!1,default:"bottom"},nativeSupport:{type:Boolean,required:!1,default:!1},invalid:{type:Boolean,required:!1,default:!1},classes:{type:Object,required:!1,default:()=>({container:"p-0 relative mx-auto w-full flex items-center justify-end box-border cursor-pointer border border-gray-200 rounded-md bg-white text-sm leading-snug outline-none max-h-10",containerDisabled:"cursor-default bg-gray-200 bg-opacity-50 !text-gray-400",containerOpen:"",containerOpenTop:"",containerActive:"ring-1 ring-primary-400 border-primary-400",containerInvalid:"border-red-400 ring-red-400 focus:ring-red-400 focus:border-red-400",containerInvalidActive:"ring-1 border-red-400 ring-red-400",singleLabel:"flex items-center h-full absolute left-0 top-0 pointer-events-none bg-transparent leading-snug pl-3.5",multipleLabel:"flex items-center h-full absolute left-0 top-0 pointer-events-none bg-transparent leading-snug pl-3.5",search:"w-full absolute inset-0 outline-none appearance-none box-border border-0 text-sm font-sans bg-white rounded-md pl-3.5",tags:"grow shrink flex flex-wrap mt-1 pl-2",tag:"bg-primary-500 text-white text-sm font-semibold py-0.5 pl-2 rounded mr-1 mb-1 flex items-center whitespace-nowrap",tagDisabled:"pr-2 !bg-gray-400 text-white",tagRemove:"flex items-center justify-center p-1 mx-0.5 rounded-sm hover:bg-black hover:bg-opacity-10 group",tagRemoveIcon:"bg-multiselect-remove text-white bg-center bg-no-repeat opacity-30 inline-block w-3 h-3 group-hover:opacity-60",tagsSearchWrapper:"inline-block relative mx-1 mb-1 grow shrink h-full",tagsSearch:"absolute inset-0 border-0 focus:outline-none !shadow-none !focus:shadow-none appearance-none p-0 text-sm font-sans box-border w-full",tagsSearchCopy:"invisible whitespace-pre-wrap inline-block h-px",placeholder:"flex items-center h-full absolute left-0 top-0 pointer-events-none bg-transparent leading-snug pl-3.5 text-gray-400 text-sm",caret:"bg-multiselect-caret bg-center bg-no-repeat w-5 h-5 py-px box-content z-5 relative mr-1 opacity-40 shrink-0 grow-0 transition-transform",caretOpen:"rotate-180 pointer-events-auto",clear:"pr-3.5 relative z-10 opacity-40 transition duration-300 shrink-0 grow-0 flex hover:opacity-80",clearIcon:"bg-multiselect-remove bg-center bg-no-repeat w-2.5 h-4 py-px box-content inline-block",spinner:"bg-multiselect-spinner bg-center bg-no-repeat w-4 h-4 z-10 mr-3.5 animate-spin shrink-0 grow-0",dropdown:"max-h-60 shadow-lg absolute -left-px -right-px -bottom-1 translate-y-full border border-gray-300 mt-1 overflow-y-auto z-50 bg-white flex flex-col rounded-md",dropdownTop:"-translate-y-full -top-2 bottom-auto flex-col-reverse rounded-md",dropdownHidden:"hidden",options:"flex flex-col p-0 m-0 list-none",optionsTop:"flex-col-reverse",group:"p-0 m-0",groupLabel:"flex text-sm box-border items-center justify-start text-left py-1 px-3 font-semibold bg-gray-200 cursor-default leading-normal",groupLabelPointable:"cursor-pointer",groupLabelPointed:"bg-gray-300 text-gray-700",groupLabelSelected:"bg-primary-600 text-white",groupLabelDisabled:"bg-gray-100 text-gray-300 cursor-not-allowed",groupLabelSelectedPointed:"bg-primary-600 text-white opacity-90",groupLabelSelectedDisabled:"text-primary-100 bg-primary-600 bg-opacity-50 cursor-not-allowed",groupOptions:"p-0 m-0",option:"flex items-center justify-start box-border text-left cursor-pointer text-sm leading-snug py-2 px-3",optionPointed:"text-gray-800 bg-gray-100",optionSelected:"text-white bg-primary-500",optionDisabled:"text-gray-300 cursor-not-allowed",optionSelectedPointed:"text-white bg-primary-500 opacity-90",optionSelectedDisabled:"text-primary-100 bg-primary-500 bg-opacity-50 cursor-not-allowed",noOptions:"py-2 px-3 text-gray-600 bg-white",noResults:"py-2 px-3 text-gray-600 bg-white",fakeInput:"bg-transparent absolute left-0 right-0 -bottom-px w-full h-px border-0 p-0 appearance-none outline-none text-transparent",spacer:"h-9 py-px box-content"})},strict:{type:Boolean,required:!1,default:!0},closeOnSelect:{type:Boolean,required:!1,default:!0},autocomplete:{type:String,required:!1},groups:{type:Boolean,required:!1,default:!1},groupLabel:{type:String,required:!1,default:"label"},groupOptions:{type:String,required:!1,default:"options"},groupHideEmpty:{type:Boolean,required:!1,default:!1},groupSelect:{type:Boolean,required:!1,default:!0},inputType:{type:String,required:!1,default:"text"}},emits:["open","close","select","deselect","input","search-change","tag","update:modelValue","change","clear"],setup(e,n){const a=sl(e,n),i=ol(e),o=pl(e,n),v=ul(e,n),f=rl(e,n,{iv:a.iv}),g=fl(e,n,{input:v.input,open:o.open,close:o.close,clearSearch:v.clearSearch}),t=dl(e,n,{ev:a.ev,iv:a.iv,search:v.search,clearSearch:v.clearSearch,update:f.update,pointer:i.pointer,clearPointer:i.clearPointer,blur:g.blur,deactivate:g.deactivate}),c=vl(e,n,{fo:t.fo,fg:t.fg,handleOptionClick:t.handleOptionClick,handleGroupClick:t.handleGroupClick,search:v.search,pointer:i.pointer,setPointer:i.setPointer,clearPointer:i.clearPointer,multiselect:g.multiselect}),p=gl(e,n,{iv:a.iv,update:f.update,search:v.search,setPointer:i.setPointer,selectPointer:c.selectPointer,backwardPointer:c.backwardPointer,forwardPointer:c.forwardPointer,blur:g.blur,fo:t.fo}),b=bl(e,n,{isOpen:o.isOpen,isPointed:c.isPointed,canPointGroups:c.canPointGroups,isSelected:t.isSelected,isDisabled:t.isDisabled,isActive:g.isActive,resolving:t.resolving,fo:t.fo});return G(G(G(G(G(G(G(G(G(G({},a),o),g),i),f),v),t),c),p),b)}},hl=["id","tabindex"],yl=["type","modelValue","value","autocomplete"],Sl=["onMousedown"],kl=["type","modelValue","value","autocomplete"],wl={class:"w-full overflow-y-auto"},Ol=["data-pointed","onMouseenter","onClick"],Ll=["data-pointed","onMouseenter","onClick"],Pl=["data-pointed","onMouseenter","onClick"],Il=["innerHTML"],Bl=["innerHTML"],ql=["value"],Cl=["name","value"],Tl=["name","value"];function Dl(e,n,a,i,o,v){const f=De("BaseContentPlaceholdersBox"),g=De("BaseContentPlaceholders");return a.contentLoading?(I(),el(g,{key:0},{default:ll(()=>[al(f,{rounded:!0,class:"w-full",style:{height:"40px"}})]),_:1})):(I(),B("div",{key:1,id:a.id,ref:"multiselect",tabindex:e.tabindex,class:O(e.classList.container),onFocusin:n[6]||(n[6]=(...t)=>e.activate&&e.activate(...t)),onFocusout:n[7]||(n[7]=(...t)=>e.deactivate&&e.deactivate(...t)),onKeydown:n[8]||(n[8]=(...t)=>e.handleKeydown&&e.handleKeydown(...t)),onFocus:n[9]||(n[9]=(...t)=>e.handleFocus&&e.handleFocus(...t))},[a.mode!=="tags"&&a.searchable&&!a.disabled?(I(),B("input",{key:0,ref:"input",type:a.inputType,modelValue:e.search,value:e.search,class:O(e.classList.search),autocomplete:a.autocomplete,onInput:n[0]||(n[0]=(...t)=>e.handleSearchInput&&e.handleSearchInput(...t)),onPaste:n[1]||(n[1]=ve((...t)=>e.handlePaste&&e.handlePaste(...t),["stop"]))},null,42,yl)):E("",!0),a.mode=="tags"?(I(),B("div",{key:1,class:O(e.classList.tags)},[(I(!0),B(ae,null,se(e.iv,(t,c,p)=>T(e.$slots,"tag",{option:t,handleTagRemove:e.handleTagRemove,disabled:a.disabled},()=>[(I(),B("span",{key:p,class:O(e.classList.tag)},[tl(J(t[a.label])+" ",1),a.disabled?E("",!0):(I(),B("span",{key:0,class:O(e.classList.tagRemove),onMousedown:ve(b=>e.handleTagRemove(t,b),["stop"])},[P("span",{class:O(e.classList.tagRemoveIcon)},null,2)],42,Sl))],2))])),256)),P("div",{class:O(e.classList.tagsSearchWrapper)},[P("span",{class:O(e.classList.tagsSearchCopy)},J(e.search),3),a.searchable&&!a.disabled?(I(),B("input",{key:0,ref:"input",type:a.inputType,modelValue:e.search,value:e.search,class:O(e.classList.tagsSearch),autocomplete:a.autocomplete,style:{"box-shadow":"none !important"},onInput:n[2]||(n[2]=(...t)=>e.handleSearchInput&&e.handleSearchInput(...t)),onPaste:n[3]||(n[3]=ve((...t)=>e.handlePaste&&e.handlePaste(...t),["stop"]))},null,42,kl)):E("",!0)],2)],2)):E("",!0),a.mode=="single"&&e.hasSelected&&!e.search&&e.iv?T(e.$slots,"singlelabel",{key:2,value:e.iv},()=>[P("div",{class:O(e.classList.singleLabel)},J(e.iv[a.label]),3)]):E("",!0),a.mode=="multiple"&&e.hasSelected&&!e.search?T(e.$slots,"multiplelabel",{key:3,values:e.iv},()=>[P("div",{class:O(e.classList.multipleLabel)},J(e.multipleLabelText),3)]):E("",!0),a.placeholder&&!e.hasSelected&&!e.search?T(e.$slots,"placeholder",{key:4},()=>[P("div",{class:O(e.classList.placeholder)},J(a.placeholder),3)]):E("",!0),e.busy?T(e.$slots,"spinner",{key:5},()=>[P("span",{class:O(e.classList.spinner)},null,2)]):E("",!0),e.hasSelected&&!a.disabled&&a.canClear&&!e.busy?T(e.$slots,"clear",{key:6,clear:e.clear},()=>[P("span",{class:O(e.classList.clear),onMousedown:n[4]||(n[4]=(...t)=>e.clear&&e.clear(...t))},[P("span",{class:O(e.classList.clearIcon)},null,2)],34)]):E("",!0),a.caret?T(e.$slots,"caret",{key:7},()=>[P("span",{class:O(e.classList.caret),onMousedown:n[5]||(n[5]=ve((...t)=>e.handleCaretClick&&e.handleCaretClick(...t),["prevent","stop"]))},null,34)]):E("",!0),P("div",{class:O(e.classList.dropdown),tabindex:"-1"},[P("div",wl,[T(e.$slots,"beforelist",{options:e.fo}),P("ul",{class:O(e.classList.options)},[a.groups?(I(!0),B(ae,{key:0},se(e.fg,(t,c,p)=>(I(),B("li",{key:p,class:O(e.classList.group)},[P("div",{class:O(e.classList.groupLabel(t)),"data-pointed":e.isPointed(t),onMouseenter:b=>e.setPointer(t),onClick:b=>e.handleGroupClick(t)},[T(e.$slots,"grouplabel",{group:t},()=>[P("span",null,J(t[a.groupLabel]),1)])],42,Ol),P("ul",{class:O(e.classList.groupOptions)},[(I(!0),B(ae,null,se(t.__VISIBLE__,(b,q,V)=>(I(),B("li",{key:V,class:O(e.classList.option(b,t)),"data-pointed":e.isPointed(b),onMouseenter:D=>e.setPointer(b),onClick:D=>e.handleOptionClick(b)},[T(e.$slots,"option",{option:b,search:e.search},()=>[P("span",null,J(b[a.label]),1)])],42,Ll))),128))],2)],2))),128)):(I(!0),B(ae,{key:1},se(e.fo,(t,c,p)=>(I(),B("li",{key:p,class:O(e.classList.option(t)),"data-pointed":e.isPointed(t),onMouseenter:b=>e.setPointer(t),onClick:b=>e.handleOptionClick(t)},[T(e.$slots,"option",{option:t,search:e.search},()=>[P("span",null,J(t[a.label]),1)])],42,Pl))),128))],2),e.noOptions?T(e.$slots,"nooptions",{key:0},()=>[P("div",{class:O(e.classList.noOptions),innerHTML:a.noOptionsText},null,10,Il)]):E("",!0),e.noResults?T(e.$slots,"noresults",{key:1},()=>[P("div",{class:O(e.classList.noResults),innerHTML:a.noResultsText},null,10,Bl)]):E("",!0),T(e.$slots,"afterlist",{options:e.fo})]),T(e.$slots,"action")],2),a.required?(I(),B("input",{key:8,class:O(e.classList.fakeInput),tabindex:"-1",value:e.textValue,required:""},null,10,ql)):E("",!0),a.nativeSupport?(I(),B(ae,{key:9},[a.mode=="single"?(I(),B("input",{key:0,type:"hidden",name:a.name,value:e.plainValue!==void 0?e.plainValue:""},null,8,Cl)):(I(!0),B(ae,{key:1},se(e.plainValue,(t,c)=>(I(),B("input",{key:c,type:"hidden",name:`${a.name}[]`,value:t},null,8,Tl))),128))],64)):E("",!0),P("div",{class:O(e.classList.spacer)},null,2)],42,hl))}var Rl=nl(ml,[["render",Dl]]);export{Rl as default};

--- public/build/assets/BaseTable.6e206ca7.js ---
@@ -1 +1 @@
-import{I as O,r as T,o as i,e as s,h as u,m as c,t as h,j as m,f as k,F as C,y as P,i as _,a0 as N,B as F,k as A,C as J,D as K,g as L,u as y,w as Q,A as U,l as X}from"./vendor.01d0adc5.js";import{_ as Z,S as $}from"./main.832b14c7.js";function V(a,t){if(!t||a===null||typeof a!="object")return a;const[e,n]=t.split(/\.(.+)/);return V(a[e],n)}function ee(a,t){return t.reduce((e,n)=>(e[n]=a[n],e),{})}class te{constructor(t,e){this.data=t,this.columns=e}getValue(t){return V(this.data,t)}getColumn(t){return this.columns.find(e=>e.key===t)}getSortableValue(t){const e=this.getColumn(t).dataType;let n=this.getValue(t);if(n==null)return"";if(n instanceof String&&(n=n.toLowerCase()),e.startsWith("date")){const b=e.replace("date:","");return O(n,b).format("YYYYMMDDHHmmss")}return e==="numeric"?n:n.toString()}}class ae{constructor(t){const e=ee(t,["key","label","thClass","tdClass","sortBy","sortable","hidden","dataType"]);for(const n in e)this[n]=t[n];e.dataType||(this.dataType="string"),e.sortable===void 0&&(this.sortable=!0)}getFilterFieldName(){return this.filterOn||this.key}isSortable(){return this.sortable}getSortPredicate(t,e){const n=this.getSortFieldName(),l=e.find(g=>g.key===n).dataType;return l.startsWith("date")||l==="numeric"?(g,d)=>{const p=g.getSortableValue(n),x=d.getSortableValue(n);return t==="desc"?x<p?-1:1:p<x?-1:1}:(g,d)=>{const p=g.getSortableValue(n),x=d.getSortableValue(n);return t==="desc"?x.localeCompare(p):p.localeCompare(x)}}getSortFieldName(){return this.sortBy||this.key}}const ne={props:{pagination:{type:Object,default:()=>({})}},computed:{pages(){return this.pagination.totalPages===void 0?[]:this.pageLinks()},hasFirst(){return this.pagination.currentPage>=4||this.pagination.totalPages<10},hasLast(){return this.pagination.currentPage<=this.pagination.totalPages-3||this.pagination.totalPages<10},hasFirstEllipsis(){return this.pagination.currentPage>=4&&this.pagination.totalPages>=10},hasLastEllipsis(){return this.pagination.currentPage<=this.pagination.totalPages-3&&this.pagination.totalPages>=10},shouldShowPagination(){return this.pagination.totalPages===void 0||this.pagination.count===0?!1:this.pagination.totalPages>1}},methods:{isActive(a){return(this.pagination.currentPage||1)===a},pageClicked(a){a==="..."||a===this.pagination.currentPage||a>this.pagination.totalPages||a<1||this.$emit("pageChange",a)},pageLinks(){const a=[];let t=2,e=this.pagination.totalPages-1;this.pagination.totalPages>=10&&(t=Math.max(1,this.pagination.currentPage-2),e=Math.min(this.pagination.currentPage+2,this.pagination.totalPages));for(let n=t;n<=e;n++)a.push(n);return a}}},re={key:0,class:"flex items-center justify-between px-4 py-3 bg-white border-t border-gray-200 sm:px-6"},ie={class:"flex justify-between flex-1 sm:hidden"},se={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},le={class:"text-sm text-gray-700"},oe=_(" Showing "+h(" ")+" "),de={key:0,class:"font-medium"},ge=_(" "+h(" ")+" to "+h(" ")+" "),ue={key:1,class:"font-medium"},ce={key:0},he={key:1},ye=_(" "+h(" ")+" of "+h(" ")+" "),fe={key:2,class:"font-medium"},me=_(" "+h(" ")+" results "),pe={class:"relative z-0 inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination"},be=u("span",{class:"sr-only"},"Previous",-1),xe={key:1,class:"relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300"},ve=["onClick"],ke={key:2,class:"relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300"},Ce=u("span",{class:"sr-only"},"Next",-1);function Pe(a,t,e,n,b,l){const g=T("BaseIcon");return l.shouldShowPagination?(i(),s("div",re,[u("div",ie,[u("a",{href:"#",class:c([{"disabled cursor-normal pointer-events-none !bg-gray-100 !text-gray-400":e.pagination.currentPage===1},"relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"]),onClick:t[0]||(t[0]=d=>l.pageClicked(e.pagination.currentPage-1))}," Previous ",2),u("a",{href:"#",class:c([{"disabled cursor-default pointer-events-none !bg-gray-100 !text-gray-400":e.pagination.currentPage===e.pagination.totalPages},"relative inline-flex items-center px-4 py-2 ml-3 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"]),onClick:t[1]||(t[1]=d=>l.pageClicked(e.pagination.currentPage+1))}," Next ",2)]),u("div",se,[u("div",null,[u("p",le,[oe,e.pagination.limit&&e.pagination.currentPage?(i(),s("span",de,h(e.pagination.currentPage*e.pagination.limit-(e.pagination.limit-1)),1)):m("",!0),ge,e.pagination.limit&&e.pagination.currentPage?(i(),s("span",ue,[e.pagination.currentPage*e.pagination.limit<=e.pagination.totalCount?(i(),s("span",ce,h(e.pagination.currentPage*e.pagination.limit),1)):(i(),s("span",he,h(e.pagination.totalCount),1))])):m("",!0),ye,e.pagination.totalCount?(i(),s("span",fe,h(e.pagination.totalCount),1)):m("",!0),me])]),u("div",null,[u("nav",pe,[u("a",{href:"#",class:c([{"disabled cursor-normal pointer-events-none !bg-gray-100 !text-gray-400":e.pagination.currentPage===1},"relative inline-flex items-center px-2 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-l-md hover:bg-gray-50"]),onClick:t[2]||(t[2]=d=>l.pageClicked(e.pagination.currentPage-1))},[be,k(g,{name:"ChevronLeftIcon"})],2),l.hasFirst?(i(),s("a",{key:0,href:"#","aria-current":"page",class:c([{"z-10 bg-primary-50 border-primary-500 text-primary-600":l.isActive(1),"bg-white border-gray-300 text-gray-500 hover:bg-gray-50":!l.isActive(1)},"relative inline-flex items-center px-4 py-2 text-sm font-medium border"]),onClick:t[3]||(t[3]=d=>l.pageClicked(1))}," 1 ",2)):m("",!0),l.hasFirstEllipsis?(i(),s("span",xe," ... ")):m("",!0),(i(!0),s(C,null,P(l.pages,d=>(i(),s("a",{key:d,href:"#",class:c([{"z-10 bg-primary-50 border-primary-500 text-primary-600":l.isActive(d),"bg-white border-gray-300 text-gray-500 hover:bg-gray-50":!l.isActive(d),disabled:d==="..."},"relative items-center hidden px-4 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 hover:bg-gray-50 md:inline-flex"]),onClick:p=>l.pageClicked(d)},h(d),11,ve))),128)),l.hasLastEllipsis?(i(),s("span",ke," ... ")):m("",!0),l.hasLast?(i(),s("a",{key:3,href:"#","aria-current":"page",class:c([{"z-10 bg-primary-50 border-primary-500 text-primary-600":l.isActive(e.pagination.totalPages),"bg-white border-gray-300 text-gray-500 hover:bg-gray-50":!l.isActive(e.pagination.totalPages)},"relative inline-flex items-center px-4 py-2 text-sm font-medium border"]),onClick:t[4]||(t[4]=d=>l.pageClicked(e.pagination.totalPages))},h(e.pagination.totalPages),3)):m("",!0),u("a",{href:"#",class:c(["relative inline-flex items-center px-2 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-r-md hover:bg-gray-50",{"disabled cursor-default pointer-events-none !bg-gray-100 !text-gray-400":e.pagination.currentPage===e.pagination.totalPages}]),onClick:t[5]||(t[5]=d=>l.pageClicked(e.pagination.currentPage+1))},[Ce,k(g,{name:"ChevronRightIcon"})],2)])])])])):m("",!0)}var _e=Z(ne,[["render",Pe]]);const we={class:"flex flex-col"},Se={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8 pb-4 lg:pb-0"},Te={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},Ne={class:"relative overflow-hidden bg-white border-b border-gray-200 shadow sm:rounded-lg"},Be=["onClick"],Fe={key:0,class:"asc-direction"},Ae={key:1,class:"desc-direction"},Le={key:0},Ve={key:1},Ie={key:0,class:"absolute top-0 left-0 z-10 flex items-center justify-center w-full h-full bg-white bg-opacity-60"},De={key:1,class:"text-center text-gray-500 pb-2 flex h-[160px] justify-center items-center flex-col"},Me={class:"block mt-1"},Re={props:{columns:{type:Array,required:!0},data:{type:[Array,Function],required:!0},sortBy:{type:String,default:""},sortOrder:{type:String,default:""},tableClass:{type:String,default:"min-w-full divide-y divide-gray-200"},theadClass:{type:String,default:"bg-gray-50"},tbodyClass:{type:String,default:""},noResultsMessage:{type:String,default:"No Results Found"},loading:{type:Boolean,default:!1},loadingType:{type:String,default:"placeholder",validator:function(a){return["placeholder","spinner"].indexOf(a)!==-1}},placeholderCount:{type:Number,default:3}},setup(a,{expose:t}){const e=a;let n=N([]),b=F(!1),l=N(e.columns.map(r=>new ae(r))),g=N({fieldName:"",order:""}),d=F("");const p=A(()=>Array.isArray(e.data)),x=A(()=>{if(!p.value||g.fieldName===""||l.length===0)return n.value;const r=I(g.fieldName);return r?[...n.value].sort(r.getSortPredicate(g.order,l)):n.value});function I(r){return l.find(o=>o.key===r)}function D(r){let o="whitespace-nowrap px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider";return r.defaultThClass&&(o=r.defaultThClass),r.sortable?o=`${o} cursor-pointer`:o=`${o} pointer-events-none`,r.thClass&&(o=`${o} ${r.thClass}`),o}function B(r){let o="px-6 py-4 text-sm text-gray-500 whitespace-nowrap";return r.defaultTdClass&&(o=r.defaultTdClass),r.tdClass&&(o=`${o} ${r.tdClass}`),o}function M(r){let o="w-full";return r.placeholderClass&&(o=`${o} ${r.placeholderClass}`),o}function z(){return d.value=null,e.data}async function E(){const r=d.value&&d.value.currentPage||1;b.value=!0;const o=await e.data({sort:g,page:r});return b.value=!1,d.value=o.pagination,o.data}function R(r){g.fieldName!==r.key?(g.fieldName=r.key,g.order="asc"):g.order=g.order==="asc"?"desc":"asc",p.value||w()}async function w(){const r=p.value?z():await E();n.value=r.map(o=>new te(o,l))}async function j(r){d.value.currentPage=r,await w()}async function Y(){await w()}function H(r,o){return U.exports.get(r,o)}return p.value&&J(()=>e.data,()=>{w()}),K(async()=>{await w()}),t({refresh:Y}),(r,o)=>{const q=T("base-content-placeholders-text"),W=T("base-content-placeholders"),G=T("BaseIcon");return i(),s("div",we,[u("div",Se,[u("div",Te,[u("div",Ne,[L(r.$slots,"header"),u("table",{class:c(a.tableClass)},[u("thead",{class:c(a.theadClass)},[u("tr",null,[(i(!0),s(C,null,P(y(l),f=>(i(),s("th",{key:f.key,class:c([D(f),{"text-bold text-black":y(g).fieldName===f.key}]),onClick:v=>R(f)},[_(h(f.label)+" ",1),y(g).fieldName===f.key&&y(g).order==="asc"?(i(),s("span",Fe," \u2191 ")):m("",!0),y(g).fieldName===f.key&&y(g).order==="desc"?(i(),s("span",Ae," \u2193 ")):m("",!0)],10,Be))),128))])],2),a.loadingType==="placeholder"&&(a.loading||y(b))?(i(),s("tbody",Le,[(i(!0),s(C,null,P(a.placeholderCount,f=>(i(),s("tr",{key:f,class:c(f%2==0?"bg-white":"bg-gray-50")},[(i(!0),s(C,null,P(a.columns,v=>(i(),s("td",{key:v.key,class:c(["",B(v)])},[k(W,{class:c(M(v)),rounded:!0},{default:Q(()=>[k(q,{class:"w-full h-6",lines:1})]),_:2},1032,["class"])],2))),128))],2))),128))])):(i(),s("tbody",Ve,[(i(!0),s(C,null,P(y(x),(f,v)=>(i(),s("tr",{key:v,class:c(v%2==0?"bg-white":"bg-gray-50")},[(i(!0),s(C,null,P(a.columns,S=>(i(),s("td",{key:S.key,class:c(["",B(S)])},[L(r.$slots,"cell-"+S.key,{row:f},()=>[_(h(H(f.data,S.key)),1)])],2))),128))],2))),128))]))],2),a.loadingType==="spinner"&&(a.loading||y(b))?(i(),s("div",Ie,[k($,{class:"w-10 h-10 text-primary-500"})])):!a.loading&&!y(b)&&y(x)&&y(x).length===0?(i(),s("div",De,[k(G,{name:"ExclamationCircleIcon",class:"w-6 h-6 text-gray-400"}),u("span",Me,h(a.noResultsMessage),1)])):m("",!0),y(d)?(i(),X(_e,{key:2,pagination:y(d),onPageChange:j},null,8,["pagination"])):m("",!0)])])])])}}};export{Re as default};
+import{I as O,r as T,o as i,e as s,h as u,m as c,t as h,j as m,f as k,F as C,y as P,i as _,a0 as N,B as F,k as A,C as J,D as K,g as L,u as y,w as Q,A as U,l as X}from"./vendor.01d0adc5.js";import{_ as Z,S as $}from"./main.75722495.js";function V(a,t){if(!t||a===null||typeof a!="object")return a;const[e,n]=t.split(/\.(.+)/);return V(a[e],n)}function ee(a,t){return t.reduce((e,n)=>(e[n]=a[n],e),{})}class te{constructor(t,e){this.data=t,this.columns=e}getValue(t){return V(this.data,t)}getColumn(t){return this.columns.find(e=>e.key===t)}getSortableValue(t){const e=this.getColumn(t).dataType;let n=this.getValue(t);if(n==null)return"";if(n instanceof String&&(n=n.toLowerCase()),e.startsWith("date")){const b=e.replace("date:","");return O(n,b).format("YYYYMMDDHHmmss")}return e==="numeric"?n:n.toString()}}class ae{constructor(t){const e=ee(t,["key","label","thClass","tdClass","sortBy","sortable","hidden","dataType"]);for(const n in e)this[n]=t[n];e.dataType||(this.dataType="string"),e.sortable===void 0&&(this.sortable=!0)}getFilterFieldName(){return this.filterOn||this.key}isSortable(){return this.sortable}getSortPredicate(t,e){const n=this.getSortFieldName(),l=e.find(g=>g.key===n).dataType;return l.startsWith("date")||l==="numeric"?(g,d)=>{const p=g.getSortableValue(n),x=d.getSortableValue(n);return t==="desc"?x<p?-1:1:p<x?-1:1}:(g,d)=>{const p=g.getSortableValue(n),x=d.getSortableValue(n);return t==="desc"?x.localeCompare(p):p.localeCompare(x)}}getSortFieldName(){return this.sortBy||this.key}}const ne={props:{pagination:{type:Object,default:()=>({})}},computed:{pages(){return this.pagination.totalPages===void 0?[]:this.pageLinks()},hasFirst(){return this.pagination.currentPage>=4||this.pagination.totalPages<10},hasLast(){return this.pagination.currentPage<=this.pagination.totalPages-3||this.pagination.totalPages<10},hasFirstEllipsis(){return this.pagination.currentPage>=4&&this.pagination.totalPages>=10},hasLastEllipsis(){return this.pagination.currentPage<=this.pagination.totalPages-3&&this.pagination.totalPages>=10},shouldShowPagination(){return this.pagination.totalPages===void 0||this.pagination.count===0?!1:this.pagination.totalPages>1}},methods:{isActive(a){return(this.pagination.currentPage||1)===a},pageClicked(a){a==="..."||a===this.pagination.currentPage||a>this.pagination.totalPages||a<1||this.$emit("pageChange",a)},pageLinks(){const a=[];let t=2,e=this.pagination.totalPages-1;this.pagination.totalPages>=10&&(t=Math.max(1,this.pagination.currentPage-2),e=Math.min(this.pagination.currentPage+2,this.pagination.totalPages));for(let n=t;n<=e;n++)a.push(n);return a}}},re={key:0,class:"flex items-center justify-between px-4 py-3 bg-white border-t border-gray-200 sm:px-6"},ie={class:"flex justify-between flex-1 sm:hidden"},se={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},le={class:"text-sm text-gray-700"},oe=_(" Showing "+h(" ")+" "),de={key:0,class:"font-medium"},ge=_(" "+h(" ")+" to "+h(" ")+" "),ue={key:1,class:"font-medium"},ce={key:0},he={key:1},ye=_(" "+h(" ")+" of "+h(" ")+" "),fe={key:2,class:"font-medium"},me=_(" "+h(" ")+" results "),pe={class:"relative z-0 inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination"},be=u("span",{class:"sr-only"},"Previous",-1),xe={key:1,class:"relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300"},ve=["onClick"],ke={key:2,class:"relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300"},Ce=u("span",{class:"sr-only"},"Next",-1);function Pe(a,t,e,n,b,l){const g=T("BaseIcon");return l.shouldShowPagination?(i(),s("div",re,[u("div",ie,[u("a",{href:"#",class:c([{"disabled cursor-normal pointer-events-none !bg-gray-100 !text-gray-400":e.pagination.currentPage===1},"relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"]),onClick:t[0]||(t[0]=d=>l.pageClicked(e.pagination.currentPage-1))}," Previous ",2),u("a",{href:"#",class:c([{"disabled cursor-default pointer-events-none !bg-gray-100 !text-gray-400":e.pagination.currentPage===e.pagination.totalPages},"relative inline-flex items-center px-4 py-2 ml-3 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"]),onClick:t[1]||(t[1]=d=>l.pageClicked(e.pagination.currentPage+1))}," Next ",2)]),u("div",se,[u("div",null,[u("p",le,[oe,e.pagination.limit&&e.pagination.currentPage?(i(),s("span",de,h(e.pagination.currentPage*e.pagination.limit-(e.pagination.limit-1)),1)):m("",!0),ge,e.pagination.limit&&e.pagination.currentPage?(i(),s("span",ue,[e.pagination.currentPage*e.pagination.limit<=e.pagination.totalCount?(i(),s("span",ce,h(e.pagination.currentPage*e.pagination.limit),1)):(i(),s("span",he,h(e.pagination.totalCount),1))])):m("",!0),ye,e.pagination.totalCount?(i(),s("span",fe,h(e.pagination.totalCount),1)):m("",!0),me])]),u("div",null,[u("nav",pe,[u("a",{href:"#",class:c([{"disabled cursor-normal pointer-events-none !bg-gray-100 !text-gray-400":e.pagination.currentPage===1},"relative inline-flex items-center px-2 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-l-md hover:bg-gray-50"]),onClick:t[2]||(t[2]=d=>l.pageClicked(e.pagination.currentPage-1))},[be,k(g,{name:"ChevronLeftIcon"})],2),l.hasFirst?(i(),s("a",{key:0,href:"#","aria-current":"page",class:c([{"z-10 bg-primary-50 border-primary-500 text-primary-600":l.isActive(1),"bg-white border-gray-300 text-gray-500 hover:bg-gray-50":!l.isActive(1)},"relative inline-flex items-center px-4 py-2 text-sm font-medium border"]),onClick:t[3]||(t[3]=d=>l.pageClicked(1))}," 1 ",2)):m("",!0),l.hasFirstEllipsis?(i(),s("span",xe," ... ")):m("",!0),(i(!0),s(C,null,P(l.pages,d=>(i(),s("a",{key:d,href:"#",class:c([{"z-10 bg-primary-50 border-primary-500 text-primary-600":l.isActive(d),"bg-white border-gray-300 text-gray-500 hover:bg-gray-50":!l.isActive(d),disabled:d==="..."},"relative items-center hidden px-4 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 hover:bg-gray-50 md:inline-flex"]),onClick:p=>l.pageClicked(d)},h(d),11,ve))),128)),l.hasLastEllipsis?(i(),s("span",ke," ... ")):m("",!0),l.hasLast?(i(),s("a",{key:3,href:"#","aria-current":"page",class:c([{"z-10 bg-primary-50 border-primary-500 text-primary-600":l.isActive(e.pagination.totalPages),"bg-white border-gray-300 text-gray-500 hover:bg-gray-50":!l.isActive(e.pagination.totalPages)},"relative inline-flex items-center px-4 py-2 text-sm font-medium border"]),onClick:t[4]||(t[4]=d=>l.pageClicked(e.pagination.totalPages))},h(e.pagination.totalPages),3)):m("",!0),u("a",{href:"#",class:c(["relative inline-flex items-center px-2 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-r-md hover:bg-gray-50",{"disabled cursor-default pointer-events-none !bg-gray-100 !text-gray-400":e.pagination.currentPage===e.pagination.totalPages}]),onClick:t[5]||(t[5]=d=>l.pageClicked(e.pagination.currentPage+1))},[Ce,k(g,{name:"ChevronRightIcon"})],2)])])])])):m("",!0)}var _e=Z(ne,[["render",Pe]]);const we={class:"flex flex-col"},Se={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8 pb-4 lg:pb-0"},Te={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},Ne={class:"relative overflow-hidden bg-white border-b border-gray-200 shadow sm:rounded-lg"},Be=["onClick"],Fe={key:0,class:"asc-direction"},Ae={key:1,class:"desc-direction"},Le={key:0},Ve={key:1},Ie={key:0,class:"absolute top-0 left-0 z-10 flex items-center justify-center w-full h-full bg-white bg-opacity-60"},De={key:1,class:"text-center text-gray-500 pb-2 flex h-[160px] justify-center items-center flex-col"},Me={class:"block mt-1"},Re={props:{columns:{type:Array,required:!0},data:{type:[Array,Function],required:!0},sortBy:{type:String,default:""},sortOrder:{type:String,default:""},tableClass:{type:String,default:"min-w-full divide-y divide-gray-200"},theadClass:{type:String,default:"bg-gray-50"},tbodyClass:{type:String,default:""},noResultsMessage:{type:String,default:"No Results Found"},loading:{type:Boolean,default:!1},loadingType:{type:String,default:"placeholder",validator:function(a){return["placeholder","spinner"].indexOf(a)!==-1}},placeholderCount:{type:Number,default:3}},setup(a,{expose:t}){const e=a;let n=N([]),b=F(!1),l=N(e.columns.map(r=>new ae(r))),g=N({fieldName:"",order:""}),d=F("");const p=A(()=>Array.isArray(e.data)),x=A(()=>{if(!p.value||g.fieldName===""||l.length===0)return n.value;const r=I(g.fieldName);return r?[...n.value].sort(r.getSortPredicate(g.order,l)):n.value});function I(r){return l.find(o=>o.key===r)}function D(r){let o="whitespace-nowrap px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider";return r.defaultThClass&&(o=r.defaultThClass),r.sortable?o=`${o} cursor-pointer`:o=`${o} pointer-events-none`,r.thClass&&(o=`${o} ${r.thClass}`),o}function B(r){let o="px-6 py-4 text-sm text-gray-500 whitespace-nowrap";return r.defaultTdClass&&(o=r.defaultTdClass),r.tdClass&&(o=`${o} ${r.tdClass}`),o}function M(r){let o="w-full";return r.placeholderClass&&(o=`${o} ${r.placeholderClass}`),o}function z(){return d.value=null,e.data}async function E(){const r=d.value&&d.value.currentPage||1;b.value=!0;const o=await e.data({sort:g,page:r});return b.value=!1,d.value=o.pagination,o.data}function R(r){g.fieldName!==r.key?(g.fieldName=r.key,g.order="asc"):g.order=g.order==="asc"?"desc":"asc",p.value||w()}async function w(){const r=p.value?z():await E();n.value=r.map(o=>new te(o,l))}async function j(r){d.value.currentPage=r,await w()}async function Y(){await w()}function H(r,o){return U.exports.get(r,o)}return p.value&&J(()=>e.data,()=>{w()}),K(async()=>{await w()}),t({refresh:Y}),(r,o)=>{const q=T("base-content-placeholders-text"),W=T("base-content-placeholders"),G=T("BaseIcon");return i(),s("div",we,[u("div",Se,[u("div",Te,[u("div",Ne,[L(r.$slots,"header"),u("table",{class:c(a.tableClass)},[u("thead",{class:c(a.theadClass)},[u("tr",null,[(i(!0),s(C,null,P(y(l),f=>(i(),s("th",{key:f.key,class:c([D(f),{"text-bold text-black":y(g).fieldName===f.key}]),onClick:v=>R(f)},[_(h(f.label)+" ",1),y(g).fieldName===f.key&&y(g).order==="asc"?(i(),s("span",Fe," \u2191 ")):m("",!0),y(g).fieldName===f.key&&y(g).order==="desc"?(i(),s("span",Ae," \u2193 ")):m("",!0)],10,Be))),128))])],2),a.loadingType==="placeholder"&&(a.loading||y(b))?(i(),s("tbody",Le,[(i(!0),s(C,null,P(a.placeholderCount,f=>(i(),s("tr",{key:f,class:c(f%2==0?"bg-white":"bg-gray-50")},[(i(!0),s(C,null,P(a.columns,v=>(i(),s("td",{key:v.key,class:c(["",B(v)])},[k(W,{class:c(M(v)),rounded:!0},{default:Q(()=>[k(q,{class:"w-full h-6",lines:1})]),_:2},1032,["class"])],2))),128))],2))),128))])):(i(),s("tbody",Ve,[(i(!0),s(C,null,P(y(x),(f,v)=>(i(),s("tr",{key:v,class:c(v%2==0?"bg-white":"bg-gray-50")},[(i(!0),s(C,null,P(a.columns,S=>(i(),s("td",{key:S.key,class:c(["",B(S)])},[L(r.$slots,"cell-"+S.key,{row:f},()=>[_(h(H(f.data,S.key)),1)])],2))),128))],2))),128))]))],2),a.loadingType==="spinner"&&(a.loading||y(b))?(i(),s("div",Ie,[k($,{class:"w-10 h-10 text-primary-500"})])):!a.loading&&!y(b)&&y(x)&&y(x).length===0?(i(),s("div",De,[k(G,{name:"ExclamationCircleIcon",class:"w-6 h-6 text-gray-400"}),u("span",Me,h(a.noResultsMessage),1)])):m("",!0),y(d)?(i(),X(_e,{key:2,pagination:y(d),onPageChange:j},null,8,["pagination"])):m("",!0)])])])])}}};export{Re as default};

--- public/build/assets/CategoryModal.9a2e05b9.js ---
@@ -1 +1 @@
-import{J as j,B as k,k as g,L as y,M as N,N as L,S as T,T as q,r as i,o as B,l as b,w as r,h as m,i as f,t as C,u as e,f as n,m as D,j as G,U}from"./vendor.01d0adc5.js";import{u as z}from"./category.c27e9638.js";import{c as E}from"./main.832b14c7.js";const A={class:"flex justify-between w-full"},J=["onSubmit"],X={class:"p-8 sm:p-6"},F={class:"z-0 flex justify-end p-4 border-t border-gray-200 border-solid border-modal-bg"},Q={setup(H){const t=z(),u=E(),{t:p}=j();let c=k(!1);const h=g(()=>({currentCategory:{name:{required:y.withMessage(p("validation.required"),N),minLength:y.withMessage(p("validation.name_min_length",{count:3}),L(3))},description:{maxLength:y.withMessage(p("validation.description_maxlength",{count:255}),T(255))}}})),o=q(h,g(()=>t)),w=g(()=>u.active&&u.componentName==="CategoryModal");async function I(){if(o.value.currentCategory.$touch(),o.value.currentCategory.$invalid)return!0;const s=t.isEdit?t.updateCategory:t.addCategory;c.value=!0,await s(t.currentCategory),c.value=!1,u.refreshData&&u.refreshData(),d()}function d(){u.closeModal(),setTimeout(()=>{t.$reset(),o.value.$reset()},300)}return(s,a)=>{const v=i("BaseIcon"),x=i("BaseInput"),_=i("BaseInputGroup"),M=i("BaseTextarea"),V=i("BaseInputGrid"),$=i("BaseButton"),S=i("BaseModal");return B(),b(S,{show:e(w),onClose:d},{header:r(()=>[m("div",A,[f(C(e(u).title)+" ",1),n(v,{name:"XIcon",class:"w-6 h-6 text-gray-500 cursor-pointer",onClick:d})])]),default:r(()=>[m("form",{action:"",onSubmit:U(I,["prevent"])},[m("div",X,[n(V,{layout:"one-column"},{default:r(()=>[n(_,{label:s.$t("expenses.category"),error:e(o).currentCategory.name.$error&&e(o).currentCategory.name.$errors[0].$message,required:""},{default:r(()=>[n(x,{modelValue:e(t).currentCategory.name,"onUpdate:modelValue":a[0]||(a[0]=l=>e(t).currentCategory.name=l),invalid:e(o).currentCategory.name.$error,type:"text",onInput:a[1]||(a[1]=l=>e(o).currentCategory.name.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),n(_,{label:s.$t("expenses.description"),error:e(o).currentCategory.description.$error&&e(o).currentCategory.description.$errors[0].$message},{default:r(()=>[n(M,{modelValue:e(t).currentCategory.description,"onUpdate:modelValue":a[2]||(a[2]=l=>e(t).currentCategory.description=l),rows:"4",cols:"50",onInput:a[3]||(a[3]=l=>e(o).currentCategory.description.$touch())},null,8,["modelValue"])]),_:1},8,["label","error"])]),_:1})]),m("div",F,[n($,{type:"button",variant:"primary-outline",class:"mr-3 text-sm",onClick:d},{default:r(()=>[f(C(s.$t("general.cancel")),1)]),_:1}),n($,{loading:e(c),disabled:e(c),variant:"primary",type:"submit"},{left:r(l=>[e(c)?G("",!0):(B(),b(v,{key:0,name:"SaveIcon",class:D(l.class)},null,8,["class"]))]),default:r(()=>[f(" "+C(e(t).isEdit?s.$t("general.update"):s.$t("general.save")),1)]),_:1},8,["loading","disabled"])])],40,J)]),_:1},8,["show"])}}};export{Q as _};
+import{J as j,B as k,k as g,L as y,M as N,N as L,S as T,T as q,r as i,o as B,l as b,w as r,h as m,i as f,t as C,u as e,f as n,m as D,j as G,U}from"./vendor.01d0adc5.js";import{u as z}from"./category.4b37f0ed.js";import{c as E}from"./main.75722495.js";const A={class:"flex justify-between w-full"},J=["onSubmit"],X={class:"p-8 sm:p-6"},F={class:"z-0 flex justify-end p-4 border-t border-gray-200 border-solid border-modal-bg"},Q={setup(H){const t=z(),u=E(),{t:p}=j();let c=k(!1);const h=g(()=>({currentCategory:{name:{required:y.withMessage(p("validation.required"),N),minLength:y.withMessage(p("validation.name_min_length",{count:3}),L(3))},description:{maxLength:y.withMessage(p("validation.description_maxlength",{count:255}),T(255))}}})),o=q(h,g(()=>t)),w=g(()=>u.active&&u.componentName==="CategoryModal");async function I(){if(o.value.currentCategory.$touch(),o.value.currentCategory.$invalid)return!0;const s=t.isEdit?t.updateCategory:t.addCategory;c.value=!0,await s(t.currentCategory),c.value=!1,u.refreshData&&u.refreshData(),d()}function d(){u.closeModal(),setTimeout(()=>{t.$reset(),o.value.$reset()},300)}return(s,a)=>{const v=i("BaseIcon"),x=i("BaseInput"),_=i("BaseInputGroup"),M=i("BaseTextarea"),V=i("BaseInputGrid"),$=i("BaseButton"),S=i("BaseModal");return B(),b(S,{show:e(w),onClose:d},{header:r(()=>[m("div",A,[f(C(e(u).title)+" ",1),n(v,{name:"XIcon",class:"w-6 h-6 text-gray-500 cursor-pointer",onClick:d})])]),default:r(()=>[m("form",{action:"",onSubmit:U(I,["prevent"])},[m("div",X,[n(V,{layout:"one-column"},{default:r(()=>[n(_,{label:s.$t("expenses.category"),error:e(o).currentCategory.name.$error&&e(o).currentCategory.name.$errors[0].$message,required:""},{default:r(()=>[n(x,{modelValue:e(t).currentCategory.name,"onUpdate:modelValue":a[0]||(a[0]=l=>e(t).currentCategory.name=l),invalid:e(o).currentCategory.name.$error,type:"text",onInput:a[1]||(a[1]=l=>e(o).currentCategory.name.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),n(_,{label:s.$t("expenses.description"),error:e(o).currentCategory.description.$error&&e(o).currentCategory.description.$errors[0].$message},{default:r(()=>[n(M,{modelValue:e(t).currentCategory.description,"onUpdate:modelValue":a[2]||(a[2]=l=>e(t).currentCategory.description=l),rows:"4",cols:"50",onInput:a[3]||(a[3]=l=>e(o).currentCategory.description.$touch())},null,8,["modelValue"])]),_:1},8,["label","error"])]),_:1})]),m("div",F,[n($,{type:"button",variant:"primary-outline",class:"mr-3 text-sm",onClick:d},{default:r(()=>[f(C(s.$t("general.cancel")),1)]),_:1}),n($,{loading:e(c),disabled:e(c),variant:"primary",type:"submit"},{left:r(l=>[e(c)?G("",!0):(B(),b(v,{key:0,name:"SaveIcon",class:D(l.class)},null,8,["class"]))]),default:r(()=>[f(" "+C(e(t).isEdit?s.$t("general.update"):s.$t("general.save")),1)]),_:1},8,["loading","disabled"])])],40,J)]),_:1},8,["show"])}}};export{Q as _};

--- public/build/assets/CompanyInfoSettings.a1bb8458.js ---
@@ -1 +1 @@
-var te=Object.defineProperty;var L=Object.getOwnPropertySymbols;var oe=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable;var T=(f,s,d)=>s in f?te(f,s,{enumerable:!0,configurable:!0,writable:!0,value:d}):f[s]=d,A=(f,s)=>{for(var d in s||(s={}))oe.call(s,d)&&T(f,d,s[d]);if(L)for(var d of L(s))se.call(s,d)&&T(f,d,s[d]);return f};import{aN as ne,J as R,B as h,a0 as J,k as F,L as I,M as k,P as le,T as E,r as i,o as S,l as q,w as r,h as u,t as v,u as e,f as o,i as j,m as O,j as z,U as P,ah as de,N as re,e as H,x as ie,F as ue}from"./vendor.01d0adc5.js";import{b as K,c as Q,d as W}from"./main.832b14c7.js";const me={class:"flex justify-between w-full"},ce={class:"px-6 pt-6"},pe={class:"font-medium text-lg text-left"},_e={class:"mt-2 text-sm leading-snug text-gray-500",style:{"max-width":"680px"}},fe=["onSubmit"],ye={class:"p-4 sm:p-6 space-y-4"},ge={class:"z-0 flex justify-end p-4 bg-gray-50 border-modal-bg"},ve={setup(f){const s=K(),d=Q(),M=W(),B=ne(),{t:D}=R();let m=h(!1);const a=J({id:s.selectedCompany.id,name:null}),b=F(()=>d.active&&d.componentName==="DeleteCompanyModal"),V={formData:{name:{required:I.withMessage(D("validation.required"),k),sameAsName:I.withMessage(D("validation.company_name_not_same"),le(s.selectedCompany.name))}}},p=E(V,{formData:a},{$scope:!1});async function U(){if(p.value.$touch(),p.value.$invalid)return!0;const g=s.companies[0];m.value=!0;try{const y=await s.deleteCompany(a);console.log(y.data.success),y.data.success&&(C(),await s.setSelectedCompany(g),B.push("/admin/dashboard"),await M.setIsAppLoaded(!1),await M.bootstrap()),m.value=!1}catch{m.value=!1}}function _(){a.id=null,a.name="",p.value.$reset()}function C(){d.closeModal(),setTimeout(()=>{_(),p.value.$reset()},300)}return(g,y)=>{const x=i("BaseInput"),l=i("BaseInputGroup"),t=i("BaseButton"),N=i("BaseIcon"),c=i("BaseModal");return S(),q(c,{show:e(b),onClose:C},{default:r(()=>[u("div",me,[u("div",ce,[u("h6",pe,v(e(d).title),1),u("p",_e,v(g.$t("settings.company_info.delete_company_modal_desc",{company:e(s).selectedCompany.name})),1)])]),u("form",{action:"",onSubmit:P(U,["prevent"])},[u("div",ye,[o(l,{label:g.$t("settings.company_info.delete_company_modal_label",{company:e(s).selectedCompany.name}),error:e(p).formData.name.$error&&e(p).formData.name.$errors[0].$message,required:""},{default:r(()=>[o(x,{modelValue:e(a).name,"onUpdate:modelValue":y[0]||(y[0]=$=>e(a).name=$),invalid:e(p).formData.name.$error,onInput:y[1]||(y[1]=$=>e(p).formData.name.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"])]),u("div",ge,[o(t,{class:"mr-3 text-sm",variant:"primary-outline",outline:"",type:"button",onClick:C},{default:r(()=>[j(v(g.$t("general.cancel")),1)]),_:1}),o(t,{loading:e(m),disabled:e(m),variant:"danger",type:"submit"},{left:r($=>[e(m)?z("",!0):(S(),q(N,{key:0,name:"TrashIcon",class:O($.class)},null,8,["class"]))]),default:r(()=>[j(" "+v(g.$t("general.delete")),1)]),_:1},8,["loading","disabled"])])],40,fe)]),_:1},8,["show"])}}},be=["onSubmit"],$e={key:0,class:"py-5"},Be={class:"text-lg leading-6 font-medium text-gray-900"},Ve={class:"mt-2 max-w-xl text-sm text-gray-500"},Ce={class:"mt-5"},Se={setup(f){const s=K(),d=W(),M=Q(),{t:B}=R(),D=de("utils");let m=h(!1);const a=J({name:null,logo:null,address:{address_street_1:"",address_street_2:"",website:"",country_id:null,state:"",city:"",phone:"",zip:""}});D.mergeSettings(a,A({},s.selectedCompany));let b=h([]),V=h(null),p=h(null);a.logo&&b.value.push({image:a.logo});const U=F(()=>({name:{required:I.withMessage(B("validation.required"),k),minLength:I.withMessage(B("validation.name_min_length"),re(3))},address:{country_id:{required:I.withMessage(B("validation.required"),k)}}})),_=E(U,F(()=>a));d.fetchCountries();function C(l,t,N,c){p.value=c.name,V.value=t}function g(){V.value=null}async function y(){if(_.value.$touch(),_.value.$invalid)return!0;if(m.value=!0,(await s.updateCompany(a)).data.data){if(V.value){let t=new FormData;t.append("company_logo",JSON.stringify({name:p.value,data:V.value})),await s.updateCompanyLogo(t)}m.value=!1}m.value=!1}function x(l){M.openModal({title:B("settings.company_info.are_you_absolutely_sure"),componentName:"DeleteCompanyModal",size:"sm"})}return(l,t)=>{const N=i("BaseFileUploader"),c=i("BaseInputGroup"),$=i("BaseInputGrid"),w=i("BaseInput"),X=i("BaseMultiselect"),G=i("BaseTextarea"),Y=i("BaseIcon"),Z=i("BaseButton"),ee=i("BaseDivider"),ae=i("BaseSettingCard");return S(),H(ue,null,[u("form",{onSubmit:P(y,["prevent"])},[o(ae,{title:l.$t("settings.company_info.company_info"),description:l.$t("settings.company_info.section_description")},{default:r(()=>[o($,{class:"mt-5"},{default:r(()=>[o(c,{label:l.$tc("settings.company_info.company_logo")},{default:r(()=>[o(N,{modelValue:e(b),"onUpdate:modelValue":t[0]||(t[0]=n=>ie(b)?b.value=n:b=n),base64:"",onChange:C,onRemove:g},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),o($,{class:"mt-5"},{default:r(()=>[o(c,{label:l.$tc("settings.company_info.company_name"),error:e(_).name.$error&&e(_).name.$errors[0].$message,required:""},{default:r(()=>[o(w,{modelValue:e(a).name,"onUpdate:modelValue":t[1]||(t[1]=n=>e(a).name=n),invalid:e(_).name.$error,onBlur:t[2]||(t[2]=n=>e(_).name.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),o(c,{label:l.$tc("settings.company_info.phone")},{default:r(()=>[o(w,{modelValue:e(a).address.phone,"onUpdate:modelValue":t[3]||(t[3]=n=>e(a).address.phone=n)},null,8,["modelValue"])]),_:1},8,["label"]),o(c,{label:l.$tc("settings.company_info.country"),error:e(_).address.country_id.$error&&e(_).address.country_id.$errors[0].$message,required:""},{default:r(()=>[o(X,{modelValue:e(a).address.country_id,"onUpdate:modelValue":t[4]||(t[4]=n=>e(a).address.country_id=n),label:"name",invalid:e(_).address.country_id.$error,options:e(d).countries,"value-prop":"id","can-deselect":!0,"can-clear":!1,searchable:"","track-by":"name"},null,8,["modelValue","invalid","options"])]),_:1},8,["label","error"]),o(c,{label:l.$tc("settings.company_info.state")},{default:r(()=>[o(w,{modelValue:e(a).address.state,"onUpdate:modelValue":t[5]||(t[5]=n=>e(a).address.state=n),name:"state",type:"text"},null,8,["modelValue"])]),_:1},8,["label"]),o(c,{label:l.$tc("settings.company_info.city")},{default:r(()=>[o(w,{modelValue:e(a).address.city,"onUpdate:modelValue":t[6]||(t[6]=n=>e(a).address.city=n),type:"text"},null,8,["modelValue"])]),_:1},8,["label"]),o(c,{label:l.$tc("settings.company_info.zip")},{default:r(()=>[o(w,{modelValue:e(a).address.zip,"onUpdate:modelValue":t[7]||(t[7]=n=>e(a).address.zip=n)},null,8,["modelValue"])]),_:1},8,["label"]),u("div",null,[o(c,{label:l.$tc("settings.company_info.address")},{default:r(()=>[o(G,{modelValue:e(a).address.address_street_1,"onUpdate:modelValue":t[8]||(t[8]=n=>e(a).address.address_street_1=n),rows:"2"},null,8,["modelValue"])]),_:1},8,["label"]),o(G,{modelValue:e(a).address.address_street_2,"onUpdate:modelValue":t[9]||(t[9]=n=>e(a).address.address_street_2=n),rows:"2",row:2,class:"mt-2"},null,8,["modelValue"])])]),_:1}),o(Z,{loading:e(m),disabled:e(m),type:"submit",class:"mt-6"},{left:r(n=>[e(m)?z("",!0):(S(),q(Y,{key:0,class:O(n.class),name:"SaveIcon"},null,8,["class"]))]),default:r(()=>[j(" "+v(l.$tc("settings.company_info.save")),1)]),_:1},8,["loading","disabled"]),e(s).companies.length!==1?(S(),H("div",$e,[o(ee,{class:"my-4"}),u("h3",Be,v(l.$tc("settings.company_info.delete_company")),1),u("div",Ve,[u("p",null,v(l.$tc("settings.company_info.delete_company_description")),1)]),u("div",Ce,[u("button",{type:"button",class:"inline-flex items-center justify-center px-4 py-2 border border-transparent font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:text-sm",onClick:x},v(l.$tc("general.delete")),1)])])):z("",!0)]),_:1},8,["title","description"])],40,be),o(ve)],64)}}};export{Se as default};
+var te=Object.defineProperty;var L=Object.getOwnPropertySymbols;var oe=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable;var T=(f,s,d)=>s in f?te(f,s,{enumerable:!0,configurable:!0,writable:!0,value:d}):f[s]=d,A=(f,s)=>{for(var d in s||(s={}))oe.call(s,d)&&T(f,d,s[d]);if(L)for(var d of L(s))se.call(s,d)&&T(f,d,s[d]);return f};import{aN as ne,J as R,B as h,a0 as J,k as F,L as I,M as k,P as le,T as E,r as i,o as S,l as q,w as r,h as u,t as v,u as e,f as o,i as j,m as O,j as z,U as P,ah as de,N as re,e as H,x as ie,F as ue}from"./vendor.01d0adc5.js";import{b as K,c as Q,d as W}from"./main.75722495.js";const me={class:"flex justify-between w-full"},ce={class:"px-6 pt-6"},pe={class:"font-medium text-lg text-left"},_e={class:"mt-2 text-sm leading-snug text-gray-500",style:{"max-width":"680px"}},fe=["onSubmit"],ye={class:"p-4 sm:p-6 space-y-4"},ge={class:"z-0 flex justify-end p-4 bg-gray-50 border-modal-bg"},ve={setup(f){const s=K(),d=Q(),M=W(),B=ne(),{t:D}=R();let m=h(!1);const a=J({id:s.selectedCompany.id,name:null}),b=F(()=>d.active&&d.componentName==="DeleteCompanyModal"),V={formData:{name:{required:I.withMessage(D("validation.required"),k),sameAsName:I.withMessage(D("validation.company_name_not_same"),le(s.selectedCompany.name))}}},p=E(V,{formData:a},{$scope:!1});async function U(){if(p.value.$touch(),p.value.$invalid)return!0;const g=s.companies[0];m.value=!0;try{const y=await s.deleteCompany(a);console.log(y.data.success),y.data.success&&(C(),await s.setSelectedCompany(g),B.push("/admin/dashboard"),await M.setIsAppLoaded(!1),await M.bootstrap()),m.value=!1}catch{m.value=!1}}function _(){a.id=null,a.name="",p.value.$reset()}function C(){d.closeModal(),setTimeout(()=>{_(),p.value.$reset()},300)}return(g,y)=>{const x=i("BaseInput"),l=i("BaseInputGroup"),t=i("BaseButton"),N=i("BaseIcon"),c=i("BaseModal");return S(),q(c,{show:e(b),onClose:C},{default:r(()=>[u("div",me,[u("div",ce,[u("h6",pe,v(e(d).title),1),u("p",_e,v(g.$t("settings.company_info.delete_company_modal_desc",{company:e(s).selectedCompany.name})),1)])]),u("form",{action:"",onSubmit:P(U,["prevent"])},[u("div",ye,[o(l,{label:g.$t("settings.company_info.delete_company_modal_label",{company:e(s).selectedCompany.name}),error:e(p).formData.name.$error&&e(p).formData.name.$errors[0].$message,required:""},{default:r(()=>[o(x,{modelValue:e(a).name,"onUpdate:modelValue":y[0]||(y[0]=$=>e(a).name=$),invalid:e(p).formData.name.$error,onInput:y[1]||(y[1]=$=>e(p).formData.name.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"])]),u("div",ge,[o(t,{class:"mr-3 text-sm",variant:"primary-outline",outline:"",type:"button",onClick:C},{default:r(()=>[j(v(g.$t("general.cancel")),1)]),_:1}),o(t,{loading:e(m),disabled:e(m),variant:"danger",type:"submit"},{left:r($=>[e(m)?z("",!0):(S(),q(N,{key:0,name:"TrashIcon",class:O($.class)},null,8,["class"]))]),default:r(()=>[j(" "+v(g.$t("general.delete")),1)]),_:1},8,["loading","disabled"])])],40,fe)]),_:1},8,["show"])}}},be=["onSubmit"],$e={key:0,class:"py-5"},Be={class:"text-lg leading-6 font-medium text-gray-900"},Ve={class:"mt-2 max-w-xl text-sm text-gray-500"},Ce={class:"mt-5"},Se={setup(f){const s=K(),d=W(),M=Q(),{t:B}=R(),D=de("utils");let m=h(!1);const a=J({name:null,logo:null,address:{address_street_1:"",address_street_2:"",website:"",country_id:null,state:"",city:"",phone:"",zip:""}});D.mergeSettings(a,A({},s.selectedCompany));let b=h([]),V=h(null),p=h(null);a.logo&&b.value.push({image:a.logo});const U=F(()=>({name:{required:I.withMessage(B("validation.required"),k),minLength:I.withMessage(B("validation.name_min_length"),re(3))},address:{country_id:{required:I.withMessage(B("validation.required"),k)}}})),_=E(U,F(()=>a));d.fetchCountries();function C(l,t,N,c){p.value=c.name,V.value=t}function g(){V.value=null}async function y(){if(_.value.$touch(),_.value.$invalid)return!0;if(m.value=!0,(await s.updateCompany(a)).data.data){if(V.value){let t=new FormData;t.append("company_logo",JSON.stringify({name:p.value,data:V.value})),await s.updateCompanyLogo(t)}m.value=!1}m.value=!1}function x(l){M.openModal({title:B("settings.company_info.are_you_absolutely_sure"),componentName:"DeleteCompanyModal",size:"sm"})}return(l,t)=>{const N=i("BaseFileUploader"),c=i("BaseInputGroup"),$=i("BaseInputGrid"),w=i("BaseInput"),X=i("BaseMultiselect"),G=i("BaseTextarea"),Y=i("BaseIcon"),Z=i("BaseButton"),ee=i("BaseDivider"),ae=i("BaseSettingCard");return S(),H(ue,null,[u("form",{onSubmit:P(y,["prevent"])},[o(ae,{title:l.$t("settings.company_info.company_info"),description:l.$t("settings.company_info.section_description")},{default:r(()=>[o($,{class:"mt-5"},{default:r(()=>[o(c,{label:l.$tc("settings.company_info.company_logo")},{default:r(()=>[o(N,{modelValue:e(b),"onUpdate:modelValue":t[0]||(t[0]=n=>ie(b)?b.value=n:b=n),base64:"",onChange:C,onRemove:g},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),o($,{class:"mt-5"},{default:r(()=>[o(c,{label:l.$tc("settings.company_info.company_name"),error:e(_).name.$error&&e(_).name.$errors[0].$message,required:""},{default:r(()=>[o(w,{modelValue:e(a).name,"onUpdate:modelValue":t[1]||(t[1]=n=>e(a).name=n),invalid:e(_).name.$error,onBlur:t[2]||(t[2]=n=>e(_).name.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),o(c,{label:l.$tc("settings.company_info.phone")},{default:r(()=>[o(w,{modelValue:e(a).address.phone,"onUpdate:modelValue":t[3]||(t[3]=n=>e(a).address.phone=n)},null,8,["modelValue"])]),_:1},8,["label"]),o(c,{label:l.$tc("settings.company_info.country"),error:e(_).address.country_id.$error&&e(_).address.country_id.$errors[0].$message,required:""},{default:r(()=>[o(X,{modelValue:e(a).address.country_id,"onUpdate:modelValue":t[4]||(t[4]=n=>e(a).address.country_id=n),label:"name",invalid:e(_).address.country_id.$error,options:e(d).countries,"value-prop":"id","can-deselect":!0,"can-clear":!1,searchable:"","track-by":"name"},null,8,["modelValue","invalid","options"])]),_:1},8,["label","error"]),o(c,{label:l.$tc("settings.company_info.state")},{default:r(()=>[o(w,{modelValue:e(a).address.state,"onUpdate:modelValue":t[5]||(t[5]=n=>e(a).address.state=n),name:"state",type:"text"},null,8,["modelValue"])]),_:1},8,["label"]),o(c,{label:l.$tc("settings.company_info.city")},{default:r(()=>[o(w,{modelValue:e(a).address.city,"onUpdate:modelValue":t[6]||(t[6]=n=>e(a).address.city=n),type:"text"},null,8,["modelValue"])]),_:1},8,["label"]),o(c,{label:l.$tc("settings.company_info.zip")},{default:r(()=>[o(w,{modelValue:e(a).address.zip,"onUpdate:modelValue":t[7]||(t[7]=n=>e(a).address.zip=n)},null,8,["modelValue"])]),_:1},8,["label"]),u("div",null,[o(c,{label:l.$tc("settings.company_info.address")},{default:r(()=>[o(G,{modelValue:e(a).address.address_street_1,"onUpdate:modelValue":t[8]||(t[8]=n=>e(a).address.address_street_1=n),rows:"2"},null,8,["modelValue"])]),_:1},8,["label"]),o(G,{modelValue:e(a).address.address_street_2,"onUpdate:modelValue":t[9]||(t[9]=n=>e(a).address.address_street_2=n),rows:"2",row:2,class:"mt-2"},null,8,["modelValue"])])]),_:1}),o(Z,{loading:e(m),disabled:e(m),type:"submit",class:"mt-6"},{left:r(n=>[e(m)?z("",!0):(S(),q(Y,{key:0,class:O(n.class),name:"SaveIcon"},null,8,["class"]))]),default:r(()=>[j(" "+v(l.$tc("settings.company_info.save")),1)]),_:1},8,["loading","disabled"]),e(s).companies.length!==1?(S(),H("div",$e,[o(ee,{class:"my-4"}),u("h3",Be,v(l.$tc("settings.company_info.delete_company")),1),u("div",Ve,[u("p",null,v(l.$tc("settings.company_info.delete_company_description")),1)]),u("div",Ce,[u("button",{type:"button",class:"inline-flex items-center justify-center px-4 py-2 border border-transparent font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:text-sm",onClick:x},v(l.$tc("general.delete")),1)])])):z("",!0)]),_:1},8,["title","description"])],40,be),o(ve)],64)}}};export{Se as default};

--- public/build/assets/Create.3e41e2ab.js ---
@@ -1 +1 @@
-var ae=Object.defineProperty;var G=Object.getOwnPropertySymbols;var ie=Object.prototype.hasOwnProperty,ue=Object.prototype.propertyIsEnumerable;var N=(y,o,b)=>o in y?ae(y,o,{enumerable:!0,configurable:!0,writable:!0,value:b}):y[o]=b,T=(y,o)=>{for(var b in o||(o={}))ie.call(o,b)&&N(y,b,o[b]);if(G)for(var b of G(o))ue.call(o,b)&&N(y,b,o[b]);return y};import{J as de,aN as me,G as ce,B,k as M,L as g,M as R,N as F,O as A,Q as pe,P as ge,R as be,S as q,T as Ce,r as p,o as _,l as $,w as i,h as m,f as r,m as O,i as H,t as v,u as e,j as V,x as L,e as J,U as fe}from"./vendor.01d0adc5.js";import{l as _e,m as $e,d as ye,b as ve,n as Ve}from"./main.832b14c7.js";import{_ as we}from"./CreateCustomFields.940787b7.js";const he=["onSubmit"],Be={class:"flex items-center justify-end"},Me={class:"grid grid-cols-5 gap-4 mb-8"},Ie={class:"col-span-5 text-lg font-semibold text-left lg:col-span-1"},xe={class:"grid grid-cols-5 gap-4 mb-8"},Ue={class:"col-span-5 text-lg font-semibold text-left lg:col-span-1"},ke={class:"md:col-span-2"},Se={class:"text-sm text-gray-500"},qe={class:"grid grid-cols-5 gap-4 mb-8"},Le={class:"col-span-5 text-lg font-semibold text-left lg:col-span-1"},ze={class:"space-y-6"},Pe={class:"flex items-center justify-start mb-6 md:justify-end md:mb-0"},Fe={class:"p-1"},je={key:0,class:"grid grid-cols-5 gap-4 mb-8"},De={class:"col-span-5 text-lg font-semibold text-left lg:col-span-1"},Ee={class:"space-y-6"},Ge={class:"grid grid-cols-5 gap-2 mb-8"},Ne={key:0,class:"col-span-5 text-lg font-semibold text-left lg:col-span-1"},Te={class:"col-span-5 lg:col-span-4"},Je={setup(y){const o=_e(),b=$e(),z=ye(),Q=ve(),j="customFields",{t:c}=de(),K=me(),W=ce();let s=B(!1),C=B(!1),f=B(!1);B(!1);const I=B(!1),h=M(()=>W.name==="customers.edit");let X=M(()=>o.isFetchingInitialSettings);const D=M(()=>h.value?c("customers.edit_customer"):c("customers.new_customer")),Y=M(()=>({currentCustomer:{name:{required:g.withMessage(c("validation.required"),R),minLength:g.withMessage(c("validation.name_min_length",{count:3}),F(3))},prefix:{minLength:g.withMessage(c("validation.name_min_length",{count:3}),F(3))},currency_id:{required:g.withMessage(c("validation.required"),R)},email:{required:g.withMessage(c("validation.required"),A(o.currentCustomer.enable_portal==!0)),email:g.withMessage(c("validation.email_incorrect"),pe)},password:{required:g.withMessage(c("validation.required"),A(o.currentCustomer.enable_portal==!0&&!o.currentCustomer.password_added)),minLength:g.withMessage(c("validation.password_min_length",{count:8}),F(8))},confirm_password:{sameAsPassword:g.withMessage(c("validation.password_incorrect"),ge(o.currentCustomer.password))},website:{url:g.withMessage(c("validation.invalid_url"),be)},billing:{address_street_1:{maxLength:g.withMessage(c("validation.address_maxlength",{count:255}),q(255))},address_street_2:{maxLength:g.withMessage(c("validation.address_maxlength",{count:255}),q(255))}},shipping:{address_street_1:{maxLength:g.withMessage(c("validation.address_maxlength",{count:255}),q(255))},address_street_2:{maxLength:g.withMessage(c("validation.address_maxlength",{count:255}),q(255))}}}})),Z=M(()=>`${window.location.origin}/${Q.selectedCompany.slug}/customer/login`),a=Ce(Y,o,{$scope:j});o.resetCurrentCustomer(),o.fetchCustomerInitialSettings(h.value);async function ee(){if(a.value.$touch(),a.value.$invalid)return!0;I.value=!0;let l=T({},o.currentCustomer),t=null;try{t=await(h.value?o.updateCustomer:o.addCustomer)(l)}catch{I.value=!1;return}K.push(`/admin/customers/${t.data.data.id}/view`)}return(l,t)=>{const x=p("BaseBreadcrumbItem"),te=p("BaseBreadcrumb-item"),oe=p("BaseBreadcrumb"),w=p("BaseIcon"),E=p("BaseButton"),ne=p("BasePageHeader"),d=p("BaseInput"),u=p("BaseInputGroup"),P=p("BaseMultiselect"),U=p("BaseInputGrid"),k=p("BaseDivider"),re=p("BaseSwitch"),S=p("BaseTextarea"),se=p("BaseCard"),le=p("BasePage");return _(),$(le,null,{default:i(()=>[m("form",{onSubmit:fe(ee,["prevent"])},[r(ne,{title:e(D)},{actions:i(()=>[m("div",Be,[r(E,{type:"submit",loading:I.value,disabled:I.value},{left:i(n=>[r(w,{name:"SaveIcon",class:O(n.class)},null,8,["class"])]),default:i(()=>[H(" "+v(e(h)?l.$t("customers.update_customer"):l.$t("customers.save_customer")),1)]),_:1},8,["loading","disabled"])])]),default:i(()=>[r(oe,null,{default:i(()=>[r(x,{title:l.$t("general.home"),to:"dashboard"},null,8,["title"]),r(x,{title:l.$tc("customers.customer",2),to:"/admin/customers"},null,8,["title"]),r(te,{title:e(D),to:"#",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),r(se,{class:"mt-5"},{default:i(()=>[m("div",Me,[m("h6",Ie,v(l.$t("customers.basic_info")),1),r(U,{class:"col-span-5 lg:col-span-4"},{default:i(()=>[r(u,{label:l.$t("customers.display_name"),required:"",error:e(a).currentCustomer.name.$error&&e(a).currentCustomer.name.$errors[0].$message,"content-loading":e(s)},{default:i(()=>[r(d,{modelValue:e(o).currentCustomer.name,"onUpdate:modelValue":t[0]||(t[0]=n=>e(o).currentCustomer.name=n),"content-loading":e(s),type:"text",name:"name",class:"",invalid:e(a).currentCustomer.name.$error,onInput:t[1]||(t[1]=n=>e(a).currentCustomer.name.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","error","content-loading"]),r(u,{label:l.$t("customers.primary_contact_name"),"content-loading":e(s)},{default:i(()=>[r(d,{modelValue:e(o).currentCustomer.contact_name,"onUpdate:modelValue":t[2]||(t[2]=n=>e(o).currentCustomer.contact_name=n),modelModifiers:{trim:!0},"content-loading":e(s),type:"text"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),r(u,{error:e(a).currentCustomer.email.$error&&e(a).currentCustomer.email.$errors[0].$message,"content-loading":e(s),label:l.$t("customers.email")},{default:i(()=>[r(d,{modelValue:e(o).currentCustomer.email,"onUpdate:modelValue":t[3]||(t[3]=n=>e(o).currentCustomer.email=n),modelModifiers:{trim:!0},"content-loading":e(s),type:"text",name:"email",invalid:e(a).currentCustomer.email.$error,onInput:t[4]||(t[4]=n=>e(a).currentCustomer.email.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["error","content-loading","label"]),r(u,{label:l.$t("customers.phone"),"content-loading":e(s)},{default:i(()=>[r(d,{modelValue:e(o).currentCustomer.phone,"onUpdate:modelValue":t[5]||(t[5]=n=>e(o).currentCustomer.phone=n),modelModifiers:{trim:!0},"content-loading":e(s),type:"text",name:"phone"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),r(u,{label:l.$t("customers.primary_currency"),"content-loading":e(s),error:e(a).currentCustomer.currency_id.$error&&e(a).currentCustomer.currency_id.$errors[0].$message,required:""},{default:i(()=>[r(P,{modelValue:e(o).currentCustomer.currency_id,"onUpdate:modelValue":t[6]||(t[6]=n=>e(o).currentCustomer.currency_id=n),"value-prop":"id",label:"name","track-by":"name","content-loading":e(s),options:e(z).currencies,searchable:"","can-deselect":!1,placeholder:l.$t("customers.select_currency"),invalid:e(a).currentCustomer.currency_id.$error,class:"w-full"},null,8,["modelValue","content-loading","options","placeholder","invalid"])]),_:1},8,["label","content-loading","error"]),r(u,{error:e(a).currentCustomer.website.$error&&e(a).currentCustomer.website.$errors[0].$message,label:l.$t("customers.website"),"content-loading":e(s)},{default:i(()=>[r(d,{modelValue:e(o).currentCustomer.website,"onUpdate:modelValue":t[7]||(t[7]=n=>e(o).currentCustomer.website=n),"content-loading":e(s),type:"url",onInput:t[8]||(t[8]=n=>e(a).currentCustomer.website.$touch())},null,8,["modelValue","content-loading"])]),_:1},8,["error","label","content-loading"]),r(u,{label:l.$t("customers.prefix"),error:e(a).currentCustomer.prefix.$error&&e(a).currentCustomer.prefix.$errors[0].$message,"content-loading":e(s)},{default:i(()=>[r(d,{modelValue:e(o).currentCustomer.prefix,"onUpdate:modelValue":t[9]||(t[9]=n=>e(o).currentCustomer.prefix=n),"content-loading":e(s),type:"text",name:"name",class:"",invalid:e(a).currentCustomer.prefix.$error,onInput:t[10]||(t[10]=n=>e(a).currentCustomer.prefix.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","error","content-loading"])]),_:1})]),r(k,{class:"mb-5 md:mb-8"}),m("div",xe,[m("h6",Ue,v(l.$t("customers.portal_access")),1),r(U,{class:"col-span-5 lg:col-span-4"},{default:i(()=>[m("div",ke,[m("p",Se,v(l.$t("customers.portal_access_text")),1),r(re,{modelValue:e(o).currentCustomer.enable_portal,"onUpdate:modelValue":t[11]||(t[11]=n=>e(o).currentCustomer.enable_portal=n),class:"mt-1 flex"},null,8,["modelValue"])]),e(o).currentCustomer.enable_portal?(_(),$(u,{key:0,"content-loading":e(s),label:l.$t("customers.portal_access_url"),class:"md:col-span-2","help-text":l.$t("customers.portal_access_url_help")},{default:i(()=>[r(Ve,{token:e(Z)},null,8,["token"])]),_:1},8,["content-loading","label","help-text"])):V("",!0),e(o).currentCustomer.enable_portal?(_(),$(u,{key:1,"content-loading":e(s),error:e(a).currentCustomer.password.$error&&e(a).currentCustomer.password.$errors[0].$message,label:l.$t("customers.password")},{default:i(()=>[r(d,{modelValue:e(o).currentCustomer.password,"onUpdate:modelValue":t[14]||(t[14]=n=>e(o).currentCustomer.password=n),modelModifiers:{trim:!0},"content-loading":e(s),type:e(C)?"text":"password",name:"password",invalid:e(a).currentCustomer.password.$error,onInput:t[15]||(t[15]=n=>e(a).currentCustomer.password.$touch())},{right:i(()=>[e(C)?(_(),$(w,{key:0,name:"EyeOffIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:t[12]||(t[12]=n=>L(C)?C.value=!e(C):C=!e(C))})):(_(),$(w,{key:1,name:"EyeIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:t[13]||(t[13]=n=>L(C)?C.value=!e(C):C=!e(C))}))]),_:1},8,["modelValue","content-loading","type","invalid"])]),_:1},8,["content-loading","error","label"])):V("",!0),e(o).currentCustomer.enable_portal?(_(),$(u,{key:2,error:e(a).currentCustomer.confirm_password.$error&&e(a).currentCustomer.confirm_password.$errors[0].$message,"content-loading":e(s),label:"Confirm Password"},{default:i(()=>[r(d,{modelValue:e(o).currentCustomer.confirm_password,"onUpdate:modelValue":t[18]||(t[18]=n=>e(o).currentCustomer.confirm_password=n),modelModifiers:{trim:!0},"content-loading":e(s),type:e(f)?"text":"password",name:"confirm_password",invalid:e(a).currentCustomer.confirm_password.$error,onInput:t[19]||(t[19]=n=>e(a).currentCustomer.confirm_password.$touch())},{right:i(()=>[e(f)?(_(),$(w,{key:0,name:"EyeOffIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:t[16]||(t[16]=n=>L(f)?f.value=!e(f):f=!e(f))})):(_(),$(w,{key:1,name:"EyeIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:t[17]||(t[17]=n=>L(f)?f.value=!e(f):f=!e(f))}))]),_:1},8,["modelValue","content-loading","type","invalid"])]),_:1},8,["error","content-loading"])):V("",!0)]),_:1})]),r(k,{class:"mb-5 md:mb-8"}),m("div",qe,[m("h6",Le,v(l.$t("customers.billing_address")),1),e(o).currentCustomer.billing?(_(),$(U,{key:0,class:"col-span-5 lg:col-span-4"},{default:i(()=>[r(u,{label:l.$t("customers.name"),"content-loading":e(s)},{default:i(()=>[r(d,{modelValue:e(o).currentCustomer.billing.name,"onUpdate:modelValue":t[20]||(t[20]=n=>e(o).currentCustomer.billing.name=n),modelModifiers:{trim:!0},"content-loading":e(s),type:"text",class:"w-full",name:"address_name"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),r(u,{label:l.$t("customers.country"),"content-loading":e(s)},{default:i(()=>[r(P,{modelValue:e(o).currentCustomer.billing.country_id,"onUpdate:modelValue":t[21]||(t[21]=n=>e(o).currentCustomer.billing.country_id=n),"value-prop":"id",label:"name","track-by":"name","resolve-on-load":"",searchable:"","content-loading":e(s),options:e(z).countries,placeholder:l.$t("general.select_country"),class:"w-full"},null,8,["modelValue","content-loading","options","placeholder"])]),_:1},8,["label","content-loading"]),r(u,{label:l.$t("customers.state"),"content-loading":e(s)},{default:i(()=>[r(d,{modelValue:e(o).currentCustomer.billing.state,"onUpdate:modelValue":t[22]||(t[22]=n=>e(o).currentCustomer.billing.state=n),"content-loading":e(s),name:"billing.state",type:"text"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),r(u,{"content-loading":e(s),label:l.$t("customers.city")},{default:i(()=>[r(d,{modelValue:e(o).currentCustomer.billing.city,"onUpdate:modelValue":t[23]||(t[23]=n=>e(o).currentCustomer.billing.city=n),"content-loading":e(s),name:"billing.city",type:"text"},null,8,["modelValue","content-loading"])]),_:1},8,["content-loading","label"]),r(u,{label:l.$t("customers.address"),error:e(a).currentCustomer.billing.address_street_1.$error&&e(a).currentCustomer.billing.address_street_1.$errors[0].$message||e(a).currentCustomer.billing.address_street_2.$error&&e(a).currentCustomer.billing.address_street_2.$errors[0].$message,"content-loading":e(s)},{default:i(()=>[r(S,{modelValue:e(o).currentCustomer.billing.address_street_1,"onUpdate:modelValue":t[24]||(t[24]=n=>e(o).currentCustomer.billing.address_street_1=n),modelModifiers:{trim:!0},"content-loading":e(s),placeholder:l.$t("general.street_1"),type:"text",name:"billing_street1","container-class":"mt-3",onInput:t[25]||(t[25]=n=>e(a).currentCustomer.billing.address_street_1.$touch())},null,8,["modelValue","content-loading","placeholder"]),r(S,{modelValue:e(o).currentCustomer.billing.address_street_2,"onUpdate:modelValue":t[26]||(t[26]=n=>e(o).currentCustomer.billing.address_street_2=n),modelModifiers:{trim:!0},"content-loading":e(s),placeholder:l.$t("general.street_2"),type:"text",class:"mt-3",name:"billing_street2","container-class":"mt-3",onInput:t[27]||(t[27]=n=>e(a).currentCustomer.billing.address_street_2.$touch())},null,8,["modelValue","content-loading","placeholder"])]),_:1},8,["label","error","content-loading"]),m("div",ze,[r(u,{"content-loading":e(s),label:l.$t("customers.phone"),class:"text-left"},{default:i(()=>[r(d,{modelValue:e(o).currentCustomer.billing.phone,"onUpdate:modelValue":t[28]||(t[28]=n=>e(o).currentCustomer.billing.phone=n),modelModifiers:{trim:!0},"content-loading":e(s),type:"text",name:"phone"},null,8,["modelValue","content-loading"])]),_:1},8,["content-loading","label"]),r(u,{label:l.$t("customers.zip_code"),"content-loading":e(s),class:"mt-2 text-left"},{default:i(()=>[r(d,{modelValue:e(o).currentCustomer.billing.zip,"onUpdate:modelValue":t[29]||(t[29]=n=>e(o).currentCustomer.billing.zip=n),modelModifiers:{trim:!0},"content-loading":e(s),type:"text",name:"zip"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"])])]),_:1})):V("",!0)]),r(k,{class:"mb-5 md:mb-8"}),m("div",Pe,[m("div",Fe,[r(E,{type:"button","content-loading":e(s),size:"sm",variant:"primary-outline",onClick:t[30]||(t[30]=n=>e(o).copyAddress(!0))},{left:i(n=>[r(w,{name:"DocumentDuplicateIcon",class:O(n.class)},null,8,["class"])]),default:i(()=>[H(" "+v(l.$t("customers.copy_billing_address")),1)]),_:1},8,["content-loading"])])]),e(o).currentCustomer.shipping?(_(),J("div",je,[m("h6",De,v(l.$t("customers.shipping_address")),1),r(U,{class:"col-span-5 lg:col-span-4"},{default:i(()=>[r(u,{"content-loading":e(s),label:l.$t("customers.name")},{default:i(()=>[r(d,{modelValue:e(o).currentCustomer.shipping.name,"onUpdate:modelValue":t[31]||(t[31]=n=>e(o).currentCustomer.shipping.name=n),modelModifiers:{trim:!0},"content-loading":e(s),type:"text",name:"address_name"},null,8,["modelValue","content-loading"])]),_:1},8,["content-loading","label"]),r(u,{label:l.$t("customers.country"),"content-loading":e(s)},{default:i(()=>[r(P,{modelValue:e(o).currentCustomer.shipping.country_id,"onUpdate:modelValue":t[32]||(t[32]=n=>e(o).currentCustomer.shipping.country_id=n),"value-prop":"id",label:"name","track-by":"name","resolve-on-load":"",searchable:"","content-loading":e(s),options:e(z).countries,placeholder:l.$t("general.select_country"),class:"w-full"},null,8,["modelValue","content-loading","options","placeholder"])]),_:1},8,["label","content-loading"]),r(u,{label:l.$t("customers.state"),"content-loading":e(s)},{default:i(()=>[r(d,{modelValue:e(o).currentCustomer.shipping.state,"onUpdate:modelValue":t[33]||(t[33]=n=>e(o).currentCustomer.shipping.state=n),"content-loading":e(s),name:"shipping.state",type:"text"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),r(u,{"content-loading":e(s),label:l.$t("customers.city")},{default:i(()=>[r(d,{modelValue:e(o).currentCustomer.shipping.city,"onUpdate:modelValue":t[34]||(t[34]=n=>e(o).currentCustomer.shipping.city=n),"content-loading":e(s),name:"shipping.city",type:"text"},null,8,["modelValue","content-loading"])]),_:1},8,["content-loading","label"]),r(u,{label:l.$t("customers.address"),"content-loading":e(s),error:e(a).currentCustomer.shipping.address_street_1.$error&&e(a).currentCustomer.shipping.address_street_1.$errors[0].$message||e(a).currentCustomer.shipping.address_street_2.$error&&e(a).currentCustomer.shipping.address_street_2.$errors[0].$message},{default:i(()=>[r(S,{modelValue:e(o).currentCustomer.shipping.address_street_1,"onUpdate:modelValue":t[35]||(t[35]=n=>e(o).currentCustomer.shipping.address_street_1=n),modelModifiers:{trim:!0},"content-loading":e(s),type:"text",placeholder:l.$t("general.street_1"),name:"shipping_street1",onInput:t[36]||(t[36]=n=>e(a).currentCustomer.shipping.address_street_1.$touch())},null,8,["modelValue","content-loading","placeholder"]),r(S,{modelValue:e(o).currentCustomer.shipping.address_street_2,"onUpdate:modelValue":t[37]||(t[37]=n=>e(o).currentCustomer.shipping.address_street_2=n),modelModifiers:{trim:!0},"content-loading":e(s),type:"text",placeholder:l.$t("general.street_2"),name:"shipping_street2",class:"mt-3","container-class":"mt-3",onInput:t[38]||(t[38]=n=>e(a).currentCustomer.shipping.address_street_2.$touch())},null,8,["modelValue","content-loading","placeholder"])]),_:1},8,["label","content-loading","error"]),m("div",Ee,[r(u,{"content-loading":e(s),label:l.$t("customers.phone"),class:"text-left"},{default:i(()=>[r(d,{modelValue:e(o).currentCustomer.shipping.phone,"onUpdate:modelValue":t[39]||(t[39]=n=>e(o).currentCustomer.shipping.phone=n),modelModifiers:{trim:!0},"content-loading":e(s),type:"text",name:"phone"},null,8,["modelValue","content-loading"])]),_:1},8,["content-loading","label"]),r(u,{label:l.$t("customers.zip_code"),"content-loading":e(s),class:"mt-2 text-left"},{default:i(()=>[r(d,{modelValue:e(o).currentCustomer.shipping.zip,"onUpdate:modelValue":t[40]||(t[40]=n=>e(o).currentCustomer.shipping.zip=n),modelModifiers:{trim:!0},"content-loading":e(s),type:"text",name:"zip"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"])])]),_:1})])):V("",!0),e(b).customFields.length>0?(_(),$(k,{key:1,class:"mb-5 md:mb-8"})):V("",!0),m("div",Ge,[e(b).customFields.length>0?(_(),J("h6",Ne,v(l.$t("settings.custom_fields.title")),1)):V("",!0),m("div",Te,[r(we,{type:"Customer",store:e(o),"store-prop":"currentCustomer","is-edit":e(h),"is-loading":e(X),"custom-field-scope":j},null,8,["store","is-edit","is-loading"])])])]),_:1})],40,he)]),_:1})}}};export{Je as default};
+var ae=Object.defineProperty;var G=Object.getOwnPropertySymbols;var ie=Object.prototype.hasOwnProperty,ue=Object.prototype.propertyIsEnumerable;var N=(y,o,b)=>o in y?ae(y,o,{enumerable:!0,configurable:!0,writable:!0,value:b}):y[o]=b,T=(y,o)=>{for(var b in o||(o={}))ie.call(o,b)&&N(y,b,o[b]);if(G)for(var b of G(o))ue.call(o,b)&&N(y,b,o[b]);return y};import{J as de,aN as me,G as ce,B,k as M,L as g,M as R,N as F,O as A,Q as pe,P as ge,R as be,S as q,T as Ce,r as p,o as _,l as $,w as i,h as m,f as r,m as O,i as H,t as v,u as e,j as V,x as L,e as J,U as fe}from"./vendor.01d0adc5.js";import{l as _e,m as $e,d as ye,b as ve,n as Ve}from"./main.75722495.js";import{_ as we}from"./CreateCustomFields.a3a572c4.js";const he=["onSubmit"],Be={class:"flex items-center justify-end"},Me={class:"grid grid-cols-5 gap-4 mb-8"},Ie={class:"col-span-5 text-lg font-semibold text-left lg:col-span-1"},xe={class:"grid grid-cols-5 gap-4 mb-8"},Ue={class:"col-span-5 text-lg font-semibold text-left lg:col-span-1"},ke={class:"md:col-span-2"},Se={class:"text-sm text-gray-500"},qe={class:"grid grid-cols-5 gap-4 mb-8"},Le={class:"col-span-5 text-lg font-semibold text-left lg:col-span-1"},ze={class:"space-y-6"},Pe={class:"flex items-center justify-start mb-6 md:justify-end md:mb-0"},Fe={class:"p-1"},je={key:0,class:"grid grid-cols-5 gap-4 mb-8"},De={class:"col-span-5 text-lg font-semibold text-left lg:col-span-1"},Ee={class:"space-y-6"},Ge={class:"grid grid-cols-5 gap-2 mb-8"},Ne={key:0,class:"col-span-5 text-lg font-semibold text-left lg:col-span-1"},Te={class:"col-span-5 lg:col-span-4"},Je={setup(y){const o=_e(),b=$e(),z=ye(),Q=ve(),j="customFields",{t:c}=de(),K=me(),W=ce();let s=B(!1),C=B(!1),f=B(!1);B(!1);const I=B(!1),h=M(()=>W.name==="customers.edit");let X=M(()=>o.isFetchingInitialSettings);const D=M(()=>h.value?c("customers.edit_customer"):c("customers.new_customer")),Y=M(()=>({currentCustomer:{name:{required:g.withMessage(c("validation.required"),R),minLength:g.withMessage(c("validation.name_min_length",{count:3}),F(3))},prefix:{minLength:g.withMessage(c("validation.name_min_length",{count:3}),F(3))},currency_id:{required:g.withMessage(c("validation.required"),R)},email:{required:g.withMessage(c("validation.required"),A(o.currentCustomer.enable_portal==!0)),email:g.withMessage(c("validation.email_incorrect"),pe)},password:{required:g.withMessage(c("validation.required"),A(o.currentCustomer.enable_portal==!0&&!o.currentCustomer.password_added)),minLength:g.withMessage(c("validation.password_min_length",{count:8}),F(8))},confirm_password:{sameAsPassword:g.withMessage(c("validation.password_incorrect"),ge(o.currentCustomer.password))},website:{url:g.withMessage(c("validation.invalid_url"),be)},billing:{address_street_1:{maxLength:g.withMessage(c("validation.address_maxlength",{count:255}),q(255))},address_street_2:{maxLength:g.withMessage(c("validation.address_maxlength",{count:255}),q(255))}},shipping:{address_street_1:{maxLength:g.withMessage(c("validation.address_maxlength",{count:255}),q(255))},address_street_2:{maxLength:g.withMessage(c("validation.address_maxlength",{count:255}),q(255))}}}})),Z=M(()=>`${window.location.origin}/${Q.selectedCompany.slug}/customer/login`),a=Ce(Y,o,{$scope:j});o.resetCurrentCustomer(),o.fetchCustomerInitialSettings(h.value);async function ee(){if(a.value.$touch(),a.value.$invalid)return!0;I.value=!0;let l=T({},o.currentCustomer),t=null;try{t=await(h.value?o.updateCustomer:o.addCustomer)(l)}catch{I.value=!1;return}K.push(`/admin/customers/${t.data.data.id}/view`)}return(l,t)=>{const x=p("BaseBreadcrumbItem"),te=p("BaseBreadcrumb-item"),oe=p("BaseBreadcrumb"),w=p("BaseIcon"),E=p("BaseButton"),ne=p("BasePageHeader"),d=p("BaseInput"),u=p("BaseInputGroup"),P=p("BaseMultiselect"),U=p("BaseInputGrid"),k=p("BaseDivider"),re=p("BaseSwitch"),S=p("BaseTextarea"),se=p("BaseCard"),le=p("BasePage");return _(),$(le,null,{default:i(()=>[m("form",{onSubmit:fe(ee,["prevent"])},[r(ne,{title:e(D)},{actions:i(()=>[m("div",Be,[r(E,{type:"submit",loading:I.value,disabled:I.value},{left:i(n=>[r(w,{name:"SaveIcon",class:O(n.class)},null,8,["class"])]),default:i(()=>[H(" "+v(e(h)?l.$t("customers.update_customer"):l.$t("customers.save_customer")),1)]),_:1},8,["loading","disabled"])])]),default:i(()=>[r(oe,null,{default:i(()=>[r(x,{title:l.$t("general.home"),to:"dashboard"},null,8,["title"]),r(x,{title:l.$tc("customers.customer",2),to:"/admin/customers"},null,8,["title"]),r(te,{title:e(D),to:"#",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),r(se,{class:"mt-5"},{default:i(()=>[m("div",Me,[m("h6",Ie,v(l.$t("customers.basic_info")),1),r(U,{class:"col-span-5 lg:col-span-4"},{default:i(()=>[r(u,{label:l.$t("customers.display_name"),required:"",error:e(a).currentCustomer.name.$error&&e(a).currentCustomer.name.$errors[0].$message,"content-loading":e(s)},{default:i(()=>[r(d,{modelValue:e(o).currentCustomer.name,"onUpdate:modelValue":t[0]||(t[0]=n=>e(o).currentCustomer.name=n),"content-loading":e(s),type:"text",name:"name",class:"",invalid:e(a).currentCustomer.name.$error,onInput:t[1]||(t[1]=n=>e(a).currentCustomer.name.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","error","content-loading"]),r(u,{label:l.$t("customers.primary_contact_name"),"content-loading":e(s)},{default:i(()=>[r(d,{modelValue:e(o).currentCustomer.contact_name,"onUpdate:modelValue":t[2]||(t[2]=n=>e(o).currentCustomer.contact_name=n),modelModifiers:{trim:!0},"content-loading":e(s),type:"text"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),r(u,{error:e(a).currentCustomer.email.$error&&e(a).currentCustomer.email.$errors[0].$message,"content-loading":e(s),label:l.$t("customers.email")},{default:i(()=>[r(d,{modelValue:e(o).currentCustomer.email,"onUpdate:modelValue":t[3]||(t[3]=n=>e(o).currentCustomer.email=n),modelModifiers:{trim:!0},"content-loading":e(s),type:"text",name:"email",invalid:e(a).currentCustomer.email.$error,onInput:t[4]||(t[4]=n=>e(a).currentCustomer.email.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["error","content-loading","label"]),r(u,{label:l.$t("customers.phone"),"content-loading":e(s)},{default:i(()=>[r(d,{modelValue:e(o).currentCustomer.phone,"onUpdate:modelValue":t[5]||(t[5]=n=>e(o).currentCustomer.phone=n),modelModifiers:{trim:!0},"content-loading":e(s),type:"text",name:"phone"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),r(u,{label:l.$t("customers.primary_currency"),"content-loading":e(s),error:e(a).currentCustomer.currency_id.$error&&e(a).currentCustomer.currency_id.$errors[0].$message,required:""},{default:i(()=>[r(P,{modelValue:e(o).currentCustomer.currency_id,"onUpdate:modelValue":t[6]||(t[6]=n=>e(o).currentCustomer.currency_id=n),"value-prop":"id",label:"name","track-by":"name","content-loading":e(s),options:e(z).currencies,searchable:"","can-deselect":!1,placeholder:l.$t("customers.select_currency"),invalid:e(a).currentCustomer.currency_id.$error,class:"w-full"},null,8,["modelValue","content-loading","options","placeholder","invalid"])]),_:1},8,["label","content-loading","error"]),r(u,{error:e(a).currentCustomer.website.$error&&e(a).currentCustomer.website.$errors[0].$message,label:l.$t("customers.website"),"content-loading":e(s)},{default:i(()=>[r(d,{modelValue:e(o).currentCustomer.website,"onUpdate:modelValue":t[7]||(t[7]=n=>e(o).currentCustomer.website=n),"content-loading":e(s),type:"url",onInput:t[8]||(t[8]=n=>e(a).currentCustomer.website.$touch())},null,8,["modelValue","content-loading"])]),_:1},8,["error","label","content-loading"]),r(u,{label:l.$t("customers.prefix"),error:e(a).currentCustomer.prefix.$error&&e(a).currentCustomer.prefix.$errors[0].$message,"content-loading":e(s)},{default:i(()=>[r(d,{modelValue:e(o).currentCustomer.prefix,"onUpdate:modelValue":t[9]||(t[9]=n=>e(o).currentCustomer.prefix=n),"content-loading":e(s),type:"text",name:"name",class:"",invalid:e(a).currentCustomer.prefix.$error,onInput:t[10]||(t[10]=n=>e(a).currentCustomer.prefix.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","error","content-loading"])]),_:1})]),r(k,{class:"mb-5 md:mb-8"}),m("div",xe,[m("h6",Ue,v(l.$t("customers.portal_access")),1),r(U,{class:"col-span-5 lg:col-span-4"},{default:i(()=>[m("div",ke,[m("p",Se,v(l.$t("customers.portal_access_text")),1),r(re,{modelValue:e(o).currentCustomer.enable_portal,"onUpdate:modelValue":t[11]||(t[11]=n=>e(o).currentCustomer.enable_portal=n),class:"mt-1 flex"},null,8,["modelValue"])]),e(o).currentCustomer.enable_portal?(_(),$(u,{key:0,"content-loading":e(s),label:l.$t("customers.portal_access_url"),class:"md:col-span-2","help-text":l.$t("customers.portal_access_url_help")},{default:i(()=>[r(Ve,{token:e(Z)},null,8,["token"])]),_:1},8,["content-loading","label","help-text"])):V("",!0),e(o).currentCustomer.enable_portal?(_(),$(u,{key:1,"content-loading":e(s),error:e(a).currentCustomer.password.$error&&e(a).currentCustomer.password.$errors[0].$message,label:l.$t("customers.password")},{default:i(()=>[r(d,{modelValue:e(o).currentCustomer.password,"onUpdate:modelValue":t[14]||(t[14]=n=>e(o).currentCustomer.password=n),modelModifiers:{trim:!0},"content-loading":e(s),type:e(C)?"text":"password",name:"password",invalid:e(a).currentCustomer.password.$error,onInput:t[15]||(t[15]=n=>e(a).currentCustomer.password.$touch())},{right:i(()=>[e(C)?(_(),$(w,{key:0,name:"EyeOffIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:t[12]||(t[12]=n=>L(C)?C.value=!e(C):C=!e(C))})):(_(),$(w,{key:1,name:"EyeIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:t[13]||(t[13]=n=>L(C)?C.value=!e(C):C=!e(C))}))]),_:1},8,["modelValue","content-loading","type","invalid"])]),_:1},8,["content-loading","error","label"])):V("",!0),e(o).currentCustomer.enable_portal?(_(),$(u,{key:2,error:e(a).currentCustomer.confirm_password.$error&&e(a).currentCustomer.confirm_password.$errors[0].$message,"content-loading":e(s),label:"Confirm Password"},{default:i(()=>[r(d,{modelValue:e(o).currentCustomer.confirm_password,"onUpdate:modelValue":t[18]||(t[18]=n=>e(o).currentCustomer.confirm_password=n),modelModifiers:{trim:!0},"content-loading":e(s),type:e(f)?"text":"password",name:"confirm_password",invalid:e(a).currentCustomer.confirm_password.$error,onInput:t[19]||(t[19]=n=>e(a).currentCustomer.confirm_password.$touch())},{right:i(()=>[e(f)?(_(),$(w,{key:0,name:"EyeOffIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:t[16]||(t[16]=n=>L(f)?f.value=!e(f):f=!e(f))})):(_(),$(w,{key:1,name:"EyeIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:t[17]||(t[17]=n=>L(f)?f.value=!e(f):f=!e(f))}))]),_:1},8,["modelValue","content-loading","type","invalid"])]),_:1},8,["error","content-loading"])):V("",!0)]),_:1})]),r(k,{class:"mb-5 md:mb-8"}),m("div",qe,[m("h6",Le,v(l.$t("customers.billing_address")),1),e(o).currentCustomer.billing?(_(),$(U,{key:0,class:"col-span-5 lg:col-span-4"},{default:i(()=>[r(u,{label:l.$t("customers.name"),"content-loading":e(s)},{default:i(()=>[r(d,{modelValue:e(o).currentCustomer.billing.name,"onUpdate:modelValue":t[20]||(t[20]=n=>e(o).currentCustomer.billing.name=n),modelModifiers:{trim:!0},"content-loading":e(s),type:"text",class:"w-full",name:"address_name"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),r(u,{label:l.$t("customers.country"),"content-loading":e(s)},{default:i(()=>[r(P,{modelValue:e(o).currentCustomer.billing.country_id,"onUpdate:modelValue":t[21]||(t[21]=n=>e(o).currentCustomer.billing.country_id=n),"value-prop":"id",label:"name","track-by":"name","resolve-on-load":"",searchable:"","content-loading":e(s),options:e(z).countries,placeholder:l.$t("general.select_country"),class:"w-full"},null,8,["modelValue","content-loading","options","placeholder"])]),_:1},8,["label","content-loading"]),r(u,{label:l.$t("customers.state"),"content-loading":e(s)},{default:i(()=>[r(d,{modelValue:e(o).currentCustomer.billing.state,"onUpdate:modelValue":t[22]||(t[22]=n=>e(o).currentCustomer.billing.state=n),"content-loading":e(s),name:"billing.state",type:"text"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),r(u,{"content-loading":e(s),label:l.$t("customers.city")},{default:i(()=>[r(d,{modelValue:e(o).currentCustomer.billing.city,"onUpdate:modelValue":t[23]||(t[23]=n=>e(o).currentCustomer.billing.city=n),"content-loading":e(s),name:"billing.city",type:"text"},null,8,["modelValue","content-loading"])]),_:1},8,["content-loading","label"]),r(u,{label:l.$t("customers.address"),error:e(a).currentCustomer.billing.address_street_1.$error&&e(a).currentCustomer.billing.address_street_1.$errors[0].$message||e(a).currentCustomer.billing.address_street_2.$error&&e(a).currentCustomer.billing.address_street_2.$errors[0].$message,"content-loading":e(s)},{default:i(()=>[r(S,{modelValue:e(o).currentCustomer.billing.address_street_1,"onUpdate:modelValue":t[24]||(t[24]=n=>e(o).currentCustomer.billing.address_street_1=n),modelModifiers:{trim:!0},"content-loading":e(s),placeholder:l.$t("general.street_1"),type:"text",name:"billing_street1","container-class":"mt-3",onInput:t[25]||(t[25]=n=>e(a).currentCustomer.billing.address_street_1.$touch())},null,8,["modelValue","content-loading","placeholder"]),r(S,{modelValue:e(o).currentCustomer.billing.address_street_2,"onUpdate:modelValue":t[26]||(t[26]=n=>e(o).currentCustomer.billing.address_street_2=n),modelModifiers:{trim:!0},"content-loading":e(s),placeholder:l.$t("general.street_2"),type:"text",class:"mt-3",name:"billing_street2","container-class":"mt-3",onInput:t[27]||(t[27]=n=>e(a).currentCustomer.billing.address_street_2.$touch())},null,8,["modelValue","content-loading","placeholder"])]),_:1},8,["label","error","content-loading"]),m("div",ze,[r(u,{"content-loading":e(s),label:l.$t("customers.phone"),class:"text-left"},{default:i(()=>[r(d,{modelValue:e(o).currentCustomer.billing.phone,"onUpdate:modelValue":t[28]||(t[28]=n=>e(o).currentCustomer.billing.phone=n),modelModifiers:{trim:!0},"content-loading":e(s),type:"text",name:"phone"},null,8,["modelValue","content-loading"])]),_:1},8,["content-loading","label"]),r(u,{label:l.$t("customers.zip_code"),"content-loading":e(s),class:"mt-2 text-left"},{default:i(()=>[r(d,{modelValue:e(o).currentCustomer.billing.zip,"onUpdate:modelValue":t[29]||(t[29]=n=>e(o).currentCustomer.billing.zip=n),modelModifiers:{trim:!0},"content-loading":e(s),type:"text",name:"zip"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"])])]),_:1})):V("",!0)]),r(k,{class:"mb-5 md:mb-8"}),m("div",Pe,[m("div",Fe,[r(E,{type:"button","content-loading":e(s),size:"sm",variant:"primary-outline",onClick:t[30]||(t[30]=n=>e(o).copyAddress(!0))},{left:i(n=>[r(w,{name:"DocumentDuplicateIcon",class:O(n.class)},null,8,["class"])]),default:i(()=>[H(" "+v(l.$t("customers.copy_billing_address")),1)]),_:1},8,["content-loading"])])]),e(o).currentCustomer.shipping?(_(),J("div",je,[m("h6",De,v(l.$t("customers.shipping_address")),1),r(U,{class:"col-span-5 lg:col-span-4"},{default:i(()=>[r(u,{"content-loading":e(s),label:l.$t("customers.name")},{default:i(()=>[r(d,{modelValue:e(o).currentCustomer.shipping.name,"onUpdate:modelValue":t[31]||(t[31]=n=>e(o).currentCustomer.shipping.name=n),modelModifiers:{trim:!0},"content-loading":e(s),type:"text",name:"address_name"},null,8,["modelValue","content-loading"])]),_:1},8,["content-loading","label"]),r(u,{label:l.$t("customers.country"),"content-loading":e(s)},{default:i(()=>[r(P,{modelValue:e(o).currentCustomer.shipping.country_id,"onUpdate:modelValue":t[32]||(t[32]=n=>e(o).currentCustomer.shipping.country_id=n),"value-prop":"id",label:"name","track-by":"name","resolve-on-load":"",searchable:"","content-loading":e(s),options:e(z).countries,placeholder:l.$t("general.select_country"),class:"w-full"},null,8,["modelValue","content-loading","options","placeholder"])]),_:1},8,["label","content-loading"]),r(u,{label:l.$t("customers.state"),"content-loading":e(s)},{default:i(()=>[r(d,{modelValue:e(o).currentCustomer.shipping.state,"onUpdate:modelValue":t[33]||(t[33]=n=>e(o).currentCustomer.shipping.state=n),"content-loading":e(s),name:"shipping.state",type:"text"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),r(u,{"content-loading":e(s),label:l.$t("customers.city")},{default:i(()=>[r(d,{modelValue:e(o).currentCustomer.shipping.city,"onUpdate:modelValue":t[34]||(t[34]=n=>e(o).currentCustomer.shipping.city=n),"content-loading":e(s),name:"shipping.city",type:"text"},null,8,["modelValue","content-loading"])]),_:1},8,["content-loading","label"]),r(u,{label:l.$t("customers.address"),"content-loading":e(s),error:e(a).currentCustomer.shipping.address_street_1.$error&&e(a).currentCustomer.shipping.address_street_1.$errors[0].$message||e(a).currentCustomer.shipping.address_street_2.$error&&e(a).currentCustomer.shipping.address_street_2.$errors[0].$message},{default:i(()=>[r(S,{modelValue:e(o).currentCustomer.shipping.address_street_1,"onUpdate:modelValue":t[35]||(t[35]=n=>e(o).currentCustomer.shipping.address_street_1=n),modelModifiers:{trim:!0},"content-loading":e(s),type:"text",placeholder:l.$t("general.street_1"),name:"shipping_street1",onInput:t[36]||(t[36]=n=>e(a).currentCustomer.shipping.address_street_1.$touch())},null,8,["modelValue","content-loading","placeholder"]),r(S,{modelValue:e(o).currentCustomer.shipping.address_street_2,"onUpdate:modelValue":t[37]||(t[37]=n=>e(o).currentCustomer.shipping.address_street_2=n),modelModifiers:{trim:!0},"content-loading":e(s),type:"text",placeholder:l.$t("general.street_2"),name:"shipping_street2",class:"mt-3","container-class":"mt-3",onInput:t[38]||(t[38]=n=>e(a).currentCustomer.shipping.address_street_2.$touch())},null,8,["modelValue","content-loading","placeholder"])]),_:1},8,["label","content-loading","error"]),m("div",Ee,[r(u,{"content-loading":e(s),label:l.$t("customers.phone"),class:"text-left"},{default:i(()=>[r(d,{modelValue:e(o).currentCustomer.shipping.phone,"onUpdate:modelValue":t[39]||(t[39]=n=>e(o).currentCustomer.shipping.phone=n),modelModifiers:{trim:!0},"content-loading":e(s),type:"text",name:"phone"},null,8,["modelValue","content-loading"])]),_:1},8,["content-loading","label"]),r(u,{label:l.$t("customers.zip_code"),"content-loading":e(s),class:"mt-2 text-left"},{default:i(()=>[r(d,{modelValue:e(o).currentCustomer.shipping.zip,"onUpdate:modelValue":t[40]||(t[40]=n=>e(o).currentCustomer.shipping.zip=n),modelModifiers:{trim:!0},"content-loading":e(s),type:"text",name:"zip"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"])])]),_:1})])):V("",!0),e(b).customFields.length>0?(_(),$(k,{key:1,class:"mb-5 md:mb-8"})):V("",!0),m("div",Ge,[e(b).customFields.length>0?(_(),J("h6",Ne,v(l.$t("settings.custom_fields.title")),1)):V("",!0),m("div",Te,[r(we,{type:"Customer",store:e(o),"store-prop":"currentCustomer","is-edit":e(h),"is-loading":e(X),"custom-field-scope":j},null,8,["store","is-edit","is-loading"])])])]),_:1})],40,he)]),_:1})}}};export{Je as default};

--- public/build/assets/Create.625aeacb.js ---
@@ -1 +1 @@
-var W=Object.defineProperty,X=Object.defineProperties;var Y=Object.getOwnPropertyDescriptors;var S=Object.getOwnPropertySymbols;var Z=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var k=(m,a,o)=>a in m?W(m,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):m[a]=o,j=(m,a)=>{for(var o in a||(a={}))Z.call(a,o)&&k(m,o,a[o]);if(S)for(var o of S(a))x.call(a,o)&&k(m,o,a[o]);return m},N=(m,a)=>X(m,Y(a));import{J as ee,G as ae,aN as te,B as w,k as V,L as p,M as $,N as G,Q as oe,O as se,T as ne,r as d,o as b,l as h,w as u,f as s,u as e,h as y,e as re,y as le,F as ie,m as ue,j as de,i as me,t as ce,U as pe}from"./vendor.01d0adc5.js";import{b as ge}from"./main.832b14c7.js";import{V as fe}from"./index.esm.998a6eeb.js";import{u as ve}from"./users.936a04ee.js";const $e=["onSubmit"],De={class:"grid grid-cols-12"},Be={class:"space-y-6"},ye={setup(m){const a=ve(),{t:o}=ee(),q=ae(),L=te(),P=ge();let g=w(!1),l=w(!1);w([]);let I=w([]);const f=V(()=>q.name==="users.edit"),M=V(()=>f.value?o("users.edit_user"):o("users.new_user")),E=V(()=>({userData:{name:{required:p.withMessage(o("validation.required"),$),minLength:p.withMessage(o("validation.name_min_length",{count:3}),G(3))},email:{required:p.withMessage(o("validation.required"),$),email:p.withMessage(o("validation.email_incorrect"),oe)},password:{required:se(function(){return p.withMessage(o("validation.required"),$),!f.value}),minLength:p.withMessage(o("validation.password_min_length",{count:8}),G(8))},companies:{required:p.withMessage(o("validation.required"),$)}}})),F={role:{required:p.withMessage(o("validation.required"),$)}},n=ne(E,a,{$scope:!0});R(),a.resetUserData();async function R(){var i;l.value=!0;try{f.value&&await a.fetchUser(q.params.id);let t=await P.fetchUserCompanies();((i=t==null?void 0:t.data)==null?void 0:i.data)&&(I.value=t.data.data.map(c=>(c.role=null,c)))}catch{l.value=!1}l.value=!1}async function T(){if(n.value.$touch(),n.value.$invalid)return!0;try{g.value=!0;let i=N(j({},a.userData),{companies:a.userData.companies.map(c=>({role:c.role,id:c.id}))});await(f.value?a.updateUser:a.addUser)(i),L.push("/admin/users"),g.value=!1}catch{g.value=!1}}return(i,t)=>{const c=d("BaseBreadcrumbItem"),H=d("BaseBreadcrumb"),z=d("BasePageHeader"),D=d("BaseInput"),v=d("BaseInputGroup"),U=d("BaseMultiselect"),A=d("BaseInputGrid"),J=d("BaseIcon"),O=d("BaseButton"),Q=d("BaseCard"),K=d("BasePage");return b(),h(K,null,{default:u(()=>[s(z,{title:e(M)},{default:u(()=>[s(H,null,{default:u(()=>[s(c,{title:i.$t("general.home"),to:"dashboard"},null,8,["title"]),s(c,{title:i.$tc("users.user",2),to:"/admin/users"},null,8,["title"]),s(c,{title:e(M),to:"#",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),y("form",{action:"",autocomplete:"off",onSubmit:pe(T,["prevent"])},[y("div",De,[s(Q,{class:"mt-6 col-span-12 md:col-span-8"},{default:u(()=>[s(A,{layout:"one-column"},{default:u(()=>[s(v,{"content-loading":e(l),label:i.$t("users.name"),error:e(n).userData.name.$error&&e(n).userData.name.$errors[0].$message,required:""},{default:u(()=>[s(D,{modelValue:e(a).userData.name,"onUpdate:modelValue":t[0]||(t[0]=r=>e(a).userData.name=r),modelModifiers:{trim:!0},"content-loading":e(l),invalid:e(n).userData.name.$error,onInput:t[1]||(t[1]=r=>e(n).userData.name.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["content-loading","label","error"]),s(v,{"content-loading":e(l),label:i.$t("users.email"),error:e(n).userData.email.$error&&e(n).userData.email.$errors[0].$message,required:""},{default:u(()=>[s(D,{modelValue:e(a).userData.email,"onUpdate:modelValue":t[2]||(t[2]=r=>e(a).userData.email=r),modelModifiers:{trim:!0},type:"email","content-loading":e(l),invalid:e(n).userData.email.$error,onInput:t[3]||(t[3]=r=>e(n).userData.email.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["content-loading","label","error"]),s(v,{"content-loading":e(l),label:i.$t("users.companies"),error:e(n).userData.companies.$error&&e(n).userData.companies.$errors[0].$message,required:""},{default:u(()=>[s(U,{modelValue:e(a).userData.companies,"onUpdate:modelValue":t[4]||(t[4]=r=>e(a).userData.companies=r),mode:"tags",object:!0,autocomplete:"new-password",label:"name",options:e(I),"value-prop":"id",invalid:e(n).userData.companies.$error,"content-loading":e(l),searchable:"","can-deselect":!1,class:"w-full"},null,8,["modelValue","options","invalid","content-loading"])]),_:1},8,["content-loading","label","error"]),(b(!0),re(ie,null,le(e(a).userData.companies,(r,B)=>(b(),h(e(fe),{key:B,state:r,rules:F},{default:u(({v:_})=>[y("div",Be,[s(v,{"content-loading":e(l),label:i.$t("users.select_company_role",{company:r.name}),error:_.role.$error&&_.role.$errors[0].$message,required:""},{default:u(()=>[s(U,{modelValue:e(a).userData.companies[B].role,"onUpdate:modelValue":C=>e(a).userData.companies[B].role=C,"value-prop":"name","track-by":"id",autocomplete:"off","content-loading":e(l),label:"name",options:e(a).userData.companies[B].roles,"can-deselect":!1,invalid:_.role.$invalid,onChange:C=>_.role.$touch()},null,8,["modelValue","onUpdate:modelValue","content-loading","options","invalid","onChange"])]),_:2},1032,["content-loading","label","error"])])]),_:2},1032,["state"]))),128)),s(v,{"content-loading":e(l),label:i.$tc("users.password"),error:e(n).userData.password.$error&&e(n).userData.password.$errors[0].$message,required:!e(f)},{default:u(()=>[s(D,{modelValue:e(a).userData.password,"onUpdate:modelValue":t[5]||(t[5]=r=>e(a).userData.password=r),name:"new-password",autocomplete:"new-password","content-loading":e(l),type:"password",invalid:e(n).userData.password.$error,onInput:t[6]||(t[6]=r=>e(n).userData.password.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["content-loading","label","error","required"]),s(v,{"content-loading":e(l),label:i.$t("users.phone")},{default:u(()=>[s(D,{modelValue:e(a).userData.phone,"onUpdate:modelValue":t[7]||(t[7]=r=>e(a).userData.phone=r),modelModifiers:{trim:!0},"content-loading":e(l)},null,8,["modelValue","content-loading"])]),_:1},8,["content-loading","label"])]),_:1}),s(O,{"content-loading":e(l),type:"submit",loading:e(g),disabled:e(g),class:"mt-6"},{left:u(r=>[e(g)?de("",!0):(b(),h(J,{key:0,name:"SaveIcon",class:ue(r.class)},null,8,["class"]))]),default:u(()=>[me(" "+ce(e(f)?i.$t("users.update_user"):i.$t("users.save_user")),1)]),_:1},8,["content-loading","loading","disabled"])]),_:1})])],40,$e)]),_:1})}}};export{ye as default};
+var W=Object.defineProperty,X=Object.defineProperties;var Y=Object.getOwnPropertyDescriptors;var S=Object.getOwnPropertySymbols;var Z=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var k=(m,a,o)=>a in m?W(m,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):m[a]=o,j=(m,a)=>{for(var o in a||(a={}))Z.call(a,o)&&k(m,o,a[o]);if(S)for(var o of S(a))x.call(a,o)&&k(m,o,a[o]);return m},N=(m,a)=>X(m,Y(a));import{J as ee,G as ae,aN as te,B as w,k as V,L as p,M as $,N as G,Q as oe,O as se,T as ne,r as d,o as b,l as h,w as u,f as s,u as e,h as y,e as re,y as le,F as ie,m as ue,j as de,i as me,t as ce,U as pe}from"./vendor.01d0adc5.js";import{b as ge}from"./main.75722495.js";import{V as fe}from"./index.esm.998a6eeb.js";import{u as ve}from"./users.73a3faa4.js";const $e=["onSubmit"],De={class:"grid grid-cols-12"},Be={class:"space-y-6"},ye={setup(m){const a=ve(),{t:o}=ee(),q=ae(),L=te(),P=ge();let g=w(!1),l=w(!1);w([]);let I=w([]);const f=V(()=>q.name==="users.edit"),M=V(()=>f.value?o("users.edit_user"):o("users.new_user")),E=V(()=>({userData:{name:{required:p.withMessage(o("validation.required"),$),minLength:p.withMessage(o("validation.name_min_length",{count:3}),G(3))},email:{required:p.withMessage(o("validation.required"),$),email:p.withMessage(o("validation.email_incorrect"),oe)},password:{required:se(function(){return p.withMessage(o("validation.required"),$),!f.value}),minLength:p.withMessage(o("validation.password_min_length",{count:8}),G(8))},companies:{required:p.withMessage(o("validation.required"),$)}}})),F={role:{required:p.withMessage(o("validation.required"),$)}},n=ne(E,a,{$scope:!0});R(),a.resetUserData();async function R(){var i;l.value=!0;try{f.value&&await a.fetchUser(q.params.id);let t=await P.fetchUserCompanies();((i=t==null?void 0:t.data)==null?void 0:i.data)&&(I.value=t.data.data.map(c=>(c.role=null,c)))}catch{l.value=!1}l.value=!1}async function T(){if(n.value.$touch(),n.value.$invalid)return!0;try{g.value=!0;let i=N(j({},a.userData),{companies:a.userData.companies.map(c=>({role:c.role,id:c.id}))});await(f.value?a.updateUser:a.addUser)(i),L.push("/admin/users"),g.value=!1}catch{g.value=!1}}return(i,t)=>{const c=d("BaseBreadcrumbItem"),H=d("BaseBreadcrumb"),z=d("BasePageHeader"),D=d("BaseInput"),v=d("BaseInputGroup"),U=d("BaseMultiselect"),A=d("BaseInputGrid"),J=d("BaseIcon"),O=d("BaseButton"),Q=d("BaseCard"),K=d("BasePage");return b(),h(K,null,{default:u(()=>[s(z,{title:e(M)},{default:u(()=>[s(H,null,{default:u(()=>[s(c,{title:i.$t("general.home"),to:"dashboard"},null,8,["title"]),s(c,{title:i.$tc("users.user",2),to:"/admin/users"},null,8,["title"]),s(c,{title:e(M),to:"#",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),y("form",{action:"",autocomplete:"off",onSubmit:pe(T,["prevent"])},[y("div",De,[s(Q,{class:"mt-6 col-span-12 md:col-span-8"},{default:u(()=>[s(A,{layout:"one-column"},{default:u(()=>[s(v,{"content-loading":e(l),label:i.$t("users.name"),error:e(n).userData.name.$error&&e(n).userData.name.$errors[0].$message,required:""},{default:u(()=>[s(D,{modelValue:e(a).userData.name,"onUpdate:modelValue":t[0]||(t[0]=r=>e(a).userData.name=r),modelModifiers:{trim:!0},"content-loading":e(l),invalid:e(n).userData.name.$error,onInput:t[1]||(t[1]=r=>e(n).userData.name.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["content-loading","label","error"]),s(v,{"content-loading":e(l),label:i.$t("users.email"),error:e(n).userData.email.$error&&e(n).userData.email.$errors[0].$message,required:""},{default:u(()=>[s(D,{modelValue:e(a).userData.email,"onUpdate:modelValue":t[2]||(t[2]=r=>e(a).userData.email=r),modelModifiers:{trim:!0},type:"email","content-loading":e(l),invalid:e(n).userData.email.$error,onInput:t[3]||(t[3]=r=>e(n).userData.email.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["content-loading","label","error"]),s(v,{"content-loading":e(l),label:i.$t("users.companies"),error:e(n).userData.companies.$error&&e(n).userData.companies.$errors[0].$message,required:""},{default:u(()=>[s(U,{modelValue:e(a).userData.companies,"onUpdate:modelValue":t[4]||(t[4]=r=>e(a).userData.companies=r),mode:"tags",object:!0,autocomplete:"new-password",label:"name",options:e(I),"value-prop":"id",invalid:e(n).userData.companies.$error,"content-loading":e(l),searchable:"","can-deselect":!1,class:"w-full"},null,8,["modelValue","options","invalid","content-loading"])]),_:1},8,["content-loading","label","error"]),(b(!0),re(ie,null,le(e(a).userData.companies,(r,B)=>(b(),h(e(fe),{key:B,state:r,rules:F},{default:u(({v:_})=>[y("div",Be,[s(v,{"content-loading":e(l),label:i.$t("users.select_company_role",{company:r.name}),error:_.role.$error&&_.role.$errors[0].$message,required:""},{default:u(()=>[s(U,{modelValue:e(a).userData.companies[B].role,"onUpdate:modelValue":C=>e(a).userData.companies[B].role=C,"value-prop":"name","track-by":"id",autocomplete:"off","content-loading":e(l),label:"name",options:e(a).userData.companies[B].roles,"can-deselect":!1,invalid:_.role.$invalid,onChange:C=>_.role.$touch()},null,8,["modelValue","onUpdate:modelValue","content-loading","options","invalid","onChange"])]),_:2},1032,["content-loading","label","error"])])]),_:2},1032,["state"]))),128)),s(v,{"content-loading":e(l),label:i.$tc("users.password"),error:e(n).userData.password.$error&&e(n).userData.password.$errors[0].$message,required:!e(f)},{default:u(()=>[s(D,{modelValue:e(a).userData.password,"onUpdate:modelValue":t[5]||(t[5]=r=>e(a).userData.password=r),name:"new-password",autocomplete:"new-password","content-loading":e(l),type:"password",invalid:e(n).userData.password.$error,onInput:t[6]||(t[6]=r=>e(n).userData.password.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["content-loading","label","error","required"]),s(v,{"content-loading":e(l),label:i.$t("users.phone")},{default:u(()=>[s(D,{modelValue:e(a).userData.phone,"onUpdate:modelValue":t[7]||(t[7]=r=>e(a).userData.phone=r),modelModifiers:{trim:!0},"content-loading":e(l)},null,8,["modelValue","content-loading"])]),_:1},8,["content-loading","label"])]),_:1}),s(O,{"content-loading":e(l),type:"submit",loading:e(g),disabled:e(g),class:"mt-6"},{left:u(r=>[e(g)?de("",!0):(b(),h(J,{key:0,name:"SaveIcon",class:ue(r.class)},null,8,["class"]))]),default:u(()=>[me(" "+ce(e(f)?i.$t("users.update_user"):i.$t("users.save_user")),1)]),_:1},8,["content-loading","loading","disabled"])]),_:1})])],40,$e)]),_:1})}}};export{ye as default};

--- public/build/assets/Create.a722899f.js ---
@@ -1 +1 @@
-import{G as le,aN as ie,J as ue,B as U,k as _,L as p,M as y,b2 as ce,S as j,O as de,aP as pe,T as me,r as u,o as E,e as xe,f as r,w as o,h as V,u as e,l as w,m as S,i as b,t as $,j as M,x as ge,U as _e,F as ye}from"./vendor.01d0adc5.js";import{u as fe}from"./expense.e774182e.js";import{u as ve}from"./category.c27e9638.js";import{l as Ee,b as be,m as $e,c as he,d as Be}from"./main.832b14c7.js";import{_ as Ce}from"./CreateCustomFields.940787b7.js";import{_ as Ve}from"./CategoryModal.9d414df9.js";import{_ as we}from"./ExchangeRateConverter.357f31c9.js";import"./exchange-rate.45b62b37.js";const Se=["onSubmit"],Me={class:"hidden md:block"},Ie={class:"block md:hidden"},Ge={setup(qe){const D=Ee(),I=be(),n=fe(),P=ve(),N=$e(),R=he(),g=le(),G=ie(),{t:c}=ue(),q=Be();let m=U(!1),i=U(!1);const k="newExpense",T=_(()=>({currentExpense:{expense_category_id:{required:p.withMessage(c("validation.required"),y)},expense_date:{required:p.withMessage(c("validation.required"),y)},amount:{required:p.withMessage(c("validation.required"),y),minValue:p.withMessage(c("validation.price_minvalue"),ce(.1)),maxLength:p.withMessage(c("validation.price_maxlength"),j(20))},notes:{maxLength:p.withMessage(c("validation.description_maxlength"),j(65e3))},currency_id:{required:p.withMessage(c("validation.required"),y)},exchange_rate:{required:de(function(){return p.withMessage(c("validation.required"),y),n.showExchangeRate}),decimal:p.withMessage(c("validation.valid_exchange_rate"),pe)}}})),l=me(T,n,{$scope:k}),h=_({get:()=>n.currentExpense.amount/100,set:t=>{n.currentExpense.amount=Math.round(t*100)}}),d=_(()=>g.name==="expenses.edit"),F=_(()=>d.value?c("expenses.edit_expense"):c("expenses.new_expense")),L=_(()=>d.value?`/expenses/${g.params.id}/download-receipt`:"");n.resetCurrentExpenseData(),N.resetCustomFields(),Q();function z(t,a){n.currentExpense.attachment_receipt=a}function A(){n.currentExpense.attachment_receipt=null}function H(){R.openModal({title:c("settings.expense_category.add_category"),componentName:"CategoryModal",size:"sm"})}function J(t){n.currentExpense.selectedCurrency=q.currencies.find(a=>a.id===t)}async function O(t){return(await P.fetchCategories({search:t})).data.data}async function K(t){return(await D.fetchCustomers({search:t})).data.data}async function Q(){d.value||(n.currentExpense.currency_id=I.selectedCompanyCurrency.id,n.currentExpense.selectedCurrency=I.selectedCompanyCurrency),i.value=!0,await n.fetchPaymentModes({limit:"all"}),d.value?(await n.fetchExpense(g.params.id),n.currentExpense.currency_id=n.currentExpense.selectedCurrency.id):g.query.customer&&(n.currentExpense.customer_id=g.query.customer),i.value=!1}async function W(){if(l.value.$touch(),l.value.$invalid)return;m.value=!0;let t=n.currentExpense;try{d.value?await n.updateExpense({id:g.params.id,data:t}):await n.addExpense(t),m.value=!1,G.push("/admin/expenses")}catch(a){console.error(a),m.value=!1;return}}return(t,a)=>{const B=u("BaseBreadcrumbItem"),X=u("BaseBreadcrumb"),f=u("BaseIcon"),C=u("BaseButton"),Y=u("BasePageHeader"),Z=u("BaseSelectAction"),v=u("BaseMultiselect"),x=u("BaseInputGroup"),ee=u("BaseDatePicker"),ne=u("BaseMoney"),te=u("BaseTextarea"),ae=u("BaseFileUploader"),re=u("BaseInputGrid"),se=u("BaseCard"),oe=u("BasePage");return E(),xe(ye,null,[r(Ve),r(oe,{class:"relative"},{default:o(()=>[V("form",{action:"",onSubmit:_e(W,["prevent"])},[r(Y,{title:e(F),class:"mb-5"},{actions:o(()=>[e(d)&&e(n).currentExpense.attachment_receipt?(E(),w(C,{key:0,href:e(L),tag:"a",variant:"primary-outline",type:"button",class:"mr-2"},{left:o(s=>[r(f,{name:"DownloadIcon",class:S(s.class)},null,8,["class"])]),default:o(()=>[b(" "+$(t.$t("expenses.download_receipt")),1)]),_:1},8,["href"])):M("",!0),V("div",Me,[r(C,{loading:e(m),"content-loading":e(i),disabled:e(m),variant:"primary",type:"submit"},{left:o(s=>[e(m)?M("",!0):(E(),w(f,{key:0,name:"SaveIcon",class:S(s.class)},null,8,["class"]))]),default:o(()=>[b(" "+$(e(d)?t.$t("expenses.update_expense"):t.$t("expenses.save_expense")),1)]),_:1},8,["loading","content-loading","disabled"])])]),default:o(()=>[r(X,null,{default:o(()=>[r(B,{title:t.$t("general.home"),to:"/admin/dashboard"},null,8,["title"]),r(B,{title:t.$tc("expenses.expense",2),to:"/admin/expenses"},null,8,["title"]),r(B,{title:e(F),to:"#",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),r(se,null,{default:o(()=>[r(re,null,{default:o(()=>[r(x,{label:t.$t("expenses.category"),error:e(l).currentExpense.expense_category_id.$error&&e(l).currentExpense.expense_category_id.$errors[0].$message,"content-loading":e(i),required:""},{default:o(()=>[r(v,{modelValue:e(n).currentExpense.expense_category_id,"onUpdate:modelValue":a[0]||(a[0]=s=>e(n).currentExpense.expense_category_id=s),"content-loading":e(i),"value-prop":"id",label:"name","track-by":"id",options:O,"filter-results":!1,"resolve-on-load":"",delay:500,searchable:"",invalid:e(l).currentExpense.expense_category_id.$error,placeholder:t.$t("expenses.categories.select_a_category"),onInput:a[1]||(a[1]=s=>e(l).currentExpense.expense_category_id.$touch())},{action:o(()=>[r(Z,{onClick:H},{default:o(()=>[r(f,{name:"PlusIcon",class:"h-4 mr-2 -ml-2 text-center text-primary-400"}),b(" "+$(t.$t("settings.expense_category.add_new_category")),1)]),_:1})]),_:1},8,["modelValue","content-loading","invalid","placeholder"])]),_:1},8,["label","error","content-loading"]),r(x,{label:t.$t("expenses.expense_date"),error:e(l).currentExpense.expense_date.$error&&e(l).currentExpense.expense_date.$errors[0].$message,"content-loading":e(i),required:""},{default:o(()=>[r(ee,{modelValue:e(n).currentExpense.expense_date,"onUpdate:modelValue":a[2]||(a[2]=s=>e(n).currentExpense.expense_date=s),"content-loading":e(i),"calendar-button":!0,invalid:e(l).currentExpense.expense_date.$error,onInput:a[3]||(a[3]=s=>e(l).currentExpense.expense_date.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","error","content-loading"]),r(x,{label:t.$t("expenses.amount"),error:e(l).currentExpense.amount.$error&&e(l).currentExpense.amount.$errors[0].$message,"content-loading":e(i),required:""},{default:o(()=>[r(ne,{key:e(n).currentExpense.selectedCurrency,modelValue:e(h),"onUpdate:modelValue":a[4]||(a[4]=s=>ge(h)?h.value=s:null),class:"focus:border focus:border-solid focus:border-primary-500",invalid:e(l).currentExpense.amount.$error,currency:e(n).currentExpense.selectedCurrency,onInput:a[5]||(a[5]=s=>e(l).currentExpense.amount.$touch())},null,8,["modelValue","invalid","currency"])]),_:1},8,["label","error","content-loading"]),r(x,{label:t.$t("expenses.currency"),"content-loading":e(i),error:e(l).currentExpense.currency_id.$error&&e(l).currentExpense.currency_id.$errors[0].$message,required:""},{default:o(()=>[r(v,{modelValue:e(n).currentExpense.currency_id,"onUpdate:modelValue":[a[6]||(a[6]=s=>e(n).currentExpense.currency_id=s),J],"value-prop":"id",label:"name","track-by":"name","content-loading":e(i),options:e(q).currencies,searchable:"","can-deselect":!1,placeholder:t.$t("customers.select_currency"),invalid:e(l).currentExpense.currency_id.$error,class:"w-full"},null,8,["modelValue","content-loading","options","placeholder","invalid"])]),_:1},8,["label","content-loading","error"]),r(we,{store:e(n),"store-prop":"currentExpense",v:e(l).currentExpense,"is-loading":e(i),"is-edit":e(d),"customer-currency":e(n).currentExpense.currency_id},null,8,["store","v","is-loading","is-edit","customer-currency"]),r(x,{"content-loading":e(i),label:t.$t("expenses.customer")},{default:o(()=>[r(v,{modelValue:e(n).currentExpense.customer_id,"onUpdate:modelValue":a[7]||(a[7]=s=>e(n).currentExpense.customer_id=s),"content-loading":e(i),"value-prop":"id",label:"name","track-by":"id",options:K,"filter-results":!1,"resolve-on-load":"",delay:500,searchable:"",placeholder:t.$t("customers.select_a_customer")},null,8,["modelValue","content-loading","placeholder"])]),_:1},8,["content-loading","label"]),r(x,{"content-loading":e(i),label:t.$t("payments.payment_mode")},{default:o(()=>[r(v,{modelValue:e(n).currentExpense.payment_method_id,"onUpdate:modelValue":a[8]||(a[8]=s=>e(n).currentExpense.payment_method_id=s),"content-loading":e(i),label:"name","value-prop":"id","track-by":"name",options:e(n).paymentModes,placeholder:t.$t("payments.select_payment_mode"),searchable:""},null,8,["modelValue","content-loading","options","placeholder"])]),_:1},8,["content-loading","label"]),r(x,{"content-loading":e(i),label:t.$t("expenses.note"),error:e(l).currentExpense.notes.$error&&e(l).currentExpense.notes.$errors[0].$message},{default:o(()=>[r(te,{modelValue:e(n).currentExpense.notes,"onUpdate:modelValue":a[9]||(a[9]=s=>e(n).currentExpense.notes=s),"content-loading":e(i),row:4,rows:"4",onInput:a[10]||(a[10]=s=>e(l).currentExpense.notes.$touch())},null,8,["modelValue","content-loading"])]),_:1},8,["content-loading","label","error"]),r(x,{label:t.$t("expenses.receipt")},{default:o(()=>[r(ae,{modelValue:e(n).currentExpense.receiptFiles,"onUpdate:modelValue":a[11]||(a[11]=s=>e(n).currentExpense.receiptFiles=s),accept:"image/*,.doc,.docx,.pdf,.csv,.xlsx,.xls",onChange:z,onRemove:A},null,8,["modelValue"])]),_:1},8,["label"]),r(Ce,{"is-edit":e(d),class:"col-span-2","is-loading":e(i),type:"Expense",store:e(n),"store-prop":"currentExpense","custom-field-scope":k},null,8,["is-edit","is-loading","store"]),V("div",Ie,[r(C,{loading:e(m),tabindex:6,variant:"primary",type:"submit",class:"flex justify-center w-full"},{left:o(s=>[e(m)?M("",!0):(E(),w(f,{key:0,name:"SaveIcon",class:S(s.class)},null,8,["class"]))]),default:o(()=>[b(" "+$(e(d)?t.$t("expenses.update_expense"):t.$t("expenses.save_expense")),1)]),_:1},8,["loading"])])]),_:1})]),_:1})],40,Se)]),_:1})],64)}}};export{Ge as default};
+import{G as le,aN as ie,J as ue,B as U,k as _,L as p,M as y,b2 as ce,S as j,O as de,aP as pe,T as me,r as u,o as E,e as xe,f as r,w as o,h as V,u as e,l as w,m as S,i as b,t as $,j as M,x as ge,U as _e,F as ye}from"./vendor.01d0adc5.js";import{u as fe}from"./expense.e270a61c.js";import{u as ve}from"./category.4b37f0ed.js";import{l as Ee,b as be,m as $e,c as he,d as Be}from"./main.75722495.js";import{_ as Ce}from"./CreateCustomFields.a3a572c4.js";import{_ as Ve}from"./CategoryModal.9a2e05b9.js";import{_ as we}from"./ExchangeRateConverter.7d8c4309.js";import"./exchange-rate.dffa79b6.js";const Se=["onSubmit"],Me={class:"hidden md:block"},Ie={class:"block md:hidden"},Ge={setup(qe){const D=Ee(),I=be(),n=fe(),P=ve(),N=$e(),R=he(),g=le(),G=ie(),{t:c}=ue(),q=Be();let m=U(!1),i=U(!1);const k="newExpense",T=_(()=>({currentExpense:{expense_category_id:{required:p.withMessage(c("validation.required"),y)},expense_date:{required:p.withMessage(c("validation.required"),y)},amount:{required:p.withMessage(c("validation.required"),y),minValue:p.withMessage(c("validation.price_minvalue"),ce(.1)),maxLength:p.withMessage(c("validation.price_maxlength"),j(20))},notes:{maxLength:p.withMessage(c("validation.description_maxlength"),j(65e3))},currency_id:{required:p.withMessage(c("validation.required"),y)},exchange_rate:{required:de(function(){return p.withMessage(c("validation.required"),y),n.showExchangeRate}),decimal:p.withMessage(c("validation.valid_exchange_rate"),pe)}}})),l=me(T,n,{$scope:k}),h=_({get:()=>n.currentExpense.amount/100,set:t=>{n.currentExpense.amount=Math.round(t*100)}}),d=_(()=>g.name==="expenses.edit"),F=_(()=>d.value?c("expenses.edit_expense"):c("expenses.new_expense")),L=_(()=>d.value?`/expenses/${g.params.id}/download-receipt`:"");n.resetCurrentExpenseData(),N.resetCustomFields(),Q();function z(t,a){n.currentExpense.attachment_receipt=a}function A(){n.currentExpense.attachment_receipt=null}function H(){R.openModal({title:c("settings.expense_category.add_category"),componentName:"CategoryModal",size:"sm"})}function J(t){n.currentExpense.selectedCurrency=q.currencies.find(a=>a.id===t)}async function O(t){return(await P.fetchCategories({search:t})).data.data}async function K(t){return(await D.fetchCustomers({search:t})).data.data}async function Q(){d.value||(n.currentExpense.currency_id=I.selectedCompanyCurrency.id,n.currentExpense.selectedCurrency=I.selectedCompanyCurrency),i.value=!0,await n.fetchPaymentModes({limit:"all"}),d.value?(await n.fetchExpense(g.params.id),n.currentExpense.currency_id=n.currentExpense.selectedCurrency.id):g.query.customer&&(n.currentExpense.customer_id=g.query.customer),i.value=!1}async function W(){if(l.value.$touch(),l.value.$invalid)return;m.value=!0;let t=n.currentExpense;try{d.value?await n.updateExpense({id:g.params.id,data:t}):await n.addExpense(t),m.value=!1,G.push("/admin/expenses")}catch(a){console.error(a),m.value=!1;return}}return(t,a)=>{const B=u("BaseBreadcrumbItem"),X=u("BaseBreadcrumb"),f=u("BaseIcon"),C=u("BaseButton"),Y=u("BasePageHeader"),Z=u("BaseSelectAction"),v=u("BaseMultiselect"),x=u("BaseInputGroup"),ee=u("BaseDatePicker"),ne=u("BaseMoney"),te=u("BaseTextarea"),ae=u("BaseFileUploader"),re=u("BaseInputGrid"),se=u("BaseCard"),oe=u("BasePage");return E(),xe(ye,null,[r(Ve),r(oe,{class:"relative"},{default:o(()=>[V("form",{action:"",onSubmit:_e(W,["prevent"])},[r(Y,{title:e(F),class:"mb-5"},{actions:o(()=>[e(d)&&e(n).currentExpense.attachment_receipt?(E(),w(C,{key:0,href:e(L),tag:"a",variant:"primary-outline",type:"button",class:"mr-2"},{left:o(s=>[r(f,{name:"DownloadIcon",class:S(s.class)},null,8,["class"])]),default:o(()=>[b(" "+$(t.$t("expenses.download_receipt")),1)]),_:1},8,["href"])):M("",!0),V("div",Me,[r(C,{loading:e(m),"content-loading":e(i),disabled:e(m),variant:"primary",type:"submit"},{left:o(s=>[e(m)?M("",!0):(E(),w(f,{key:0,name:"SaveIcon",class:S(s.class)},null,8,["class"]))]),default:o(()=>[b(" "+$(e(d)?t.$t("expenses.update_expense"):t.$t("expenses.save_expense")),1)]),_:1},8,["loading","content-loading","disabled"])])]),default:o(()=>[r(X,null,{default:o(()=>[r(B,{title:t.$t("general.home"),to:"/admin/dashboard"},null,8,["title"]),r(B,{title:t.$tc("expenses.expense",2),to:"/admin/expenses"},null,8,["title"]),r(B,{title:e(F),to:"#",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),r(se,null,{default:o(()=>[r(re,null,{default:o(()=>[r(x,{label:t.$t("expenses.category"),error:e(l).currentExpense.expense_category_id.$error&&e(l).currentExpense.expense_category_id.$errors[0].$message,"content-loading":e(i),required:""},{default:o(()=>[r(v,{modelValue:e(n).currentExpense.expense_category_id,"onUpdate:modelValue":a[0]||(a[0]=s=>e(n).currentExpense.expense_category_id=s),"content-loading":e(i),"value-prop":"id",label:"name","track-by":"id",options:O,"filter-results":!1,"resolve-on-load":"",delay:500,searchable:"",invalid:e(l).currentExpense.expense_category_id.$error,placeholder:t.$t("expenses.categories.select_a_category"),onInput:a[1]||(a[1]=s=>e(l).currentExpense.expense_category_id.$touch())},{action:o(()=>[r(Z,{onClick:H},{default:o(()=>[r(f,{name:"PlusIcon",class:"h-4 mr-2 -ml-2 text-center text-primary-400"}),b(" "+$(t.$t("settings.expense_category.add_new_category")),1)]),_:1})]),_:1},8,["modelValue","content-loading","invalid","placeholder"])]),_:1},8,["label","error","content-loading"]),r(x,{label:t.$t("expenses.expense_date"),error:e(l).currentExpense.expense_date.$error&&e(l).currentExpense.expense_date.$errors[0].$message,"content-loading":e(i),required:""},{default:o(()=>[r(ee,{modelValue:e(n).currentExpense.expense_date,"onUpdate:modelValue":a[2]||(a[2]=s=>e(n).currentExpense.expense_date=s),"content-loading":e(i),"calendar-button":!0,invalid:e(l).currentExpense.expense_date.$error,onInput:a[3]||(a[3]=s=>e(l).currentExpense.expense_date.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","error","content-loading"]),r(x,{label:t.$t("expenses.amount"),error:e(l).currentExpense.amount.$error&&e(l).currentExpense.amount.$errors[0].$message,"content-loading":e(i),required:""},{default:o(()=>[r(ne,{key:e(n).currentExpense.selectedCurrency,modelValue:e(h),"onUpdate:modelValue":a[4]||(a[4]=s=>ge(h)?h.value=s:null),class:"focus:border focus:border-solid focus:border-primary-500",invalid:e(l).currentExpense.amount.$error,currency:e(n).currentExpense.selectedCurrency,onInput:a[5]||(a[5]=s=>e(l).currentExpense.amount.$touch())},null,8,["modelValue","invalid","currency"])]),_:1},8,["label","error","content-loading"]),r(x,{label:t.$t("expenses.currency"),"content-loading":e(i),error:e(l).currentExpense.currency_id.$error&&e(l).currentExpense.currency_id.$errors[0].$message,required:""},{default:o(()=>[r(v,{modelValue:e(n).currentExpense.currency_id,"onUpdate:modelValue":[a[6]||(a[6]=s=>e(n).currentExpense.currency_id=s),J],"value-prop":"id",label:"name","track-by":"name","content-loading":e(i),options:e(q).currencies,searchable:"","can-deselect":!1,placeholder:t.$t("customers.select_currency"),invalid:e(l).currentExpense.currency_id.$error,class:"w-full"},null,8,["modelValue","content-loading","options","placeholder","invalid"])]),_:1},8,["label","content-loading","error"]),r(we,{store:e(n),"store-prop":"currentExpense",v:e(l).currentExpense,"is-loading":e(i),"is-edit":e(d),"customer-currency":e(n).currentExpense.currency_id},null,8,["store","v","is-loading","is-edit","customer-currency"]),r(x,{"content-loading":e(i),label:t.$t("expenses.customer")},{default:o(()=>[r(v,{modelValue:e(n).currentExpense.customer_id,"onUpdate:modelValue":a[7]||(a[7]=s=>e(n).currentExpense.customer_id=s),"content-loading":e(i),"value-prop":"id",label:"name","track-by":"id",options:K,"filter-results":!1,"resolve-on-load":"",delay:500,searchable:"",placeholder:t.$t("customers.select_a_customer")},null,8,["modelValue","content-loading","placeholder"])]),_:1},8,["content-loading","label"]),r(x,{"content-loading":e(i),label:t.$t("payments.payment_mode")},{default:o(()=>[r(v,{modelValue:e(n).currentExpense.payment_method_id,"onUpdate:modelValue":a[8]||(a[8]=s=>e(n).currentExpense.payment_method_id=s),"content-loading":e(i),label:"name","value-prop":"id","track-by":"name",options:e(n).paymentModes,placeholder:t.$t("payments.select_payment_mode"),searchable:""},null,8,["modelValue","content-loading","options","placeholder"])]),_:1},8,["content-loading","label"]),r(x,{"content-loading":e(i),label:t.$t("expenses.note"),error:e(l).currentExpense.notes.$error&&e(l).currentExpense.notes.$errors[0].$message},{default:o(()=>[r(te,{modelValue:e(n).currentExpense.notes,"onUpdate:modelValue":a[9]||(a[9]=s=>e(n).currentExpense.notes=s),"content-loading":e(i),row:4,rows:"4",onInput:a[10]||(a[10]=s=>e(l).currentExpense.notes.$touch())},null,8,["modelValue","content-loading"])]),_:1},8,["content-loading","label","error"]),r(x,{label:t.$t("expenses.receipt")},{default:o(()=>[r(ae,{modelValue:e(n).currentExpense.receiptFiles,"onUpdate:modelValue":a[11]||(a[11]=s=>e(n).currentExpense.receiptFiles=s),accept:"image/*,.doc,.docx,.pdf,.csv,.xlsx,.xls",onChange:z,onRemove:A},null,8,["modelValue"])]),_:1},8,["label"]),r(Ce,{"is-edit":e(d),class:"col-span-2","is-loading":e(i),type:"Expense",store:e(n),"store-prop":"currentExpense","custom-field-scope":k},null,8,["is-edit","is-loading","store"]),V("div",Ie,[r(C,{loading:e(m),tabindex:6,variant:"primary",type:"submit",class:"flex justify-center w-full"},{left:o(s=>[e(m)?M("",!0):(E(),w(f,{key:0,name:"SaveIcon",class:S(s.class)},null,8,["class"]))]),default:o(()=>[b(" "+$(e(d)?t.$t("expenses.update_expense"):t.$t("expenses.save_expense")),1)]),_:1},8,["loading"])])]),_:1})]),_:1})],40,Se)]),_:1})],64)}}};export{Ge as default};

--- public/build/assets/Create.be897594.js ---
@@ -1 +1 @@
-var ce=Object.defineProperty;var E=Object.getOwnPropertySymbols;var de=Object.prototype.hasOwnProperty,ye=Object.prototype.propertyIsEnumerable;var F=(_,s,c)=>s in _?ce(_,s,{enumerable:!0,configurable:!0,writable:!0,value:c}):_[s]=c,G=(_,s)=>{for(var c in s||(s={}))de.call(s,c)&&F(_,c,s[c]);if(E)for(var c of E(s))ye.call(s,c)&&F(_,c,s[c]);return _};import{G as pe,aN as _e,ah as ve,J as fe,B as M,a0 as Pe,k as C,L as I,M as w,aX as ge,O as be,aP as Be,T as $e,a7 as he,b1 as Ie,r as m,o as N,e as Se,f as o,w as l,h as S,u as e,l as R,m as L,j as T,i as q,t as g,x as Ce,U as Ve,F as Me}from"./vendor.01d0adc5.js";import{_ as we}from"./ExchangeRateConverter.357f31c9.js";import{u as qe,l as Ne,m as je,b as ke,c as Ue,i as xe,d as De}from"./main.832b14c7.js";import{u as Ae}from"./payment.372edbf1.js";import{_ as Ee}from"./SelectNotePopup.b35e7850.js";import{_ as Fe}from"./CreateCustomFields.940787b7.js";import{_ as Ge}from"./PaymentModeModal.c3a19345.js";import"./exchange-rate.45b62b37.js";import"./NoteModal.a07ce50b.js";const Re=["onSubmit"],Le={class:"absolute left-3.5"},Te={class:"relative w-full"},ze={class:"relative mt-6"},He={class:"z-20 float-right text-sm font-semibold leading-5 text-primary-400"},Je={class:"mb-4 text-sm font-medium text-gray-800"},nt={setup(_){const s=pe(),c=_e(),t=Ae();qe();const z=Ne();je(),ke();const H=Ue(),j=xe();De();const k=ve("utils"),{t:p}=fe();let b=M(!1),V=M(!1),v=M([]);const f=M(null),U="newEstimate",J=Pe(["customer","company","customerCustom","payment","paymentCustom"]),$=C({get:()=>t.currentPayment.amount/100,set:a=>{t.currentPayment.amount=Math.round(a*100)}}),u=C(()=>t.isFetchingInitialData),d=C(()=>s.name==="payments.edit"),x=C(()=>d.value?p("payments.edit_payment"):p("payments.new_payment")),O=C(()=>({currentPayment:{customer_id:{required:I.withMessage(p("validation.required"),w)},payment_date:{required:I.withMessage(p("validation.required"),w)},amount:{required:I.withMessage(p("validation.required"),w),between:I.withMessage(p("validation.payment_greater_than_due_amount"),ge(0,t.currentPayment.maxPayableAmount))},exchange_rate:{required:be(function(){return I.withMessage(p("validation.required"),w),t.showExchangeRate}),decimal:I.withMessage(p("validation.valid_exchange_rate"),Be)}}})),i=$e(O,t,{$scope:U});he(()=>{t.currentPayment.customer_id&&Y(t.currentPayment.customer_id),s.query.customer&&(t.currentPayment.customer_id=s.query.customer)}),t.resetCurrentPayment(),s.query.customer&&(t.currentPayment.customer_id=s.query.customer),t.fetchPaymentInitialData(d.value),s.params.id&&!d.value&&Q();async function X(){H.openModal({title:p("settings.payment_modes.add_payment_mode"),componentName:"PaymentModeModal"})}function K(a){t.currentPayment.notes=""+a.notes}async function Q(){var n;let a=await j.fetchInvoice((n=s==null?void 0:s.params)==null?void 0:n.id);t.currentPayment.customer_id=a.data.data.customer.id,t.currentPayment.invoice_id=a.data.data.id}async function W(a){a&&(f.value=v.value.find(n=>n.id===a),$.value=f.value.due_amount/100,t.currentPayment.maxPayableAmount=f.value.due_amount)}function Y(a){if(a){let n={customer_id:a,status:"DUE",limit:"all"};d.value&&(n.status=""),V.value=!0,Promise.all([j.fetchInvoices(n),z.fetchCustomer(a)]).then(async([y,B])=>{y&&(v.value=[...y.data.data]),B&&B.data&&(t.currentPayment.selectedCustomer=B.data.data,t.currentPayment.customer=B.data.data,t.currentPayment.currency=B.data.data.currency),t.currentPayment.invoice_id&&(f.value=v.value.find(P=>P.id===t.currentPayment.invoice_id),t.currentPayment.maxPayableAmount=f.value.due_amount+t.currentPayment.amount,$.value===0&&($.value=f.value.due_amount/100)),d.value&&(v.value=v.value.filter(P=>P.due_amount>0||P.id==t.currentPayment.invoice_id)),V.value=!1}).catch(y=>{V.value=!1,console.error(y,"error")})}}Ie(()=>{t.resetCurrentPayment(),v.value=[]});async function Z(){if(i.value.$touch(),i.value.$invalid)return!1;b.value=!0;let a=G({},t.currentPayment),n=null;try{n=await(d.value?t.updatePayment:t.addPayment)(a),c.push(`/admin/payments/${n.data.data.id}/view`)}catch{b.value=!1}}function ee(a){let n={userId:a};s.params.id&&(n.model_id=s.params.id),t.currentPayment.invoice_id=f.value=null,t.currentPayment.amount=0,v.value=[],t.getNextNumber(n,!0)}return(a,n)=>{const y=m("BaseBreadcrumbItem"),B=m("BaseBreadcrumb"),P=m("BaseIcon"),D=m("BaseButton"),te=m("BasePageHeader"),ae=m("BaseDatePicker"),h=m("BaseInputGroup"),ne=m("BaseInput"),oe=m("BaseCustomerSelectInput"),A=m("BaseMultiselect"),re=m("BaseMoney"),se=m("BaseSelectAction"),le=m("BaseInputGrid"),ue=m("BaseCustomInput"),me=m("BaseCard"),ie=m("BasePage");return N(),Se(Me,null,[o(Ge),o(ie,{class:"relative payment-create"},{default:l(()=>[S("form",{action:"",onSubmit:Ve(Z,["prevent"])},[o(te,{title:e(x),class:"mb-5"},{actions:l(()=>[o(D,{loading:e(b),disabled:e(b),variant:"primary",type:"submit",class:"hidden sm:flex"},{left:l(r=>[e(b)?T("",!0):(N(),R(P,{key:0,name:"SaveIcon",class:L(r.class)},null,8,["class"]))]),default:l(()=>[q(" "+g(e(d)?a.$t("payments.update_payment"):a.$t("payments.save_payment")),1)]),_:1},8,["loading","disabled"])]),default:l(()=>[o(B,null,{default:l(()=>[o(y,{title:a.$t("general.home"),to:"/admin/dashboard"},null,8,["title"]),o(y,{title:a.$tc("payments.payment",2),to:"/admin/payments"},null,8,["title"]),o(y,{title:e(x),to:"#",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),o(me,null,{default:l(()=>[o(le,null,{default:l(()=>[o(h,{label:a.$t("payments.date"),"content-loading":e(u),required:"",error:e(i).currentPayment.payment_date.$error&&e(i).currentPayment.payment_date.$errors[0].$message},{default:l(()=>[o(ae,{modelValue:e(t).currentPayment.payment_date,"onUpdate:modelValue":[n[0]||(n[0]=r=>e(t).currentPayment.payment_date=r),n[1]||(n[1]=r=>e(i).currentPayment.payment_date.$touch())],"content-loading":e(u),"calendar-button":!0,"calendar-button-icon":"calendar",invalid:e(i).currentPayment.payment_date.$error},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),o(h,{label:a.$t("payments.payment_number"),"content-loading":e(u),required:""},{default:l(()=>[o(ne,{modelValue:e(t).currentPayment.payment_number,"onUpdate:modelValue":n[2]||(n[2]=r=>e(t).currentPayment.payment_number=r),"content-loading":e(u)},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),o(h,{label:a.$t("payments.customer"),error:e(i).currentPayment.customer_id.$error&&e(i).currentPayment.customer_id.$errors[0].$message,"content-loading":e(u),required:""},{default:l(()=>[o(oe,{modelValue:e(t).currentPayment.customer_id,"onUpdate:modelValue":[n[3]||(n[3]=r=>e(t).currentPayment.customer_id=r),n[4]||(n[4]=r=>ee(e(t).currentPayment.customer_id))],"content-loading":e(u),invalid:e(i).currentPayment.customer_id.$error,placeholder:a.$t("customers.select_a_customer"),"fetch-all":e(d),"show-action":""},null,8,["modelValue","content-loading","invalid","placeholder","fetch-all"])]),_:1},8,["label","error","content-loading"]),o(h,{"content-loading":e(u),label:a.$t("payments.invoice"),"help-text":f.value?`Due Amount: ${e(t).currentPayment.maxPayableAmount/100}`:""},{default:l(()=>[o(A,{modelValue:e(t).currentPayment.invoice_id,"onUpdate:modelValue":n[5]||(n[5]=r=>e(t).currentPayment.invoice_id=r),"content-loading":e(u),"value-prop":"id","track-by":"invoice_number",label:"invoice_number",options:e(v),loading:e(V),placeholder:a.$t("invoices.select_invoice"),onSelect:W},{singlelabel:l(({value:r})=>[S("div",Le,g(r.invoice_number)+" ("+g(e(k).formatMoney(r.total,r.customer.currency))+") ",1)]),option:l(({option:r})=>[q(g(r.invoice_number)+" ("+g(e(k).formatMoney(r.total,r.customer.currency))+") ",1)]),_:1},8,["modelValue","content-loading","options","loading","placeholder"])]),_:1},8,["content-loading","label","help-text"]),o(h,{label:a.$t("payments.amount"),"content-loading":e(u),error:e(i).currentPayment.amount.$error&&e(i).currentPayment.amount.$errors[0].$message,required:""},{default:l(()=>[S("div",Te,[o(re,{key:e(t).currentPayment.currency,modelValue:e($),"onUpdate:modelValue":[n[6]||(n[6]=r=>Ce($)?$.value=r:null),n[7]||(n[7]=r=>e(i).currentPayment.amount.$touch())],currency:e(t).currentPayment.currency,"content-loading":e(u),invalid:e(i).currentPayment.amount.$error},null,8,["modelValue","currency","content-loading","invalid"])])]),_:1},8,["label","content-loading","error"]),o(h,{"content-loading":e(u),label:a.$t("payments.payment_mode")},{default:l(()=>[o(A,{modelValue:e(t).currentPayment.payment_method_id,"onUpdate:modelValue":n[8]||(n[8]=r=>e(t).currentPayment.payment_method_id=r),"content-loading":e(u),label:"name","value-prop":"id","track-by":"name",options:e(t).paymentModes,placeholder:a.$t("payments.select_payment_mode"),searchable:""},{action:l(()=>[o(se,{onClick:X},{default:l(()=>[o(P,{name:"PlusIcon",class:"h-4 mr-2 -ml-2 text-center text-primary-400"}),q(" "+g(a.$t("settings.payment_modes.add_payment_mode")),1)]),_:1})]),_:1},8,["modelValue","content-loading","options","placeholder"])]),_:1},8,["content-loading","label"]),o(we,{store:e(t),"store-prop":"currentPayment",v:e(i).currentPayment,"is-loading":e(u),"is-edit":e(d),"customer-currency":e(t).currentPayment.currency_id},null,8,["store","v","is-loading","is-edit","customer-currency"])]),_:1}),o(Fe,{type:"Payment","is-edit":e(d),"is-loading":e(u),store:e(t),"store-prop":"currentPayment","custom-field-scope":U,class:"mt-6"},null,8,["is-edit","is-loading","store"]),S("div",ze,[S("div",He,[o(Ee,{type:"Payment",onSelect:K})]),S("label",Je,g(a.$t("estimates.notes")),1),o(ue,{modelValue:e(t).currentPayment.notes,"onUpdate:modelValue":n[9]||(n[9]=r=>e(t).currentPayment.notes=r),"content-loading":e(u),fields:e(J),class:"mt-1"},null,8,["modelValue","content-loading","fields"])]),o(D,{loading:e(b),"content-loading":e(u),variant:"primary",type:"submit",class:"flex justify-center w-full mt-4 sm:hidden md:hidden"},{left:l(r=>[e(b)?T("",!0):(N(),R(P,{key:0,name:"SaveIcon",class:L(r.class)},null,8,["class"]))]),default:l(()=>[q(" "+g(e(d)?a.$t("payments.update_payment"):a.$t("payments.save_payment")),1)]),_:1},8,["loading","content-loading"])]),_:1})],40,Re)]),_:1})],64)}}};export{nt as default};
+var ce=Object.defineProperty;var E=Object.getOwnPropertySymbols;var de=Object.prototype.hasOwnProperty,ye=Object.prototype.propertyIsEnumerable;var F=(_,s,c)=>s in _?ce(_,s,{enumerable:!0,configurable:!0,writable:!0,value:c}):_[s]=c,G=(_,s)=>{for(var c in s||(s={}))de.call(s,c)&&F(_,c,s[c]);if(E)for(var c of E(s))ye.call(s,c)&&F(_,c,s[c]);return _};import{G as pe,aN as _e,ah as fe,J as ve,B as M,a0 as Pe,k as C,L as I,M as w,aX as ge,O as be,aP as Be,T as $e,a7 as he,b1 as Ie,r as m,o as N,e as Se,f as o,w as l,h as S,u as e,l as R,m as L,j as T,i as q,t as g,x as Ce,U as Ve,F as Me}from"./vendor.01d0adc5.js";import{_ as we}from"./ExchangeRateConverter.7d8c4309.js";import{u as qe,l as Ne,m as je,b as ke,c as Ue,i as xe,d as De}from"./main.75722495.js";import{u as Ae}from"./payment.5c57bec3.js";import{_ as Ee}from"./SelectNotePopup.781ad74a.js";import{_ as Fe}from"./CreateCustomFields.a3a572c4.js";import{_ as Ge}from"./PaymentModeModal.9b5fc610.js";import"./exchange-rate.dffa79b6.js";import"./NoteModal.f6d01f84.js";const Re=["onSubmit"],Le={class:"absolute left-3.5"},Te={class:"relative w-full"},ze={class:"relative mt-6"},He={class:"z-20 float-right text-sm font-semibold leading-5 text-primary-400"},Je={class:"mb-4 text-sm font-medium text-gray-800"},nt={setup(_){const s=pe(),c=_e(),t=Ae();qe();const z=Ne();je(),ke();const H=Ue(),j=xe();De();const k=fe("utils"),{t:p}=ve();let b=M(!1),V=M(!1),f=M([]);const v=M(null),U="newEstimate",J=Pe(["customer","company","customerCustom","payment","paymentCustom"]),$=C({get:()=>t.currentPayment.amount/100,set:a=>{t.currentPayment.amount=Math.round(a*100)}}),u=C(()=>t.isFetchingInitialData),d=C(()=>s.name==="payments.edit"),x=C(()=>d.value?p("payments.edit_payment"):p("payments.new_payment")),O=C(()=>({currentPayment:{customer_id:{required:I.withMessage(p("validation.required"),w)},payment_date:{required:I.withMessage(p("validation.required"),w)},amount:{required:I.withMessage(p("validation.required"),w),between:I.withMessage(p("validation.payment_greater_than_due_amount"),ge(0,t.currentPayment.maxPayableAmount))},exchange_rate:{required:be(function(){return I.withMessage(p("validation.required"),w),t.showExchangeRate}),decimal:I.withMessage(p("validation.valid_exchange_rate"),Be)}}})),i=$e(O,t,{$scope:U});he(()=>{t.currentPayment.customer_id&&Y(t.currentPayment.customer_id),s.query.customer&&(t.currentPayment.customer_id=s.query.customer)}),t.resetCurrentPayment(),s.query.customer&&(t.currentPayment.customer_id=s.query.customer),t.fetchPaymentInitialData(d.value),s.params.id&&!d.value&&Q();async function X(){H.openModal({title:p("settings.payment_modes.add_payment_mode"),componentName:"PaymentModeModal"})}function K(a){t.currentPayment.notes=""+a.notes}async function Q(){var n;let a=await j.fetchInvoice((n=s==null?void 0:s.params)==null?void 0:n.id);t.currentPayment.customer_id=a.data.data.customer.id,t.currentPayment.invoice_id=a.data.data.id}async function W(a){a&&(v.value=f.value.find(n=>n.id===a),$.value=v.value.due_amount/100,t.currentPayment.maxPayableAmount=v.value.due_amount)}function Y(a){if(a){let n={customer_id:a,status:"DUE",limit:"all"};d.value&&(n.status=""),V.value=!0,Promise.all([j.fetchInvoices(n),z.fetchCustomer(a)]).then(async([y,B])=>{y&&(f.value=[...y.data.data]),B&&B.data&&(t.currentPayment.selectedCustomer=B.data.data,t.currentPayment.customer=B.data.data,t.currentPayment.currency=B.data.data.currency),t.currentPayment.invoice_id&&(v.value=f.value.find(P=>P.id===t.currentPayment.invoice_id),t.currentPayment.maxPayableAmount=v.value.due_amount+t.currentPayment.amount,$.value===0&&($.value=v.value.due_amount/100)),d.value&&(f.value=f.value.filter(P=>P.due_amount>0||P.id==t.currentPayment.invoice_id)),V.value=!1}).catch(y=>{V.value=!1,console.error(y,"error")})}}Ie(()=>{t.resetCurrentPayment(),f.value=[]});async function Z(){if(i.value.$touch(),i.value.$invalid)return!1;b.value=!0;let a=G({},t.currentPayment),n=null;try{n=await(d.value?t.updatePayment:t.addPayment)(a),c.push(`/admin/payments/${n.data.data.id}/view`)}catch{b.value=!1}}function ee(a){let n={userId:a};s.params.id&&(n.model_id=s.params.id),t.currentPayment.invoice_id=v.value=null,t.currentPayment.amount=0,f.value=[],t.getNextNumber(n,!0)}return(a,n)=>{const y=m("BaseBreadcrumbItem"),B=m("BaseBreadcrumb"),P=m("BaseIcon"),D=m("BaseButton"),te=m("BasePageHeader"),ae=m("BaseDatePicker"),h=m("BaseInputGroup"),ne=m("BaseInput"),oe=m("BaseCustomerSelectInput"),A=m("BaseMultiselect"),re=m("BaseMoney"),se=m("BaseSelectAction"),le=m("BaseInputGrid"),ue=m("BaseCustomInput"),me=m("BaseCard"),ie=m("BasePage");return N(),Se(Me,null,[o(Ge),o(ie,{class:"relative payment-create"},{default:l(()=>[S("form",{action:"",onSubmit:Ve(Z,["prevent"])},[o(te,{title:e(x),class:"mb-5"},{actions:l(()=>[o(D,{loading:e(b),disabled:e(b),variant:"primary",type:"submit",class:"hidden sm:flex"},{left:l(r=>[e(b)?T("",!0):(N(),R(P,{key:0,name:"SaveIcon",class:L(r.class)},null,8,["class"]))]),default:l(()=>[q(" "+g(e(d)?a.$t("payments.update_payment"):a.$t("payments.save_payment")),1)]),_:1},8,["loading","disabled"])]),default:l(()=>[o(B,null,{default:l(()=>[o(y,{title:a.$t("general.home"),to:"/admin/dashboard"},null,8,["title"]),o(y,{title:a.$tc("payments.payment",2),to:"/admin/payments"},null,8,["title"]),o(y,{title:e(x),to:"#",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),o(me,null,{default:l(()=>[o(le,null,{default:l(()=>[o(h,{label:a.$t("payments.date"),"content-loading":e(u),required:"",error:e(i).currentPayment.payment_date.$error&&e(i).currentPayment.payment_date.$errors[0].$message},{default:l(()=>[o(ae,{modelValue:e(t).currentPayment.payment_date,"onUpdate:modelValue":[n[0]||(n[0]=r=>e(t).currentPayment.payment_date=r),n[1]||(n[1]=r=>e(i).currentPayment.payment_date.$touch())],"content-loading":e(u),"calendar-button":!0,"calendar-button-icon":"calendar",invalid:e(i).currentPayment.payment_date.$error},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),o(h,{label:a.$t("payments.payment_number"),"content-loading":e(u),required:""},{default:l(()=>[o(ne,{modelValue:e(t).currentPayment.payment_number,"onUpdate:modelValue":n[2]||(n[2]=r=>e(t).currentPayment.payment_number=r),"content-loading":e(u)},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),o(h,{label:a.$t("payments.customer"),error:e(i).currentPayment.customer_id.$error&&e(i).currentPayment.customer_id.$errors[0].$message,"content-loading":e(u),required:""},{default:l(()=>[o(oe,{modelValue:e(t).currentPayment.customer_id,"onUpdate:modelValue":[n[3]||(n[3]=r=>e(t).currentPayment.customer_id=r),n[4]||(n[4]=r=>ee(e(t).currentPayment.customer_id))],"content-loading":e(u),invalid:e(i).currentPayment.customer_id.$error,placeholder:a.$t("customers.select_a_customer"),"fetch-all":e(d),"show-action":""},null,8,["modelValue","content-loading","invalid","placeholder","fetch-all"])]),_:1},8,["label","error","content-loading"]),o(h,{"content-loading":e(u),label:a.$t("payments.invoice"),"help-text":v.value?`Due Amount: ${e(t).currentPayment.maxPayableAmount/100}`:""},{default:l(()=>[o(A,{modelValue:e(t).currentPayment.invoice_id,"onUpdate:modelValue":n[5]||(n[5]=r=>e(t).currentPayment.invoice_id=r),"content-loading":e(u),"value-prop":"id","track-by":"invoice_number",label:"invoice_number",options:e(f),loading:e(V),placeholder:a.$t("invoices.select_invoice"),onSelect:W},{singlelabel:l(({value:r})=>[S("div",Le,g(r.invoice_number)+" ("+g(e(k).formatMoney(r.total,r.customer.currency))+") ",1)]),option:l(({option:r})=>[q(g(r.invoice_number)+" ("+g(e(k).formatMoney(r.total,r.customer.currency))+") ",1)]),_:1},8,["modelValue","content-loading","options","loading","placeholder"])]),_:1},8,["content-loading","label","help-text"]),o(h,{label:a.$t("payments.amount"),"content-loading":e(u),error:e(i).currentPayment.amount.$error&&e(i).currentPayment.amount.$errors[0].$message,required:""},{default:l(()=>[S("div",Te,[o(re,{key:e(t).currentPayment.currency,modelValue:e($),"onUpdate:modelValue":[n[6]||(n[6]=r=>Ce($)?$.value=r:null),n[7]||(n[7]=r=>e(i).currentPayment.amount.$touch())],currency:e(t).currentPayment.currency,"content-loading":e(u),invalid:e(i).currentPayment.amount.$error},null,8,["modelValue","currency","content-loading","invalid"])])]),_:1},8,["label","content-loading","error"]),o(h,{"content-loading":e(u),label:a.$t("payments.payment_mode")},{default:l(()=>[o(A,{modelValue:e(t).currentPayment.payment_method_id,"onUpdate:modelValue":n[8]||(n[8]=r=>e(t).currentPayment.payment_method_id=r),"content-loading":e(u),label:"name","value-prop":"id","track-by":"name",options:e(t).paymentModes,placeholder:a.$t("payments.select_payment_mode"),searchable:""},{action:l(()=>[o(se,{onClick:X},{default:l(()=>[o(P,{name:"PlusIcon",class:"h-4 mr-2 -ml-2 text-center text-primary-400"}),q(" "+g(a.$t("settings.payment_modes.add_payment_mode")),1)]),_:1})]),_:1},8,["modelValue","content-loading","options","placeholder"])]),_:1},8,["content-loading","label"]),o(we,{store:e(t),"store-prop":"currentPayment",v:e(i).currentPayment,"is-loading":e(u),"is-edit":e(d),"customer-currency":e(t).currentPayment.currency_id},null,8,["store","v","is-loading","is-edit","customer-currency"])]),_:1}),o(Fe,{type:"Payment","is-edit":e(d),"is-loading":e(u),store:e(t),"store-prop":"currentPayment","custom-field-scope":U,class:"mt-6"},null,8,["is-edit","is-loading","store"]),S("div",ze,[S("div",He,[o(Ee,{type:"Payment",onSelect:K})]),S("label",Je,g(a.$t("estimates.notes")),1),o(ue,{modelValue:e(t).currentPayment.notes,"onUpdate:modelValue":n[9]||(n[9]=r=>e(t).currentPayment.notes=r),"content-loading":e(u),fields:e(J),class:"mt-1"},null,8,["modelValue","content-loading","fields"])]),o(D,{loading:e(b),"content-loading":e(u),variant:"primary",type:"submit",class:"flex justify-center w-full mt-4 sm:hidden md:hidden"},{left:l(r=>[e(b)?T("",!0):(N(),R(P,{key:0,name:"SaveIcon",class:L(r.class)},null,8,["class"]))]),default:l(()=>[q(" "+g(e(d)?a.$t("payments.update_payment"):a.$t("payments.save_payment")),1)]),_:1},8,["loading","content-loading"])]),_:1})],40,Re)]),_:1})],64)}}};export{nt as default};

--- public/build/assets/Create.bffd06e1.js ---
@@ -1 +1 @@
-var oe=Object.defineProperty,se=Object.defineProperties;var le=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var re=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable;var P=(u,e,r)=>e in u?oe(u,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):u[e]=r,b=(u,e)=>{for(var r in e||(e={}))re.call(e,r)&&P(u,r,e[r]);if(N)for(var r of N(e))ie.call(e,r)&&P(u,r,e[r]);return u},h=(u,e)=>se(u,le(e));import{J as me,G as ue,aN as ce,B as T,k as p,L as x,M as de,N as pe,S as _e,T as ge,r as s,o as M,l as w,w as l,f as o,u as t,h as j,x as q,i as E,t as G,j as L,m as Ie,U as fe}from"./vendor.01d0adc5.js";import{p as ve,q as Be,c as be,b as $e,e as ye,g as Ve}from"./main.832b14c7.js";import{_ as Se}from"./ItemUnitModal.076e3ed4.js";const he=["onSubmit"],Ue={setup(u){const e=ve(),r=Be(),$=be(),z=$e(),{t:_}=me(),y=ue(),A=ce(),D=ye(),I=T(!1),V=T(z.selectedCompanySettings.tax_per_item);let i=T(!1);e.$reset(),J();const v=p({get:()=>e.currentItem.price/100,set:n=>{e.currentItem.price=Math.round(n*100)}}),S=p({get:()=>{var n,a;return(a=(n=e==null?void 0:e.currentItem)==null?void 0:n.taxes)==null?void 0:a.map(d=>{if(d)return h(b({},d),{tax_type_id:d.id,tax_name:d.name+" ("+d.percent+"%)"})})},set:n=>{e.currentItem.taxes=n}}),B=p(()=>y.name==="items.edit"),U=p(()=>B.value?_("items.edit_item"):_("items.new_item")),R=p(()=>r.taxTypes.map(n=>h(b({},n),{tax_type_id:n.id,tax_name:n.name+" ("+n.percent+"%)"}))),Y=p(()=>V.value==="YES"),H=p(()=>({currentItem:{name:{required:x.withMessage(_("validation.required"),de),minLength:x.withMessage(_("validation.name_min_length",{count:3}),pe(3))},description:{maxLength:x.withMessage(_("validation.description_maxlength"),_e(65e3))}}})),c=ge(H,e);async function F(){$.openModal({title:_("settings.customization.items.add_item_unit"),componentName:"ItemUnitModal",size:"sm"})}async function J(){if(i.value=!0,await e.fetchItemUnits({limit:"all"}),D.hasAbilities(Ve.VIEW_TAX_TYPE)&&await r.fetchTaxTypes({limit:"all"}),B.value){let n=y.params.id;await e.fetchItem(n),e.currentItem.tax_per_item===1?V.value="YES":V.value="NO"}i.value=!1}async function O(){if(c.value.currentItem.$touch(),c.value.currentItem.$invalid)return!1;I.value=!0;try{let a=b({id:y.params.id},e.currentItem);e.currentItem&&e.currentItem.taxes&&(a.taxes=e.currentItem.taxes.map(g=>({tax_type_id:g.tax_type_id,amount:v.value*g.percent,percent:g.percent,name:g.name,collective_tax:0}))),await(B.value?e.updateItem:e.addItem)(a),I.value=!1,A.push("/admin/items"),n()}catch{I.value=!1;return}function n(){$.closeModal(),setTimeout(()=>{e.resetCurrentItem(),$.$reset(),c.value.$reset()},300)}}return(n,a)=>{const d=s("BaseBreadcrumbItem"),g=s("BaseBreadcrumb"),W=s("BasePageHeader"),X=s("BaseInput"),f=s("BaseInputGroup"),K=s("BaseMoney"),C=s("BaseIcon"),Q=s("BaseSelectAction"),k=s("BaseMultiselect"),Z=s("BaseTextarea"),ee=s("BaseButton"),te=s("BaseInputGrid"),ne=s("BaseCard"),ae=s("BasePage");return M(),w(ae,null,{default:l(()=>[o(W,{title:t(U)},{default:l(()=>[o(g,null,{default:l(()=>[o(d,{title:n.$t("general.home"),to:"dashboard"},null,8,["title"]),o(d,{title:n.$tc("items.item",2),to:"/admin/items"},null,8,["title"]),o(d,{title:t(U),to:"#",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),o(Se),j("form",{class:"grid lg:grid-cols-2 mt-6",action:"submit",onSubmit:fe(O,["prevent"])},[o(ne,{class:"w-full"},{default:l(()=>[o(te,{layout:"one-column"},{default:l(()=>[o(f,{label:n.$t("items.name"),"content-loading":t(i),required:"",error:t(c).currentItem.name.$error&&t(c).currentItem.name.$errors[0].$message},{default:l(()=>[o(X,{modelValue:t(e).currentItem.name,"onUpdate:modelValue":a[0]||(a[0]=m=>t(e).currentItem.name=m),"content-loading":t(i),invalid:t(c).currentItem.name.$error,onInput:a[1]||(a[1]=m=>t(c).currentItem.name.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),o(f,{label:n.$t("items.price"),"content-loading":t(i)},{default:l(()=>[o(K,{modelValue:t(v),"onUpdate:modelValue":a[2]||(a[2]=m=>q(v)?v.value=m:null),"content-loading":t(i)},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),o(f,{"content-loading":t(i),label:n.$t("items.unit")},{default:l(()=>[o(k,{modelValue:t(e).currentItem.unit_id,"onUpdate:modelValue":a[3]||(a[3]=m=>t(e).currentItem.unit_id=m),"content-loading":t(i),label:"name",options:t(e).itemUnits,"value-prop":"id","can-deselect":!1,"can-clear":!1,placeholder:n.$t("items.select_a_unit"),searchable:"","track-by":"name"},{action:l(()=>[o(Q,{onClick:F},{default:l(()=>[o(C,{name:"PlusIcon",class:"h-4 mr-2 -ml-2 text-center text-primary-400"}),E(" "+G(n.$t("settings.customization.items.add_item_unit")),1)]),_:1})]),_:1},8,["modelValue","content-loading","options","placeholder"])]),_:1},8,["content-loading","label"]),t(Y)?(M(),w(f,{key:0,label:n.$t("items.taxes"),"content-loading":t(i)},{default:l(()=>[o(k,{modelValue:t(S),"onUpdate:modelValue":a[4]||(a[4]=m=>q(S)?S.value=m:null),"content-loading":t(i),options:t(R),mode:"tags",label:"tax_name",class:"w-full","value-prop":"id","can-deselect":!1,"can-clear":!1,searchable:"","track-by":"tax_name",object:""},null,8,["modelValue","content-loading","options"])]),_:1},8,["label","content-loading"])):L("",!0),o(f,{label:n.$t("items.description"),"content-loading":t(i),error:t(c).currentItem.description.$error&&t(c).currentItem.description.$errors[0].$message},{default:l(()=>[o(Z,{modelValue:t(e).currentItem.description,"onUpdate:modelValue":a[5]||(a[5]=m=>t(e).currentItem.description=m),"content-loading":t(i),name:"description",row:2,rows:"2",onInput:a[6]||(a[6]=m=>t(c).currentItem.description.$touch())},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading","error"]),j("div",null,[o(ee,{"content-loading":t(i),type:"submit",loading:I.value},{left:l(m=>[I.value?L("",!0):(M(),w(C,{key:0,name:"SaveIcon",class:Ie(m.class)},null,8,["class"]))]),default:l(()=>[E(" "+G(t(B)?n.$t("items.update_item"):n.$t("items.save_item")),1)]),_:1},8,["content-loading","loading"])])]),_:1})]),_:1})],40,he)]),_:1})}}};export{Ue as default};
+var oe=Object.defineProperty,se=Object.defineProperties;var le=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var re=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable;var P=(u,e,r)=>e in u?oe(u,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):u[e]=r,b=(u,e)=>{for(var r in e||(e={}))re.call(e,r)&&P(u,r,e[r]);if(N)for(var r of N(e))ie.call(e,r)&&P(u,r,e[r]);return u},h=(u,e)=>se(u,le(e));import{J as me,G as ue,aN as ce,B as T,k as p,L as x,M as de,N as pe,S as _e,T as ge,r as s,o as M,l as w,w as l,f as o,u as t,h as j,x as q,i as E,t as G,j as L,m as Ie,U as fe}from"./vendor.01d0adc5.js";import{p as ve,q as Be,c as be,b as $e,e as ye,g as Ve}from"./main.75722495.js";import{_ as Se}from"./ItemUnitModal.01494bfb.js";const he=["onSubmit"],Ue={setup(u){const e=ve(),r=Be(),$=be(),z=$e(),{t:_}=me(),y=ue(),A=ce(),D=ye(),I=T(!1),V=T(z.selectedCompanySettings.tax_per_item);let i=T(!1);e.$reset(),J();const v=p({get:()=>e.currentItem.price/100,set:n=>{e.currentItem.price=Math.round(n*100)}}),S=p({get:()=>{var n,a;return(a=(n=e==null?void 0:e.currentItem)==null?void 0:n.taxes)==null?void 0:a.map(d=>{if(d)return h(b({},d),{tax_type_id:d.id,tax_name:d.name+" ("+d.percent+"%)"})})},set:n=>{e.currentItem.taxes=n}}),B=p(()=>y.name==="items.edit"),U=p(()=>B.value?_("items.edit_item"):_("items.new_item")),R=p(()=>r.taxTypes.map(n=>h(b({},n),{tax_type_id:n.id,tax_name:n.name+" ("+n.percent+"%)"}))),Y=p(()=>V.value==="YES"),H=p(()=>({currentItem:{name:{required:x.withMessage(_("validation.required"),de),minLength:x.withMessage(_("validation.name_min_length",{count:3}),pe(3))},description:{maxLength:x.withMessage(_("validation.description_maxlength"),_e(65e3))}}})),c=ge(H,e);async function F(){$.openModal({title:_("settings.customization.items.add_item_unit"),componentName:"ItemUnitModal",size:"sm"})}async function J(){if(i.value=!0,await e.fetchItemUnits({limit:"all"}),D.hasAbilities(Ve.VIEW_TAX_TYPE)&&await r.fetchTaxTypes({limit:"all"}),B.value){let n=y.params.id;await e.fetchItem(n),e.currentItem.tax_per_item===1?V.value="YES":V.value="NO"}i.value=!1}async function O(){if(c.value.currentItem.$touch(),c.value.currentItem.$invalid)return!1;I.value=!0;try{let a=b({id:y.params.id},e.currentItem);e.currentItem&&e.currentItem.taxes&&(a.taxes=e.currentItem.taxes.map(g=>({tax_type_id:g.tax_type_id,amount:v.value*g.percent,percent:g.percent,name:g.name,collective_tax:0}))),await(B.value?e.updateItem:e.addItem)(a),I.value=!1,A.push("/admin/items"),n()}catch{I.value=!1;return}function n(){$.closeModal(),setTimeout(()=>{e.resetCurrentItem(),$.$reset(),c.value.$reset()},300)}}return(n,a)=>{const d=s("BaseBreadcrumbItem"),g=s("BaseBreadcrumb"),W=s("BasePageHeader"),X=s("BaseInput"),f=s("BaseInputGroup"),K=s("BaseMoney"),C=s("BaseIcon"),Q=s("BaseSelectAction"),k=s("BaseMultiselect"),Z=s("BaseTextarea"),ee=s("BaseButton"),te=s("BaseInputGrid"),ne=s("BaseCard"),ae=s("BasePage");return M(),w(ae,null,{default:l(()=>[o(W,{title:t(U)},{default:l(()=>[o(g,null,{default:l(()=>[o(d,{title:n.$t("general.home"),to:"dashboard"},null,8,["title"]),o(d,{title:n.$tc("items.item",2),to:"/admin/items"},null,8,["title"]),o(d,{title:t(U),to:"#",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),o(Se),j("form",{class:"grid lg:grid-cols-2 mt-6",action:"submit",onSubmit:fe(O,["prevent"])},[o(ne,{class:"w-full"},{default:l(()=>[o(te,{layout:"one-column"},{default:l(()=>[o(f,{label:n.$t("items.name"),"content-loading":t(i),required:"",error:t(c).currentItem.name.$error&&t(c).currentItem.name.$errors[0].$message},{default:l(()=>[o(X,{modelValue:t(e).currentItem.name,"onUpdate:modelValue":a[0]||(a[0]=m=>t(e).currentItem.name=m),"content-loading":t(i),invalid:t(c).currentItem.name.$error,onInput:a[1]||(a[1]=m=>t(c).currentItem.name.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),o(f,{label:n.$t("items.price"),"content-loading":t(i)},{default:l(()=>[o(K,{modelValue:t(v),"onUpdate:modelValue":a[2]||(a[2]=m=>q(v)?v.value=m:null),"content-loading":t(i)},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),o(f,{"content-loading":t(i),label:n.$t("items.unit")},{default:l(()=>[o(k,{modelValue:t(e).currentItem.unit_id,"onUpdate:modelValue":a[3]||(a[3]=m=>t(e).currentItem.unit_id=m),"content-loading":t(i),label:"name",options:t(e).itemUnits,"value-prop":"id","can-deselect":!1,"can-clear":!1,placeholder:n.$t("items.select_a_unit"),searchable:"","track-by":"name"},{action:l(()=>[o(Q,{onClick:F},{default:l(()=>[o(C,{name:"PlusIcon",class:"h-4 mr-2 -ml-2 text-center text-primary-400"}),E(" "+G(n.$t("settings.customization.items.add_item_unit")),1)]),_:1})]),_:1},8,["modelValue","content-loading","options","placeholder"])]),_:1},8,["content-loading","label"]),t(Y)?(M(),w(f,{key:0,label:n.$t("items.taxes"),"content-loading":t(i)},{default:l(()=>[o(k,{modelValue:t(S),"onUpdate:modelValue":a[4]||(a[4]=m=>q(S)?S.value=m:null),"content-loading":t(i),options:t(R),mode:"tags",label:"tax_name",class:"w-full","value-prop":"id","can-deselect":!1,"can-clear":!1,searchable:"","track-by":"tax_name",object:""},null,8,["modelValue","content-loading","options"])]),_:1},8,["label","content-loading"])):L("",!0),o(f,{label:n.$t("items.description"),"content-loading":t(i),error:t(c).currentItem.description.$error&&t(c).currentItem.description.$errors[0].$message},{default:l(()=>[o(Z,{modelValue:t(e).currentItem.description,"onUpdate:modelValue":a[5]||(a[5]=m=>t(e).currentItem.description=m),"content-loading":t(i),name:"description",row:2,rows:"2",onInput:a[6]||(a[6]=m=>t(c).currentItem.description.$touch())},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading","error"]),j("div",null,[o(ee,{"content-loading":t(i),type:"submit",loading:I.value},{left:l(m=>[I.value?L("",!0):(M(),w(C,{key:0,name:"SaveIcon",class:Ie(m.class)},null,8,["class"]))]),default:l(()=>[E(" "+G(t(B)?n.$t("items.update_item"):n.$t("items.save_item")),1)]),_:1},8,["content-loading","loading"])])]),_:1})]),_:1})],40,he)]),_:1})}}};export{Ue as default};

--- public/build/assets/CreateCustomFields.a3a572c4.js ---
@@ -1 +1 @@
-var I=Object.defineProperty,b=Object.defineProperties;var g=Object.getOwnPropertyDescriptors;var y=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;var _=(e,t,r)=>t in e?I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,f=(e,t)=>{for(var r in t||(t={}))q.call(t,r)&&_(e,r,t[r]);if(y)for(var r of y(t))h.call(t,r)&&_(e,r,t[r]);return e},v=(e,t)=>b(e,g(t));import{J as j,L as w,O as V,T as L,k as T,aE as F,r as E,o as n,l as m,w as P,aj as O,u as c,_ as S,C as x,e as D,f as A,F as R,y as k,j as B,I as C}from"./vendor.01d0adc5.js";import{o as i,m as Y}from"./main.832b14c7.js";function $(e){switch(e){case"./types/DateTimeType.vue":return i(()=>import("./DateTimeType.164ef007.js"),["assets/DateTimeType.164ef007.js","assets/vendor.01d0adc5.js"]);case"./types/DateType.vue":return i(()=>import("./DateType.757171f6.js"),["assets/DateType.757171f6.js","assets/vendor.01d0adc5.js"]);case"./types/DropdownType.vue":return i(()=>import("./DropdownType.631322dc.js"),["assets/DropdownType.631322dc.js","assets/vendor.01d0adc5.js"]);case"./types/InputType.vue":return i(()=>import("./InputType.4e1e4da6.js"),["assets/InputType.4e1e4da6.js","assets/vendor.01d0adc5.js"]);case"./types/NumberType.vue":return i(()=>import("./NumberType.137b13f5.js"),["assets/NumberType.137b13f5.js","assets/vendor.01d0adc5.js"]);case"./types/PhoneType.vue":return i(()=>import("./PhoneType.57e436b9.js"),["assets/PhoneType.57e436b9.js","assets/vendor.01d0adc5.js"]);case"./types/SwitchType.vue":return i(()=>import("./SwitchType.59d9fde0.js"),["assets/SwitchType.59d9fde0.js","assets/vendor.01d0adc5.js"]);case"./types/TextAreaType.vue":return i(()=>import("./TextAreaType.ebc60805.js"),["assets/TextAreaType.ebc60805.js","assets/vendor.01d0adc5.js"]);case"./types/TimeType.vue":return i(()=>import("./TimeType.a6077fcb.js"),["assets/TimeType.a6077fcb.js","assets/vendor.01d0adc5.js"]);case"./types/UrlType.vue":return i(()=>import("./UrlType.4a23df64.js"),["assets/UrlType.4a23df64.js","assets/vendor.01d0adc5.js"]);default:return new Promise(function(t,r){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(r.bind(null,new Error("Unknown variable dynamic import: "+e)))})}}const M={props:{field:{type:Object,required:!0},customFieldScope:{type:String,required:!0},index:{type:Number,required:!0},store:{type:Object,required:!0},storeProp:{type:String,required:!0}},setup(e){const t=e,{t:r}=j(),d={value:{required:w.withMessage(r("validation.required"),V(t.field.is_required))}},a=L(d,T(()=>t.field),{$scope:t.customFieldScope}),o=T(()=>t.field.type?F(()=>$(`./types/${t.field.type}Type.vue`)):!1);return(u,s)=>{const l=E("BaseInputGroup");return n(),m(l,{label:e.field.label,required:!!e.field.is_required,error:c(a).value.$error&&c(a).value.$errors[0].$message},{default:P(()=>[(n(),m(O(c(o)),{modelValue:e.field.value,"onUpdate:modelValue":s[0]||(s[0]=p=>e.field.value=p),options:e.field.options,invalid:c(a).value.$error,placeholder:e.field.placeholder},null,8,["modelValue","options","invalid","placeholder"]))]),_:1},8,["label","required","error"])}}},N={key:0},J={props:{store:{type:Object,required:!0},storeProp:{type:String,required:!0},isEdit:{type:Boolean,default:!1},type:{type:String,default:null},gridLayout:{type:String,default:"two-column"},isLoading:{type:Boolean,default:null},customFieldScope:{type:String,required:!0}},setup(e){const t=e,r=Y();a();function d(){t.isEdit&&t.store[t.storeProp].fields.forEach(o=>{const u=t.store[t.storeProp].customFields.findIndex(s=>s.id===o.custom_field_id);if(u>-1){let s=o.default_answer;s&&o.custom_field.type==="DateTime"&&(s=C(o.default_answer,"YYYY-MM-DD HH:mm:ss").format("YYYY-MM-DD HH:mm")),t.store[t.storeProp].customFields[u]=v(f({},o),{id:o.custom_field_id,value:s,label:o.custom_field.label,options:o.custom_field.options,is_required:o.custom_field.is_required,placeholder:o.custom_field.placeholder,order:o.custom_field.order})}})}async function a(){let u=(await r.fetchCustomFields({type:t.type,limit:"all"})).data.data;u.map(s=>s.value=s.default_answer),t.store[t.storeProp].customFields=S.sortBy(u,s=>s.order),d()}return x(()=>t.store[t.storeProp].fields,o=>{d()}),(o,u)=>{const s=E("BaseInputGrid");return e.store[e.storeProp]&&e.store[e.storeProp].customFields.length>0&&!e.isLoading?(n(),D("div",N,[A(s,{layout:e.gridLayout},{default:P(()=>[(n(!0),D(R,null,k(e.store[e.storeProp].customFields,(l,p)=>(n(),m(M,{key:l.id,"custom-field-scope":e.customFieldScope,store:e.store,"store-prop":e.storeProp,index:p,field:l},null,8,["custom-field-scope","store","store-prop","index","field"]))),128))]),_:1},8,["layout"])])):B("",!0)}}};export{J as _};
+var I=Object.defineProperty,g=Object.defineProperties;var q=Object.getOwnPropertyDescriptors;var y=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;var _=(e,t,r)=>t in e?I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,f=(e,t)=>{for(var r in t||(t={}))b.call(t,r)&&_(e,r,t[r]);if(y)for(var r of y(t))h.call(t,r)&&_(e,r,t[r]);return e},v=(e,t)=>g(e,q(t));import{J as j,L as w,O as V,T as L,k as T,aE as F,r as E,o as n,l as m,w as P,aj as O,u as c,_ as S,C as x,e as D,f as A,F as R,y as k,j as B,I as C}from"./vendor.01d0adc5.js";import{o as i,m as Y}from"./main.75722495.js";function $(e){switch(e){case"./types/DateTimeType.vue":return i(()=>import("./DateTimeType.164ef007.js"),["assets/DateTimeType.164ef007.js","assets/vendor.01d0adc5.js"]);case"./types/DateType.vue":return i(()=>import("./DateType.757171f6.js"),["assets/DateType.757171f6.js","assets/vendor.01d0adc5.js"]);case"./types/DropdownType.vue":return i(()=>import("./DropdownType.631322dc.js"),["assets/DropdownType.631322dc.js","assets/vendor.01d0adc5.js"]);case"./types/InputType.vue":return i(()=>import("./InputType.4e1e4da6.js"),["assets/InputType.4e1e4da6.js","assets/vendor.01d0adc5.js"]);case"./types/NumberType.vue":return i(()=>import("./NumberType.137b13f5.js"),["assets/NumberType.137b13f5.js","assets/vendor.01d0adc5.js"]);case"./types/PhoneType.vue":return i(()=>import("./PhoneType.57e436b9.js"),["assets/PhoneType.57e436b9.js","assets/vendor.01d0adc5.js"]);case"./types/SwitchType.vue":return i(()=>import("./SwitchType.59d9fde0.js"),["assets/SwitchType.59d9fde0.js","assets/vendor.01d0adc5.js"]);case"./types/TextAreaType.vue":return i(()=>import("./TextAreaType.ebc60805.js"),["assets/TextAreaType.ebc60805.js","assets/vendor.01d0adc5.js"]);case"./types/TimeType.vue":return i(()=>import("./TimeType.a6077fcb.js"),["assets/TimeType.a6077fcb.js","assets/vendor.01d0adc5.js"]);case"./types/UrlType.vue":return i(()=>import("./UrlType.4a23df64.js"),["assets/UrlType.4a23df64.js","assets/vendor.01d0adc5.js"]);default:return new Promise(function(t,r){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(r.bind(null,new Error("Unknown variable dynamic import: "+e)))})}}const M={props:{field:{type:Object,required:!0},customFieldScope:{type:String,required:!0},index:{type:Number,required:!0},store:{type:Object,required:!0},storeProp:{type:String,required:!0}},setup(e){const t=e,{t:r}=j(),d={value:{required:w.withMessage(r("validation.required"),V(t.field.is_required))}},a=L(d,T(()=>t.field),{$scope:t.customFieldScope}),o=T(()=>t.field.type?F(()=>$(`./types/${t.field.type}Type.vue`)):!1);return(u,s)=>{const l=E("BaseInputGroup");return n(),m(l,{label:e.field.label,required:!!e.field.is_required,error:c(a).value.$error&&c(a).value.$errors[0].$message},{default:P(()=>[(n(),m(O(c(o)),{modelValue:e.field.value,"onUpdate:modelValue":s[0]||(s[0]=p=>e.field.value=p),options:e.field.options,invalid:c(a).value.$error,placeholder:e.field.placeholder},null,8,["modelValue","options","invalid","placeholder"]))]),_:1},8,["label","required","error"])}}},N={key:0},J={props:{store:{type:Object,required:!0},storeProp:{type:String,required:!0},isEdit:{type:Boolean,default:!1},type:{type:String,default:null},gridLayout:{type:String,default:"two-column"},isLoading:{type:Boolean,default:null},customFieldScope:{type:String,required:!0}},setup(e){const t=e,r=Y();a();function d(){t.isEdit&&t.store[t.storeProp].fields.forEach(o=>{const u=t.store[t.storeProp].customFields.findIndex(s=>s.id===o.custom_field_id);if(u>-1){let s=o.default_answer;s&&o.custom_field.type==="DateTime"&&(s=C(o.default_answer,"YYYY-MM-DD HH:mm:ss").format("YYYY-MM-DD HH:mm")),t.store[t.storeProp].customFields[u]=v(f({},o),{id:o.custom_field_id,value:s,label:o.custom_field.label,options:o.custom_field.options,is_required:o.custom_field.is_required,placeholder:o.custom_field.placeholder,order:o.custom_field.order})}})}async function a(){let u=(await r.fetchCustomFields({type:t.type,limit:"all"})).data.data;u.map(s=>s.value=s.default_answer),t.store[t.storeProp].customFields=S.sortBy(u,s=>s.order),d()}return x(()=>t.store[t.storeProp].fields,o=>{d()}),(o,u)=>{const s=E("BaseInputGrid");return e.store[e.storeProp]&&e.store[e.storeProp].customFields.length>0&&!e.isLoading?(n(),D("div",N,[A(s,{layout:e.gridLayout},{default:P(()=>[(n(!0),D(R,null,k(e.store[e.storeProp].customFields,(l,p)=>(n(),m(M,{key:l.id,"custom-field-scope":e.customFieldScope,store:e.store,"store-prop":e.storeProp,index:p,field:l},null,8,["custom-field-scope","store","store-prop","index","field"]))),128))]),_:1},8,["layout"])])):B("",!0)}}};export{J as _};

--- public/build/assets/CustomFieldsSetting.9f0813a0.js ---
@@ -1 +1 @@
-var ie=Object.defineProperty;var W=Object.getOwnPropertySymbols;var de=Object.prototype.hasOwnProperty,me=Object.prototype.propertyIsEnumerable;var Z=(m,n,e)=>n in m?ie(m,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):m[n]=e,ee=(m,n)=>{for(var e in n||(n={}))de.call(n,e)&&Z(m,e,n[e]);if(W)for(var e of W(n))me.call(n,e)&&Z(m,e,n[e]);return m};import{J as H,G as ce,ah as te,r as d,o as C,l as F,w as u,f as l,u as t,i as B,t as $,j as M,B as L,e as z,aY as pe,U as se,a0 as le,k as D,aE as _e,L as k,M as A,aT as fe,T as ye,h as O,x as oe,y as ve,m as G,F as Ce,aj as be,V as ge}from"./vendor.01d0adc5.js";import{j as Fe,u as Te,m as K,e as ae,c as Y,g as U,o as T}from"./main.832b14c7.js";const we={props:{row:{type:Object,default:null},table:{type:Object,default:null},loadData:{type:Function,default:null}},setup(m){const n=m,e=Fe();Te();const{t:i}=H(),v=K();ce();const f=ae(),c=Y();te("utils");async function p(b){await v.fetchCustomField(b),c.openModal({title:i("settings.custom_fields.edit_custom_field"),componentName:"CustomFieldModal",size:"sm",data:b,refreshData:n.loadData})}async function V(b){e.openDialog({title:i("general.are_you_sure"),message:i("settings.custom_fields.custom_field_confirm_delete"),yesLabel:i("general.ok"),noLabel:i("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(async g=>{g&&(await v.deleteCustomFields(b),n.loadData&&n.loadData())})}return(b,g)=>{const y=d("BaseIcon"),I=d("BaseDropdownItem"),h=d("BaseDropdown");return C(),F(h,null,{activator:u(()=>[l(y,{name:"DotsHorizontalIcon",class:"h-5 text-gray-500"})]),default:u(()=>[t(f).hasAbilities(t(U).EDIT_CUSTOM_FIELDS)?(C(),F(I,{key:0,onClick:g[0]||(g[0]=o=>p(m.row.id))},{default:u(()=>[l(y,{name:"PencilIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),B(" "+$(b.$t("general.edit")),1)]),_:1})):M("",!0),t(f).hasAbilities(t(U).DELETE_CUSTOM_FIELDS)?(C(),F(I,{key:1,onClick:g[1]||(g[1]=o=>V(m.row.id))},{default:u(()=>[l(y,{name:"TrashIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),B(" "+$(b.$t("general.delete")),1)]),_:1})):M("",!0)]),_:1})}}},$e={class:"flex items-center mt-1"},Ie={emits:["onAdd"],setup(m,{emit:n}){const e=L(null);function i(){if(e.value==null||e.value==""||e.value==null)return!0;n("onAdd",e.value),e.value=null}return(v,f)=>{const c=d("BaseInput"),p=d("BaseIcon");return C(),z("div",$e,[l(c,{modelValue:e.value,"onUpdate:modelValue":f[0]||(f[0]=V=>e.value=V),type:"text",class:"w-full md:w-96",placeholder:v.$t("settings.custom_fields.press_enter_to_add"),onClick:i,onKeydown:pe(se(i,["prevent","stop"]),["enter"])},null,8,["modelValue","placeholder","onKeydown"]),l(p,{name:"PlusCircleIcon",class:"ml-1 text-primary-500 cursor-pointer",onClick:i})])}}};function he(m){switch(m){case"../../custom-fields/types/DateTimeType.vue":return T(()=>import("./DateTimeType.164ef007.js"),["assets/DateTimeType.164ef007.js","assets/vendor.01d0adc5.js"]);case"../../custom-fields/types/DateType.vue":return T(()=>import("./DateType.757171f6.js"),["assets/DateType.757171f6.js","assets/vendor.01d0adc5.js"]);case"../../custom-fields/types/DropdownType.vue":return T(()=>import("./DropdownType.631322dc.js"),["assets/DropdownType.631322dc.js","assets/vendor.01d0adc5.js"]);case"../../custom-fields/types/InputType.vue":return T(()=>import("./InputType.4e1e4da6.js"),["assets/InputType.4e1e4da6.js","assets/vendor.01d0adc5.js"]);case"../../custom-fields/types/NumberType.vue":return T(()=>import("./NumberType.137b13f5.js"),["assets/NumberType.137b13f5.js","assets/vendor.01d0adc5.js"]);case"../../custom-fields/types/PhoneType.vue":return T(()=>import("./PhoneType.57e436b9.js"),["assets/PhoneType.57e436b9.js","assets/vendor.01d0adc5.js"]);case"../../custom-fields/types/SwitchType.vue":return T(()=>import("./SwitchType.59d9fde0.js"),["assets/SwitchType.59d9fde0.js","assets/vendor.01d0adc5.js"]);case"../../custom-fields/types/TextAreaType.vue":return T(()=>import("./TextAreaType.ebc60805.js"),["assets/TextAreaType.ebc60805.js","assets/vendor.01d0adc5.js"]);case"../../custom-fields/types/TimeType.vue":return T(()=>import("./TimeType.a6077fcb.js"),["assets/TimeType.a6077fcb.js","assets/vendor.01d0adc5.js"]);case"../../custom-fields/types/UrlType.vue":return T(()=>import("./UrlType.4a23df64.js"),["assets/UrlType.4a23df64.js","assets/vendor.01d0adc5.js"]);default:return new Promise(function(n,e){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(e.bind(null,new Error("Unknown variable dynamic import: "+m)))})}}const Be={class:"flex justify-between w-full"},De=["onSubmit"],Ve={class:"overflow-y-auto max-h-[550px]"},Se={class:"px-4 md:px-8 py-8 overflow-y-auto sm:p-6"},Ee={class:"z-0 flex justify-end p-4 border-t border-solid border-gray-light border-modal-bg"},qe={setup(m){const n=Y(),e=K(),{t:i}=H();let v=L(!1);const f=le(["Customer","Invoice","Estimate","Expense","Payment"]),c=le([{label:"Text",value:"Input"},{label:"Textarea",value:"TextArea"},{label:"Phone",value:"Phone"},{label:"URL",value:"Url"},{label:"Number",value:"Number"},{label:"Select Field",value:"Dropdown"},{label:"Switch Toggle",value:"Switch"},{label:"Date",value:"Date"},{label:"Time",value:"Time"},{label:"Date & Time",value:"DateTime"}]);let p=L(c[0]);const V=D(()=>n.active&&n.componentName==="CustomFieldModal"),b=D(()=>p.value&&p.value.label==="Switch Toggle"),g=D(()=>p.value&&p.value.label==="Select Field"),y=D(()=>e.currentCustomField.type?_e(()=>he(`../../custom-fields/types/${e.currentCustomField.type}Type.vue`)):!1),I=D({get:()=>e.currentCustomField.is_required===1,set:s=>{const a=s?1:0;e.currentCustomField.is_required=a}}),h=D(()=>({currentCustomField:{type:{required:k.withMessage(i("validation.required"),A)},name:{required:k.withMessage(i("validation.required"),A)},label:{required:k.withMessage(i("validation.required"),A)},model_type:{required:k.withMessage(i("validation.required"),A)},order:{required:k.withMessage(i("validation.required"),A),numeric:k.withMessage(i("validation.numbers_only"),fe)},type:{required:k.withMessage(i("validation.required"),A)}}})),o=ye(h,D(()=>e));function S(){e.isEdit?p.value=c.find(s=>s.value==e.currentCustomField.type):(e.currentCustomField.model_type=f[0],e.currentCustomField.type=c[0].value,p.value=c[0])}async function P(){if(o.value.currentCustomField.$touch(),o.value.currentCustomField.$invalid)return!0;v.value=!0;let s=ee({},e.currentCustomField);if(e.currentCustomField.options&&(s.options=e.currentCustomField.options.map(E=>E.name)),s.type=="Time"&&typeof s.default_answer=="object"){let E=s&&s.default_answer&&s.default_answer.HH?s.default_answer.HH:null,q=s&&s.default_answer&&s.default_answer.mm?s.default_answer.mm:null;s&&s.default_answer&&s.default_answer.ss&&s.default_answer.ss,s.default_answer=`${E}:${q}`}await(e.isEdit?e.updateCustomField:e.addCustomField)(s),v.value=!1,n.refreshData&&n.refreshData(),R()}function x(s){e.currentCustomField.options=[{name:s},...e.currentCustomField.options]}function _(s){if(e.isEdit&&e.currentCustomField.in_use)return;e.currentCustomField.options[s].name===e.currentCustomField.default_answer&&(e.currentCustomField.default_answer=null),e.currentCustomField.options.splice(s,1)}function N(s){e.currentCustomField.type=s.value}function R(){n.closeModal(),setTimeout(()=>{e.resetCurrentCustomField(),o.value.$reset()},300)}return(s,a)=>{const E=d("BaseIcon"),q=d("BaseInput"),w=d("BaseInputGroup"),J=d("BaseMultiselect"),re=d("BaseSwitch"),ne=d("BaseInputGrid"),X=d("BaseButton"),ue=d("BaseModal");return C(),F(ue,{show:t(V),onOpen:S},{header:u(()=>[O("div",Be,[B($(t(n).title)+" ",1),l(E,{name:"XIcon",class:"w-6 h-6 text-gray-500 cursor-pointer",onClick:R})])]),default:u(()=>[O("form",{action:"",onSubmit:se(P,["prevent"])},[O("div",Ve,[O("div",Se,[l(ne,{layout:"one-column"},{default:u(()=>[l(w,{label:s.$t("settings.custom_fields.name"),required:"",error:t(o).currentCustomField.name.$error&&t(o).currentCustomField.name.$errors[0].$message},{default:u(()=>[l(q,{ref:(r,j)=>{j.name=r},modelValue:t(e).currentCustomField.name,"onUpdate:modelValue":a[0]||(a[0]=r=>t(e).currentCustomField.name=r),invalid:t(o).currentCustomField.name.$error,onInput:a[1]||(a[1]=r=>t(o).currentCustomField.name.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),l(w,{label:s.$t("settings.custom_fields.model"),error:t(o).currentCustomField.model_type.$error&&t(o).currentCustomField.model_type.$errors[0].$message,"help-text":t(e).currentCustomField.in_use?s.$t("settings.custom_fields.model_in_use"):"",required:""},{default:u(()=>[l(J,{modelValue:t(e).currentCustomField.model_type,"onUpdate:modelValue":a[2]||(a[2]=r=>t(e).currentCustomField.model_type=r),options:t(f),"can-deselect":!1,invalid:t(o).currentCustomField.model_type.$error,searchable:!0,disabled:t(e).currentCustomField.in_use,onInput:a[3]||(a[3]=r=>t(o).currentCustomField.model_type.$touch())},null,8,["modelValue","options","invalid","disabled"])]),_:1},8,["label","error","help-text"]),l(w,{class:"flex items-center space-x-4",label:s.$t("settings.custom_fields.required")},{default:u(()=>[l(re,{modelValue:t(I),"onUpdate:modelValue":a[4]||(a[4]=r=>oe(I)?I.value=r:null)},null,8,["modelValue"])]),_:1},8,["label"]),l(w,{label:s.$t("settings.custom_fields.type"),error:t(o).currentCustomField.type.$error&&t(o).currentCustomField.type.$errors[0].$message,"help-text":t(e).currentCustomField.in_use?s.$t("settings.custom_fields.type_in_use"):"",required:""},{default:u(()=>[l(J,{modelValue:t(p),"onUpdate:modelValue":[a[5]||(a[5]=r=>oe(p)?p.value=r:p=r),N],options:t(c),invalid:t(o).currentCustomField.type.$error,disabled:t(e).currentCustomField.in_use,searchable:!0,"can-deselect":!1,object:""},null,8,["modelValue","options","invalid","disabled"])]),_:1},8,["label","error","help-text"]),l(w,{label:s.$t("settings.custom_fields.label"),required:"",error:t(o).currentCustomField.label.$error&&t(o).currentCustomField.label.$errors[0].$message},{default:u(()=>[l(q,{modelValue:t(e).currentCustomField.label,"onUpdate:modelValue":a[6]||(a[6]=r=>t(e).currentCustomField.label=r),invalid:t(o).currentCustomField.label.$error,onInput:a[7]||(a[7]=r=>t(o).currentCustomField.label.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),t(g)?(C(),F(w,{key:0,label:s.$t("settings.custom_fields.options")},{default:u(()=>[l(Ie,{onOnAdd:x}),(C(!0),z(Ce,null,ve(t(e).currentCustomField.options,(r,j)=>(C(),z("div",{key:j,class:"flex items-center mt-5"},[l(q,{modelValue:r.name,"onUpdate:modelValue":Q=>r.name=Q,class:"w-64"},null,8,["modelValue","onUpdate:modelValue"]),l(E,{name:"MinusCircleIcon",class:G(["ml-1 cursor-pointer",t(e).currentCustomField.in_use?"text-gray-300":"text-red-300"]),onClick:Q=>_(j)},null,8,["class","onClick"])]))),128))]),_:1},8,["label"])):M("",!0),l(w,{label:s.$t("settings.custom_fields.default_value"),class:"relative"},{default:u(()=>[(C(),F(be(t(y)),{modelValue:t(e).currentCustomField.default_answer,"onUpdate:modelValue":a[8]||(a[8]=r=>t(e).currentCustomField.default_answer=r),options:t(e).currentCustomField.options,"default-date-time":t(e).currentCustomField.dateTimeValue},null,8,["modelValue","options","default-date-time"]))]),_:1},8,["label"]),t(b)?M("",!0):(C(),F(w,{key:1,label:s.$t("settings.custom_fields.placeholder")},{default:u(()=>[l(q,{modelValue:t(e).currentCustomField.placeholder,"onUpdate:modelValue":a[9]||(a[9]=r=>t(e).currentCustomField.placeholder=r)},null,8,["modelValue"])]),_:1},8,["label"])),l(w,{label:s.$t("settings.custom_fields.order"),error:t(o).currentCustomField.order.$error&&t(o).currentCustomField.order.$errors[0].$message,required:""},{default:u(()=>[l(q,{modelValue:t(e).currentCustomField.order,"onUpdate:modelValue":a[10]||(a[10]=r=>t(e).currentCustomField.order=r),type:"number",invalid:t(o).currentCustomField.order.$error,onInput:a[11]||(a[11]=r=>t(o).currentCustomField.order.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"])]),_:1})])]),O("div",Ee,[l(X,{class:"mr-3",type:"button",variant:"primary-outline",onClick:R},{default:u(()=>[B($(s.$t("general.cancel")),1)]),_:1}),l(X,{variant:"primary",loading:t(v),disabled:t(v),type:"submit"},{left:u(r=>[t(v)?M("",!0):(C(),F(E,{key:0,class:G(r.class),name:"SaveIcon"},null,8,["class"]))]),default:u(()=>[B(" "+$(t(e).isEdit?s.$t("general.update"):s.$t("general.save")),1)]),_:1},8,["loading","disabled"])])],40,De)]),_:1},8,["show"])}}},ke={class:"text-xs text-gray-500"},Ue={setup(m){const n=Y(),e=K(),i=ae(),v=te("utils"),{t:f}=H(),c=L(null),p=D(()=>[{key:"name",label:f("settings.custom_fields.name"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"model_type",label:f("settings.custom_fields.model")},{key:"type",label:f("settings.custom_fields.type")},{key:"is_required",label:f("settings.custom_fields.required")},{key:"actions",label:"",tdClass:"text-right text-sm font-medium",sortable:!1}]);async function V({page:y,filter:I,sort:h}){let o={orderByField:h.fieldName||"created_at",orderBy:h.order||"desc",page:y},S=await e.fetchCustomFields(o);return{data:S.data.data,pagination:{totalPages:S.data.meta.last_page,currentPage:y,limit:5,totalCount:S.data.meta.total}}}function b(){n.openModal({title:f("settings.custom_fields.add_custom_field"),componentName:"CustomFieldModal",size:"sm",refreshData:c.value&&c.value.refresh})}async function g(){c.value&&c.value.refresh()}return(y,I)=>{const h=d("BaseIcon"),o=d("BaseButton"),S=d("BaseBadge"),P=d("BaseTable"),x=d("BaseSettingCard");return C(),F(x,{title:y.$t("settings.menu_title.custom_fields"),description:y.$t("settings.custom_fields.section_description")},{action:u(()=>[t(i).hasAbilities(t(U).CREATE_CUSTOM_FIELDS)?(C(),F(o,{key:0,variant:"primary-outline",onClick:b},{left:u(_=>[l(h,{class:G(_.class),name:"PlusIcon"},null,8,["class"]),B(" "+$(y.$t("settings.custom_fields.add_custom_field")),1)]),_:1})):M("",!0)]),default:u(()=>[l(qe),l(P,{ref:(_,N)=>{N.table=_,c.value=_},data:V,columns:t(p),class:"mt-16"},ge({"cell-name":u(({row:_})=>[B($(_.data.name)+" ",1),O("span",ke," ("+$(_.data.slug)+")",1)]),"cell-is_required":u(({row:_})=>[l(S,{"bg-color":t(v).getBadgeStatusColor(_.data.is_required?"YES":"NO").bgColor,color:t(v).getBadgeStatusColor(_.data.is_required?"YES":"NO").color},{default:u(()=>[B($(_.data.is_required?y.$t("settings.custom_fields.yes"):y.$t("settings.custom_fields.no").replace("_"," ")),1)]),_:2},1032,["bg-color","color"])]),_:2},[t(i).hasAbilities([t(U).DELETE_CUSTOM_FIELDS,t(U).EDIT_CUSTOM_FIELDS])?{name:"cell-actions",fn:u(({row:_})=>[l(we,{row:_.data,table:c.value,"load-data":g},null,8,["row","table"])])}:void 0]),1032,["columns"])]),_:1},8,["title","description"])}}};export{Ue as default};
+var ie=Object.defineProperty;var W=Object.getOwnPropertySymbols;var de=Object.prototype.hasOwnProperty,me=Object.prototype.propertyIsEnumerable;var Z=(m,n,e)=>n in m?ie(m,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):m[n]=e,ee=(m,n)=>{for(var e in n||(n={}))de.call(n,e)&&Z(m,e,n[e]);if(W)for(var e of W(n))me.call(n,e)&&Z(m,e,n[e]);return m};import{J as H,G as ce,ah as te,r as d,o as C,l as F,w as u,f as l,u as t,i as B,t as $,j as M,B as L,e as z,aY as pe,U as se,a0 as le,k as D,aE as _e,L as k,M as A,aT as fe,T as ye,h as O,x as oe,y as ve,m as G,F as Ce,aj as be,V as ge}from"./vendor.01d0adc5.js";import{j as Fe,u as Te,m as K,e as ae,c as Y,g as U,o as T}from"./main.75722495.js";const we={props:{row:{type:Object,default:null},table:{type:Object,default:null},loadData:{type:Function,default:null}},setup(m){const n=m,e=Fe();Te();const{t:i}=H(),v=K();ce();const f=ae(),c=Y();te("utils");async function p(b){await v.fetchCustomField(b),c.openModal({title:i("settings.custom_fields.edit_custom_field"),componentName:"CustomFieldModal",size:"sm",data:b,refreshData:n.loadData})}async function V(b){e.openDialog({title:i("general.are_you_sure"),message:i("settings.custom_fields.custom_field_confirm_delete"),yesLabel:i("general.ok"),noLabel:i("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(async g=>{g&&(await v.deleteCustomFields(b),n.loadData&&n.loadData())})}return(b,g)=>{const y=d("BaseIcon"),I=d("BaseDropdownItem"),h=d("BaseDropdown");return C(),F(h,null,{activator:u(()=>[l(y,{name:"DotsHorizontalIcon",class:"h-5 text-gray-500"})]),default:u(()=>[t(f).hasAbilities(t(U).EDIT_CUSTOM_FIELDS)?(C(),F(I,{key:0,onClick:g[0]||(g[0]=o=>p(m.row.id))},{default:u(()=>[l(y,{name:"PencilIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),B(" "+$(b.$t("general.edit")),1)]),_:1})):M("",!0),t(f).hasAbilities(t(U).DELETE_CUSTOM_FIELDS)?(C(),F(I,{key:1,onClick:g[1]||(g[1]=o=>V(m.row.id))},{default:u(()=>[l(y,{name:"TrashIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),B(" "+$(b.$t("general.delete")),1)]),_:1})):M("",!0)]),_:1})}}},$e={class:"flex items-center mt-1"},Ie={emits:["onAdd"],setup(m,{emit:n}){const e=L(null);function i(){if(e.value==null||e.value==""||e.value==null)return!0;n("onAdd",e.value),e.value=null}return(v,f)=>{const c=d("BaseInput"),p=d("BaseIcon");return C(),z("div",$e,[l(c,{modelValue:e.value,"onUpdate:modelValue":f[0]||(f[0]=V=>e.value=V),type:"text",class:"w-full md:w-96",placeholder:v.$t("settings.custom_fields.press_enter_to_add"),onClick:i,onKeydown:pe(se(i,["prevent","stop"]),["enter"])},null,8,["modelValue","placeholder","onKeydown"]),l(p,{name:"PlusCircleIcon",class:"ml-1 text-primary-500 cursor-pointer",onClick:i})])}}};function he(m){switch(m){case"../../custom-fields/types/DateTimeType.vue":return T(()=>import("./DateTimeType.164ef007.js"),["assets/DateTimeType.164ef007.js","assets/vendor.01d0adc5.js"]);case"../../custom-fields/types/DateType.vue":return T(()=>import("./DateType.757171f6.js"),["assets/DateType.757171f6.js","assets/vendor.01d0adc5.js"]);case"../../custom-fields/types/DropdownType.vue":return T(()=>import("./DropdownType.631322dc.js"),["assets/DropdownType.631322dc.js","assets/vendor.01d0adc5.js"]);case"../../custom-fields/types/InputType.vue":return T(()=>import("./InputType.4e1e4da6.js"),["assets/InputType.4e1e4da6.js","assets/vendor.01d0adc5.js"]);case"../../custom-fields/types/NumberType.vue":return T(()=>import("./NumberType.137b13f5.js"),["assets/NumberType.137b13f5.js","assets/vendor.01d0adc5.js"]);case"../../custom-fields/types/PhoneType.vue":return T(()=>import("./PhoneType.57e436b9.js"),["assets/PhoneType.57e436b9.js","assets/vendor.01d0adc5.js"]);case"../../custom-fields/types/SwitchType.vue":return T(()=>import("./SwitchType.59d9fde0.js"),["assets/SwitchType.59d9fde0.js","assets/vendor.01d0adc5.js"]);case"../../custom-fields/types/TextAreaType.vue":return T(()=>import("./TextAreaType.ebc60805.js"),["assets/TextAreaType.ebc60805.js","assets/vendor.01d0adc5.js"]);case"../../custom-fields/types/TimeType.vue":return T(()=>import("./TimeType.a6077fcb.js"),["assets/TimeType.a6077fcb.js","assets/vendor.01d0adc5.js"]);case"../../custom-fields/types/UrlType.vue":return T(()=>import("./UrlType.4a23df64.js"),["assets/UrlType.4a23df64.js","assets/vendor.01d0adc5.js"]);default:return new Promise(function(n,e){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(e.bind(null,new Error("Unknown variable dynamic import: "+m)))})}}const Be={class:"flex justify-between w-full"},De=["onSubmit"],Ve={class:"overflow-y-auto max-h-[550px]"},Se={class:"px-4 md:px-8 py-8 overflow-y-auto sm:p-6"},Ee={class:"z-0 flex justify-end p-4 border-t border-solid border-gray-light border-modal-bg"},qe={setup(m){const n=Y(),e=K(),{t:i}=H();let v=L(!1);const f=le(["Customer","Invoice","Estimate","Expense","Payment"]),c=le([{label:"Text",value:"Input"},{label:"Textarea",value:"TextArea"},{label:"Phone",value:"Phone"},{label:"URL",value:"Url"},{label:"Number",value:"Number"},{label:"Select Field",value:"Dropdown"},{label:"Switch Toggle",value:"Switch"},{label:"Date",value:"Date"},{label:"Time",value:"Time"},{label:"Date & Time",value:"DateTime"}]);let p=L(c[0]);const V=D(()=>n.active&&n.componentName==="CustomFieldModal"),b=D(()=>p.value&&p.value.label==="Switch Toggle"),g=D(()=>p.value&&p.value.label==="Select Field"),y=D(()=>e.currentCustomField.type?_e(()=>he(`../../custom-fields/types/${e.currentCustomField.type}Type.vue`)):!1),I=D({get:()=>e.currentCustomField.is_required===1,set:s=>{const a=s?1:0;e.currentCustomField.is_required=a}}),h=D(()=>({currentCustomField:{type:{required:k.withMessage(i("validation.required"),A)},name:{required:k.withMessage(i("validation.required"),A)},label:{required:k.withMessage(i("validation.required"),A)},model_type:{required:k.withMessage(i("validation.required"),A)},order:{required:k.withMessage(i("validation.required"),A),numeric:k.withMessage(i("validation.numbers_only"),fe)},type:{required:k.withMessage(i("validation.required"),A)}}})),o=ye(h,D(()=>e));function S(){e.isEdit?p.value=c.find(s=>s.value==e.currentCustomField.type):(e.currentCustomField.model_type=f[0],e.currentCustomField.type=c[0].value,p.value=c[0])}async function P(){if(o.value.currentCustomField.$touch(),o.value.currentCustomField.$invalid)return!0;v.value=!0;let s=ee({},e.currentCustomField);if(e.currentCustomField.options&&(s.options=e.currentCustomField.options.map(E=>E.name)),s.type=="Time"&&typeof s.default_answer=="object"){let E=s&&s.default_answer&&s.default_answer.HH?s.default_answer.HH:null,q=s&&s.default_answer&&s.default_answer.mm?s.default_answer.mm:null;s&&s.default_answer&&s.default_answer.ss&&s.default_answer.ss,s.default_answer=`${E}:${q}`}await(e.isEdit?e.updateCustomField:e.addCustomField)(s),v.value=!1,n.refreshData&&n.refreshData(),R()}function x(s){e.currentCustomField.options=[{name:s},...e.currentCustomField.options]}function _(s){if(e.isEdit&&e.currentCustomField.in_use)return;e.currentCustomField.options[s].name===e.currentCustomField.default_answer&&(e.currentCustomField.default_answer=null),e.currentCustomField.options.splice(s,1)}function N(s){e.currentCustomField.type=s.value}function R(){n.closeModal(),setTimeout(()=>{e.resetCurrentCustomField(),o.value.$reset()},300)}return(s,a)=>{const E=d("BaseIcon"),q=d("BaseInput"),w=d("BaseInputGroup"),J=d("BaseMultiselect"),re=d("BaseSwitch"),ne=d("BaseInputGrid"),X=d("BaseButton"),ue=d("BaseModal");return C(),F(ue,{show:t(V),onOpen:S},{header:u(()=>[O("div",Be,[B($(t(n).title)+" ",1),l(E,{name:"XIcon",class:"w-6 h-6 text-gray-500 cursor-pointer",onClick:R})])]),default:u(()=>[O("form",{action:"",onSubmit:se(P,["prevent"])},[O("div",Ve,[O("div",Se,[l(ne,{layout:"one-column"},{default:u(()=>[l(w,{label:s.$t("settings.custom_fields.name"),required:"",error:t(o).currentCustomField.name.$error&&t(o).currentCustomField.name.$errors[0].$message},{default:u(()=>[l(q,{ref:(r,j)=>{j.name=r},modelValue:t(e).currentCustomField.name,"onUpdate:modelValue":a[0]||(a[0]=r=>t(e).currentCustomField.name=r),invalid:t(o).currentCustomField.name.$error,onInput:a[1]||(a[1]=r=>t(o).currentCustomField.name.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),l(w,{label:s.$t("settings.custom_fields.model"),error:t(o).currentCustomField.model_type.$error&&t(o).currentCustomField.model_type.$errors[0].$message,"help-text":t(e).currentCustomField.in_use?s.$t("settings.custom_fields.model_in_use"):"",required:""},{default:u(()=>[l(J,{modelValue:t(e).currentCustomField.model_type,"onUpdate:modelValue":a[2]||(a[2]=r=>t(e).currentCustomField.model_type=r),options:t(f),"can-deselect":!1,invalid:t(o).currentCustomField.model_type.$error,searchable:!0,disabled:t(e).currentCustomField.in_use,onInput:a[3]||(a[3]=r=>t(o).currentCustomField.model_type.$touch())},null,8,["modelValue","options","invalid","disabled"])]),_:1},8,["label","error","help-text"]),l(w,{class:"flex items-center space-x-4",label:s.$t("settings.custom_fields.required")},{default:u(()=>[l(re,{modelValue:t(I),"onUpdate:modelValue":a[4]||(a[4]=r=>oe(I)?I.value=r:null)},null,8,["modelValue"])]),_:1},8,["label"]),l(w,{label:s.$t("settings.custom_fields.type"),error:t(o).currentCustomField.type.$error&&t(o).currentCustomField.type.$errors[0].$message,"help-text":t(e).currentCustomField.in_use?s.$t("settings.custom_fields.type_in_use"):"",required:""},{default:u(()=>[l(J,{modelValue:t(p),"onUpdate:modelValue":[a[5]||(a[5]=r=>oe(p)?p.value=r:p=r),N],options:t(c),invalid:t(o).currentCustomField.type.$error,disabled:t(e).currentCustomField.in_use,searchable:!0,"can-deselect":!1,object:""},null,8,["modelValue","options","invalid","disabled"])]),_:1},8,["label","error","help-text"]),l(w,{label:s.$t("settings.custom_fields.label"),required:"",error:t(o).currentCustomField.label.$error&&t(o).currentCustomField.label.$errors[0].$message},{default:u(()=>[l(q,{modelValue:t(e).currentCustomField.label,"onUpdate:modelValue":a[6]||(a[6]=r=>t(e).currentCustomField.label=r),invalid:t(o).currentCustomField.label.$error,onInput:a[7]||(a[7]=r=>t(o).currentCustomField.label.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),t(g)?(C(),F(w,{key:0,label:s.$t("settings.custom_fields.options")},{default:u(()=>[l(Ie,{onOnAdd:x}),(C(!0),z(Ce,null,ve(t(e).currentCustomField.options,(r,j)=>(C(),z("div",{key:j,class:"flex items-center mt-5"},[l(q,{modelValue:r.name,"onUpdate:modelValue":Q=>r.name=Q,class:"w-64"},null,8,["modelValue","onUpdate:modelValue"]),l(E,{name:"MinusCircleIcon",class:G(["ml-1 cursor-pointer",t(e).currentCustomField.in_use?"text-gray-300":"text-red-300"]),onClick:Q=>_(j)},null,8,["class","onClick"])]))),128))]),_:1},8,["label"])):M("",!0),l(w,{label:s.$t("settings.custom_fields.default_value"),class:"relative"},{default:u(()=>[(C(),F(be(t(y)),{modelValue:t(e).currentCustomField.default_answer,"onUpdate:modelValue":a[8]||(a[8]=r=>t(e).currentCustomField.default_answer=r),options:t(e).currentCustomField.options,"default-date-time":t(e).currentCustomField.dateTimeValue},null,8,["modelValue","options","default-date-time"]))]),_:1},8,["label"]),t(b)?M("",!0):(C(),F(w,{key:1,label:s.$t("settings.custom_fields.placeholder")},{default:u(()=>[l(q,{modelValue:t(e).currentCustomField.placeholder,"onUpdate:modelValue":a[9]||(a[9]=r=>t(e).currentCustomField.placeholder=r)},null,8,["modelValue"])]),_:1},8,["label"])),l(w,{label:s.$t("settings.custom_fields.order"),error:t(o).currentCustomField.order.$error&&t(o).currentCustomField.order.$errors[0].$message,required:""},{default:u(()=>[l(q,{modelValue:t(e).currentCustomField.order,"onUpdate:modelValue":a[10]||(a[10]=r=>t(e).currentCustomField.order=r),type:"number",invalid:t(o).currentCustomField.order.$error,onInput:a[11]||(a[11]=r=>t(o).currentCustomField.order.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"])]),_:1})])]),O("div",Ee,[l(X,{class:"mr-3",type:"button",variant:"primary-outline",onClick:R},{default:u(()=>[B($(s.$t("general.cancel")),1)]),_:1}),l(X,{variant:"primary",loading:t(v),disabled:t(v),type:"submit"},{left:u(r=>[t(v)?M("",!0):(C(),F(E,{key:0,class:G(r.class),name:"SaveIcon"},null,8,["class"]))]),default:u(()=>[B(" "+$(t(e).isEdit?s.$t("general.update"):s.$t("general.save")),1)]),_:1},8,["loading","disabled"])])],40,De)]),_:1},8,["show"])}}},ke={class:"text-xs text-gray-500"},Ue={setup(m){const n=Y(),e=K(),i=ae(),v=te("utils"),{t:f}=H(),c=L(null),p=D(()=>[{key:"name",label:f("settings.custom_fields.name"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"model_type",label:f("settings.custom_fields.model")},{key:"type",label:f("settings.custom_fields.type")},{key:"is_required",label:f("settings.custom_fields.required")},{key:"actions",label:"",tdClass:"text-right text-sm font-medium",sortable:!1}]);async function V({page:y,filter:I,sort:h}){let o={orderByField:h.fieldName||"created_at",orderBy:h.order||"desc",page:y},S=await e.fetchCustomFields(o);return{data:S.data.data,pagination:{totalPages:S.data.meta.last_page,currentPage:y,limit:5,totalCount:S.data.meta.total}}}function b(){n.openModal({title:f("settings.custom_fields.add_custom_field"),componentName:"CustomFieldModal",size:"sm",refreshData:c.value&&c.value.refresh})}async function g(){c.value&&c.value.refresh()}return(y,I)=>{const h=d("BaseIcon"),o=d("BaseButton"),S=d("BaseBadge"),P=d("BaseTable"),x=d("BaseSettingCard");return C(),F(x,{title:y.$t("settings.menu_title.custom_fields"),description:y.$t("settings.custom_fields.section_description")},{action:u(()=>[t(i).hasAbilities(t(U).CREATE_CUSTOM_FIELDS)?(C(),F(o,{key:0,variant:"primary-outline",onClick:b},{left:u(_=>[l(h,{class:G(_.class),name:"PlusIcon"},null,8,["class"]),B(" "+$(y.$t("settings.custom_fields.add_custom_field")),1)]),_:1})):M("",!0)]),default:u(()=>[l(qe),l(P,{ref:(_,N)=>{N.table=_,c.value=_},data:V,columns:t(p),class:"mt-16"},ge({"cell-name":u(({row:_})=>[B($(_.data.name)+" ",1),O("span",ke," ("+$(_.data.slug)+")",1)]),"cell-is_required":u(({row:_})=>[l(S,{"bg-color":t(v).getBadgeStatusColor(_.data.is_required?"YES":"NO").bgColor,color:t(v).getBadgeStatusColor(_.data.is_required?"YES":"NO").color},{default:u(()=>[B($(_.data.is_required?y.$t("settings.custom_fields.yes"):y.$t("settings.custom_fields.no").replace("_"," ")),1)]),_:2},1032,["bg-color","color"])]),_:2},[t(i).hasAbilities([t(U).DELETE_CUSTOM_FIELDS,t(U).EDIT_CUSTOM_FIELDS])?{name:"cell-actions",fn:u(({row:_})=>[l(we,{row:_.data,table:c.value,"load-data":g},null,8,["row","table"])])}:void 0]),1032,["columns"])]),_:1},8,["title","description"])}}};export{Ue as default};

--- public/build/assets/CustomerIndexDropdown.3adf4218.js ---
@@ -1 +1 @@
-import{l as S,u as b,j as C,e as x,g}from"./main.832b14c7.js";import{J as E,G as j,aN as T,ah as N,r as l,o as a,l as s,w as t,u as e,f as n,i as p,t as f,j as y}from"./vendor.01d0adc5.js";const V={props:{row:{type:Object,default:null},table:{type:Object,default:null},loadData:{type:Function,default:()=>{}}},setup(i){const w=i,_=S();b();const v=C(),m=x(),{t:u}=E(),h=j();T(),N("utils");function B(r){v.openDialog({title:u("general.are_you_sure"),message:u("customers.confirm_delete",1),yesLabel:u("general.ok"),noLabel:u("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(c=>{c&&_.deleteCustomer({ids:[r]}).then(o=>{if(o.data.success)return w.loadData&&w.loadData(),!0})})}return(r,c)=>{const o=l("BaseIcon"),I=l("BaseButton"),d=l("BaseDropdownItem"),D=l("router-link"),k=l("BaseDropdown");return a(),s(k,{"content-loading":e(_).isFetchingViewData},{activator:t(()=>[e(h).name==="customers.view"?(a(),s(I,{key:0,variant:"primary"},{default:t(()=>[n(o,{name:"DotsHorizontalIcon",class:"h-5 text-white"})]),_:1})):(a(),s(o,{key:1,name:"DotsHorizontalIcon",class:"h-5 text-gray-500"}))]),default:t(()=>[e(m).hasAbilities(e(g).EDIT_CUSTOMER)?(a(),s(D,{key:0,to:`/admin/customers/${i.row.id}/edit`},{default:t(()=>[n(d,null,{default:t(()=>[n(o,{name:"PencilIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),p(" "+f(r.$t("general.edit")),1)]),_:1})]),_:1},8,["to"])):y("",!0),e(h).name!=="customers.view"&&e(m).hasAbilities(e(g).VIEW_CUSTOMER)?(a(),s(D,{key:1,to:`customers/${i.row.id}/view`},{default:t(()=>[n(d,null,{default:t(()=>[n(o,{name:"EyeIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),p(" "+f(r.$t("general.view")),1)]),_:1})]),_:1},8,["to"])):y("",!0),e(m).hasAbilities(e(g).DELETE_CUSTOMER)?(a(),s(d,{key:2,onClick:c[0]||(c[0]=$=>B(i.row.id))},{default:t(()=>[n(o,{name:"TrashIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),p(" "+f(r.$t("general.delete")),1)]),_:1})):y("",!0)]),_:1},8,["content-loading"])}}};export{V as _};
+import{l as S,u as C,j as b,e as x,g}from"./main.75722495.js";import{J as E,G as j,aN as T,ah as N,r as l,o as a,l as s,w as t,u as e,f as n,i as p,t as f,j as y}from"./vendor.01d0adc5.js";const V={props:{row:{type:Object,default:null},table:{type:Object,default:null},loadData:{type:Function,default:()=>{}}},setup(i){const w=i,_=S();C();const v=b(),m=x(),{t:u}=E(),h=j();T(),N("utils");function B(r){v.openDialog({title:u("general.are_you_sure"),message:u("customers.confirm_delete",1),yesLabel:u("general.ok"),noLabel:u("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(c=>{c&&_.deleteCustomer({ids:[r]}).then(o=>{if(o.data.success)return w.loadData&&w.loadData(),!0})})}return(r,c)=>{const o=l("BaseIcon"),I=l("BaseButton"),d=l("BaseDropdownItem"),D=l("router-link"),k=l("BaseDropdown");return a(),s(k,{"content-loading":e(_).isFetchingViewData},{activator:t(()=>[e(h).name==="customers.view"?(a(),s(I,{key:0,variant:"primary"},{default:t(()=>[n(o,{name:"DotsHorizontalIcon",class:"h-5 text-white"})]),_:1})):(a(),s(o,{key:1,name:"DotsHorizontalIcon",class:"h-5 text-gray-500"}))]),default:t(()=>[e(m).hasAbilities(e(g).EDIT_CUSTOMER)?(a(),s(D,{key:0,to:`/admin/customers/${i.row.id}/edit`},{default:t(()=>[n(d,null,{default:t(()=>[n(o,{name:"PencilIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),p(" "+f(r.$t("general.edit")),1)]),_:1})]),_:1},8,["to"])):y("",!0),e(h).name!=="customers.view"&&e(m).hasAbilities(e(g).VIEW_CUSTOMER)?(a(),s(D,{key:1,to:`customers/${i.row.id}/view`},{default:t(()=>[n(d,null,{default:t(()=>[n(o,{name:"EyeIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),p(" "+f(r.$t("general.view")),1)]),_:1})]),_:1},8,["to"])):y("",!0),e(m).hasAbilities(e(g).DELETE_CUSTOMER)?(a(),s(d,{key:2,onClick:c[0]||(c[0]=$=>B(i.row.id))},{default:t(()=>[n(o,{name:"TrashIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),p(" "+f(r.$t("general.delete")),1)]),_:1})):y("",!0)]),_:1},8,["content-loading"])}}};export{V as _};

--- public/build/assets/CustomerSettings.3e617f27.js ---
@@ -1 +1 @@
-import{G as E,J as G,B as F,k as h,L as p,M as C,N as k,Q as L,P,T as R,r as c,o as g,e as D,f as u,w as i,h as $,t as I,u as e,x as _,l as y,m as A,j as O,i as T,U as z}from"./vendor.01d0adc5.js";import{a as J,u as Q}from"./global.8697213a.js";import"./auth.77d12976.js";import"./main.832b14c7.js";const H=["onSubmit"],K={class:"font-bold text-left"},W={class:"mt-2 text-sm leading-snug text-left text-gray-500",style:{"max-width":"680px"}},X={class:"grid gap-6 sm:grid-col-1 md:grid-cols-2 mt-6"},Y=$("span",null,null,-1),oe={setup(Z){const r=J();Q(),E();const{t:m,tm:S}=G();let v=F([]),d=F(!1),B=F(null),n=F(!1),l=F(!1);r.userForm.avatar&&v.value.push({image:r.userForm.avatar});const U=h(()=>({userForm:{name:{required:p.withMessage(m("validation.required"),C),minLength:p.withMessage(m("validation.name_min_length",{count:3}),k(3))},email:{required:p.withMessage(m("validation.required"),C),email:p.withMessage(m("validation.email_incorrect"),L)},password:{minLength:p.withMessage(m("validation.password_min_length",{count:8}),k(8))},confirm_password:{sameAsPassword:p.withMessage(m("validation.password_incorrect"),P(r.userForm.password))}}})),o=R(U,h(()=>r));function x(t,s){B.value=s}function M(){B.value=null}function q(){if(o.value.userForm.$touch(),o.value.userForm.$invalid)return!0;d.value=!0;let t=new FormData;t.append("name",r.userForm.name),t.append("email",r.userForm.email),r.userForm.password!=null&&r.userForm.password!==void 0&&r.userForm.password!==""&&t.append("password",r.userForm.password),B.value&&t.append("customer_avatar",B.value),r.updateCurrentUser({data:t,message:S("settings.account_settings.updated_message")}).then(s=>{s.data.data&&(d.value=!1,r.$patch(V=>{V.userForm.password="",V.userForm.confirm_password=""}))}).catch(s=>{d.value=!1})}return(t,s)=>{const V=c("BaseFileUploader"),f=c("BaseInputGroup"),b=c("BaseInput"),w=c("BaseIcon"),N=c("BaseButton"),j=c("BaseCard");return g(),D("form",{class:"relative h-full mt-4",onSubmit:z(q,["prevent"])},[u(j,null,{default:i(()=>[$("div",null,[$("h6",K,I(t.$t("settings.account_settings.account_settings")),1),$("p",W,I(t.$t("settings.account_settings.section_description")),1)]),$("div",X,[u(f,{label:t.$tc("settings.account_settings.profile_picture")},{default:i(()=>[u(V,{modelValue:e(v),"onUpdate:modelValue":s[0]||(s[0]=a=>_(v)?v.value=a:v=a),avatar:!0,accept:"image/*",onChange:x,onRemove:M},null,8,["modelValue"])]),_:1},8,["label"]),Y,u(f,{label:t.$tc("settings.account_settings.name"),error:e(o).userForm.name.$error&&e(o).userForm.name.$errors[0].$message,required:""},{default:i(()=>[u(b,{modelValue:e(r).userForm.name,"onUpdate:modelValue":s[1]||(s[1]=a=>e(r).userForm.name=a),invalid:e(o).userForm.name.$error,onInput:s[2]||(s[2]=a=>e(o).userForm.name.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),u(f,{label:t.$tc("settings.account_settings.email"),error:e(o).userForm.email.$error&&e(o).userForm.email.$errors[0].$message,required:""},{default:i(()=>[u(b,{modelValue:e(r).userForm.email,"onUpdate:modelValue":s[3]||(s[3]=a=>e(r).userForm.email=a),invalid:e(o).userForm.email.$error,onInput:s[4]||(s[4]=a=>e(o).userForm.email.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),u(f,{error:e(o).userForm.password.$error&&e(o).userForm.password.$errors[0].$message,label:t.$tc("settings.account_settings.password")},{default:i(()=>[u(b,{modelValue:e(r).userForm.password,"onUpdate:modelValue":s[7]||(s[7]=a=>e(r).userForm.password=a),type:e(n)?"text":"password",invalid:e(o).userForm.password.$error,onInput:s[8]||(s[8]=a=>e(o).userForm.password.$touch())},{right:i(()=>[e(n)?(g(),y(w,{key:0,name:"EyeOffIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:s[5]||(s[5]=a=>_(n)?n.value=!e(n):n=!e(n))})):(g(),y(w,{key:1,name:"EyeIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:s[6]||(s[6]=a=>_(n)?n.value=!e(n):n=!e(n))}))]),_:1},8,["modelValue","type","invalid"])]),_:1},8,["error","label"]),u(f,{label:t.$tc("settings.account_settings.confirm_password"),error:e(o).userForm.confirm_password.$error&&e(o).userForm.confirm_password.$errors[0].$message},{default:i(()=>[u(b,{modelValue:e(r).userForm.confirm_password,"onUpdate:modelValue":s[11]||(s[11]=a=>e(r).userForm.confirm_password=a),type:e(l)?"text":"password",invalid:e(o).userForm.confirm_password.$error,onInput:s[12]||(s[12]=a=>e(o).userForm.confirm_password.$touch())},{right:i(()=>[e(l)?(g(),y(w,{key:0,name:"EyeOffIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:s[9]||(s[9]=a=>_(l)?l.value=!e(l):l=!e(l))})):(g(),y(w,{key:1,name:"EyeIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:s[10]||(s[10]=a=>_(l)?l.value=!e(l):l=!e(l))}))]),_:1},8,["modelValue","type","invalid"])]),_:1},8,["label","error"])]),u(N,{loading:e(d),disabled:e(d),class:"mt-6"},{left:i(a=>[e(d)?O("",!0):(g(),y(w,{key:0,name:"SaveIcon",class:A(a.class)},null,8,["class"]))]),default:i(()=>[T(" "+I(t.$t("general.save")),1)]),_:1},8,["loading","disabled"])]),_:1})],40,H)}}};export{oe as default};
+import{G as E,J as G,B as F,k as h,L as p,M as C,N as k,Q as L,P,T as R,r as c,o as g,e as D,f as u,w as i,h as $,t as I,u as e,x as _,l as y,m as A,j as O,i as T,U as z}from"./vendor.01d0adc5.js";import{a as J,u as Q}from"./global.08b6a984.js";import"./auth.4644c288.js";import"./main.75722495.js";const H=["onSubmit"],K={class:"font-bold text-left"},W={class:"mt-2 text-sm leading-snug text-left text-gray-500",style:{"max-width":"680px"}},X={class:"grid gap-6 sm:grid-col-1 md:grid-cols-2 mt-6"},Y=$("span",null,null,-1),oe={setup(Z){const r=J();Q(),E();const{t:m,tm:S}=G();let v=F([]),d=F(!1),B=F(null),n=F(!1),l=F(!1);r.userForm.avatar&&v.value.push({image:r.userForm.avatar});const U=h(()=>({userForm:{name:{required:p.withMessage(m("validation.required"),C),minLength:p.withMessage(m("validation.name_min_length",{count:3}),k(3))},email:{required:p.withMessage(m("validation.required"),C),email:p.withMessage(m("validation.email_incorrect"),L)},password:{minLength:p.withMessage(m("validation.password_min_length",{count:8}),k(8))},confirm_password:{sameAsPassword:p.withMessage(m("validation.password_incorrect"),P(r.userForm.password))}}})),o=R(U,h(()=>r));function x(t,s){B.value=s}function M(){B.value=null}function q(){if(o.value.userForm.$touch(),o.value.userForm.$invalid)return!0;d.value=!0;let t=new FormData;t.append("name",r.userForm.name),t.append("email",r.userForm.email),r.userForm.password!=null&&r.userForm.password!==void 0&&r.userForm.password!==""&&t.append("password",r.userForm.password),B.value&&t.append("customer_avatar",B.value),r.updateCurrentUser({data:t,message:S("settings.account_settings.updated_message")}).then(s=>{s.data.data&&(d.value=!1,r.$patch(V=>{V.userForm.password="",V.userForm.confirm_password=""}))}).catch(s=>{d.value=!1})}return(t,s)=>{const V=c("BaseFileUploader"),f=c("BaseInputGroup"),b=c("BaseInput"),w=c("BaseIcon"),N=c("BaseButton"),j=c("BaseCard");return g(),D("form",{class:"relative h-full mt-4",onSubmit:z(q,["prevent"])},[u(j,null,{default:i(()=>[$("div",null,[$("h6",K,I(t.$t("settings.account_settings.account_settings")),1),$("p",W,I(t.$t("settings.account_settings.section_description")),1)]),$("div",X,[u(f,{label:t.$tc("settings.account_settings.profile_picture")},{default:i(()=>[u(V,{modelValue:e(v),"onUpdate:modelValue":s[0]||(s[0]=a=>_(v)?v.value=a:v=a),avatar:!0,accept:"image/*",onChange:x,onRemove:M},null,8,["modelValue"])]),_:1},8,["label"]),Y,u(f,{label:t.$tc("settings.account_settings.name"),error:e(o).userForm.name.$error&&e(o).userForm.name.$errors[0].$message,required:""},{default:i(()=>[u(b,{modelValue:e(r).userForm.name,"onUpdate:modelValue":s[1]||(s[1]=a=>e(r).userForm.name=a),invalid:e(o).userForm.name.$error,onInput:s[2]||(s[2]=a=>e(o).userForm.name.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),u(f,{label:t.$tc("settings.account_settings.email"),error:e(o).userForm.email.$error&&e(o).userForm.email.$errors[0].$message,required:""},{default:i(()=>[u(b,{modelValue:e(r).userForm.email,"onUpdate:modelValue":s[3]||(s[3]=a=>e(r).userForm.email=a),invalid:e(o).userForm.email.$error,onInput:s[4]||(s[4]=a=>e(o).userForm.email.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),u(f,{error:e(o).userForm.password.$error&&e(o).userForm.password.$errors[0].$message,label:t.$tc("settings.account_settings.password")},{default:i(()=>[u(b,{modelValue:e(r).userForm.password,"onUpdate:modelValue":s[7]||(s[7]=a=>e(r).userForm.password=a),type:e(n)?"text":"password",invalid:e(o).userForm.password.$error,onInput:s[8]||(s[8]=a=>e(o).userForm.password.$touch())},{right:i(()=>[e(n)?(g(),y(w,{key:0,name:"EyeOffIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:s[5]||(s[5]=a=>_(n)?n.value=!e(n):n=!e(n))})):(g(),y(w,{key:1,name:"EyeIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:s[6]||(s[6]=a=>_(n)?n.value=!e(n):n=!e(n))}))]),_:1},8,["modelValue","type","invalid"])]),_:1},8,["error","label"]),u(f,{label:t.$tc("settings.account_settings.confirm_password"),error:e(o).userForm.confirm_password.$error&&e(o).userForm.confirm_password.$errors[0].$message},{default:i(()=>[u(b,{modelValue:e(r).userForm.confirm_password,"onUpdate:modelValue":s[11]||(s[11]=a=>e(r).userForm.confirm_password=a),type:e(l)?"text":"password",invalid:e(o).userForm.confirm_password.$error,onInput:s[12]||(s[12]=a=>e(o).userForm.confirm_password.$touch())},{right:i(()=>[e(l)?(g(),y(w,{key:0,name:"EyeOffIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:s[9]||(s[9]=a=>_(l)?l.value=!e(l):l=!e(l))})):(g(),y(w,{key:1,name:"EyeIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:s[10]||(s[10]=a=>_(l)?l.value=!e(l):l=!e(l))}))]),_:1},8,["modelValue","type","invalid"])]),_:1},8,["label","error"])]),u(N,{loading:e(d),disabled:e(d),class:"mt-6"},{left:i(a=>[e(d)?O("",!0):(g(),y(w,{key:0,name:"SaveIcon",class:A(a.class)},null,8,["class"]))]),default:i(()=>[T(" "+I(t.$t("general.save")),1)]),_:1},8,["loading","disabled"])]),_:1})],40,H)}}};export{oe as default};

--- public/build/assets/CustomizationSetting.5e54e84c.js ---
@@ -1 +1 @@
-var ut=Object.defineProperty,rt=Object.defineProperties;var dt=Object.getOwnPropertyDescriptors;var et=Object.getOwnPropertySymbols;var ct=Object.prototype.hasOwnProperty,_t=Object.prototype.propertyIsEnumerable;var st=(v,o,i)=>o in v?ut(v,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):v[o]=i,x=(v,o)=>{for(var i in o||(o={}))ct.call(o,i)&&st(v,i,o[i]);if(et)for(var i of et(o))_t.call(o,i)&&st(v,i,o[i]);return v},W=(v,o)=>rt(v,dt(o));import{b as N,d as Z,i as pt,k as gt,p as yt,c as ft,j as vt}from"./main.832b14c7.js";import{J as j,B as z,k as F,C as bt,H as at,$ as St,r as d,o as $,e as D,h as c,t as b,f as t,w as r,U as Y,m as G,i as k,F as L,y as $t,l as E,u as e,j as R,ah as M,a0 as T,L as X,O as nt,aT as it,T as ot,x as H}from"./vendor.01d0adc5.js";import{D as Bt,d as ht}from"./DragIcon.88fb50b8.js";import{u as zt}from"./payment.372edbf1.js";import{_ as Vt}from"./ItemUnitModal.076e3ed4.js";const It={class:"text-gray-900 text-lg font-medium"},xt={class:"mt-1 text-sm text-gray-500"},wt={class:"overflow-x-auto"},Ct={class:"w-full mt-6 table-fixed"},Dt=c("colgroup",null,[c("col",{style:{width:"4%"}}),c("col",{style:{width:"45%"}}),c("col",{style:{width:"27%"}}),c("col",{style:{width:"24%"}})],-1),Ut=c("thead",null,[c("tr",null,[c("th",{class:"px-5 py-3 text-sm not-italic font-medium leading-5 text-left text-gray-700 border-t border-b border-gray-200 border-solid"}),c("th",{class:"px-5 py-3 text-sm not-italic font-medium leading-5 text-left text-gray-700 border-t border-b border-gray-200 border-solid"}," Component "),c("th",{class:"px-5 py-3 text-sm not-italic font-medium leading-5 text-left text-gray-700 border-t border-b border-gray-200 border-solid"}," Parameter "),c("th",{class:"px-5 py-3 text-sm not-italic font-medium leading-5 text-left text-gray-700 border-t border-b border-gray-200 border-solid"})])],-1),Ft={class:"relative"},kt={class:"text-gray-300 cursor-move handle align-middle"},Et={class:"px-5 py-4"},Nt={class:"block text-sm not-italic font-medium text-primary-800 whitespace-nowrap mr-2 min-w-[200px]"},Mt={class:"text-xs text-gray-500 mt-1"},Tt={class:"px-5 py-4 text-left align-middle"},Gt={class:"px-5 py-4 text-right align-middle pt-10"},qt=k(" Remove "),Lt={colspan:"2",class:"px-5 py-4"},Rt={class:"px-5 py-4 text-right align-middle",colspan:"2"},tt={props:{type:{type:String,required:!0},typeStore:{type:Object,required:!0},defaultSeries:{type:String,default:"INV"}},setup(v){const o=v,{t:i}=j(),p=N(),g=Z(),u=z([]),a=z(!1),m=z([{label:i("settings.customization.series"),description:i("settings.customization.series_description"),name:"SERIES",paramLabel:i("settings.customization.series_param_label"),value:o.defaultSeries,inputDisabled:!1,inputType:"text",allowMultiple:!1},{label:i("settings.customization.sequence"),description:i("settings.customization.sequence_description"),name:"SEQUENCE",paramLabel:i("settings.customization.sequence_param_label"),value:"6",inputDisabled:!1,inputType:"number",allowMultiple:!1},{label:i("settings.customization.delimiter"),description:i("settings.customization.delimiter_description"),name:"DELIMITER",paramLabel:i("settings.customization.delimiter_param_label"),value:"-",inputDisabled:!1,inputType:"text",allowMultiple:!0},{label:i("settings.customization.customer_series"),description:i("settings.customization.customer_series_description"),name:"CUSTOMER_SERIES",paramLabel:"",value:"",inputDisabled:!0,inputType:"text",allowMultiple:!1},{label:i("settings.customization.customer_sequence"),description:i("settings.customization.customer_sequence_description"),name:"CUSTOMER_SEQUENCE",paramLabel:i("settings.customization.customer_sequence_param_label"),value:"6",inputDisabled:!1,inputType:"number",allowMultiple:!1},{label:i("settings.customization.date_format"),description:i("settings.customization.date_format_description"),name:"DATE_FORMAT",paramLabel:i("settings.customization.date_format_param_label"),value:"Y",inputDisabled:!1,inputType:"text",allowMultiple:!0},{label:i("settings.customization.random_sequence"),description:i("settings.customization.random_sequence_description"),name:"RANDOM_SEQUENCE",paramLabel:i("settings.customization.random_sequence_param_label"),value:"6",inputDisabled:!1,inputType:"number",allowMultiple:!1}]),s=F(()=>m.value.filter(function(f){return!u.value.some(function(V){return f.allowMultiple?!1:f.name==V.name})})),_=z(""),n=z(!1),l=z(!1),y=F(()=>{let f="";return u.value.forEach(V=>{let q=`{{${V.name}`;V.value&&(q+=`:${V.value}`),f+=`${q}}}`}),f});bt(u,f=>{U()}),B();async function B(){let f={format:p.selectedCompanySettings[`${o.type}_number_format`]};l.value=!0,(await g.fetchPlaceholders(f)).data.placeholders.forEach(q=>{var O;let J=m.value.find(K=>K.name===q.name);const Q=(O=q.value)!=null?O:"";u.value.push(W(x({},J),{value:Q,id:at.raw()}))}),l.value=!1,U()}function C(f){return u.value.find(V=>V.name===f.name)}function h(f){C(f)&&!f.allowMultiple||(u.value.push(W(x({},f),{id:at.raw()})),U())}function S(f){u.value=u.value.filter(function(V){return f.id!==V.id})}function w(f,V){switch(V.name){case"SERIES":f.length>=6&&(f=f.substring(0,6));break;case"DELIMITER":f.length>=1&&(f=f.substring(0,1));break}setTimeout(()=>{V.value=f,U()},100)}const U=St(()=>{P()},500);async function P(){if(!y.value){_.value="";return}let f={key:o.type,format:y.value};n.value=!0;let V=await o.typeStore.getNextNumber(f);n.value=!1,V.data&&(_.value=V.data.nextNumber)}async function lt(){if(n.value||l.value)return;a.value=!0;let f={settings:{}};return f.settings[o.type+"_number_format"]=y.value,await p.updateCompanySettings({data:f,message:`settings.customization.${o.type}s.${o.type}_settings_updated`}),a.value=!1,!0}return(f,V)=>{const q=d("BaseInput"),J=d("BaseInputGroup"),Q=d("BaseIcon"),O=d("BaseButton"),K=d("BaseDropdownItem"),mt=d("BaseDropdown");return $(),D(L,null,[c("h6",It,b(f.$t(`settings.customization.${v.type}s.${v.type}_number_format`)),1),c("p",xt,b(f.$t(`settings.customization.${v.type}s.${v.type}_number_format_description`)),1),c("div",wt,[c("table",Ct,[Dt,Ut,t(e(ht),{modelValue:u.value,"onUpdate:modelValue":V[1]||(V[1]=I=>u.value=I),class:"divide-y divide-gray-200","item-key":"id",tag:"tbody",handle:".handle",filter:".ignore-element"},{item:r(({element:I})=>[c("tr",Ft,[c("td",kt,[t(Bt)]),c("td",Et,[c("label",Nt,b(I.label),1),c("p",Mt,b(I.description),1)]),c("td",Tt,[t(J,{label:I.paramLabel,class:"lg:col-span-3",required:""},{default:r(()=>[t(q,{modelValue:I.value,"onUpdate:modelValue":[A=>I.value=A,A=>w(A,I)],disabled:I.inputDisabled,type:I.inputType},null,8,["modelValue","onUpdate:modelValue","disabled","type"])]),_:2},1032,["label"])]),c("td",Gt,[t(O,{variant:"white",onClick:Y(A=>S(I),["prevent"])},{left:r(A=>[t(Q,{name:"XIcon",class:G(["!sm:m-0",A.class])},null,8,["class"])]),default:r(()=>[qt]),_:2},1032,["onClick"])])])]),footer:r(()=>[c("tr",null,[c("td",Lt,[t(J,{label:f.$t(`settings.customization.${v.type}s.preview_${v.type}_number`)},{default:r(()=>[t(q,{modelValue:_.value,"onUpdate:modelValue":V[0]||(V[0]=I=>_.value=I),disabled:"",loading:n.value},null,8,["modelValue","loading"])]),_:1},8,["label"])]),c("td",Rt,[t(mt,{"wrapper-class":"flex items-center justify-end mt-5"},{activator:r(()=>[t(O,{variant:"primary-outline"},{left:r(I=>[t(Q,{class:G(I.class),name:"PlusIcon"},null,8,["class"])]),default:r(()=>[k(" "+b(f.$t("settings.customization.add_new_component")),1)]),_:1})]),default:r(()=>[($(!0),D(L,null,$t(e(s),I=>($(),E(K,{key:I.label,onClick:Y(A=>h(I),["prevent"])},{default:r(()=>[k(b(I.label),1)]),_:2},1032,["onClick"]))),128))]),_:1})])])]),_:1},8,["modelValue"])])]),t(O,{loading:a.value,disabled:a.value,variant:"primary",type:"submit",class:"mt-4",onClick:lt},{left:r(I=>[a.value?R("",!0):($(),E(Q,{key:0,class:G(I.class),name:"SaveIcon"},null,8,["class"]))]),default:r(()=>[k(" "+b(f.$t("settings.customization.save")),1)]),_:1},8,["loading","disabled"])],64)}}},At={setup(v){const o=pt();return(i,p)=>($(),E(tt,{type:"invoice","type-store":e(o),"default-series":"INV"},null,8,["type-store"]))}},Yt={class:"text-gray-900 text-lg font-medium"},Ot={class:"mt-1 text-sm text-gray-500"},jt={setup(v){const{t:o,tm:i}=j(),p=N(),g=Z(),u=M("utils"),a=T({retrospective_edits:null});u.mergeSettings(a,x({},p.selectedCompanySettings)),F(()=>g.config.retrospective_edits.map(s=>(s.title=o(s.key),s)));async function m(){let s={settings:x({},a)};return await p.updateCompanySettings({data:s,message:"settings.customization.invoices.invoice_settings_updated"}),!0}return(s,_)=>{const n=d("BaseRadio"),l=d("BaseInputGroup");return $(),D(L,null,[c("h6",Yt,b(s.$tc("settings.customization.invoices.retrospective_edits")),1),c("p",Ot,b(s.$t("settings.customization.invoices.retrospective_edits_description")),1),t(l,{required:""},{default:r(()=>[t(n,{id:"allow",modelValue:e(a).retrospective_edits,"onUpdate:modelValue":[_[0]||(_[0]=y=>e(a).retrospective_edits=y),m],label:s.$t("settings.customization.invoices.allow"),size:"sm",name:"filter",value:"allow",class:"mt-2"},null,8,["modelValue","label"]),t(n,{id:"disable_on_invoice_partial_paid",modelValue:e(a).retrospective_edits,"onUpdate:modelValue":[_[1]||(_[1]=y=>e(a).retrospective_edits=y),m],label:s.$t("settings.customization.invoices.disable_on_invoice_partial_paid"),size:"sm",name:"filter",value:"disable_on_invoice_partial_paid",class:"mt-2"},null,8,["modelValue","label"]),t(n,{id:"disable_on_invoice_paid",modelValue:e(a).retrospective_edits,"onUpdate:modelValue":[_[2]||(_[2]=y=>e(a).retrospective_edits=y),m],label:s.$t("settings.customization.invoices.disable_on_invoice_paid"),size:"sm",name:"filter",value:"disable_on_invoice_paid",class:"my-2"},null,8,["modelValue","label"]),t(n,{id:"disable_on_invoice_sent",modelValue:e(a).retrospective_edits,"onUpdate:modelValue":[_[3]||(_[3]=y=>e(a).retrospective_edits=y),m],label:s.$t("settings.customization.invoices.disable_on_invoice_sent"),size:"sm",name:"filter",value:"disable_on_invoice_sent"},null,8,["modelValue","label"])]),_:1})],64)}}},Pt=["onSubmit"],Qt={class:"text-gray-900 text-lg font-medium"},Ht={class:"mt-1 text-sm text-gray-500 mb-2"},Jt={class:"w-full sm:w-1/2 md:w-1/4 lg:w-1/5"},Xt={setup(v){const{t:o}=j(),i=N(),p=M("utils");let g=z(!1);const u=T({invoice_set_due_date_automatically:null,invoice_due_date_days:null});p.mergeSettings(u,x({},i.selectedCompanySettings));const a=F({get:()=>u.invoice_set_due_date_automatically==="YES",set:async n=>{const l=n?"YES":"NO";u.invoice_set_due_date_automatically=l}}),m=F(()=>({dueDateSettings:{invoice_due_date_days:{required:X.withMessage(o("validation.required"),nt(a.value)),numeric:X.withMessage(o("validation.numbers_only"),it)}}})),s=ot(m,{dueDateSettings:u});async function _(){if(s.value.dueDateSettings.$touch(),s.value.dueDateSettings.$invalid)return!1;g.value=!0;let n={settings:x({},u)};return a.value||delete n.settings.invoice_due_date_days,await i.updateCompanySettings({data:n,message:"settings.customization.invoices.invoice_settings_updated"}),g.value=!1,!0}return(n,l)=>{const y=d("BaseSwitchSection"),B=d("BaseInput"),C=d("BaseInputGroup"),h=d("BaseIcon"),S=d("BaseButton");return $(),D("form",{onSubmit:Y(_,["prevent"])},[c("h6",Qt,b(n.$t("settings.customization.invoices.due_date")),1),c("p",Ht,b(n.$t("settings.customization.invoices.due_date_description")),1),t(y,{modelValue:e(a),"onUpdate:modelValue":l[0]||(l[0]=w=>H(a)?a.value=w:null),title:n.$t("settings.customization.invoices.set_due_date_automatically"),description:n.$t("settings.customization.invoices.set_due_date_automatically_description")},null,8,["modelValue","title","description"]),e(a)?($(),E(C,{key:0,label:n.$t("settings.customization.invoices.due_date_days"),error:e(s).dueDateSettings.invoice_due_date_days.$error&&e(s).dueDateSettings.invoice_due_date_days.$errors[0].$message,class:"mt-2 mb-4"},{default:r(()=>[c("div",Jt,[t(B,{modelValue:e(u).invoice_due_date_days,"onUpdate:modelValue":l[1]||(l[1]=w=>e(u).invoice_due_date_days=w),invalid:e(s).dueDateSettings.invoice_due_date_days.$error,type:"number",onInput:l[2]||(l[2]=w=>e(s).dueDateSettings.invoice_due_date_days.$touch())},null,8,["modelValue","invalid"])])]),_:1},8,["label","error"])):R("",!0),t(S,{loading:e(g),disabled:e(g),variant:"primary",type:"submit",class:"mt-4"},{left:r(w=>[e(g)?R("",!0):($(),E(h,{key:0,class:G(w.class),name:"SaveIcon"},null,8,["class"]))]),default:r(()=>[k(" "+b(n.$t("settings.customization.save")),1)]),_:1},8,["loading","disabled"])],40,Pt)}}},Kt=["onSubmit"],Wt={class:"text-gray-900 text-lg font-medium"},Zt={class:"mt-1 text-sm text-gray-500 mb-2"},te={setup(v){const o=N(),i=M("utils"),p=z(["customer","customerCustom","invoice","invoiceCustom","company"]),g=z(["billing","customer","customerCustom","invoiceCustom"]),u=z(["shipping","customer","customerCustom","invoiceCustom"]),a=z(["company","invoiceCustom"]);let m=z(!1);const s=T({invoice_mail_body:null,invoice_company_address_format:null,invoice_shipping_address_format:null,invoice_billing_address_format:null});i.mergeSettings(s,x({},o.selectedCompanySettings));async function _(){m.value=!0;let n={settings:x({},s)};return await o.updateCompanySettings({data:n,message:"settings.customization.invoices.invoice_settings_updated"}),m.value=!1,!0}return(n,l)=>{const y=d("BaseCustomInput"),B=d("BaseInputGroup"),C=d("BaseIcon"),h=d("BaseButton");return $(),D("form",{onSubmit:Y(_,["prevent"])},[c("h6",Wt,b(n.$t("settings.customization.invoices.default_formats")),1),c("p",Zt,b(n.$t("settings.customization.invoices.default_formats_description")),1),t(B,{label:n.$t("settings.customization.invoices.default_invoice_email_body"),class:"mt-6 mb-4"},{default:r(()=>[t(y,{modelValue:e(s).invoice_mail_body,"onUpdate:modelValue":l[0]||(l[0]=S=>e(s).invoice_mail_body=S),fields:p.value},null,8,["modelValue","fields"])]),_:1},8,["label"]),t(B,{label:n.$t("settings.customization.invoices.company_address_format"),class:"mt-6 mb-4"},{default:r(()=>[t(y,{modelValue:e(s).invoice_company_address_format,"onUpdate:modelValue":l[1]||(l[1]=S=>e(s).invoice_company_address_format=S),fields:a.value},null,8,["modelValue","fields"])]),_:1},8,["label"]),t(B,{label:n.$t("settings.customization.invoices.shipping_address_format"),class:"mt-6 mb-4"},{default:r(()=>[t(y,{modelValue:e(s).invoice_shipping_address_format,"onUpdate:modelValue":l[2]||(l[2]=S=>e(s).invoice_shipping_address_format=S),fields:u.value},null,8,["modelValue","fields"])]),_:1},8,["label"]),t(B,{label:n.$t("settings.customization.invoices.billing_address_format"),class:"mt-6 mb-4"},{default:r(()=>[t(y,{modelValue:e(s).invoice_billing_address_format,"onUpdate:modelValue":l[3]||(l[3]=S=>e(s).invoice_billing_address_format=S),fields:g.value},null,8,["modelValue","fields"])]),_:1},8,["label"]),t(h,{loading:e(m),disabled:e(m),variant:"primary",type:"submit",class:"mt-4"},{left:r(S=>[e(m)?R("",!0):($(),E(C,{key:0,class:G(S.class),name:"SaveIcon"},null,8,["class"]))]),default:r(()=>[k(" "+b(n.$t("settings.customization.save")),1)]),_:1},8,["loading","disabled"])],40,Kt)}}},ee={class:"divide-y divide-gray-200"},se={setup(v){const o=M("utils"),i=N(),p=T({invoice_email_attachment:null});o.mergeSettings(p,x({},i.selectedCompanySettings));const g=F({get:()=>p.invoice_email_attachment==="YES",set:async u=>{const a=u?"YES":"NO";let m={settings:{invoice_email_attachment:a}};p.invoice_email_attachment=a,await i.updateCompanySettings({data:m,message:"general.setting_updated"})}});return(u,a)=>{const m=d("BaseDivider"),s=d("BaseSwitchSection");return $(),D(L,null,[t(At),t(m,{class:"my-8"}),t(Xt),t(m,{class:"my-8"}),t(jt),t(m,{class:"my-8"}),t(te),t(m,{class:"mt-6 mb-2"}),c("ul",ee,[t(s,{modelValue:e(g),"onUpdate:modelValue":a[0]||(a[0]=_=>H(g)?g.value=_:null),title:u.$t("settings.customization.invoices.invoice_email_attachment"),description:u.$t("settings.customization.invoices.invoice_email_attachment_setting_description")},null,8,["modelValue","title","description"])])],64)}}},ae={setup(v){const o=gt();return(i,p)=>($(),E(tt,{type:"estimate","type-store":e(o),"default-series":"EST"},null,8,["type-store"]))}},ne=["onSubmit"],ie={class:"text-gray-900 text-lg font-medium"},oe={class:"mt-1 text-sm text-gray-500 mb-2"},le={class:"w-full sm:w-1/2 md:w-1/4 lg:w-1/5"},me={setup(v){const{t:o}=j(),i=N(),p=M("utils");let g=z(!1);const u=T({estimate_set_expiry_date_automatically:null,estimate_expiry_date_days:null});p.mergeSettings(u,x({},i.selectedCompanySettings));const a=F({get:()=>u.estimate_set_expiry_date_automatically==="YES",set:async n=>{const l=n?"YES":"NO";u.estimate_set_expiry_date_automatically=l}}),m=F(()=>({expiryDateSettings:{estimate_expiry_date_days:{required:X.withMessage(o("validation.required"),nt(a.value)),numeric:X.withMessage(o("validation.numbers_only"),it)}}})),s=ot(m,{expiryDateSettings:u});async function _(){if(s.value.expiryDateSettings.$touch(),s.value.expiryDateSettings.$invalid)return!1;g.value=!0;let n={settings:x({},u)};return a.value||delete n.settings.estimate_expiry_date_days,await i.updateCompanySettings({data:n,message:"settings.customization.estimates.estimate_settings_updated"}),g.value=!1,!0}return(n,l)=>{const y=d("BaseSwitchSection"),B=d("BaseInput"),C=d("BaseInputGroup"),h=d("BaseIcon"),S=d("BaseButton");return $(),D("form",{onSubmit:Y(_,["prevent"])},[c("h6",ie,b(n.$t("settings.customization.estimates.expiry_date")),1),c("p",oe,b(n.$t("settings.customization.estimates.expiry_date_description")),1),t(y,{modelValue:e(a),"onUpdate:modelValue":l[0]||(l[0]=w=>H(a)?a.value=w:null),title:n.$t("settings.customization.estimates.set_expiry_date_automatically"),description:n.$t("settings.customization.estimates.set_expiry_date_automatically_description")},null,8,["modelValue","title","description"]),e(a)?($(),E(C,{key:0,label:n.$t("settings.customization.estimates.expiry_date_days"),error:e(s).expiryDateSettings.estimate_expiry_date_days.$error&&e(s).expiryDateSettings.estimate_expiry_date_days.$errors[0].$message,class:"mt-2 mb-4"},{default:r(()=>[c("div",le,[t(B,{modelValue:e(u).estimate_expiry_date_days,"onUpdate:modelValue":l[1]||(l[1]=w=>e(u).estimate_expiry_date_days=w),invalid:e(s).expiryDateSettings.estimate_expiry_date_days.$error,type:"number",onInput:l[2]||(l[2]=w=>e(s).expiryDateSettings.estimate_expiry_date_days.$touch())},null,8,["modelValue","invalid"])])]),_:1},8,["label","error"])):R("",!0),t(S,{loading:e(g),disabled:e(g),variant:"primary",type:"submit",class:"mt-4"},{left:r(w=>[e(g)?R("",!0):($(),E(h,{key:0,class:G(w.class),name:"SaveIcon"},null,8,["class"]))]),default:r(()=>[k(" "+b(n.$t("settings.customization.save")),1)]),_:1},8,["loading","disabled"])],40,ne)}}},ue=["onSubmit"],re={class:"text-gray-900 text-lg font-medium"},de={class:"mt-1 text-sm text-gray-500 mb-2"},ce={setup(v){const o=N(),i=M("utils"),p=z(["customer","customerCustom","estimate","estimateCustom","company"]),g=z(["billing","customer","customerCustom","estimateCustom"]),u=z(["shipping","customer","customerCustom","estimateCustom"]),a=z(["company","estimateCustom"]);let m=z(!1);const s=T({estimate_mail_body:null,estimate_company_address_format:null,estimate_shipping_address_format:null,estimate_billing_address_format:null});i.mergeSettings(s,x({},o.selectedCompanySettings));async function _(){m.value=!0;let n={settings:x({},s)};return await o.updateCompanySettings({data:n,message:"settings.customization.estimates.estimate_settings_updated"}),m.value=!1,!0}return(n,l)=>{const y=d("BaseCustomInput"),B=d("BaseInputGroup"),C=d("BaseIcon"),h=d("BaseButton");return $(),D("form",{onSubmit:Y(_,["prevent"])},[c("h6",re,b(n.$t("settings.customization.estimates.default_formats")),1),c("p",de,b(n.$t("settings.customization.estimates.default_formats_description")),1),t(B,{label:n.$t("settings.customization.estimates.default_estimate_email_body"),class:"mt-6 mb-4"},{default:r(()=>[t(y,{modelValue:e(s).estimate_mail_body,"onUpdate:modelValue":l[0]||(l[0]=S=>e(s).estimate_mail_body=S),fields:p.value},null,8,["modelValue","fields"])]),_:1},8,["label"]),t(B,{label:n.$t("settings.customization.estimates.company_address_format"),class:"mt-6 mb-4"},{default:r(()=>[t(y,{modelValue:e(s).estimate_company_address_format,"onUpdate:modelValue":l[1]||(l[1]=S=>e(s).estimate_company_address_format=S),fields:a.value},null,8,["modelValue","fields"])]),_:1},8,["label"]),t(B,{label:n.$t("settings.customization.estimates.shipping_address_format"),class:"mt-6 mb-4"},{default:r(()=>[t(y,{modelValue:e(s).estimate_shipping_address_format,"onUpdate:modelValue":l[2]||(l[2]=S=>e(s).estimate_shipping_address_format=S),fields:u.value},null,8,["modelValue","fields"])]),_:1},8,["label"]),t(B,{label:n.$t("settings.customization.estimates.billing_address_format"),class:"mt-6 mb-4"},{default:r(()=>[t(y,{modelValue:e(s).estimate_billing_address_format,"onUpdate:modelValue":l[3]||(l[3]=S=>e(s).estimate_billing_address_format=S),fields:g.value},null,8,["modelValue","fields"])]),_:1},8,["label"]),t(h,{loading:e(m),disabled:e(m),variant:"primary",type:"submit",class:"mt-4"},{left:r(S=>[e(m)?R("",!0):($(),E(C,{key:0,class:G(S.class),name:"SaveIcon"},null,8,["class"]))]),default:r(()=>[k(" "+b(n.$t("settings.customization.save")),1)]),_:1},8,["loading","disabled"])],40,ue)}}},_e={class:"text-gray-900 text-lg font-medium"},pe={class:"mt-1 text-sm text-gray-500"},ge={setup(v){const{t:o,tm:i}=j(),p=N(),g=Z(),u=M("utils"),a=T({estimate_convert_action:null});u.mergeSettings(a,x({},p.selectedCompanySettings)),F(()=>g.config.estimate_convert_action.map(s=>(s.title=o(s.key),s)));async function m(){let s={settings:x({},a)};return await p.updateCompanySettings({data:s,message:"settings.customization.estimates.estimate_settings_updated"}),!0}return(s,_)=>{const n=d("BaseRadio"),l=d("BaseInputGroup");return $(),D(L,null,[c("h6",_e,b(s.$tc("settings.customization.estimates.convert_estimate_options")),1),c("p",pe,b(s.$t("settings.customization.estimates.convert_estimate_description")),1),t(l,{required:""},{default:r(()=>[t(n,{id:"no_action",modelValue:e(a).estimate_convert_action,"onUpdate:modelValue":[_[0]||(_[0]=y=>e(a).estimate_convert_action=y),m],label:s.$t("settings.customization.estimates.no_action"),size:"sm",name:"filter",value:"no_action",class:"mt-2"},null,8,["modelValue","label"]),t(n,{id:"delete_estimate",modelValue:e(a).estimate_convert_action,"onUpdate:modelValue":[_[1]||(_[1]=y=>e(a).estimate_convert_action=y),m],label:s.$t("settings.customization.estimates.delete_estimate"),size:"sm",name:"filter",value:"delete_estimate",class:"my-2"},null,8,["modelValue","label"]),t(n,{id:"mark_estimate_as_accepted",modelValue:e(a).estimate_convert_action,"onUpdate:modelValue":[_[2]||(_[2]=y=>e(a).estimate_convert_action=y),m],label:s.$t("settings.customization.estimates.mark_estimate_as_accepted"),size:"sm",name:"filter",value:"mark_estimate_as_accepted"},null,8,["modelValue","label"])]),_:1})],64)}}},ye={class:"divide-y divide-gray-200"},fe={setup(v){const o=M("utils"),i=N(),p=T({estimate_email_attachment:null});o.mergeSettings(p,x({},i.selectedCompanySettings));const g=F({get:()=>p.estimate_email_attachment==="YES",set:async u=>{const a=u?"YES":"NO";let m={settings:{estimate_email_attachment:a}};p.estimate_email_attachment=a,await i.updateCompanySettings({data:m,message:"general.setting_updated"})}});return(u,a)=>{const m=d("BaseDivider"),s=d("BaseSwitchSection");return $(),D(L,null,[t(ae),t(m,{class:"my-8"}),t(me),t(m,{class:"my-8"}),t(ge),t(m,{class:"my-8"}),t(ce),t(m,{class:"mt-6 mb-2"}),c("ul",ye,[t(s,{modelValue:e(g),"onUpdate:modelValue":a[0]||(a[0]=_=>H(g)?g.value=_:null),title:u.$t("settings.customization.estimates.estimate_email_attachment"),description:u.$t("settings.customization.estimates.estimate_email_attachment_setting_description")},null,8,["modelValue","title","description"])])],64)}}},ve={setup(v){const o=zt();return(i,p)=>($(),E(tt,{type:"payment","type-store":e(o),"default-series":"PAY"},null,8,["type-store"]))}},be=["onSubmit"],Se={class:"text-gray-900 text-lg font-medium"},$e={class:"mt-1 text-sm text-gray-500 mb-2"},Be={setup(v){const o=N(),i=M("utils"),p=z(["customer","customerCustom","company","payment","paymentCustom"]),g=z(["billing","customer","customerCustom","paymentCustom"]),u=z(["company","paymentCustom"]);let a=z(!1);const m=T({payment_mail_body:null,payment_company_address_format:null,payment_from_customer_address_format:null});i.mergeSettings(m,x({},o.selectedCompanySettings));async function s(){a.value=!0;let _={settings:x({},m)};return await o.updateCompanySettings({data:_,message:"settings.customization.payments.payment_settings_updated"}),a.value=!1,!0}return(_,n)=>{const l=d("BaseCustomInput"),y=d("BaseInputGroup"),B=d("BaseIcon"),C=d("BaseButton");return $(),D("form",{onSubmit:Y(s,["prevent"])},[c("h6",Se,b(_.$t("settings.customization.payments.default_formats")),1),c("p",$e,b(_.$t("settings.customization.payments.default_formats_description")),1),t(y,{label:_.$t("settings.customization.payments.default_payment_email_body"),class:"mt-6 mb-4"},{default:r(()=>[t(l,{modelValue:e(m).payment_mail_body,"onUpdate:modelValue":n[0]||(n[0]=h=>e(m).payment_mail_body=h),fields:p.value},null,8,["modelValue","fields"])]),_:1},8,["label"]),t(y,{label:_.$t("settings.customization.payments.company_address_format"),class:"mt-6 mb-4"},{default:r(()=>[t(l,{modelValue:e(m).payment_company_address_format,"onUpdate:modelValue":n[1]||(n[1]=h=>e(m).payment_company_address_format=h),fields:u.value},null,8,["modelValue","fields"])]),_:1},8,["label"]),t(y,{label:_.$t("settings.customization.payments.from_customer_address_format"),class:"mt-6 mb-4"},{default:r(()=>[t(l,{modelValue:e(m).payment_from_customer_address_format,"onUpdate:modelValue":n[2]||(n[2]=h=>e(m).payment_from_customer_address_format=h),fields:g.value},null,8,["modelValue","fields"])]),_:1},8,["label"]),t(C,{loading:e(a),disabled:e(a),variant:"primary",type:"submit",class:"mt-4"},{left:r(h=>[e(a)?R("",!0):($(),E(B,{key:0,class:G(h.class),name:"SaveIcon"},null,8,["class"]))]),default:r(()=>[k(" "+b(_.$t("settings.customization.save")),1)]),_:1},8,["loading","disabled"])],40,be)}}},he={class:"divide-y divide-gray-200"},ze={setup(v){const o=M("utils"),i=N(),p=T({payment_email_attachment:null});o.mergeSettings(p,x({},i.selectedCompanySettings));const g=F({get:()=>p.payment_email_attachment==="YES",set:async u=>{const a=u?"YES":"NO";let m={settings:{payment_email_attachment:a}};p.payment_email_attachment=a,await i.updateCompanySettings({data:m,message:"general.setting_updated"})}});return(u,a)=>{const m=d("BaseDivider"),s=d("BaseSwitchSection");return $(),D(L,null,[t(ve),t(m,{class:"my-8"}),t(Be),t(m,{class:"mt-6 mb-2"}),c("ul",he,[t(s,{modelValue:e(g),"onUpdate:modelValue":a[0]||(a[0]=_=>H(g)?g.value=_:null),title:u.$t("settings.customization.payments.payment_email_attachment"),description:u.$t("settings.customization.payments.payment_email_attachment_setting_description")},null,8,["modelValue","title","description"])])],64)}}},Ve={class:"flex flex-wrap justify-end mt-2 lg:flex-nowrap"},Ie={class:"inline-block"},xe={setup(v){const{t:o}=j(),i=z(null),p=yt(),g=ft(),u=vt(),a=F(()=>[{key:"name",label:o("settings.customization.items.unit_name"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"actions",label:"",tdClass:"text-right text-sm font-medium",sortable:!1}]);async function m({page:l,filter:y,sort:B}){let C={orderByField:B.fieldName||"created_at",orderBy:B.order||"desc",page:l},h=await p.fetchItemUnits(C);return{data:h.data.data,pagination:{totalPages:h.data.meta.last_page,currentPage:l,totalCount:h.data.meta.total,limit:5}}}async function s(){g.openModal({title:o("settings.customization.items.add_item_unit"),componentName:"ItemUnitModal",refreshData:i.value.refresh,size:"sm"})}async function _(l){p.fetchItemUnit(l.data.id),g.openModal({title:o("settings.customization.items.edit_item_unit"),componentName:"ItemUnitModal",id:l.data.id,data:l.data,refreshData:i.value&&i.value.refresh})}function n(l){u.openDialog({title:o("general.are_you_sure"),message:o("settings.customization.items.item_unit_confirm_delete"),yesLabel:o("general.yes"),noLabel:o("general.no"),variant:"danger",hideNoButton:!1,size:"lg"}).then(async y=>{y&&(await p.deleteItemUnit(l.data.id),i.value&&i.value.refresh())})}return(l,y)=>{const B=d("BaseIcon"),C=d("BaseButton"),h=d("BaseDropdownItem"),S=d("BaseDropdown"),w=d("BaseTable");return $(),D(L,null,[t(Vt),c("div",Ve,[t(C,{variant:"primary-outline",onClick:s},{left:r(U=>[t(B,{class:G(U.class),name:"PlusIcon"},null,8,["class"])]),default:r(()=>[k(" "+b(l.$t("settings.customization.items.add_item_unit")),1)]),_:1})]),t(w,{ref:(U,P)=>{P.table=U,i.value=U},class:"mt-10",data:m,columns:e(a)},{"cell-actions":r(({row:U})=>[t(S,null,{activator:r(()=>[c("div",Ie,[t(B,{name:"DotsHorizontalIcon",class:"text-gray-500"})])]),default:r(()=>[t(h,{onClick:P=>_(U)},{default:r(()=>[t(B,{name:"PencilIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),k(" "+b(l.$t("general.edit")),1)]),_:2},1032,["onClick"]),t(h,{onClick:P=>n(U)},{default:r(()=>[t(B,{name:"TrashIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),k(" "+b(l.$t("general.delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:1},8,["columns"])],64)}}},we={class:"relative"},Ne={setup(v){return(o,i)=>{const p=d("BaseTab"),g=d("BaseTabGroup"),u=d("BaseCard");return $(),D("div",we,[t(u,{"container-class":"px-4 py-5 sm:px-8 sm:py-2"},{default:r(()=>[t(g,null,{default:r(()=>[t(p,{"tab-panel-container":"py-4 mt-px",title:o.$t("settings.customization.invoices.title")},{default:r(()=>[t(se)]),_:1},8,["title"]),t(p,{"tab-panel-container":"py-4 mt-px",title:o.$t("settings.customization.estimates.title")},{default:r(()=>[t(fe)]),_:1},8,["title"]),t(p,{"tab-panel-container":"py-4 mt-px",title:o.$t("settings.customization.payments.title")},{default:r(()=>[t(ze)]),_:1},8,["title"]),t(p,{"tab-panel-container":"py-4 mt-px",title:o.$t("settings.customization.items.title")},{default:r(()=>[t(xe)]),_:1},8,["title"])]),_:1})]),_:1})])}}};export{Ne as default};
+var ut=Object.defineProperty,rt=Object.defineProperties;var dt=Object.getOwnPropertyDescriptors;var et=Object.getOwnPropertySymbols;var ct=Object.prototype.hasOwnProperty,_t=Object.prototype.propertyIsEnumerable;var st=(v,o,i)=>o in v?ut(v,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):v[o]=i,x=(v,o)=>{for(var i in o||(o={}))ct.call(o,i)&&st(v,i,o[i]);if(et)for(var i of et(o))_t.call(o,i)&&st(v,i,o[i]);return v},W=(v,o)=>rt(v,dt(o));import{b as N,d as Z,i as pt,k as gt,p as yt,c as ft,j as vt}from"./main.75722495.js";import{J as j,B as z,k as F,C as bt,H as at,$ as St,r as d,o as $,e as D,h as c,t as b,f as t,w as r,U as Y,m as G,i as k,F as L,y as $t,l as E,u as e,j as R,ah as M,a0 as T,L as X,O as nt,aT as it,T as ot,x as H}from"./vendor.01d0adc5.js";import{D as Bt,d as ht}from"./DragIcon.213b1d78.js";import{u as zt}from"./payment.5c57bec3.js";import{_ as Vt}from"./ItemUnitModal.01494bfb.js";const It={class:"text-gray-900 text-lg font-medium"},xt={class:"mt-1 text-sm text-gray-500"},wt={class:"overflow-x-auto"},Ct={class:"w-full mt-6 table-fixed"},Dt=c("colgroup",null,[c("col",{style:{width:"4%"}}),c("col",{style:{width:"45%"}}),c("col",{style:{width:"27%"}}),c("col",{style:{width:"24%"}})],-1),Ut=c("thead",null,[c("tr",null,[c("th",{class:"px-5 py-3 text-sm not-italic font-medium leading-5 text-left text-gray-700 border-t border-b border-gray-200 border-solid"}),c("th",{class:"px-5 py-3 text-sm not-italic font-medium leading-5 text-left text-gray-700 border-t border-b border-gray-200 border-solid"}," Component "),c("th",{class:"px-5 py-3 text-sm not-italic font-medium leading-5 text-left text-gray-700 border-t border-b border-gray-200 border-solid"}," Parameter "),c("th",{class:"px-5 py-3 text-sm not-italic font-medium leading-5 text-left text-gray-700 border-t border-b border-gray-200 border-solid"})])],-1),Ft={class:"relative"},kt={class:"text-gray-300 cursor-move handle align-middle"},Et={class:"px-5 py-4"},Nt={class:"block text-sm not-italic font-medium text-primary-800 whitespace-nowrap mr-2 min-w-[200px]"},Mt={class:"text-xs text-gray-500 mt-1"},Tt={class:"px-5 py-4 text-left align-middle"},Gt={class:"px-5 py-4 text-right align-middle pt-10"},qt=k(" Remove "),Lt={colspan:"2",class:"px-5 py-4"},Rt={class:"px-5 py-4 text-right align-middle",colspan:"2"},tt={props:{type:{type:String,required:!0},typeStore:{type:Object,required:!0},defaultSeries:{type:String,default:"INV"}},setup(v){const o=v,{t:i}=j(),p=N(),g=Z(),u=z([]),a=z(!1),m=z([{label:i("settings.customization.series"),description:i("settings.customization.series_description"),name:"SERIES",paramLabel:i("settings.customization.series_param_label"),value:o.defaultSeries,inputDisabled:!1,inputType:"text",allowMultiple:!1},{label:i("settings.customization.sequence"),description:i("settings.customization.sequence_description"),name:"SEQUENCE",paramLabel:i("settings.customization.sequence_param_label"),value:"6",inputDisabled:!1,inputType:"number",allowMultiple:!1},{label:i("settings.customization.delimiter"),description:i("settings.customization.delimiter_description"),name:"DELIMITER",paramLabel:i("settings.customization.delimiter_param_label"),value:"-",inputDisabled:!1,inputType:"text",allowMultiple:!0},{label:i("settings.customization.customer_series"),description:i("settings.customization.customer_series_description"),name:"CUSTOMER_SERIES",paramLabel:"",value:"",inputDisabled:!0,inputType:"text",allowMultiple:!1},{label:i("settings.customization.customer_sequence"),description:i("settings.customization.customer_sequence_description"),name:"CUSTOMER_SEQUENCE",paramLabel:i("settings.customization.customer_sequence_param_label"),value:"6",inputDisabled:!1,inputType:"number",allowMultiple:!1},{label:i("settings.customization.date_format"),description:i("settings.customization.date_format_description"),name:"DATE_FORMAT",paramLabel:i("settings.customization.date_format_param_label"),value:"Y",inputDisabled:!1,inputType:"text",allowMultiple:!0},{label:i("settings.customization.random_sequence"),description:i("settings.customization.random_sequence_description"),name:"RANDOM_SEQUENCE",paramLabel:i("settings.customization.random_sequence_param_label"),value:"6",inputDisabled:!1,inputType:"number",allowMultiple:!1}]),s=F(()=>m.value.filter(function(f){return!u.value.some(function(V){return f.allowMultiple?!1:f.name==V.name})})),_=z(""),n=z(!1),l=z(!1),y=F(()=>{let f="";return u.value.forEach(V=>{let q=`{{${V.name}`;V.value&&(q+=`:${V.value}`),f+=`${q}}}`}),f});bt(u,f=>{U()}),B();async function B(){let f={format:p.selectedCompanySettings[`${o.type}_number_format`]};l.value=!0,(await g.fetchPlaceholders(f)).data.placeholders.forEach(q=>{var O;let J=m.value.find(K=>K.name===q.name);const Q=(O=q.value)!=null?O:"";u.value.push(W(x({},J),{value:Q,id:at.raw()}))}),l.value=!1,U()}function C(f){return u.value.find(V=>V.name===f.name)}function h(f){C(f)&&!f.allowMultiple||(u.value.push(W(x({},f),{id:at.raw()})),U())}function S(f){u.value=u.value.filter(function(V){return f.id!==V.id})}function w(f,V){switch(V.name){case"SERIES":f.length>=6&&(f=f.substring(0,6));break;case"DELIMITER":f.length>=1&&(f=f.substring(0,1));break}setTimeout(()=>{V.value=f,U()},100)}const U=St(()=>{P()},500);async function P(){if(!y.value){_.value="";return}let f={key:o.type,format:y.value};n.value=!0;let V=await o.typeStore.getNextNumber(f);n.value=!1,V.data&&(_.value=V.data.nextNumber)}async function lt(){if(n.value||l.value)return;a.value=!0;let f={settings:{}};return f.settings[o.type+"_number_format"]=y.value,await p.updateCompanySettings({data:f,message:`settings.customization.${o.type}s.${o.type}_settings_updated`}),a.value=!1,!0}return(f,V)=>{const q=d("BaseInput"),J=d("BaseInputGroup"),Q=d("BaseIcon"),O=d("BaseButton"),K=d("BaseDropdownItem"),mt=d("BaseDropdown");return $(),D(L,null,[c("h6",It,b(f.$t(`settings.customization.${v.type}s.${v.type}_number_format`)),1),c("p",xt,b(f.$t(`settings.customization.${v.type}s.${v.type}_number_format_description`)),1),c("div",wt,[c("table",Ct,[Dt,Ut,t(e(ht),{modelValue:u.value,"onUpdate:modelValue":V[1]||(V[1]=I=>u.value=I),class:"divide-y divide-gray-200","item-key":"id",tag:"tbody",handle:".handle",filter:".ignore-element"},{item:r(({element:I})=>[c("tr",Ft,[c("td",kt,[t(Bt)]),c("td",Et,[c("label",Nt,b(I.label),1),c("p",Mt,b(I.description),1)]),c("td",Tt,[t(J,{label:I.paramLabel,class:"lg:col-span-3",required:""},{default:r(()=>[t(q,{modelValue:I.value,"onUpdate:modelValue":[A=>I.value=A,A=>w(A,I)],disabled:I.inputDisabled,type:I.inputType},null,8,["modelValue","onUpdate:modelValue","disabled","type"])]),_:2},1032,["label"])]),c("td",Gt,[t(O,{variant:"white",onClick:Y(A=>S(I),["prevent"])},{left:r(A=>[t(Q,{name:"XIcon",class:G(["!sm:m-0",A.class])},null,8,["class"])]),default:r(()=>[qt]),_:2},1032,["onClick"])])])]),footer:r(()=>[c("tr",null,[c("td",Lt,[t(J,{label:f.$t(`settings.customization.${v.type}s.preview_${v.type}_number`)},{default:r(()=>[t(q,{modelValue:_.value,"onUpdate:modelValue":V[0]||(V[0]=I=>_.value=I),disabled:"",loading:n.value},null,8,["modelValue","loading"])]),_:1},8,["label"])]),c("td",Rt,[t(mt,{"wrapper-class":"flex items-center justify-end mt-5"},{activator:r(()=>[t(O,{variant:"primary-outline"},{left:r(I=>[t(Q,{class:G(I.class),name:"PlusIcon"},null,8,["class"])]),default:r(()=>[k(" "+b(f.$t("settings.customization.add_new_component")),1)]),_:1})]),default:r(()=>[($(!0),D(L,null,$t(e(s),I=>($(),E(K,{key:I.label,onClick:Y(A=>h(I),["prevent"])},{default:r(()=>[k(b(I.label),1)]),_:2},1032,["onClick"]))),128))]),_:1})])])]),_:1},8,["modelValue"])])]),t(O,{loading:a.value,disabled:a.value,variant:"primary",type:"submit",class:"mt-4",onClick:lt},{left:r(I=>[a.value?R("",!0):($(),E(Q,{key:0,class:G(I.class),name:"SaveIcon"},null,8,["class"]))]),default:r(()=>[k(" "+b(f.$t("settings.customization.save")),1)]),_:1},8,["loading","disabled"])],64)}}},At={setup(v){const o=pt();return(i,p)=>($(),E(tt,{type:"invoice","type-store":e(o),"default-series":"INV"},null,8,["type-store"]))}},Yt={class:"text-gray-900 text-lg font-medium"},Ot={class:"mt-1 text-sm text-gray-500"},jt={setup(v){const{t:o,tm:i}=j(),p=N(),g=Z(),u=M("utils"),a=T({retrospective_edits:null});u.mergeSettings(a,x({},p.selectedCompanySettings)),F(()=>g.config.retrospective_edits.map(s=>(s.title=o(s.key),s)));async function m(){let s={settings:x({},a)};return await p.updateCompanySettings({data:s,message:"settings.customization.invoices.invoice_settings_updated"}),!0}return(s,_)=>{const n=d("BaseRadio"),l=d("BaseInputGroup");return $(),D(L,null,[c("h6",Yt,b(s.$tc("settings.customization.invoices.retrospective_edits")),1),c("p",Ot,b(s.$t("settings.customization.invoices.retrospective_edits_description")),1),t(l,{required:""},{default:r(()=>[t(n,{id:"allow",modelValue:e(a).retrospective_edits,"onUpdate:modelValue":[_[0]||(_[0]=y=>e(a).retrospective_edits=y),m],label:s.$t("settings.customization.invoices.allow"),size:"sm",name:"filter",value:"allow",class:"mt-2"},null,8,["modelValue","label"]),t(n,{id:"disable_on_invoice_partial_paid",modelValue:e(a).retrospective_edits,"onUpdate:modelValue":[_[1]||(_[1]=y=>e(a).retrospective_edits=y),m],label:s.$t("settings.customization.invoices.disable_on_invoice_partial_paid"),size:"sm",name:"filter",value:"disable_on_invoice_partial_paid",class:"mt-2"},null,8,["modelValue","label"]),t(n,{id:"disable_on_invoice_paid",modelValue:e(a).retrospective_edits,"onUpdate:modelValue":[_[2]||(_[2]=y=>e(a).retrospective_edits=y),m],label:s.$t("settings.customization.invoices.disable_on_invoice_paid"),size:"sm",name:"filter",value:"disable_on_invoice_paid",class:"my-2"},null,8,["modelValue","label"]),t(n,{id:"disable_on_invoice_sent",modelValue:e(a).retrospective_edits,"onUpdate:modelValue":[_[3]||(_[3]=y=>e(a).retrospective_edits=y),m],label:s.$t("settings.customization.invoices.disable_on_invoice_sent"),size:"sm",name:"filter",value:"disable_on_invoice_sent"},null,8,["modelValue","label"])]),_:1})],64)}}},Pt=["onSubmit"],Qt={class:"text-gray-900 text-lg font-medium"},Ht={class:"mt-1 text-sm text-gray-500 mb-2"},Jt={class:"w-full sm:w-1/2 md:w-1/4 lg:w-1/5"},Xt={setup(v){const{t:o}=j(),i=N(),p=M("utils");let g=z(!1);const u=T({invoice_set_due_date_automatically:null,invoice_due_date_days:null});p.mergeSettings(u,x({},i.selectedCompanySettings));const a=F({get:()=>u.invoice_set_due_date_automatically==="YES",set:async n=>{const l=n?"YES":"NO";u.invoice_set_due_date_automatically=l}}),m=F(()=>({dueDateSettings:{invoice_due_date_days:{required:X.withMessage(o("validation.required"),nt(a.value)),numeric:X.withMessage(o("validation.numbers_only"),it)}}})),s=ot(m,{dueDateSettings:u});async function _(){if(s.value.dueDateSettings.$touch(),s.value.dueDateSettings.$invalid)return!1;g.value=!0;let n={settings:x({},u)};return a.value||delete n.settings.invoice_due_date_days,await i.updateCompanySettings({data:n,message:"settings.customization.invoices.invoice_settings_updated"}),g.value=!1,!0}return(n,l)=>{const y=d("BaseSwitchSection"),B=d("BaseInput"),C=d("BaseInputGroup"),h=d("BaseIcon"),S=d("BaseButton");return $(),D("form",{onSubmit:Y(_,["prevent"])},[c("h6",Qt,b(n.$t("settings.customization.invoices.due_date")),1),c("p",Ht,b(n.$t("settings.customization.invoices.due_date_description")),1),t(y,{modelValue:e(a),"onUpdate:modelValue":l[0]||(l[0]=w=>H(a)?a.value=w:null),title:n.$t("settings.customization.invoices.set_due_date_automatically"),description:n.$t("settings.customization.invoices.set_due_date_automatically_description")},null,8,["modelValue","title","description"]),e(a)?($(),E(C,{key:0,label:n.$t("settings.customization.invoices.due_date_days"),error:e(s).dueDateSettings.invoice_due_date_days.$error&&e(s).dueDateSettings.invoice_due_date_days.$errors[0].$message,class:"mt-2 mb-4"},{default:r(()=>[c("div",Jt,[t(B,{modelValue:e(u).invoice_due_date_days,"onUpdate:modelValue":l[1]||(l[1]=w=>e(u).invoice_due_date_days=w),invalid:e(s).dueDateSettings.invoice_due_date_days.$error,type:"number",onInput:l[2]||(l[2]=w=>e(s).dueDateSettings.invoice_due_date_days.$touch())},null,8,["modelValue","invalid"])])]),_:1},8,["label","error"])):R("",!0),t(S,{loading:e(g),disabled:e(g),variant:"primary",type:"submit",class:"mt-4"},{left:r(w=>[e(g)?R("",!0):($(),E(h,{key:0,class:G(w.class),name:"SaveIcon"},null,8,["class"]))]),default:r(()=>[k(" "+b(n.$t("settings.customization.save")),1)]),_:1},8,["loading","disabled"])],40,Pt)}}},Kt=["onSubmit"],Wt={class:"text-gray-900 text-lg font-medium"},Zt={class:"mt-1 text-sm text-gray-500 mb-2"},te={setup(v){const o=N(),i=M("utils"),p=z(["customer","customerCustom","invoice","invoiceCustom","company"]),g=z(["billing","customer","customerCustom","invoiceCustom"]),u=z(["shipping","customer","customerCustom","invoiceCustom"]),a=z(["company","invoiceCustom"]);let m=z(!1);const s=T({invoice_mail_body:null,invoice_company_address_format:null,invoice_shipping_address_format:null,invoice_billing_address_format:null});i.mergeSettings(s,x({},o.selectedCompanySettings));async function _(){m.value=!0;let n={settings:x({},s)};return await o.updateCompanySettings({data:n,message:"settings.customization.invoices.invoice_settings_updated"}),m.value=!1,!0}return(n,l)=>{const y=d("BaseCustomInput"),B=d("BaseInputGroup"),C=d("BaseIcon"),h=d("BaseButton");return $(),D("form",{onSubmit:Y(_,["prevent"])},[c("h6",Wt,b(n.$t("settings.customization.invoices.default_formats")),1),c("p",Zt,b(n.$t("settings.customization.invoices.default_formats_description")),1),t(B,{label:n.$t("settings.customization.invoices.default_invoice_email_body"),class:"mt-6 mb-4"},{default:r(()=>[t(y,{modelValue:e(s).invoice_mail_body,"onUpdate:modelValue":l[0]||(l[0]=S=>e(s).invoice_mail_body=S),fields:p.value},null,8,["modelValue","fields"])]),_:1},8,["label"]),t(B,{label:n.$t("settings.customization.invoices.company_address_format"),class:"mt-6 mb-4"},{default:r(()=>[t(y,{modelValue:e(s).invoice_company_address_format,"onUpdate:modelValue":l[1]||(l[1]=S=>e(s).invoice_company_address_format=S),fields:a.value},null,8,["modelValue","fields"])]),_:1},8,["label"]),t(B,{label:n.$t("settings.customization.invoices.shipping_address_format"),class:"mt-6 mb-4"},{default:r(()=>[t(y,{modelValue:e(s).invoice_shipping_address_format,"onUpdate:modelValue":l[2]||(l[2]=S=>e(s).invoice_shipping_address_format=S),fields:u.value},null,8,["modelValue","fields"])]),_:1},8,["label"]),t(B,{label:n.$t("settings.customization.invoices.billing_address_format"),class:"mt-6 mb-4"},{default:r(()=>[t(y,{modelValue:e(s).invoice_billing_address_format,"onUpdate:modelValue":l[3]||(l[3]=S=>e(s).invoice_billing_address_format=S),fields:g.value},null,8,["modelValue","fields"])]),_:1},8,["label"]),t(h,{loading:e(m),disabled:e(m),variant:"primary",type:"submit",class:"mt-4"},{left:r(S=>[e(m)?R("",!0):($(),E(C,{key:0,class:G(S.class),name:"SaveIcon"},null,8,["class"]))]),default:r(()=>[k(" "+b(n.$t("settings.customization.save")),1)]),_:1},8,["loading","disabled"])],40,Kt)}}},ee={class:"divide-y divide-gray-200"},se={setup(v){const o=M("utils"),i=N(),p=T({invoice_email_attachment:null});o.mergeSettings(p,x({},i.selectedCompanySettings));const g=F({get:()=>p.invoice_email_attachment==="YES",set:async u=>{const a=u?"YES":"NO";let m={settings:{invoice_email_attachment:a}};p.invoice_email_attachment=a,await i.updateCompanySettings({data:m,message:"general.setting_updated"})}});return(u,a)=>{const m=d("BaseDivider"),s=d("BaseSwitchSection");return $(),D(L,null,[t(At),t(m,{class:"my-8"}),t(Xt),t(m,{class:"my-8"}),t(jt),t(m,{class:"my-8"}),t(te),t(m,{class:"mt-6 mb-2"}),c("ul",ee,[t(s,{modelValue:e(g),"onUpdate:modelValue":a[0]||(a[0]=_=>H(g)?g.value=_:null),title:u.$t("settings.customization.invoices.invoice_email_attachment"),description:u.$t("settings.customization.invoices.invoice_email_attachment_setting_description")},null,8,["modelValue","title","description"])])],64)}}},ae={setup(v){const o=gt();return(i,p)=>($(),E(tt,{type:"estimate","type-store":e(o),"default-series":"EST"},null,8,["type-store"]))}},ne=["onSubmit"],ie={class:"text-gray-900 text-lg font-medium"},oe={class:"mt-1 text-sm text-gray-500 mb-2"},le={class:"w-full sm:w-1/2 md:w-1/4 lg:w-1/5"},me={setup(v){const{t:o}=j(),i=N(),p=M("utils");let g=z(!1);const u=T({estimate_set_expiry_date_automatically:null,estimate_expiry_date_days:null});p.mergeSettings(u,x({},i.selectedCompanySettings));const a=F({get:()=>u.estimate_set_expiry_date_automatically==="YES",set:async n=>{const l=n?"YES":"NO";u.estimate_set_expiry_date_automatically=l}}),m=F(()=>({expiryDateSettings:{estimate_expiry_date_days:{required:X.withMessage(o("validation.required"),nt(a.value)),numeric:X.withMessage(o("validation.numbers_only"),it)}}})),s=ot(m,{expiryDateSettings:u});async function _(){if(s.value.expiryDateSettings.$touch(),s.value.expiryDateSettings.$invalid)return!1;g.value=!0;let n={settings:x({},u)};return a.value||delete n.settings.estimate_expiry_date_days,await i.updateCompanySettings({data:n,message:"settings.customization.estimates.estimate_settings_updated"}),g.value=!1,!0}return(n,l)=>{const y=d("BaseSwitchSection"),B=d("BaseInput"),C=d("BaseInputGroup"),h=d("BaseIcon"),S=d("BaseButton");return $(),D("form",{onSubmit:Y(_,["prevent"])},[c("h6",ie,b(n.$t("settings.customization.estimates.expiry_date")),1),c("p",oe,b(n.$t("settings.customization.estimates.expiry_date_description")),1),t(y,{modelValue:e(a),"onUpdate:modelValue":l[0]||(l[0]=w=>H(a)?a.value=w:null),title:n.$t("settings.customization.estimates.set_expiry_date_automatically"),description:n.$t("settings.customization.estimates.set_expiry_date_automatically_description")},null,8,["modelValue","title","description"]),e(a)?($(),E(C,{key:0,label:n.$t("settings.customization.estimates.expiry_date_days"),error:e(s).expiryDateSettings.estimate_expiry_date_days.$error&&e(s).expiryDateSettings.estimate_expiry_date_days.$errors[0].$message,class:"mt-2 mb-4"},{default:r(()=>[c("div",le,[t(B,{modelValue:e(u).estimate_expiry_date_days,"onUpdate:modelValue":l[1]||(l[1]=w=>e(u).estimate_expiry_date_days=w),invalid:e(s).expiryDateSettings.estimate_expiry_date_days.$error,type:"number",onInput:l[2]||(l[2]=w=>e(s).expiryDateSettings.estimate_expiry_date_days.$touch())},null,8,["modelValue","invalid"])])]),_:1},8,["label","error"])):R("",!0),t(S,{loading:e(g),disabled:e(g),variant:"primary",type:"submit",class:"mt-4"},{left:r(w=>[e(g)?R("",!0):($(),E(h,{key:0,class:G(w.class),name:"SaveIcon"},null,8,["class"]))]),default:r(()=>[k(" "+b(n.$t("settings.customization.save")),1)]),_:1},8,["loading","disabled"])],40,ne)}}},ue=["onSubmit"],re={class:"text-gray-900 text-lg font-medium"},de={class:"mt-1 text-sm text-gray-500 mb-2"},ce={setup(v){const o=N(),i=M("utils"),p=z(["customer","customerCustom","estimate","estimateCustom","company"]),g=z(["billing","customer","customerCustom","estimateCustom"]),u=z(["shipping","customer","customerCustom","estimateCustom"]),a=z(["company","estimateCustom"]);let m=z(!1);const s=T({estimate_mail_body:null,estimate_company_address_format:null,estimate_shipping_address_format:null,estimate_billing_address_format:null});i.mergeSettings(s,x({},o.selectedCompanySettings));async function _(){m.value=!0;let n={settings:x({},s)};return await o.updateCompanySettings({data:n,message:"settings.customization.estimates.estimate_settings_updated"}),m.value=!1,!0}return(n,l)=>{const y=d("BaseCustomInput"),B=d("BaseInputGroup"),C=d("BaseIcon"),h=d("BaseButton");return $(),D("form",{onSubmit:Y(_,["prevent"])},[c("h6",re,b(n.$t("settings.customization.estimates.default_formats")),1),c("p",de,b(n.$t("settings.customization.estimates.default_formats_description")),1),t(B,{label:n.$t("settings.customization.estimates.default_estimate_email_body"),class:"mt-6 mb-4"},{default:r(()=>[t(y,{modelValue:e(s).estimate_mail_body,"onUpdate:modelValue":l[0]||(l[0]=S=>e(s).estimate_mail_body=S),fields:p.value},null,8,["modelValue","fields"])]),_:1},8,["label"]),t(B,{label:n.$t("settings.customization.estimates.company_address_format"),class:"mt-6 mb-4"},{default:r(()=>[t(y,{modelValue:e(s).estimate_company_address_format,"onUpdate:modelValue":l[1]||(l[1]=S=>e(s).estimate_company_address_format=S),fields:a.value},null,8,["modelValue","fields"])]),_:1},8,["label"]),t(B,{label:n.$t("settings.customization.estimates.shipping_address_format"),class:"mt-6 mb-4"},{default:r(()=>[t(y,{modelValue:e(s).estimate_shipping_address_format,"onUpdate:modelValue":l[2]||(l[2]=S=>e(s).estimate_shipping_address_format=S),fields:u.value},null,8,["modelValue","fields"])]),_:1},8,["label"]),t(B,{label:n.$t("settings.customization.estimates.billing_address_format"),class:"mt-6 mb-4"},{default:r(()=>[t(y,{modelValue:e(s).estimate_billing_address_format,"onUpdate:modelValue":l[3]||(l[3]=S=>e(s).estimate_billing_address_format=S),fields:g.value},null,8,["modelValue","fields"])]),_:1},8,["label"]),t(h,{loading:e(m),disabled:e(m),variant:"primary",type:"submit",class:"mt-4"},{left:r(S=>[e(m)?R("",!0):($(),E(C,{key:0,class:G(S.class),name:"SaveIcon"},null,8,["class"]))]),default:r(()=>[k(" "+b(n.$t("settings.customization.save")),1)]),_:1},8,["loading","disabled"])],40,ue)}}},_e={class:"text-gray-900 text-lg font-medium"},pe={class:"mt-1 text-sm text-gray-500"},ge={setup(v){const{t:o,tm:i}=j(),p=N(),g=Z(),u=M("utils"),a=T({estimate_convert_action:null});u.mergeSettings(a,x({},p.selectedCompanySettings)),F(()=>g.config.estimate_convert_action.map(s=>(s.title=o(s.key),s)));async function m(){let s={settings:x({},a)};return await p.updateCompanySettings({data:s,message:"settings.customization.estimates.estimate_settings_updated"}),!0}return(s,_)=>{const n=d("BaseRadio"),l=d("BaseInputGroup");return $(),D(L,null,[c("h6",_e,b(s.$tc("settings.customization.estimates.convert_estimate_options")),1),c("p",pe,b(s.$t("settings.customization.estimates.convert_estimate_description")),1),t(l,{required:""},{default:r(()=>[t(n,{id:"no_action",modelValue:e(a).estimate_convert_action,"onUpdate:modelValue":[_[0]||(_[0]=y=>e(a).estimate_convert_action=y),m],label:s.$t("settings.customization.estimates.no_action"),size:"sm",name:"filter",value:"no_action",class:"mt-2"},null,8,["modelValue","label"]),t(n,{id:"delete_estimate",modelValue:e(a).estimate_convert_action,"onUpdate:modelValue":[_[1]||(_[1]=y=>e(a).estimate_convert_action=y),m],label:s.$t("settings.customization.estimates.delete_estimate"),size:"sm",name:"filter",value:"delete_estimate",class:"my-2"},null,8,["modelValue","label"]),t(n,{id:"mark_estimate_as_accepted",modelValue:e(a).estimate_convert_action,"onUpdate:modelValue":[_[2]||(_[2]=y=>e(a).estimate_convert_action=y),m],label:s.$t("settings.customization.estimates.mark_estimate_as_accepted"),size:"sm",name:"filter",value:"mark_estimate_as_accepted"},null,8,["modelValue","label"])]),_:1})],64)}}},ye={class:"divide-y divide-gray-200"},fe={setup(v){const o=M("utils"),i=N(),p=T({estimate_email_attachment:null});o.mergeSettings(p,x({},i.selectedCompanySettings));const g=F({get:()=>p.estimate_email_attachment==="YES",set:async u=>{const a=u?"YES":"NO";let m={settings:{estimate_email_attachment:a}};p.estimate_email_attachment=a,await i.updateCompanySettings({data:m,message:"general.setting_updated"})}});return(u,a)=>{const m=d("BaseDivider"),s=d("BaseSwitchSection");return $(),D(L,null,[t(ae),t(m,{class:"my-8"}),t(me),t(m,{class:"my-8"}),t(ge),t(m,{class:"my-8"}),t(ce),t(m,{class:"mt-6 mb-2"}),c("ul",ye,[t(s,{modelValue:e(g),"onUpdate:modelValue":a[0]||(a[0]=_=>H(g)?g.value=_:null),title:u.$t("settings.customization.estimates.estimate_email_attachment"),description:u.$t("settings.customization.estimates.estimate_email_attachment_setting_description")},null,8,["modelValue","title","description"])])],64)}}},ve={setup(v){const o=zt();return(i,p)=>($(),E(tt,{type:"payment","type-store":e(o),"default-series":"PAY"},null,8,["type-store"]))}},be=["onSubmit"],Se={class:"text-gray-900 text-lg font-medium"},$e={class:"mt-1 text-sm text-gray-500 mb-2"},Be={setup(v){const o=N(),i=M("utils"),p=z(["customer","customerCustom","company","payment","paymentCustom"]),g=z(["billing","customer","customerCustom","paymentCustom"]),u=z(["company","paymentCustom"]);let a=z(!1);const m=T({payment_mail_body:null,payment_company_address_format:null,payment_from_customer_address_format:null});i.mergeSettings(m,x({},o.selectedCompanySettings));async function s(){a.value=!0;let _={settings:x({},m)};return await o.updateCompanySettings({data:_,message:"settings.customization.payments.payment_settings_updated"}),a.value=!1,!0}return(_,n)=>{const l=d("BaseCustomInput"),y=d("BaseInputGroup"),B=d("BaseIcon"),C=d("BaseButton");return $(),D("form",{onSubmit:Y(s,["prevent"])},[c("h6",Se,b(_.$t("settings.customization.payments.default_formats")),1),c("p",$e,b(_.$t("settings.customization.payments.default_formats_description")),1),t(y,{label:_.$t("settings.customization.payments.default_payment_email_body"),class:"mt-6 mb-4"},{default:r(()=>[t(l,{modelValue:e(m).payment_mail_body,"onUpdate:modelValue":n[0]||(n[0]=h=>e(m).payment_mail_body=h),fields:p.value},null,8,["modelValue","fields"])]),_:1},8,["label"]),t(y,{label:_.$t("settings.customization.payments.company_address_format"),class:"mt-6 mb-4"},{default:r(()=>[t(l,{modelValue:e(m).payment_company_address_format,"onUpdate:modelValue":n[1]||(n[1]=h=>e(m).payment_company_address_format=h),fields:u.value},null,8,["modelValue","fields"])]),_:1},8,["label"]),t(y,{label:_.$t("settings.customization.payments.from_customer_address_format"),class:"mt-6 mb-4"},{default:r(()=>[t(l,{modelValue:e(m).payment_from_customer_address_format,"onUpdate:modelValue":n[2]||(n[2]=h=>e(m).payment_from_customer_address_format=h),fields:g.value},null,8,["modelValue","fields"])]),_:1},8,["label"]),t(C,{loading:e(a),disabled:e(a),variant:"primary",type:"submit",class:"mt-4"},{left:r(h=>[e(a)?R("",!0):($(),E(B,{key:0,class:G(h.class),name:"SaveIcon"},null,8,["class"]))]),default:r(()=>[k(" "+b(_.$t("settings.customization.save")),1)]),_:1},8,["loading","disabled"])],40,be)}}},he={class:"divide-y divide-gray-200"},ze={setup(v){const o=M("utils"),i=N(),p=T({payment_email_attachment:null});o.mergeSettings(p,x({},i.selectedCompanySettings));const g=F({get:()=>p.payment_email_attachment==="YES",set:async u=>{const a=u?"YES":"NO";let m={settings:{payment_email_attachment:a}};p.payment_email_attachment=a,await i.updateCompanySettings({data:m,message:"general.setting_updated"})}});return(u,a)=>{const m=d("BaseDivider"),s=d("BaseSwitchSection");return $(),D(L,null,[t(ve),t(m,{class:"my-8"}),t(Be),t(m,{class:"mt-6 mb-2"}),c("ul",he,[t(s,{modelValue:e(g),"onUpdate:modelValue":a[0]||(a[0]=_=>H(g)?g.value=_:null),title:u.$t("settings.customization.payments.payment_email_attachment"),description:u.$t("settings.customization.payments.payment_email_attachment_setting_description")},null,8,["modelValue","title","description"])])],64)}}},Ve={class:"flex flex-wrap justify-end mt-2 lg:flex-nowrap"},Ie={class:"inline-block"},xe={setup(v){const{t:o}=j(),i=z(null),p=yt(),g=ft(),u=vt(),a=F(()=>[{key:"name",label:o("settings.customization.items.unit_name"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"actions",label:"",tdClass:"text-right text-sm font-medium",sortable:!1}]);async function m({page:l,filter:y,sort:B}){let C={orderByField:B.fieldName||"created_at",orderBy:B.order||"desc",page:l},h=await p.fetchItemUnits(C);return{data:h.data.data,pagination:{totalPages:h.data.meta.last_page,currentPage:l,totalCount:h.data.meta.total,limit:5}}}async function s(){g.openModal({title:o("settings.customization.items.add_item_unit"),componentName:"ItemUnitModal",refreshData:i.value.refresh,size:"sm"})}async function _(l){p.fetchItemUnit(l.data.id),g.openModal({title:o("settings.customization.items.edit_item_unit"),componentName:"ItemUnitModal",id:l.data.id,data:l.data,refreshData:i.value&&i.value.refresh})}function n(l){u.openDialog({title:o("general.are_you_sure"),message:o("settings.customization.items.item_unit_confirm_delete"),yesLabel:o("general.yes"),noLabel:o("general.no"),variant:"danger",hideNoButton:!1,size:"lg"}).then(async y=>{y&&(await p.deleteItemUnit(l.data.id),i.value&&i.value.refresh())})}return(l,y)=>{const B=d("BaseIcon"),C=d("BaseButton"),h=d("BaseDropdownItem"),S=d("BaseDropdown"),w=d("BaseTable");return $(),D(L,null,[t(Vt),c("div",Ve,[t(C,{variant:"primary-outline",onClick:s},{left:r(U=>[t(B,{class:G(U.class),name:"PlusIcon"},null,8,["class"])]),default:r(()=>[k(" "+b(l.$t("settings.customization.items.add_item_unit")),1)]),_:1})]),t(w,{ref:(U,P)=>{P.table=U,i.value=U},class:"mt-10",data:m,columns:e(a)},{"cell-actions":r(({row:U})=>[t(S,null,{activator:r(()=>[c("div",Ie,[t(B,{name:"DotsHorizontalIcon",class:"text-gray-500"})])]),default:r(()=>[t(h,{onClick:P=>_(U)},{default:r(()=>[t(B,{name:"PencilIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),k(" "+b(l.$t("general.edit")),1)]),_:2},1032,["onClick"]),t(h,{onClick:P=>n(U)},{default:r(()=>[t(B,{name:"TrashIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),k(" "+b(l.$t("general.delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:1},8,["columns"])],64)}}},we={class:"relative"},Ne={setup(v){return(o,i)=>{const p=d("BaseTab"),g=d("BaseTabGroup"),u=d("BaseCard");return $(),D("div",we,[t(u,{"container-class":"px-4 py-5 sm:px-8 sm:py-2"},{default:r(()=>[t(g,null,{default:r(()=>[t(p,{"tab-panel-container":"py-4 mt-px",title:o.$t("settings.customization.invoices.title")},{default:r(()=>[t(se)]),_:1},8,["title"]),t(p,{"tab-panel-container":"py-4 mt-px",title:o.$t("settings.customization.estimates.title")},{default:r(()=>[t(fe)]),_:1},8,["title"]),t(p,{"tab-panel-container":"py-4 mt-px",title:o.$t("settings.customization.payments.title")},{default:r(()=>[t(ze)]),_:1},8,["title"]),t(p,{"tab-panel-container":"py-4 mt-px",title:o.$t("settings.customization.items.title")},{default:r(()=>[t(xe)]),_:1},8,["title"])]),_:1})]),_:1})])}}};export{Ne as default};

--- public/build/assets/Dashboard.4e48457e.js ---
@@ -1 +1 @@
-import{D as I,_ as L,a as M}from"./EstimateIcon.4571f94d.js";import{o as m,e as v,m as $,h as r,a as V,r as i,l as h,w as s,f as t,g as F,t as u,aj as T,ah as w,u as n,i as _,J as z,G as A,k as D}from"./vendor.01d0adc5.js";import{u as C}from"./global.8697213a.js";import{h as Z}from"./auth.77d12976.js";import{_ as k}from"./main.832b14c7.js";import S from"./BaseTable.440de545.js";const q=r("circle",{cx:"25",cy:"25",r:"25",fill:"#EAF1FB"},null,-1),N=r("path",{d:"M17.8 17.8C17.1635 17.8 16.5531 18.0529 16.103 18.503C15.6529 18.9531 15.4 19.5635 15.4 20.2V21.4H34.6V20.2C34.6 19.5635 34.3472 18.9531 33.8971 18.503C33.447 18.0529 32.8365 17.8 32.2 17.8H17.8Z",fill:"currentColor"},null,-1),G=r("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M34.6 23.8H15.4V29.8C15.4 30.4366 15.6529 31.047 16.103 31.4971C16.5531 31.9472 17.1635 32.2 17.8 32.2H32.2C32.8365 32.2 33.447 31.9472 33.8971 31.4971C34.3472 31.047 34.6 30.4366 34.6 29.8V23.8ZM17.8 28.6C17.8 28.2818 17.9265 27.9766 18.1515 27.7515C18.3765 27.5265 18.6818 27.4 19 27.4H20.2C20.5183 27.4 20.8235 27.5265 21.0486 27.7515C21.2736 27.9766 21.4 28.2818 21.4 28.6C21.4 28.9183 21.2736 29.2235 21.0486 29.4486C20.8235 29.6736 20.5183 29.8 20.2 29.8H19C18.6818 29.8 18.3765 29.6736 18.1515 29.4486C17.9265 29.2235 17.8 28.9183 17.8 28.6ZM23.8 27.4C23.4818 27.4 23.1765 27.5265 22.9515 27.7515C22.7265 27.9766 22.6 28.2818 22.6 28.6C22.6 28.9183 22.7265 29.2235 22.9515 29.4486C23.1765 29.6736 23.4818 29.8 23.8 29.8H25C25.3183 29.8 25.6235 29.6736 25.8486 29.4486C26.0736 29.2235 26.2 28.9183 26.2 28.6C26.2 28.2818 26.0736 27.9766 25.8486 27.7515C25.6235 27.5265 25.3183 27.4 25 27.4H23.8Z",fill:"currentColor"},null,-1),O=[q,N,G],J={props:{colorClass:{type:String,default:"text-primary-500"}},setup(c){return(a,o)=>(m(),v("svg",{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:$(c.colorClass)},O,2))}},{defineStore:R}=window.pinia,P=R({id:"dashboard",state:()=>({recentInvoices:[],recentEstimates:[],invoiceCount:0,estimateCount:0,paymentCount:0,totalDueAmount:[],isDashboardDataLoaded:!1}),actions:{loadData(c){const a=C();return new Promise((o,d)=>{V.get(`/api/v1/${a.companySlug}/customer/dashboard`,{data:c}).then(e=>{this.totalDueAmount=e.data.due_amount,this.estimateCount=e.data.estimate_count,this.invoiceCount=e.data.invoice_count,this.paymentCount=e.data.payment_count,this.recentInvoices=e.data.recentInvoices,this.recentEstimates=e.data.recentEstimates,a.getDashboardDataLoaded=!0,o(e)}).catch(e=>{Z(e),d(e)})})}}}),K={},Q={class:"flex items-center"};function U(c,a){const o=i("BaseContentPlaceholdersText"),d=i("BaseContentPlaceholdersBox"),e=i("BaseContentPlaceholders");return m(),h(e,{rounded:!0,class:"relative flex justify-between w-full p-3 bg-white rounded shadow lg:col-span-3 xl:p-4"},{default:s(()=>[r("div",null,[t(o,{class:"h-5 -mb-1 w-14 xl:mb-6 xl:h-7",lines:1}),t(o,{class:"h-3 w-28 xl:h-4",lines:1})]),r("div",Q,[t(d,{circle:!0,class:"w-10 h-10 xl:w-12 xl:h-12"})])]),_:1})}var W=k(K,[["render",U]]);const X={},Y={class:"flex items-center"};function ee(c,a){const o=i("BaseContentPlaceholdersText"),d=i("BaseContentPlaceholdersBox"),e=i("BaseContentPlaceholders");return m(),h(e,{rounded:!0,class:"relative flex justify-between w-full p-3 bg-white rounded shadow lg:col-span-2 xl:p-4"},{default:s(()=>[r("div",null,[t(o,{class:"w-12 h-5 -mb-1 xl:mb-6 xl:h-7",lines:1}),t(o,{class:"w-20 h-3 xl:h-4",lines:1})]),r("div",Y,[t(d,{circle:!0,class:"w-10 h-10 xl:w-12 xl:h-12"})])]),_:1})}var te=k(X,[["render",ee]]);const ae={class:"text-xl font-semibold leading-tight text-black xl:text-3xl"},se={class:"block mt-1 text-sm leading-tight text-gray-500 xl:text-lg"},oe={class:"flex items-center"},f={props:{iconComponent:{type:Object,required:!0},loading:{type:Boolean,default:!1},route:{type:Object,required:!0},label:{type:String,required:!0},large:{type:Boolean,default:!1}},setup(c){return(a,o)=>{const d=i("router-link");return c.loading?c.large?(m(),h(W,{key:1})):(m(),h(te,{key:2})):(m(),h(d,{key:0,class:$(["relative flex justify-between p-3 bg-white rounded shadow hover:bg-gray-50 xl:p-4 lg:col-span-2",{"lg:!col-span-3":c.large}]),to:c.route},{default:s(()=>[r("div",null,[r("span",ae,[F(a.$slots,"default")]),r("span",se,u(c.label),1)]),r("div",oe,[(m(),h(T(c.iconComponent),{class:"w-10 h-10 xl:w-12 xl:h-12"}))])]),_:3},8,["class","to"]))}}},ne={class:"grid gap-6 sm:grid-cols-2 lg:grid-cols-9 xl:gap-8"},le={setup(c){w("utils");const a=C(),o=P();return o.loadData(),(d,e)=>{const g=i("BaseFormatMoney");return m(),v("div",ne,[t(f,{"icon-component":I,loading:!n(a).getDashboardDataLoaded,route:{name:"invoices.dashboard"},large:!0,label:d.$t("dashboard.cards.due_amount")},{default:s(()=>[t(g,{amount:n(o).totalDueAmount,currency:n(a).currency},null,8,["amount","currency"])]),_:1},8,["loading","route","label"]),t(f,{"icon-component":L,loading:!n(a).getDashboardDataLoaded,route:{name:"invoices.dashboard"},label:d.$t("dashboard.cards.invoices")},{default:s(()=>[_(u(n(o).invoiceCount),1)]),_:1},8,["loading","route","label"]),t(f,{"icon-component":M,loading:!n(a).getDashboardDataLoaded,route:{name:"estimates.dashboard"},label:d.$t("dashboard.cards.estimates")},{default:s(()=>[_(u(n(o).estimateCount),1)]),_:1},8,["loading","route","label"]),t(f,{"icon-component":J,loading:!n(a).getDashboardDataLoaded,route:{name:"payments.dashboard"},label:d.$t("dashboard.cards.payments")},{default:s(()=>[_(u(n(o).paymentCount),1)]),_:1},8,["loading","route","label"])])}}},re={class:"grid grid-cols-1 gap-6 mt-10 xl:grid-cols-2"},ce={class:"due-invoices"},de={class:"relative z-10 flex items-center justify-between mb-3"},ie={class:"mb-0 text-xl font-semibold leading-normal"},ue={class:"recent-estimates"},me={class:"relative z-10 flex items-center justify-between mb-3"},_e={class:"mb-0 text-xl font-semibold leading-normal"},he={setup(c){const a=C(),o=P(),{tm:d,t:e}=z();w("utils"),A();const g=D(()=>[{key:"formattedDueDate",label:e("dashboard.recent_invoices_card.due_on")},{key:"invoice_number",label:e("invoices.number")},{key:"paid_status",label:e("invoices.status")},{key:"due_amount",label:e("dashboard.recent_invoices_card.amount_due")}]),j=D(()=>[{key:"formattedEstimateDate",label:e("dashboard.recent_estimate_card.date")},{key:"estimate_number",label:e("estimates.number")},{key:"status",label:e("estimates.status")},{key:"total",label:e("dashboard.recent_estimate_card.amount_due")}]);return(b,p)=>{const x=i("BaseButton"),y=i("router-link"),E=i("BasePaidStatusBadge"),B=i("BaseFormatMoney"),H=i("BaseEstimateStatusBadge");return m(),v("div",re,[r("div",ce,[r("div",de,[r("h6",ie,u(b.$t("dashboard.recent_invoices_card.title")),1),t(x,{size:"sm",variant:"primary-outline",onClick:p[0]||(p[0]=l=>b.$router.push({name:"invoices.dashboard"}))},{default:s(()=>[_(u(b.$t("dashboard.recent_invoices_card.view_all")),1)]),_:1})]),t(S,{data:n(o).recentInvoices,columns:n(g),loading:!n(a).getDashboardDataLoaded},{"cell-invoice_number":s(({row:l})=>[t(y,{to:{path:`/${n(a).companySlug}/customer/invoices/${l.data.id}/view`},class:"font-medium text-primary-500"},{default:s(()=>[_(u(l.data.invoice_number),1)]),_:2},1032,["to"])]),"cell-paid_status":s(({row:l})=>[t(E,{status:l.data.paid_status},{default:s(()=>[_(u(l.data.paid_status),1)]),_:2},1032,["status"])]),"cell-due_amount":s(({row:l})=>[t(B,{amount:l.data.due_amount,currency:n(a).currency},null,8,["amount","currency"])]),_:1},8,["data","columns","loading"])]),r("div",ue,[r("div",me,[r("h6",_e,u(b.$t("dashboard.recent_estimate_card.title")),1),t(x,{variant:"primary-outline",size:"sm",onClick:p[1]||(p[1]=l=>b.$router.push({name:"estimates.dashboard"}))},{default:s(()=>[_(u(b.$t("dashboard.recent_estimate_card.view_all")),1)]),_:1})]),t(S,{data:n(o).recentEstimates,columns:n(j),loading:!n(a).getDashboardDataLoaded},{"cell-estimate_number":s(({row:l})=>[t(y,{to:{path:`/${n(a).companySlug}/customer/estimates/${l.data.id}/view`},class:"font-medium text-primary-500"},{default:s(()=>[_(u(l.data.estimate_number),1)]),_:2},1032,["to"])]),"cell-status":s(({row:l})=>[t(H,{status:l.data.status,class:"px-3 py-1"},{default:s(()=>[_(u(l.data.status),1)]),_:2},1032,["status"])]),"cell-total":s(({row:l})=>[t(B,{amount:l.data.total,currency:n(a).currency},null,8,["amount","currency"])]),_:1},8,["data","columns","loading"])])])}}},xe={setup(c){return(a,o)=>{const d=i("BasePage");return m(),h(d,null,{default:s(()=>[t(le),t(he)]),_:1})}}};export{xe as default};
+import{D as I,_ as L,a as M}from"./EstimateIcon.1f3b368d.js";import{o as m,e as v,m as $,h as r,a as V,r as i,l as h,w as s,f as t,g as F,t as u,aj as T,ah as w,u as n,i as _,J as z,G as A,k as D}from"./vendor.01d0adc5.js";import{u as C}from"./global.08b6a984.js";import{h as Z}from"./auth.4644c288.js";import{_ as k}from"./main.75722495.js";import S from"./BaseTable.6e206ca7.js";const q=r("circle",{cx:"25",cy:"25",r:"25",fill:"#EAF1FB"},null,-1),N=r("path",{d:"M17.8 17.8C17.1635 17.8 16.5531 18.0529 16.103 18.503C15.6529 18.9531 15.4 19.5635 15.4 20.2V21.4H34.6V20.2C34.6 19.5635 34.3472 18.9531 33.8971 18.503C33.447 18.0529 32.8365 17.8 32.2 17.8H17.8Z",fill:"currentColor"},null,-1),G=r("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M34.6 23.8H15.4V29.8C15.4 30.4366 15.6529 31.047 16.103 31.4971C16.5531 31.9472 17.1635 32.2 17.8 32.2H32.2C32.8365 32.2 33.447 31.9472 33.8971 31.4971C34.3472 31.047 34.6 30.4366 34.6 29.8V23.8ZM17.8 28.6C17.8 28.2818 17.9265 27.9766 18.1515 27.7515C18.3765 27.5265 18.6818 27.4 19 27.4H20.2C20.5183 27.4 20.8235 27.5265 21.0486 27.7515C21.2736 27.9766 21.4 28.2818 21.4 28.6C21.4 28.9183 21.2736 29.2235 21.0486 29.4486C20.8235 29.6736 20.5183 29.8 20.2 29.8H19C18.6818 29.8 18.3765 29.6736 18.1515 29.4486C17.9265 29.2235 17.8 28.9183 17.8 28.6ZM23.8 27.4C23.4818 27.4 23.1765 27.5265 22.9515 27.7515C22.7265 27.9766 22.6 28.2818 22.6 28.6C22.6 28.9183 22.7265 29.2235 22.9515 29.4486C23.1765 29.6736 23.4818 29.8 23.8 29.8H25C25.3183 29.8 25.6235 29.6736 25.8486 29.4486C26.0736 29.2235 26.2 28.9183 26.2 28.6C26.2 28.2818 26.0736 27.9766 25.8486 27.7515C25.6235 27.5265 25.3183 27.4 25 27.4H23.8Z",fill:"currentColor"},null,-1),O=[q,N,G],J={props:{colorClass:{type:String,default:"text-primary-500"}},setup(c){return(a,o)=>(m(),v("svg",{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:$(c.colorClass)},O,2))}},{defineStore:R}=window.pinia,P=R({id:"dashboard",state:()=>({recentInvoices:[],recentEstimates:[],invoiceCount:0,estimateCount:0,paymentCount:0,totalDueAmount:[],isDashboardDataLoaded:!1}),actions:{loadData(c){const a=C();return new Promise((o,d)=>{V.get(`/api/v1/${a.companySlug}/customer/dashboard`,{data:c}).then(e=>{this.totalDueAmount=e.data.due_amount,this.estimateCount=e.data.estimate_count,this.invoiceCount=e.data.invoice_count,this.paymentCount=e.data.payment_count,this.recentInvoices=e.data.recentInvoices,this.recentEstimates=e.data.recentEstimates,a.getDashboardDataLoaded=!0,o(e)}).catch(e=>{Z(e),d(e)})})}}}),K={},Q={class:"flex items-center"};function U(c,a){const o=i("BaseContentPlaceholdersText"),d=i("BaseContentPlaceholdersBox"),e=i("BaseContentPlaceholders");return m(),h(e,{rounded:!0,class:"relative flex justify-between w-full p-3 bg-white rounded shadow lg:col-span-3 xl:p-4"},{default:s(()=>[r("div",null,[t(o,{class:"h-5 -mb-1 w-14 xl:mb-6 xl:h-7",lines:1}),t(o,{class:"h-3 w-28 xl:h-4",lines:1})]),r("div",Q,[t(d,{circle:!0,class:"w-10 h-10 xl:w-12 xl:h-12"})])]),_:1})}var W=k(K,[["render",U]]);const X={},Y={class:"flex items-center"};function ee(c,a){const o=i("BaseContentPlaceholdersText"),d=i("BaseContentPlaceholdersBox"),e=i("BaseContentPlaceholders");return m(),h(e,{rounded:!0,class:"relative flex justify-between w-full p-3 bg-white rounded shadow lg:col-span-2 xl:p-4"},{default:s(()=>[r("div",null,[t(o,{class:"w-12 h-5 -mb-1 xl:mb-6 xl:h-7",lines:1}),t(o,{class:"w-20 h-3 xl:h-4",lines:1})]),r("div",Y,[t(d,{circle:!0,class:"w-10 h-10 xl:w-12 xl:h-12"})])]),_:1})}var te=k(X,[["render",ee]]);const ae={class:"text-xl font-semibold leading-tight text-black xl:text-3xl"},se={class:"block mt-1 text-sm leading-tight text-gray-500 xl:text-lg"},oe={class:"flex items-center"},f={props:{iconComponent:{type:Object,required:!0},loading:{type:Boolean,default:!1},route:{type:Object,required:!0},label:{type:String,required:!0},large:{type:Boolean,default:!1}},setup(c){return(a,o)=>{const d=i("router-link");return c.loading?c.large?(m(),h(W,{key:1})):(m(),h(te,{key:2})):(m(),h(d,{key:0,class:$(["relative flex justify-between p-3 bg-white rounded shadow hover:bg-gray-50 xl:p-4 lg:col-span-2",{"lg:!col-span-3":c.large}]),to:c.route},{default:s(()=>[r("div",null,[r("span",ae,[F(a.$slots,"default")]),r("span",se,u(c.label),1)]),r("div",oe,[(m(),h(T(c.iconComponent),{class:"w-10 h-10 xl:w-12 xl:h-12"}))])]),_:3},8,["class","to"]))}}},ne={class:"grid gap-6 sm:grid-cols-2 lg:grid-cols-9 xl:gap-8"},le={setup(c){w("utils");const a=C(),o=P();return o.loadData(),(d,e)=>{const g=i("BaseFormatMoney");return m(),v("div",ne,[t(f,{"icon-component":I,loading:!n(a).getDashboardDataLoaded,route:{name:"invoices.dashboard"},large:!0,label:d.$t("dashboard.cards.due_amount")},{default:s(()=>[t(g,{amount:n(o).totalDueAmount,currency:n(a).currency},null,8,["amount","currency"])]),_:1},8,["loading","route","label"]),t(f,{"icon-component":L,loading:!n(a).getDashboardDataLoaded,route:{name:"invoices.dashboard"},label:d.$t("dashboard.cards.invoices")},{default:s(()=>[_(u(n(o).invoiceCount),1)]),_:1},8,["loading","route","label"]),t(f,{"icon-component":M,loading:!n(a).getDashboardDataLoaded,route:{name:"estimates.dashboard"},label:d.$t("dashboard.cards.estimates")},{default:s(()=>[_(u(n(o).estimateCount),1)]),_:1},8,["loading","route","label"]),t(f,{"icon-component":J,loading:!n(a).getDashboardDataLoaded,route:{name:"payments.dashboard"},label:d.$t("dashboard.cards.payments")},{default:s(()=>[_(u(n(o).paymentCount),1)]),_:1},8,["loading","route","label"])])}}},re={class:"grid grid-cols-1 gap-6 mt-10 xl:grid-cols-2"},ce={class:"due-invoices"},de={class:"relative z-10 flex items-center justify-between mb-3"},ie={class:"mb-0 text-xl font-semibold leading-normal"},ue={class:"recent-estimates"},me={class:"relative z-10 flex items-center justify-between mb-3"},_e={class:"mb-0 text-xl font-semibold leading-normal"},he={setup(c){const a=C(),o=P(),{tm:d,t:e}=z();w("utils"),A();const g=D(()=>[{key:"formattedDueDate",label:e("dashboard.recent_invoices_card.due_on")},{key:"invoice_number",label:e("invoices.number")},{key:"paid_status",label:e("invoices.status")},{key:"due_amount",label:e("dashboard.recent_invoices_card.amount_due")}]),j=D(()=>[{key:"formattedEstimateDate",label:e("dashboard.recent_estimate_card.date")},{key:"estimate_number",label:e("estimates.number")},{key:"status",label:e("estimates.status")},{key:"total",label:e("dashboard.recent_estimate_card.amount_due")}]);return(b,p)=>{const x=i("BaseButton"),y=i("router-link"),E=i("BasePaidStatusBadge"),B=i("BaseFormatMoney"),H=i("BaseEstimateStatusBadge");return m(),v("div",re,[r("div",ce,[r("div",de,[r("h6",ie,u(b.$t("dashboard.recent_invoices_card.title")),1),t(x,{size:"sm",variant:"primary-outline",onClick:p[0]||(p[0]=l=>b.$router.push({name:"invoices.dashboard"}))},{default:s(()=>[_(u(b.$t("dashboard.recent_invoices_card.view_all")),1)]),_:1})]),t(S,{data:n(o).recentInvoices,columns:n(g),loading:!n(a).getDashboardDataLoaded},{"cell-invoice_number":s(({row:l})=>[t(y,{to:{path:`/${n(a).companySlug}/customer/invoices/${l.data.id}/view`},class:"font-medium text-primary-500"},{default:s(()=>[_(u(l.data.invoice_number),1)]),_:2},1032,["to"])]),"cell-paid_status":s(({row:l})=>[t(E,{status:l.data.paid_status},{default:s(()=>[_(u(l.data.paid_status),1)]),_:2},1032,["status"])]),"cell-due_amount":s(({row:l})=>[t(B,{amount:l.data.due_amount,currency:n(a).currency},null,8,["amount","currency"])]),_:1},8,["data","columns","loading"])]),r("div",ue,[r("div",me,[r("h6",_e,u(b.$t("dashboard.recent_estimate_card.title")),1),t(x,{variant:"primary-outline",size:"sm",onClick:p[1]||(p[1]=l=>b.$router.push({name:"estimates.dashboard"}))},{default:s(()=>[_(u(b.$t("dashboard.recent_estimate_card.view_all")),1)]),_:1})]),t(S,{data:n(o).recentEstimates,columns:n(j),loading:!n(a).getDashboardDataLoaded},{"cell-estimate_number":s(({row:l})=>[t(y,{to:{path:`/${n(a).companySlug}/customer/estimates/${l.data.id}/view`},class:"font-medium text-primary-500"},{default:s(()=>[_(u(l.data.estimate_number),1)]),_:2},1032,["to"])]),"cell-status":s(({row:l})=>[t(H,{status:l.data.status,class:"px-3 py-1"},{default:s(()=>[_(u(l.data.status),1)]),_:2},1032,["status"])]),"cell-total":s(({row:l})=>[t(B,{amount:l.data.total,currency:n(a).currency},null,8,["amount","currency"])]),_:1},8,["data","columns","loading"])])])}}},xe={setup(c){return(a,o)=>{const d=i("BasePage");return m(),h(d,null,{default:s(()=>[t(le),t(he)]),_:1})}}};export{xe as default};

--- public/build/assets/Dashboard.bdf9de48.js ---
@@ -1 +1 @@
-import{D as O,_ as L,a as F}from"./EstimateIcon.4571f94d.js";import{o as _,e as v,m as j,h as t,r as c,l as x,w as r,f as e,g as R,t as m,aj as W,a as z,d as q,ah as A,u as s,i as y,B as $,C as H,J as U,k as V,V as M,G as Z,aN as G,D as J}from"./vendor.01d0adc5.js";import{_ as I,h as Y,b as N,e as D,g as h}from"./main.832b14c7.js";import{_ as K}from"./LineChart.cef8475e.js";import{_ as Q}from"./InvoiceIndexDropdown.a0cb5742.js";import{_ as X}from"./EstimateIndexDropdown.5b4a2113.js";const tt=t("circle",{cx:"25",cy:"25",r:"25",fill:"#EAF1FB"},null,-1),et=t("path",{d:"M28.2656 23.0547C27.3021 24.0182 26.1302 24.5 24.75 24.5C23.3698 24.5 22.1849 24.0182 21.1953 23.0547C20.2318 22.0651 19.75 20.8802 19.75 19.5C19.75 18.1198 20.2318 16.9479 21.1953 15.9844C22.1849 14.9948 23.3698 14.5 24.75 14.5C26.1302 14.5 27.3021 14.9948 28.2656 15.9844C29.2552 16.9479 29.75 18.1198 29.75 19.5C29.75 20.8802 29.2552 22.0651 28.2656 23.0547ZM28.2656 25.75C29.6979 25.75 30.9219 26.2708 31.9375 27.3125C32.9792 28.3281 33.5 29.5521 33.5 30.9844V32.625C33.5 33.1458 33.3177 33.5885 32.9531 33.9531C32.5885 34.3177 32.1458 34.5 31.625 34.5H17.875C17.3542 34.5 16.9115 34.3177 16.5469 33.9531C16.1823 33.5885 16 33.1458 16 32.625V30.9844C16 29.5521 16.5078 28.3281 17.5234 27.3125C18.5651 26.2708 19.8021 25.75 21.2344 25.75H21.8984C22.8099 26.1667 23.7604 26.375 24.75 26.375C25.7396 26.375 26.6901 26.1667 27.6016 25.75H28.2656Z",fill:"currentColor"},null,-1),at=[tt,et],st={props:{colorClass:{type:String,default:"text-primary-500"}},setup(i){return(o,a)=>(_(),v("svg",{width:"50",height:"50",viewBox:"0 0 50 50",class:j(i.colorClass),fill:"none",xmlns:"http://www.w3.org/2000/svg"},at,2))}},ot={},lt={class:"flex items-center"};function nt(i,o){const a=c("BaseContentPlaceholdersText"),n=c("BaseContentPlaceholdersBox"),d=c("BaseContentPlaceholders");return _(),x(d,{rounded:!0,class:"relative flex justify-between w-full p-3 bg-white rounded shadow lg:col-span-3 xl:p-4"},{default:r(()=>[t("div",null,[e(a,{class:"h-5 -mb-1 w-14 xl:mb-6 xl:h-7",lines:1}),e(a,{class:"h-3 w-28 xl:h-4",lines:1})]),t("div",lt,[e(n,{circle:!0,class:"w-10 h-10 xl:w-12 xl:h-12"})])]),_:1})}var ct=I(ot,[["render",nt]]);const rt={},it={class:"flex items-center"};function dt(i,o){const a=c("BaseContentPlaceholdersText"),n=c("BaseContentPlaceholdersBox"),d=c("BaseContentPlaceholders");return _(),x(d,{rounded:!0,class:"relative flex justify-between w-full p-3 bg-white rounded shadow lg:col-span-2 xl:p-4"},{default:r(()=>[t("div",null,[e(a,{class:"w-12 h-5 -mb-1 xl:mb-6 xl:h-7",lines:1}),e(a,{class:"w-20 h-3 xl:h-4",lines:1})]),t("div",it,[e(n,{circle:!0,class:"w-10 h-10 xl:w-12 xl:h-12"})])]),_:1})}var ut=I(rt,[["render",dt]]);const mt={class:"text-xl font-semibold leading-tight text-black xl:text-3xl"},_t={class:"block mt-1 text-sm leading-tight text-gray-500 xl:text-lg"},ht={class:"flex items-center"},B={props:{iconComponent:{type:Object,required:!0},loading:{type:Boolean,default:!1},route:{type:String,required:!0},label:{type:String,required:!0},large:{type:Boolean,default:!1}},setup(i){return(o,a)=>{const n=c("router-link");return i.loading?i.large?(_(),x(ct,{key:1})):(_(),x(ut,{key:2})):(_(),x(n,{key:0,class:j(["relative flex justify-between p-3 bg-white rounded shadow hover:bg-gray-50 xl:p-4 lg:col-span-2",{"lg:!col-span-3":i.large}]),to:i.route},{default:r(()=>[t("div",null,[t("span",mt,[R(o.$slots,"default")]),t("span",_t,m(i.label),1)]),t("div",ht,[(_(),x(W(i.iconComponent),{class:"w-10 h-10 xl:w-12 xl:h-12"}))])]),_:3},8,["class","to"]))}}},T=(i=!1)=>(i?window.pinia.defineStore:q)({id:"dashboard",state:()=>({stats:{totalAmountDue:0,totalCustomerCount:0,totalInvoiceCount:0,totalEstimateCount:0},chartData:{months:[],invoiceTotals:[],expenseTotals:[],receiptTotals:[],netIncomeTotals:[]},totalSales:null,totalReceipts:null,totalExpenses:null,totalNetIncome:null,recentDueInvoices:[],recentEstimates:[],isDashboardDataLoaded:!1}),actions:{loadData(a){return new Promise((n,d)=>{z.get("/api/v1/dashboard",{params:a}).then(l=>{this.stats.totalAmountDue=l.data.total_amount_due,this.stats.totalCustomerCount=l.data.total_customer_count,this.stats.totalInvoiceCount=l.data.total_invoice_count,this.stats.totalEstimateCount=l.data.total_estimate_count,this.chartData&&l.data.chart_data&&(this.chartData.months=l.data.chart_data.months,this.chartData.invoiceTotals=l.data.chart_data.invoice_totals,this.chartData.expenseTotals=l.data.chart_data.expense_totals,this.chartData.receiptTotals=l.data.chart_data.receipt_totals,this.chartData.netIncomeTotals=l.data.chart_data.net_income_totals),this.totalSales=l.data.total_sales,this.totalReceipts=l.data.total_receipts,this.totalExpenses=l.data.total_expenses,this.totalNetIncome=l.data.total_net_income,this.recentDueInvoices=l.data.recent_due_invoices,this.recentEstimates=l.data.recent_estimates,this.isDashboardDataLoaded=!0,n(l)}).catch(l=>{Y(l),d(l)})})}}})(),pt={class:"grid gap-6 sm:grid-cols-2 lg:grid-cols-9 xl:gap-8"},bt={setup(i){A("utils");const o=T(),a=N(),n=D();return(d,l)=>{const f=c("BaseFormatMoney");return _(),v("div",pt,[e(B,{"icon-component":O,loading:!s(o).isDashboardDataLoaded,route:s(n).hasAbilities(s(h).VIEW_INVOICE)?"/admin/invoices":"",large:!0,label:d.$t("dashboard.cards.due_amount")},{default:r(()=>[e(f,{amount:s(o).stats.totalAmountDue,currency:s(a).selectedCompanyCurrency},null,8,["amount","currency"])]),_:1},8,["loading","route","label"]),e(B,{"icon-component":st,loading:!s(o).isDashboardDataLoaded,route:s(n).hasAbilities(s(h).VIEW_CUSTOMER)?"/admin/customers":"",label:d.$t("dashboard.cards.customers")},{default:r(()=>[y(m(s(o).stats.totalCustomerCount),1)]),_:1},8,["loading","route","label"]),e(B,{"icon-component":L,loading:!s(o).isDashboardDataLoaded,route:s(n).hasAbilities(s(h).VIEW_INVOICE)?"/admin/invoices":"",label:d.$t("dashboard.cards.invoices")},{default:r(()=>[y(m(s(o).stats.totalInvoiceCount),1)]),_:1},8,["loading","route","label"]),e(B,{"icon-component":F,loading:!s(o).isDashboardDataLoaded,route:s(n).hasAbilities(s(h).VIEW_ESTIMATE)?"/admin/estimates":"",label:d.$t("dashboard.cards.estimates")},{default:r(()=>[y(m(s(o).stats.totalEstimateCount),1)]),_:1},8,["loading","route","label"])])}}},xt={},ft={class:"grid grid-cols-1 col-span-10 px-4 py-5 lg:col-span-7 xl:col-span-8 sm:p-8"},gt={class:"flex items-center justify-between mb-2 xl:mb-4"},yt={class:"grid grid-cols-3 col-span-10 text-center border-t border-l border-gray-200 border-solid lg:border-t-0 lg:text-right lg:col-span-3 xl:col-span-2 lg:grid-cols-1"},Ct={class:"flex flex-col items-center justify-center p-6 lg:justify-end lg:items-end"},vt={class:"flex flex-col items-center justify-center p-6 lg:justify-end lg:items-end"},wt={class:"flex flex-col items-center justify-center p-6 lg:justify-end lg:items-end"},$t={class:"flex flex-col items-center justify-center col-span-3 p-6 border-t border-gray-200 border-solid lg:justify-end lg:items-end lg:col-span-1"};function Dt(i,o){const a=c("BaseContentPlaceholdersText"),n=c("BaseContentPlaceholdersBox"),d=c("BaseContentPlaceholders");return _(),x(d,{class:"grid grid-cols-10 mt-8 bg-white rounded shadow"},{default:r(()=>[t("div",ft,[t("div",gt,[e(a,{class:"h-10 w-36",lines:1}),e(a,{class:"h-10 w-36 !mt-0",lines:1})]),e(n,{class:"h-80 xl:h-72 sm:w-full"})]),t("div",yt,[t("div",Ct,[e(a,{class:"h-3 w-14 xl:h-4",lines:1}),e(a,{class:"w-20 h-5 xl:h-6",lines:1})]),t("div",vt,[e(a,{class:"h-3 w-14 xl:h-4",lines:1}),e(a,{class:"w-20 h-5 xl:h-6",lines:1})]),t("div",wt,[e(a,{class:"h-3 w-14 xl:h-4",lines:1}),e(a,{class:"w-20 h-5 xl:h-6",lines:1})]),t("div",$t,[e(a,{class:"h-3 w-14 xl:h-4",lines:1}),e(a,{class:"w-20 h-5 xl:h-6",lines:1})])])]),_:1})}var Bt=I(xt,[["render",Dt]]);const Et={key:0,class:"grid grid-cols-10 mt-8 bg-white rounded shadow"},It={class:"grid grid-cols-1 col-span-10 px-4 py-5 lg:col-span-7 xl:col-span-8 sm:p-6"},Tt={class:"flex justify-between mt-1 mb-4 flex-col md:flex-row"},St={class:"flex items-center sw-section-title h-10"},kt={class:"w-full my-2 md:m-0 md:w-40 h-10"},Pt={class:"grid grid-cols-3 col-span-10 text-center border-t border-l border-gray-200 border-solid lg:border-t-0 lg:text-right lg:col-span-3 xl:col-span-2 lg:grid-cols-1"},jt={class:"p-6"},At={class:"text-xs leading-5 lg:text-sm"},Vt=t("br",null,null,-1),Mt={class:"block mt-1 text-xl font-semibold leading-8 lg:text-2xl"},Nt={class:"p-6"},Ot={class:"text-xs leading-5 lg:text-sm"},Lt=t("br",null,null,-1),Ft={class:"block mt-1 text-xl font-semibold leading-8 lg:text-2xl text-green-400"},Rt={class:"p-6"},Wt={class:"text-xs leading-5 lg:text-sm"},zt=t("br",null,null,-1),qt={class:"block mt-1 text-xl font-semibold leading-8 lg:text-2xl text-red-400"},Ht={class:"col-span-3 p-6 border-t border-gray-200 border-solid lg:col-span-1"},Ut={class:"text-xs leading-5 lg:text-sm"},Zt=t("br",null,null,-1),Gt={class:"block mt-1 text-xl font-semibold leading-8 lg:text-2xl text-primary-500"},Jt={setup(i){const o=T(),a=N();A("utils");const n=D(),d=$(["This year","Previous year"]),l=$("This year");H(l,p=>{p==="Previous year"?f({previous_year:!0}):f()},{immediate:!0});async function f(p){n.hasAbilities(h.DASHBOARD)&&await o.loadData(p)}return(p,C)=>{const E=c("BaseIcon"),g=c("BaseMultiselect"),b=c("BaseFormatMoney");return _(),v("div",null,[s(o).isDashboardDataLoaded?(_(),v("div",Et,[t("div",It,[t("div",Tt,[t("h6",St,[e(E,{name:"ChartSquareBarIcon",class:"text-primary-400 mr-1"}),y(" "+m(p.$t("dashboard.monthly_chart.title")),1)]),t("div",kt,[e(g,{modelValue:l.value,"onUpdate:modelValue":C[0]||(C[0]=w=>l.value=w),options:d.value,"allow-empty":!1,"show-labels":!1,placeholder:p.$t("dashboard.select_year"),"can-deselect":!1},null,8,["modelValue","options","placeholder"])])]),e(K,{invoices:s(o).chartData.invoiceTotals,expenses:s(o).chartData.expenseTotals,receipts:s(o).chartData.receiptTotals,income:s(o).chartData.netIncomeTotals,labels:s(o).chartData.months,class:"sm:w-full"},null,8,["invoices","expenses","receipts","income","labels"])]),t("div",Pt,[t("div",jt,[t("span",At,m(p.$t("dashboard.chart_info.total_sales")),1),Vt,t("span",Mt,[e(b,{amount:s(o).totalSales,currency:s(a).selectedCompanyCurrency},null,8,["amount","currency"])])]),t("div",Nt,[t("span",Ot,m(p.$t("dashboard.chart_info.total_receipts")),1),Lt,t("span",Ft,[e(b,{amount:s(o).totalReceipts,currency:s(a).selectedCompanyCurrency},null,8,["amount","currency"])])]),t("div",Rt,[t("span",Wt,m(p.$t("dashboard.chart_info.total_expense")),1),zt,t("span",qt,[e(b,{amount:s(o).totalExpenses,currency:s(a).selectedCompanyCurrency},null,8,["amount","currency"])])]),t("div",Ht,[t("span",Ut,m(p.$t("dashboard.chart_info.net_income")),1),Zt,t("span",Gt,[e(b,{amount:s(o).totalNetIncome,currency:s(a).selectedCompanyCurrency},null,8,["amount","currency"])])])])])):(_(),x(Bt,{key:1}))])}}},Yt={class:"grid grid-cols-1 gap-6 mt-10 xl:grid-cols-2"},Kt={class:"due-invoices"},Qt={class:"relative z-10 flex items-center justify-between mb-3"},Xt={class:"mb-0 text-xl font-semibold leading-normal"},te={class:"recent-estimates"},ee={class:"relative z-10 flex items-center justify-between mb-3"},ae={class:"mb-0 text-xl font-semibold leading-normal"},se={setup(i){const o=T(),{t:a}=U(),n=D(),d=$(null),l=$(null),f=V(()=>[{key:"formattedDueDate",label:a("dashboard.recent_invoices_card.due_on")},{key:"user",label:a("dashboard.recent_invoices_card.customer")},{key:"due_amount",label:a("dashboard.recent_invoices_card.amount_due")},{key:"actions",tdClass:"text-right text-sm font-medium pl-0",thClass:"text-right pl-0",sortable:!1}]),p=V(()=>[{key:"formattedEstimateDate",label:a("dashboard.recent_estimate_card.date")},{key:"user",label:a("dashboard.recent_estimate_card.customer")},{key:"total",label:a("dashboard.recent_estimate_card.amount_due")},{key:"actions",tdClass:"text-right text-sm font-medium pl-0",thClass:"text-right pl-0",sortable:!1}]);function C(){return n.hasAbilities([h.DELETE_INVOICE,h.EDIT_INVOICE,h.VIEW_INVOICE,h.SEND_INVOICE])}function E(){return n.hasAbilities([h.CREATE_ESTIMATE,h.EDIT_ESTIMATE,h.VIEW_ESTIMATE,h.SEND_ESTIMATE])}return(g,b)=>{const w=c("BaseButton"),S=c("router-link"),k=c("BaseFormatMoney"),P=c("BaseTable");return _(),v("div",null,[t("div",Yt,[t("div",Kt,[t("div",Qt,[t("h6",Xt,m(g.$t("dashboard.recent_invoices_card.title")),1),e(w,{size:"sm",variant:"primary-outline",onClick:b[0]||(b[0]=u=>g.$router.push("/admin/invoices"))},{default:r(()=>[y(m(g.$t("dashboard.recent_invoices_card.view_all")),1)]),_:1})]),e(P,{data:s(o).recentDueInvoices,columns:s(f),loading:!s(o).isDashboardDataLoaded},M({"cell-user":r(({row:u})=>[e(S,{to:{path:`invoices/${u.data.id}/view`},class:"font-medium text-primary-500"},{default:r(()=>[y(m(u.data.customer.name),1)]),_:2},1032,["to"])]),"cell-due_amount":r(({row:u})=>[e(k,{amount:u.data.due_amount,currency:u.data.customer.currency},null,8,["amount","currency"])]),_:2},[C()?{name:"cell-actions",fn:r(({row:u})=>[e(Q,{row:u.data,table:d.value},null,8,["row","table"])])}:void 0]),1032,["data","columns","loading"])]),t("div",te,[t("div",ee,[t("h6",ae,m(g.$t("dashboard.recent_estimate_card.title")),1),e(w,{variant:"primary-outline",size:"sm",onClick:b[1]||(b[1]=u=>g.$router.push("/admin/estimates"))},{default:r(()=>[y(m(g.$t("dashboard.recent_estimate_card.view_all")),1)]),_:1})]),e(P,{data:s(o).recentEstimates,columns:s(p),loading:!s(o).isDashboardDataLoaded},M({"cell-user":r(({row:u})=>[e(S,{to:{path:`estimates/${u.data.id}/view`},class:"font-medium text-primary-500"},{default:r(()=>[y(m(u.data.customer.name),1)]),_:2},1032,["to"])]),"cell-total":r(({row:u})=>[e(k,{amount:u.data.total,currency:u.data.customer.currency},null,8,["amount","currency"])]),_:2},[E()?{name:"cell-actions",fn:r(({row:u})=>[e(X,{row:u,table:l.value},null,8,["row","table"])])}:void 0]),1032,["data","columns","loading"])])])])}}},de={setup(i){const o=Z(),a=D(),n=G();return J(()=>{o.meta.ability&&!a.hasAbilities(o.meta.ability)?n.push({name:"account.settings"}):o.meta.isOwner&&!a.currentUser.is_owner&&n.push({name:"account.settings"})}),(d,l)=>{const f=c("BasePage");return _(),x(f,null,{default:r(()=>[e(bt),e(Jt),e(se)]),_:1})}}};export{de as default};
+import{D as O,_ as L,a as F}from"./EstimateIcon.1f3b368d.js";import{o as _,e as v,m as j,h as t,r as c,l as x,w as r,f as e,g as R,t as m,aj as W,a as z,d as q,ah as A,u as s,i as y,B as $,C as H,J as U,k as V,V as M,G as Z,aN as G,D as J}from"./vendor.01d0adc5.js";import{_ as I,h as Y,b as N,e as D,g as h}from"./main.75722495.js";import{_ as K}from"./LineChart.a92f3bea.js";import{_ as Q}from"./InvoiceIndexDropdown.430bc329.js";import{_ as X}from"./EstimateIndexDropdown.4eab32d4.js";const tt=t("circle",{cx:"25",cy:"25",r:"25",fill:"#EAF1FB"},null,-1),et=t("path",{d:"M28.2656 23.0547C27.3021 24.0182 26.1302 24.5 24.75 24.5C23.3698 24.5 22.1849 24.0182 21.1953 23.0547C20.2318 22.0651 19.75 20.8802 19.75 19.5C19.75 18.1198 20.2318 16.9479 21.1953 15.9844C22.1849 14.9948 23.3698 14.5 24.75 14.5C26.1302 14.5 27.3021 14.9948 28.2656 15.9844C29.2552 16.9479 29.75 18.1198 29.75 19.5C29.75 20.8802 29.2552 22.0651 28.2656 23.0547ZM28.2656 25.75C29.6979 25.75 30.9219 26.2708 31.9375 27.3125C32.9792 28.3281 33.5 29.5521 33.5 30.9844V32.625C33.5 33.1458 33.3177 33.5885 32.9531 33.9531C32.5885 34.3177 32.1458 34.5 31.625 34.5H17.875C17.3542 34.5 16.9115 34.3177 16.5469 33.9531C16.1823 33.5885 16 33.1458 16 32.625V30.9844C16 29.5521 16.5078 28.3281 17.5234 27.3125C18.5651 26.2708 19.8021 25.75 21.2344 25.75H21.8984C22.8099 26.1667 23.7604 26.375 24.75 26.375C25.7396 26.375 26.6901 26.1667 27.6016 25.75H28.2656Z",fill:"currentColor"},null,-1),at=[tt,et],st={props:{colorClass:{type:String,default:"text-primary-500"}},setup(i){return(o,a)=>(_(),v("svg",{width:"50",height:"50",viewBox:"0 0 50 50",class:j(i.colorClass),fill:"none",xmlns:"http://www.w3.org/2000/svg"},at,2))}},ot={},lt={class:"flex items-center"};function nt(i,o){const a=c("BaseContentPlaceholdersText"),n=c("BaseContentPlaceholdersBox"),d=c("BaseContentPlaceholders");return _(),x(d,{rounded:!0,class:"relative flex justify-between w-full p-3 bg-white rounded shadow lg:col-span-3 xl:p-4"},{default:r(()=>[t("div",null,[e(a,{class:"h-5 -mb-1 w-14 xl:mb-6 xl:h-7",lines:1}),e(a,{class:"h-3 w-28 xl:h-4",lines:1})]),t("div",lt,[e(n,{circle:!0,class:"w-10 h-10 xl:w-12 xl:h-12"})])]),_:1})}var ct=I(ot,[["render",nt]]);const rt={},it={class:"flex items-center"};function dt(i,o){const a=c("BaseContentPlaceholdersText"),n=c("BaseContentPlaceholdersBox"),d=c("BaseContentPlaceholders");return _(),x(d,{rounded:!0,class:"relative flex justify-between w-full p-3 bg-white rounded shadow lg:col-span-2 xl:p-4"},{default:r(()=>[t("div",null,[e(a,{class:"w-12 h-5 -mb-1 xl:mb-6 xl:h-7",lines:1}),e(a,{class:"w-20 h-3 xl:h-4",lines:1})]),t("div",it,[e(n,{circle:!0,class:"w-10 h-10 xl:w-12 xl:h-12"})])]),_:1})}var ut=I(rt,[["render",dt]]);const mt={class:"text-xl font-semibold leading-tight text-black xl:text-3xl"},_t={class:"block mt-1 text-sm leading-tight text-gray-500 xl:text-lg"},ht={class:"flex items-center"},B={props:{iconComponent:{type:Object,required:!0},loading:{type:Boolean,default:!1},route:{type:String,required:!0},label:{type:String,required:!0},large:{type:Boolean,default:!1}},setup(i){return(o,a)=>{const n=c("router-link");return i.loading?i.large?(_(),x(ct,{key:1})):(_(),x(ut,{key:2})):(_(),x(n,{key:0,class:j(["relative flex justify-between p-3 bg-white rounded shadow hover:bg-gray-50 xl:p-4 lg:col-span-2",{"lg:!col-span-3":i.large}]),to:i.route},{default:r(()=>[t("div",null,[t("span",mt,[R(o.$slots,"default")]),t("span",_t,m(i.label),1)]),t("div",ht,[(_(),x(W(i.iconComponent),{class:"w-10 h-10 xl:w-12 xl:h-12"}))])]),_:3},8,["class","to"]))}}},T=(i=!1)=>(i?window.pinia.defineStore:q)({id:"dashboard",state:()=>({stats:{totalAmountDue:0,totalCustomerCount:0,totalInvoiceCount:0,totalEstimateCount:0},chartData:{months:[],invoiceTotals:[],expenseTotals:[],receiptTotals:[],netIncomeTotals:[]},totalSales:null,totalReceipts:null,totalExpenses:null,totalNetIncome:null,recentDueInvoices:[],recentEstimates:[],isDashboardDataLoaded:!1}),actions:{loadData(a){return new Promise((n,d)=>{z.get("/api/v1/dashboard",{params:a}).then(l=>{this.stats.totalAmountDue=l.data.total_amount_due,this.stats.totalCustomerCount=l.data.total_customer_count,this.stats.totalInvoiceCount=l.data.total_invoice_count,this.stats.totalEstimateCount=l.data.total_estimate_count,this.chartData&&l.data.chart_data&&(this.chartData.months=l.data.chart_data.months,this.chartData.invoiceTotals=l.data.chart_data.invoice_totals,this.chartData.expenseTotals=l.data.chart_data.expense_totals,this.chartData.receiptTotals=l.data.chart_data.receipt_totals,this.chartData.netIncomeTotals=l.data.chart_data.net_income_totals),this.totalSales=l.data.total_sales,this.totalReceipts=l.data.total_receipts,this.totalExpenses=l.data.total_expenses,this.totalNetIncome=l.data.total_net_income,this.recentDueInvoices=l.data.recent_due_invoices,this.recentEstimates=l.data.recent_estimates,this.isDashboardDataLoaded=!0,n(l)}).catch(l=>{Y(l),d(l)})})}}})(),pt={class:"grid gap-6 sm:grid-cols-2 lg:grid-cols-9 xl:gap-8"},bt={setup(i){A("utils");const o=T(),a=N(),n=D();return(d,l)=>{const f=c("BaseFormatMoney");return _(),v("div",pt,[e(B,{"icon-component":O,loading:!s(o).isDashboardDataLoaded,route:s(n).hasAbilities(s(h).VIEW_INVOICE)?"/admin/invoices":"",large:!0,label:d.$t("dashboard.cards.due_amount")},{default:r(()=>[e(f,{amount:s(o).stats.totalAmountDue,currency:s(a).selectedCompanyCurrency},null,8,["amount","currency"])]),_:1},8,["loading","route","label"]),e(B,{"icon-component":st,loading:!s(o).isDashboardDataLoaded,route:s(n).hasAbilities(s(h).VIEW_CUSTOMER)?"/admin/customers":"",label:d.$t("dashboard.cards.customers")},{default:r(()=>[y(m(s(o).stats.totalCustomerCount),1)]),_:1},8,["loading","route","label"]),e(B,{"icon-component":L,loading:!s(o).isDashboardDataLoaded,route:s(n).hasAbilities(s(h).VIEW_INVOICE)?"/admin/invoices":"",label:d.$t("dashboard.cards.invoices")},{default:r(()=>[y(m(s(o).stats.totalInvoiceCount),1)]),_:1},8,["loading","route","label"]),e(B,{"icon-component":F,loading:!s(o).isDashboardDataLoaded,route:s(n).hasAbilities(s(h).VIEW_ESTIMATE)?"/admin/estimates":"",label:d.$t("dashboard.cards.estimates")},{default:r(()=>[y(m(s(o).stats.totalEstimateCount),1)]),_:1},8,["loading","route","label"])])}}},xt={},ft={class:"grid grid-cols-1 col-span-10 px-4 py-5 lg:col-span-7 xl:col-span-8 sm:p-8"},gt={class:"flex items-center justify-between mb-2 xl:mb-4"},yt={class:"grid grid-cols-3 col-span-10 text-center border-t border-l border-gray-200 border-solid lg:border-t-0 lg:text-right lg:col-span-3 xl:col-span-2 lg:grid-cols-1"},Ct={class:"flex flex-col items-center justify-center p-6 lg:justify-end lg:items-end"},vt={class:"flex flex-col items-center justify-center p-6 lg:justify-end lg:items-end"},wt={class:"flex flex-col items-center justify-center p-6 lg:justify-end lg:items-end"},$t={class:"flex flex-col items-center justify-center col-span-3 p-6 border-t border-gray-200 border-solid lg:justify-end lg:items-end lg:col-span-1"};function Dt(i,o){const a=c("BaseContentPlaceholdersText"),n=c("BaseContentPlaceholdersBox"),d=c("BaseContentPlaceholders");return _(),x(d,{class:"grid grid-cols-10 mt-8 bg-white rounded shadow"},{default:r(()=>[t("div",ft,[t("div",gt,[e(a,{class:"h-10 w-36",lines:1}),e(a,{class:"h-10 w-36 !mt-0",lines:1})]),e(n,{class:"h-80 xl:h-72 sm:w-full"})]),t("div",yt,[t("div",Ct,[e(a,{class:"h-3 w-14 xl:h-4",lines:1}),e(a,{class:"w-20 h-5 xl:h-6",lines:1})]),t("div",vt,[e(a,{class:"h-3 w-14 xl:h-4",lines:1}),e(a,{class:"w-20 h-5 xl:h-6",lines:1})]),t("div",wt,[e(a,{class:"h-3 w-14 xl:h-4",lines:1}),e(a,{class:"w-20 h-5 xl:h-6",lines:1})]),t("div",$t,[e(a,{class:"h-3 w-14 xl:h-4",lines:1}),e(a,{class:"w-20 h-5 xl:h-6",lines:1})])])]),_:1})}var Bt=I(xt,[["render",Dt]]);const Et={key:0,class:"grid grid-cols-10 mt-8 bg-white rounded shadow"},It={class:"grid grid-cols-1 col-span-10 px-4 py-5 lg:col-span-7 xl:col-span-8 sm:p-6"},Tt={class:"flex justify-between mt-1 mb-4 flex-col md:flex-row"},St={class:"flex items-center sw-section-title h-10"},kt={class:"w-full my-2 md:m-0 md:w-40 h-10"},Pt={class:"grid grid-cols-3 col-span-10 text-center border-t border-l border-gray-200 border-solid lg:border-t-0 lg:text-right lg:col-span-3 xl:col-span-2 lg:grid-cols-1"},jt={class:"p-6"},At={class:"text-xs leading-5 lg:text-sm"},Vt=t("br",null,null,-1),Mt={class:"block mt-1 text-xl font-semibold leading-8 lg:text-2xl"},Nt={class:"p-6"},Ot={class:"text-xs leading-5 lg:text-sm"},Lt=t("br",null,null,-1),Ft={class:"block mt-1 text-xl font-semibold leading-8 lg:text-2xl text-green-400"},Rt={class:"p-6"},Wt={class:"text-xs leading-5 lg:text-sm"},zt=t("br",null,null,-1),qt={class:"block mt-1 text-xl font-semibold leading-8 lg:text-2xl text-red-400"},Ht={class:"col-span-3 p-6 border-t border-gray-200 border-solid lg:col-span-1"},Ut={class:"text-xs leading-5 lg:text-sm"},Zt=t("br",null,null,-1),Gt={class:"block mt-1 text-xl font-semibold leading-8 lg:text-2xl text-primary-500"},Jt={setup(i){const o=T(),a=N();A("utils");const n=D(),d=$(["This year","Previous year"]),l=$("This year");H(l,p=>{p==="Previous year"?f({previous_year:!0}):f()},{immediate:!0});async function f(p){n.hasAbilities(h.DASHBOARD)&&await o.loadData(p)}return(p,C)=>{const E=c("BaseIcon"),g=c("BaseMultiselect"),b=c("BaseFormatMoney");return _(),v("div",null,[s(o).isDashboardDataLoaded?(_(),v("div",Et,[t("div",It,[t("div",Tt,[t("h6",St,[e(E,{name:"ChartSquareBarIcon",class:"text-primary-400 mr-1"}),y(" "+m(p.$t("dashboard.monthly_chart.title")),1)]),t("div",kt,[e(g,{modelValue:l.value,"onUpdate:modelValue":C[0]||(C[0]=w=>l.value=w),options:d.value,"allow-empty":!1,"show-labels":!1,placeholder:p.$t("dashboard.select_year"),"can-deselect":!1},null,8,["modelValue","options","placeholder"])])]),e(K,{invoices:s(o).chartData.invoiceTotals,expenses:s(o).chartData.expenseTotals,receipts:s(o).chartData.receiptTotals,income:s(o).chartData.netIncomeTotals,labels:s(o).chartData.months,class:"sm:w-full"},null,8,["invoices","expenses","receipts","income","labels"])]),t("div",Pt,[t("div",jt,[t("span",At,m(p.$t("dashboard.chart_info.total_sales")),1),Vt,t("span",Mt,[e(b,{amount:s(o).totalSales,currency:s(a).selectedCompanyCurrency},null,8,["amount","currency"])])]),t("div",Nt,[t("span",Ot,m(p.$t("dashboard.chart_info.total_receipts")),1),Lt,t("span",Ft,[e(b,{amount:s(o).totalReceipts,currency:s(a).selectedCompanyCurrency},null,8,["amount","currency"])])]),t("div",Rt,[t("span",Wt,m(p.$t("dashboard.chart_info.total_expense")),1),zt,t("span",qt,[e(b,{amount:s(o).totalExpenses,currency:s(a).selectedCompanyCurrency},null,8,["amount","currency"])])]),t("div",Ht,[t("span",Ut,m(p.$t("dashboard.chart_info.net_income")),1),Zt,t("span",Gt,[e(b,{amount:s(o).totalNetIncome,currency:s(a).selectedCompanyCurrency},null,8,["amount","currency"])])])])])):(_(),x(Bt,{key:1}))])}}},Yt={class:"grid grid-cols-1 gap-6 mt-10 xl:grid-cols-2"},Kt={class:"due-invoices"},Qt={class:"relative z-10 flex items-center justify-between mb-3"},Xt={class:"mb-0 text-xl font-semibold leading-normal"},te={class:"recent-estimates"},ee={class:"relative z-10 flex items-center justify-between mb-3"},ae={class:"mb-0 text-xl font-semibold leading-normal"},se={setup(i){const o=T(),{t:a}=U(),n=D(),d=$(null),l=$(null),f=V(()=>[{key:"formattedDueDate",label:a("dashboard.recent_invoices_card.due_on")},{key:"user",label:a("dashboard.recent_invoices_card.customer")},{key:"due_amount",label:a("dashboard.recent_invoices_card.amount_due")},{key:"actions",tdClass:"text-right text-sm font-medium pl-0",thClass:"text-right pl-0",sortable:!1}]),p=V(()=>[{key:"formattedEstimateDate",label:a("dashboard.recent_estimate_card.date")},{key:"user",label:a("dashboard.recent_estimate_card.customer")},{key:"total",label:a("dashboard.recent_estimate_card.amount_due")},{key:"actions",tdClass:"text-right text-sm font-medium pl-0",thClass:"text-right pl-0",sortable:!1}]);function C(){return n.hasAbilities([h.DELETE_INVOICE,h.EDIT_INVOICE,h.VIEW_INVOICE,h.SEND_INVOICE])}function E(){return n.hasAbilities([h.CREATE_ESTIMATE,h.EDIT_ESTIMATE,h.VIEW_ESTIMATE,h.SEND_ESTIMATE])}return(g,b)=>{const w=c("BaseButton"),S=c("router-link"),k=c("BaseFormatMoney"),P=c("BaseTable");return _(),v("div",null,[t("div",Yt,[t("div",Kt,[t("div",Qt,[t("h6",Xt,m(g.$t("dashboard.recent_invoices_card.title")),1),e(w,{size:"sm",variant:"primary-outline",onClick:b[0]||(b[0]=u=>g.$router.push("/admin/invoices"))},{default:r(()=>[y(m(g.$t("dashboard.recent_invoices_card.view_all")),1)]),_:1})]),e(P,{data:s(o).recentDueInvoices,columns:s(f),loading:!s(o).isDashboardDataLoaded},M({"cell-user":r(({row:u})=>[e(S,{to:{path:`invoices/${u.data.id}/view`},class:"font-medium text-primary-500"},{default:r(()=>[y(m(u.data.customer.name),1)]),_:2},1032,["to"])]),"cell-due_amount":r(({row:u})=>[e(k,{amount:u.data.due_amount,currency:u.data.customer.currency},null,8,["amount","currency"])]),_:2},[C()?{name:"cell-actions",fn:r(({row:u})=>[e(Q,{row:u.data,table:d.value},null,8,["row","table"])])}:void 0]),1032,["data","columns","loading"])]),t("div",te,[t("div",ee,[t("h6",ae,m(g.$t("dashboard.recent_estimate_card.title")),1),e(w,{variant:"primary-outline",size:"sm",onClick:b[1]||(b[1]=u=>g.$router.push("/admin/estimates"))},{default:r(()=>[y(m(g.$t("dashboard.recent_estimate_card.view_all")),1)]),_:1})]),e(P,{data:s(o).recentEstimates,columns:s(p),loading:!s(o).isDashboardDataLoaded},M({"cell-user":r(({row:u})=>[e(S,{to:{path:`estimates/${u.data.id}/view`},class:"font-medium text-primary-500"},{default:r(()=>[y(m(u.data.customer.name),1)]),_:2},1032,["to"])]),"cell-total":r(({row:u})=>[e(k,{amount:u.data.total,currency:u.data.customer.currency},null,8,["amount","currency"])]),_:2},[E()?{name:"cell-actions",fn:r(({row:u})=>[e(X,{row:u,table:l.value},null,8,["row","table"])])}:void 0]),1032,["data","columns","loading"])])])])}}},de={setup(i){const o=Z(),a=D(),n=G();return J(()=>{o.meta.ability&&!a.hasAbilities(o.meta.ability)?n.push({name:"account.settings"}):o.meta.isOwner&&!a.currentUser.is_owner&&n.push({name:"account.settings"})}),(d,l)=>{const f=c("BasePage");return _(),x(f,null,{default:r(()=>[e(bt),e(Jt),e(se)]),_:1})}}};export{de as default};

--- public/build/assets/DragIcon.213b1d78.js ---
@@ -1,4 +1,4 @@
-import{aU as $r,aV as Br,aQ as Kr,aW as Hr,o as Wr,e as Xr,h as Yr}from"./vendor.01d0adc5.js";import{_ as Vr}from"./main.832b14c7.js";var gr={exports:{}};/**!
+import{aU as $r,aV as Br,aQ as Kr,aW as Hr,o as Wr,e as Xr,h as Yr}from"./vendor.01d0adc5.js";import{_ as Vr}from"./main.75722495.js";var gr={exports:{}};/**!
  * Sortable 1.14.0
  * @author	RubaXa   <trash@rubaxa.org>
  * @author	owenm    <owen23355@gmail.com>

--- public/build/assets/EstimateCreate.4010e1b1.js ---
@@ -1 +1 @@
-var A=Object.defineProperty,K=Object.defineProperties;var Q=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var I=(a,e,n)=>e in a?A(a,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[e]=n,V=(a,e)=>{for(var n in e||(e={}))W.call(e,n)&&I(a,n,e[n]);if(x)for(var n of x(e))X.call(e,n)&&I(a,n,e[n]);return a},j=(a,e)=>K(a,Q(e));import{r as o,o as g,e as q,f as s,u as t,w as l,J as Z,B as L,G as ee,aN as te,k as v,L as b,M as E,S as ae,O as se,aP as ne,T as ie,C as oe,l as y,j as h,h as B,t as T,m as le,i as re,U as me,F as de}from"./vendor.01d0adc5.js";import{k as P,r as ue,b as ce,m as pe}from"./main.832b14c7.js";import{_ as ge,a as _e,b as fe,c as be,d as ve,e as ye,f as we}from"./SalesTax.da1d755f.js";import{_ as Ee}from"./CreateCustomFields.940787b7.js";import{_ as Be}from"./ExchangeRateConverter.357f31c9.js";import{_ as $e}from"./TaxTypeModal.cf69664d.js";import"./DragIcon.88fb50b8.js";import"./SelectNotePopup.b35e7850.js";import"./NoteModal.a07ce50b.js";import"./payment.372edbf1.js";import"./exchange-rate.45b62b37.js";const Se={class:"md:grid-cols-12 grid-cols-1 md:gap-x-6 mt-6 mb-8 grid gap-y-5"},he={props:{v:{type:Object,default:null},isLoading:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1}},setup(a){const e=P();return(n,r)=>{const $=o("BaseCustomerSelectPopup"),m=o("BaseDatePicker"),c=o("BaseInputGroup"),p=o("BaseInput"),S=o("BaseInputGrid");return g(),q("div",Se,[s($,{modelValue:t(e).newEstimate.customer,"onUpdate:modelValue":r[0]||(r[0]=d=>t(e).newEstimate.customer=d),valid:a.v.customer_id,"content-loading":a.isLoading,type:"estimate",class:"col-span-5 pr-0"},null,8,["modelValue","valid","content-loading"]),s(S,{class:"col-span-7"},{default:l(()=>[s(c,{label:n.$t("reports.estimates.estimate_date"),"content-loading":a.isLoading,required:"",error:a.v.estimate_date.$error&&a.v.estimate_date.$errors[0].$message},{default:l(()=>[s(m,{modelValue:t(e).newEstimate.estimate_date,"onUpdate:modelValue":r[1]||(r[1]=d=>t(e).newEstimate.estimate_date=d),"content-loading":a.isLoading,"calendar-button":!0,"calendar-button-icon":"calendar"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading","error"]),s(c,{label:n.$t("estimates.expiry_date"),"content-loading":a.isLoading},{default:l(()=>[s(m,{modelValue:t(e).newEstimate.expiry_date,"onUpdate:modelValue":r[2]||(r[2]=d=>t(e).newEstimate.expiry_date=d),"content-loading":a.isLoading,"calendar-button":!0,"calendar-button-icon":"calendar"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),s(c,{label:n.$t("estimates.estimate_number"),"content-loading":a.isLoading,required:"",error:a.v.estimate_number.$error&&a.v.estimate_number.$errors[0].$message},{default:l(()=>[s(p,{modelValue:t(e).newEstimate.estimate_number,"onUpdate:modelValue":r[3]||(r[3]=d=>t(e).newEstimate.estimate_number=d),"content-loading":a.isLoading},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading","error"]),s(Be,{store:t(e),"store-prop":"newEstimate",v:a.v,"is-loading":a.isLoading,"is-edit":a.isEdit,"customer-currency":t(e).newEstimate.currency_id},null,8,["store","v","is-loading","is-edit","customer-currency"])]),_:1})])}}},Ce=["onSubmit"],ke={class:"flex"},xe={class:"block mt-10 estimate-foot lg:flex lg:justify-between lg:items-start"},Ie={class:"relative w-full lg:w-1/2"},Re={setup(a){const e=P(),n=ue(),r=ce(),$=pe(),{t:m}=Z(),c="newEstimate";let p=L(!1);const S=L(["customer","company","customerCustom","estimate","estimateCustom"]);let d=ee(),M=te(),_=v(()=>e.isFetchingInitialSettings),F=v(()=>f.value?m("estimates.edit_estimate"):m("estimates.new_estimate")),f=v(()=>d.name==="estimates.edit");const N=v(()=>r.selectedCompanySettings.sales_tax_us_enabled==="YES"&&n.salesTaxUSEnabled),U={estimate_date:{required:b.withMessage(m("validation.required"),E)},estimate_number:{required:b.withMessage(m("validation.required"),E)},reference_number:{maxLength:b.withMessage(m("validation.price_maxlength"),ae(255))},customer_id:{required:b.withMessage(m("validation.required"),E)},exchange_rate:{required:se(function(){return b.withMessage(m("validation.required"),E),e.showExchangeRate}),decimal:b.withMessage(m("validation.valid_exchange_rate"),ne)}},w=ie(U,v(()=>e.newEstimate),{$scope:c});oe(()=>e.newEstimate.customer,i=>{i&&i.currency?e.newEstimate.selectedCurrency=i.currency:e.newEstimate.selectedCurrency=r.selectedCompanyCurrency}),e.resetCurrentEstimate(),$.resetCustomFields(),w.value.$reset,e.fetchEstimateInitialSettings(f.value);async function G(){if(w.value.$touch(),w.value.$invalid)return!1;p.value=!0;let i=j(V({},e.newEstimate),{sub_total:e.getSubTotal,total:e.getTotal,tax:e.getTotalTax});const C=f.value?e.updateEstimate:e.addEstimate;try{let u=await C(i);u.data.data&&M.push(`/admin/estimates/${u.data.data.id}/view`)}catch(u){console.error(u)}p.value=!1}return(i,C)=>{const u=o("BaseBreadcrumbItem"),D=o("BaseBreadcrumb"),k=o("BaseButton"),R=o("router-link"),H=o("BaseIcon"),O=o("BasePageHeader"),z=o("BaseScrollPane"),J=o("BasePage");return g(),q(de,null,[s(ge),s(_e),s($e),t(N)&&(!t(_)||t(d).query.customer)?(g(),y(fe,{key:0,store:t(e),"store-prop":"newEstimate","is-edit":t(f),customer:t(e).newEstimate.customer},null,8,["store","is-edit","customer"])):h("",!0),s(J,{class:"relative estimate-create-page"},{default:l(()=>[B("form",{onSubmit:me(G,["prevent"])},[s(O,{title:t(F)},{actions:l(()=>[i.$route.name==="estimates.edit"?(g(),y(R,{key:0,to:`/estimates/pdf/${t(e).newEstimate.unique_hash}`,target:"_blank"},{default:l(()=>[s(k,{class:"mr-3",variant:"primary-outline",type:"button"},{default:l(()=>[B("span",ke,T(i.$t("general.view_pdf")),1)]),_:1})]),_:1},8,["to"])):h("",!0),s(k,{loading:t(p),disabled:t(p),"content-loading":t(_),variant:"primary",type:"submit"},{left:l(Y=>[t(p)?h("",!0):(g(),y(H,{key:0,class:le(Y.class),name:"SaveIcon"},null,8,["class"]))]),default:l(()=>[re(" "+T(i.$t("estimates.save_estimate")),1)]),_:1},8,["loading","disabled","content-loading"])]),default:l(()=>[s(D,null,{default:l(()=>[s(u,{title:i.$t("general.home"),to:"/admin/dashboard"},null,8,["title"]),s(u,{title:i.$tc("estimates.estimate",2),to:"/admin/estimates"},null,8,["title"]),i.$route.name==="estimates.edit"?(g(),y(u,{key:0,title:i.$t("estimates.edit_estimate"),to:"#",active:""},null,8,["title"])):(g(),y(u,{key:1,title:i.$t("estimates.new_estimate"),to:"#",active:""},null,8,["title"]))]),_:1})]),_:1},8,["title"]),s(he,{v:t(w),"is-loading":t(_),"is-edit":t(f)},null,8,["v","is-loading","is-edit"]),s(z,null,{default:l(()=>[s(be,{currency:t(e).newEstimate.selectedCurrency,"is-loading":t(_),"item-validation-scope":c,store:t(e),"store-prop":"newEstimate"},null,8,["currency","is-loading","store"]),B("div",xe,[B("div",Ie,[s(ve,{store:t(e),"store-prop":"newEstimate",fields:S.value,type:"Estimate"},null,8,["store","fields"]),s(Ee,{type:"Estimate","is-edit":t(f),"is-loading":t(_),store:t(e),"store-prop":"newEstimate","custom-field-scope":c,class:"mb-6"},null,8,["is-edit","is-loading","store"]),s(ye,{store:t(e),"component-name":"EstimateTemplate","store-prop":"newEstimate"},null,8,["store"])]),s(we,{currency:t(e).newEstimate.selectedCurrency,"is-loading":t(_),store:t(e),"store-prop":"newEstimate","tax-popup-type":"estimate"},null,8,["currency","is-loading","store"])])]),_:1})],40,Ce)]),_:1})],64)}}};export{Re as default};
+var A=Object.defineProperty,K=Object.defineProperties;var Q=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var I=(a,e,n)=>e in a?A(a,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[e]=n,V=(a,e)=>{for(var n in e||(e={}))W.call(e,n)&&I(a,n,e[n]);if(x)for(var n of x(e))X.call(e,n)&&I(a,n,e[n]);return a},j=(a,e)=>K(a,Q(e));import{r as o,o as g,e as q,f as s,u as t,w as l,J as Z,B as L,G as ee,aN as te,k as b,L as v,M as E,S as ae,O as se,aP as ne,T as ie,C as oe,l as y,j as h,h as B,t as T,m as le,i as re,U as me,F as de}from"./vendor.01d0adc5.js";import{k as P,r as ue,b as ce,m as pe}from"./main.75722495.js";import{_ as ge,a as _e,b as fe,c as ve,d as be,e as ye,f as we}from"./SalesTax.0ff2d954.js";import{_ as Ee}from"./CreateCustomFields.a3a572c4.js";import{_ as Be}from"./ExchangeRateConverter.7d8c4309.js";import{_ as $e}from"./TaxTypeModal.bf6662b3.js";import"./DragIcon.213b1d78.js";import"./SelectNotePopup.781ad74a.js";import"./NoteModal.f6d01f84.js";import"./payment.5c57bec3.js";import"./exchange-rate.dffa79b6.js";const Se={class:"md:grid-cols-12 grid-cols-1 md:gap-x-6 mt-6 mb-8 grid gap-y-5"},he={props:{v:{type:Object,default:null},isLoading:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1}},setup(a){const e=P();return(n,r)=>{const $=o("BaseCustomerSelectPopup"),m=o("BaseDatePicker"),c=o("BaseInputGroup"),p=o("BaseInput"),S=o("BaseInputGrid");return g(),q("div",Se,[s($,{modelValue:t(e).newEstimate.customer,"onUpdate:modelValue":r[0]||(r[0]=d=>t(e).newEstimate.customer=d),valid:a.v.customer_id,"content-loading":a.isLoading,type:"estimate",class:"col-span-5 pr-0"},null,8,["modelValue","valid","content-loading"]),s(S,{class:"col-span-7"},{default:l(()=>[s(c,{label:n.$t("reports.estimates.estimate_date"),"content-loading":a.isLoading,required:"",error:a.v.estimate_date.$error&&a.v.estimate_date.$errors[0].$message},{default:l(()=>[s(m,{modelValue:t(e).newEstimate.estimate_date,"onUpdate:modelValue":r[1]||(r[1]=d=>t(e).newEstimate.estimate_date=d),"content-loading":a.isLoading,"calendar-button":!0,"calendar-button-icon":"calendar"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading","error"]),s(c,{label:n.$t("estimates.expiry_date"),"content-loading":a.isLoading},{default:l(()=>[s(m,{modelValue:t(e).newEstimate.expiry_date,"onUpdate:modelValue":r[2]||(r[2]=d=>t(e).newEstimate.expiry_date=d),"content-loading":a.isLoading,"calendar-button":!0,"calendar-button-icon":"calendar"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),s(c,{label:n.$t("estimates.estimate_number"),"content-loading":a.isLoading,required:"",error:a.v.estimate_number.$error&&a.v.estimate_number.$errors[0].$message},{default:l(()=>[s(p,{modelValue:t(e).newEstimate.estimate_number,"onUpdate:modelValue":r[3]||(r[3]=d=>t(e).newEstimate.estimate_number=d),"content-loading":a.isLoading},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading","error"]),s(Be,{store:t(e),"store-prop":"newEstimate",v:a.v,"is-loading":a.isLoading,"is-edit":a.isEdit,"customer-currency":t(e).newEstimate.currency_id},null,8,["store","v","is-loading","is-edit","customer-currency"])]),_:1})])}}},Ce=["onSubmit"],ke={class:"flex"},xe={class:"block mt-10 estimate-foot lg:flex lg:justify-between lg:items-start"},Ie={class:"relative w-full lg:w-1/2"},Re={setup(a){const e=P(),n=ue(),r=ce(),$=pe(),{t:m}=Z(),c="newEstimate";let p=L(!1);const S=L(["customer","company","customerCustom","estimate","estimateCustom"]);let d=ee(),M=te(),_=b(()=>e.isFetchingInitialSettings),F=b(()=>f.value?m("estimates.edit_estimate"):m("estimates.new_estimate")),f=b(()=>d.name==="estimates.edit");const N=b(()=>r.selectedCompanySettings.sales_tax_us_enabled==="YES"&&n.salesTaxUSEnabled),U={estimate_date:{required:v.withMessage(m("validation.required"),E)},estimate_number:{required:v.withMessage(m("validation.required"),E)},reference_number:{maxLength:v.withMessage(m("validation.price_maxlength"),ae(255))},customer_id:{required:v.withMessage(m("validation.required"),E)},exchange_rate:{required:se(function(){return v.withMessage(m("validation.required"),E),e.showExchangeRate}),decimal:v.withMessage(m("validation.valid_exchange_rate"),ne)}},w=ie(U,b(()=>e.newEstimate),{$scope:c});oe(()=>e.newEstimate.customer,i=>{i&&i.currency?e.newEstimate.selectedCurrency=i.currency:e.newEstimate.selectedCurrency=r.selectedCompanyCurrency}),e.resetCurrentEstimate(),$.resetCustomFields(),w.value.$reset,e.fetchEstimateInitialSettings(f.value);async function G(){if(w.value.$touch(),w.value.$invalid)return!1;p.value=!0;let i=j(V({},e.newEstimate),{sub_total:e.getSubTotal,total:e.getTotal,tax:e.getTotalTax});const C=f.value?e.updateEstimate:e.addEstimate;try{let u=await C(i);u.data.data&&M.push(`/admin/estimates/${u.data.data.id}/view`)}catch(u){console.error(u)}p.value=!1}return(i,C)=>{const u=o("BaseBreadcrumbItem"),D=o("BaseBreadcrumb"),k=o("BaseButton"),R=o("router-link"),H=o("BaseIcon"),O=o("BasePageHeader"),z=o("BaseScrollPane"),J=o("BasePage");return g(),q(de,null,[s(ge),s(_e),s($e),t(N)&&(!t(_)||t(d).query.customer)?(g(),y(fe,{key:0,store:t(e),"store-prop":"newEstimate","is-edit":t(f),customer:t(e).newEstimate.customer},null,8,["store","is-edit","customer"])):h("",!0),s(J,{class:"relative estimate-create-page"},{default:l(()=>[B("form",{onSubmit:me(G,["prevent"])},[s(O,{title:t(F)},{actions:l(()=>[i.$route.name==="estimates.edit"?(g(),y(R,{key:0,to:`/estimates/pdf/${t(e).newEstimate.unique_hash}`,target:"_blank"},{default:l(()=>[s(k,{class:"mr-3",variant:"primary-outline",type:"button"},{default:l(()=>[B("span",ke,T(i.$t("general.view_pdf")),1)]),_:1})]),_:1},8,["to"])):h("",!0),s(k,{loading:t(p),disabled:t(p),"content-loading":t(_),variant:"primary",type:"submit"},{left:l(Y=>[t(p)?h("",!0):(g(),y(H,{key:0,class:le(Y.class),name:"SaveIcon"},null,8,["class"]))]),default:l(()=>[re(" "+T(i.$t("estimates.save_estimate")),1)]),_:1},8,["loading","disabled","content-loading"])]),default:l(()=>[s(D,null,{default:l(()=>[s(u,{title:i.$t("general.home"),to:"/admin/dashboard"},null,8,["title"]),s(u,{title:i.$tc("estimates.estimate",2),to:"/admin/estimates"},null,8,["title"]),i.$route.name==="estimates.edit"?(g(),y(u,{key:0,title:i.$t("estimates.edit_estimate"),to:"#",active:""},null,8,["title"])):(g(),y(u,{key:1,title:i.$t("estimates.new_estimate"),to:"#",active:""},null,8,["title"]))]),_:1})]),_:1},8,["title"]),s(he,{v:t(w),"is-loading":t(_),"is-edit":t(f)},null,8,["v","is-loading","is-edit"]),s(z,null,{default:l(()=>[s(ve,{currency:t(e).newEstimate.selectedCurrency,"is-loading":t(_),"item-validation-scope":c,store:t(e),"store-prop":"newEstimate"},null,8,["currency","is-loading","store"]),B("div",xe,[B("div",Ie,[s(be,{store:t(e),"store-prop":"newEstimate",fields:S.value,type:"Estimate"},null,8,["store","fields"]),s(Ee,{type:"Estimate","is-edit":t(f),"is-loading":t(_),store:t(e),"store-prop":"newEstimate","custom-field-scope":c,class:"mb-6"},null,8,["is-edit","is-loading","store"]),s(ye,{store:t(e),"component-name":"EstimateTemplate","store-prop":"newEstimate"},null,8,["store"])]),s(we,{currency:t(e).newEstimate.selectedCurrency,"is-loading":t(_),store:t(e),"store-prop":"newEstimate","tax-popup-type":"estimate"},null,8,["currency","is-loading","store"])])]),_:1})],40,Ce)]),_:1})],64)}}};export{Re as default};

--- public/build/assets/EstimateIcon.1f3b368d.js ---
@@ -1 +1 @@
-import{_ as r}from"./main.832b14c7.js";import{o as s,e as o,h as C,m as l}from"./vendor.01d0adc5.js";const n={},i={width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_=C("circle",{cx:"25",cy:"25",r:"25",fill:"#FDE4E5"},null,-1),a=C("path",{d:"M27.2031 23.6016C28.349 23.9401 29.2083 24.6562 29.7812 25.75C30.3802 26.8438 30.4714 27.9766 30.0547 29.1484C29.7422 30.0078 29.2083 30.6979 28.4531 31.2188C27.6979 31.7135 26.8516 31.974 25.9141 32V33.875C25.9141 34.0573 25.849 34.2005 25.7188 34.3047C25.6146 34.4349 25.4714 34.5 25.2891 34.5H24.0391C23.8568 34.5 23.7005 34.4349 23.5703 34.3047C23.4661 34.2005 23.4141 34.0573 23.4141 33.875V32C22.1641 32 21.0443 31.6094 20.0547 30.8281C19.8984 30.6979 19.8073 30.5417 19.7812 30.3594C19.7552 30.1771 19.8203 30.0208 19.9766 29.8906L21.3047 28.5625C21.5651 28.3281 21.8255 28.3021 22.0859 28.4844C22.4766 28.7448 22.9193 28.875 23.4141 28.875H25.9922C26.3307 28.875 26.6042 28.7708 26.8125 28.5625C27.0469 28.3281 27.1641 28.0417 27.1641 27.7031C27.1641 27.1302 26.8906 26.7656 26.3438 26.6094L22.3203 25.4375C21.4349 25.1771 20.6927 24.7083 20.0938 24.0312C19.4948 23.3542 19.1432 22.5729 19.0391 21.6875C18.9349 20.4115 19.2995 19.3177 20.1328 18.4062C20.9922 17.4688 22.0599 17 23.3359 17H23.4141V15.125C23.4141 14.9427 23.4661 14.7995 23.5703 14.6953C23.7005 14.5651 23.8568 14.5 24.0391 14.5H25.2891C25.4714 14.5 25.6146 14.5651 25.7188 14.6953C25.849 14.7995 25.9141 14.9427 25.9141 15.125V17C27.1641 17 28.2839 17.3906 29.2734 18.1719C29.4297 18.3021 29.5208 18.4583 29.5469 18.6406C29.5729 18.8229 29.5078 18.9792 29.3516 19.1094L28.0234 20.4375C27.763 20.6719 27.5026 20.6979 27.2422 20.5156C26.8516 20.2552 26.4089 20.125 25.9141 20.125H23.3359C22.9974 20.125 22.7109 20.2422 22.4766 20.4766C22.2682 20.6849 22.1641 20.9583 22.1641 21.2969C22.1641 21.5312 22.2422 21.7526 22.3984 21.9609C22.5547 22.1693 22.75 22.3125 22.9844 22.3906L27.2031 23.6016Z",fill:"#FB7178"},null,-1),h=[_,a];function H(t,e){return s(),o("svg",i,h)}var g=r(n,[["render",H]]);const V=C("circle",{cx:"25",cy:"25",r:"25",fill:"#EAF1FB"},null,-1),d=C("path",{d:"M28.25 24.5V27H20.75V24.5H28.25ZM31.7266 18.6016C31.9089 18.7839 32 19.0052 32 19.2656V19.5H27V14.5H27.2344C27.4948 14.5 27.7161 14.5911 27.8984 14.7734L31.7266 18.6016ZM25.75 19.8125C25.75 20.0729 25.8411 20.2943 26.0234 20.4766C26.2057 20.6589 26.4271 20.75 26.6875 20.75H32V33.5625C32 33.8229 31.9089 34.0443 31.7266 34.2266C31.5443 34.4089 31.3229 34.5 31.0625 34.5H17.9375C17.6771 34.5 17.4557 34.4089 17.2734 34.2266C17.0911 34.0443 17 33.8229 17 33.5625V15.4375C17 15.1771 17.0911 14.9557 17.2734 14.7734C17.4557 14.5911 17.6771 14.5 17.9375 14.5H25.75V19.8125ZM19.5 17.3125V17.9375C19.5 18.1458 19.6042 18.25 19.8125 18.25H22.9375C23.1458 18.25 23.25 18.1458 23.25 17.9375V17.3125C23.25 17.1042 23.1458 17 22.9375 17H19.8125C19.6042 17 19.5 17.1042 19.5 17.3125ZM19.5 19.8125V20.4375C19.5 20.6458 19.6042 20.75 19.8125 20.75H22.9375C23.1458 20.75 23.25 20.6458 23.25 20.4375V19.8125C23.25 19.6042 23.1458 19.5 22.9375 19.5H19.8125C19.6042 19.5 19.5 19.6042 19.5 19.8125ZM29.5 31.6875V31.0625C29.5 30.8542 29.3958 30.75 29.1875 30.75H26.0625C25.8542 30.75 25.75 30.8542 25.75 31.0625V31.6875C25.75 31.8958 25.8542 32 26.0625 32H29.1875C29.3958 32 29.5 31.8958 29.5 31.6875ZM29.5 23.875C29.5 23.6927 29.4349 23.5495 29.3047 23.4453C29.2005 23.3151 29.0573 23.25 28.875 23.25H20.125C19.9427 23.25 19.7865 23.3151 19.6562 23.4453C19.5521 23.5495 19.5 23.6927 19.5 23.875V27.625C19.5 27.8073 19.5521 27.9635 19.6562 28.0938C19.7865 28.1979 19.9427 28.25 20.125 28.25H28.875C29.0573 28.25 29.2005 28.1979 29.3047 28.0938C29.4349 27.9635 29.5 27.8073 29.5 27.625V23.875Z",fill:"currentColor"},null,-1),p=[V,d],v={props:{colorClass:{type:String,default:"text-primary-500"}},setup(t){return(e,c)=>(s(),o("svg",{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:l(t.colorClass)},p,2))}},f=C("circle",{cx:"25",cy:"25",r:"25",fill:"#EAF1FB"},null,-1),u=C("path",{d:"M26.75 19.8125C26.75 20.0729 26.8411 20.2943 27.0234 20.4766C27.2057 20.6589 27.4271 20.75 27.6875 20.75H33V33.5625C33 33.8229 32.9089 34.0443 32.7266 34.2266C32.5443 34.4089 32.3229 34.5 32.0625 34.5H18.9375C18.6771 34.5 18.4557 34.4089 18.2734 34.2266C18.0911 34.0443 18 33.8229 18 33.5625V15.4375C18 15.1771 18.0911 14.9557 18.2734 14.7734C18.4557 14.5911 18.6771 14.5 18.9375 14.5H26.75V19.8125ZM33 19.2656V19.5H28V14.5H28.2344C28.4948 14.5 28.7161 14.5911 28.8984 14.7734L32.7266 18.6016C32.9089 18.7839 33 19.0052 33 19.2656Z",fill:"currentColor"},null,-1),w=[f,u],M={props:{colorClass:{type:String,default:"text-primary-500"}},setup(t){return(e,c)=>(s(),o("svg",{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:l(t.colorClass)},w,2))}};export{g as D,v as _,M as a};
+import{_ as r}from"./main.75722495.js";import{o as s,e as o,h as C,m as l}from"./vendor.01d0adc5.js";const n={},i={width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_=C("circle",{cx:"25",cy:"25",r:"25",fill:"#FDE4E5"},null,-1),a=C("path",{d:"M27.2031 23.6016C28.349 23.9401 29.2083 24.6562 29.7812 25.75C30.3802 26.8438 30.4714 27.9766 30.0547 29.1484C29.7422 30.0078 29.2083 30.6979 28.4531 31.2188C27.6979 31.7135 26.8516 31.974 25.9141 32V33.875C25.9141 34.0573 25.849 34.2005 25.7188 34.3047C25.6146 34.4349 25.4714 34.5 25.2891 34.5H24.0391C23.8568 34.5 23.7005 34.4349 23.5703 34.3047C23.4661 34.2005 23.4141 34.0573 23.4141 33.875V32C22.1641 32 21.0443 31.6094 20.0547 30.8281C19.8984 30.6979 19.8073 30.5417 19.7812 30.3594C19.7552 30.1771 19.8203 30.0208 19.9766 29.8906L21.3047 28.5625C21.5651 28.3281 21.8255 28.3021 22.0859 28.4844C22.4766 28.7448 22.9193 28.875 23.4141 28.875H25.9922C26.3307 28.875 26.6042 28.7708 26.8125 28.5625C27.0469 28.3281 27.1641 28.0417 27.1641 27.7031C27.1641 27.1302 26.8906 26.7656 26.3438 26.6094L22.3203 25.4375C21.4349 25.1771 20.6927 24.7083 20.0938 24.0312C19.4948 23.3542 19.1432 22.5729 19.0391 21.6875C18.9349 20.4115 19.2995 19.3177 20.1328 18.4062C20.9922 17.4688 22.0599 17 23.3359 17H23.4141V15.125C23.4141 14.9427 23.4661 14.7995 23.5703 14.6953C23.7005 14.5651 23.8568 14.5 24.0391 14.5H25.2891C25.4714 14.5 25.6146 14.5651 25.7188 14.6953C25.849 14.7995 25.9141 14.9427 25.9141 15.125V17C27.1641 17 28.2839 17.3906 29.2734 18.1719C29.4297 18.3021 29.5208 18.4583 29.5469 18.6406C29.5729 18.8229 29.5078 18.9792 29.3516 19.1094L28.0234 20.4375C27.763 20.6719 27.5026 20.6979 27.2422 20.5156C26.8516 20.2552 26.4089 20.125 25.9141 20.125H23.3359C22.9974 20.125 22.7109 20.2422 22.4766 20.4766C22.2682 20.6849 22.1641 20.9583 22.1641 21.2969C22.1641 21.5312 22.2422 21.7526 22.3984 21.9609C22.5547 22.1693 22.75 22.3125 22.9844 22.3906L27.2031 23.6016Z",fill:"#FB7178"},null,-1),h=[_,a];function H(t,e){return s(),o("svg",i,h)}var g=r(n,[["render",H]]);const V=C("circle",{cx:"25",cy:"25",r:"25",fill:"#EAF1FB"},null,-1),d=C("path",{d:"M28.25 24.5V27H20.75V24.5H28.25ZM31.7266 18.6016C31.9089 18.7839 32 19.0052 32 19.2656V19.5H27V14.5H27.2344C27.4948 14.5 27.7161 14.5911 27.8984 14.7734L31.7266 18.6016ZM25.75 19.8125C25.75 20.0729 25.8411 20.2943 26.0234 20.4766C26.2057 20.6589 26.4271 20.75 26.6875 20.75H32V33.5625C32 33.8229 31.9089 34.0443 31.7266 34.2266C31.5443 34.4089 31.3229 34.5 31.0625 34.5H17.9375C17.6771 34.5 17.4557 34.4089 17.2734 34.2266C17.0911 34.0443 17 33.8229 17 33.5625V15.4375C17 15.1771 17.0911 14.9557 17.2734 14.7734C17.4557 14.5911 17.6771 14.5 17.9375 14.5H25.75V19.8125ZM19.5 17.3125V17.9375C19.5 18.1458 19.6042 18.25 19.8125 18.25H22.9375C23.1458 18.25 23.25 18.1458 23.25 17.9375V17.3125C23.25 17.1042 23.1458 17 22.9375 17H19.8125C19.6042 17 19.5 17.1042 19.5 17.3125ZM19.5 19.8125V20.4375C19.5 20.6458 19.6042 20.75 19.8125 20.75H22.9375C23.1458 20.75 23.25 20.6458 23.25 20.4375V19.8125C23.25 19.6042 23.1458 19.5 22.9375 19.5H19.8125C19.6042 19.5 19.5 19.6042 19.5 19.8125ZM29.5 31.6875V31.0625C29.5 30.8542 29.3958 30.75 29.1875 30.75H26.0625C25.8542 30.75 25.75 30.8542 25.75 31.0625V31.6875C25.75 31.8958 25.8542 32 26.0625 32H29.1875C29.3958 32 29.5 31.8958 29.5 31.6875ZM29.5 23.875C29.5 23.6927 29.4349 23.5495 29.3047 23.4453C29.2005 23.3151 29.0573 23.25 28.875 23.25H20.125C19.9427 23.25 19.7865 23.3151 19.6562 23.4453C19.5521 23.5495 19.5 23.6927 19.5 23.875V27.625C19.5 27.8073 19.5521 27.9635 19.6562 28.0938C19.7865 28.1979 19.9427 28.25 20.125 28.25H28.875C29.0573 28.25 29.2005 28.1979 29.3047 28.0938C29.4349 27.9635 29.5 27.8073 29.5 27.625V23.875Z",fill:"currentColor"},null,-1),p=[V,d],v={props:{colorClass:{type:String,default:"text-primary-500"}},setup(t){return(e,c)=>(s(),o("svg",{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:l(t.colorClass)},p,2))}},f=C("circle",{cx:"25",cy:"25",r:"25",fill:"#EAF1FB"},null,-1),u=C("path",{d:"M26.75 19.8125C26.75 20.0729 26.8411 20.2943 27.0234 20.4766C27.2057 20.6589 27.4271 20.75 27.6875 20.75H33V33.5625C33 33.8229 32.9089 34.0443 32.7266 34.2266C32.5443 34.4089 32.3229 34.5 32.0625 34.5H18.9375C18.6771 34.5 18.4557 34.4089 18.2734 34.2266C18.0911 34.0443 18 33.8229 18 33.5625V15.4375C18 15.1771 18.0911 14.9557 18.2734 14.7734C18.4557 14.5911 18.6771 14.5 18.9375 14.5H26.75V19.8125ZM33 19.2656V19.5H28V14.5H28.2344C28.4948 14.5 28.7161 14.5911 28.8984 14.7734L32.7266 18.6016C32.9089 18.7839 33 19.0052 33 19.2656Z",fill:"currentColor"},null,-1),w=[f,u],M={props:{colorClass:{type:String,default:"text-primary-500"}},setup(t){return(e,c)=>(s(),o("svg",{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:l(t.colorClass)},w,2))}};export{g as D,v as _,M as a};

--- public/build/assets/EstimateIndexDropdown.4eab32d4.js ---
@@ -1 +1 @@
-import{k as R,c as z,u as P,j as V,e as J,g as E}from"./main.832b14c7.js";import{ah as O,J as U,G as H,aN as W,r as T,o as i,l,w as r,u as n,f as m,i as u,t as d,j as g}from"./vendor.01d0adc5.js";const G={props:{row:{type:Object,default:null},table:{type:Object,default:null}},setup(o){const y=o,S=O("utils"),k=R(),D=z(),_=P(),p=V(),f=J(),{t:s}=U(),v=H(),b=W();async function C(e){p.openDialog({title:s("general.are_you_sure"),message:s("estimates.confirm_delete"),yesLabel:s("general.ok"),noLabel:s("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(t=>{e=e,t&&k.deleteEstimate({ids:[e]}).then(a=>{a&&(y.table&&y.table.refresh(),a.data&&b.push("/admin/estimates"),k.$patch(h=>{h.selectedEstimates=[],h.selectAllField=!1}))})})}function $(e){p.openDialog({title:s("general.are_you_sure"),message:s("estimates.confirm_conversion"),yesLabel:s("general.ok"),noLabel:s("general.cancel"),variant:"primary",hideNoButton:!1,size:"lg"}).then(t=>{t&&k.convertToInvoice(e).then(a=>{a.data&&b.push(`/admin/invoices/${a.data.data.id}/edit`)})})}async function N(e){p.openDialog({title:s("general.are_you_sure"),message:s("estimates.confirm_mark_as_sent"),yesLabel:s("general.ok"),noLabel:s("general.cancel"),variant:"primary",hideNoButton:!1,size:"lg"}).then(t=>{const a={id:e,status:"SENT"};t&&k.markAsSent(a).then(h=>{y.table&&y.table.refresh()})})}function x(e){return(e.status=="SENT"||e.status=="VIEWED")&&v.name!=="estimates.view"&&f.hasAbilities(E.SEND_ESTIMATE)}async function I(e){D.openModal({title:s("estimates.send_estimate"),componentName:"SendEstimateModal",id:e.id,data:e,variant:"lg"})}async function B(e){p.openDialog({title:s("general.are_you_sure"),message:s("estimates.confirm_mark_as_accepted"),yesLabel:s("general.ok"),noLabel:s("general.cancel"),variant:"primary",hideNoButton:!1,size:"lg"}).then(t=>{const a={id:e,status:"ACCEPTED"};t&&k.markAsAccepted(a).then(h=>{y.table&&y.table.refresh()})})}async function M(e){p.openDialog({title:s("general.are_you_sure"),message:s("estimates.confirm_mark_as_rejected"),yesLabel:s("general.ok"),noLabel:s("general.cancel"),variant:"primary",hideNoButton:!1,size:"lg"}).then(t=>{const a={id:e,status:"REJECTED"};t&&k.markAsRejected(a).then(h=>{y.table&&y.table.refresh()})})}function L(){let e=`${window.location.origin}/estimates/pdf/${y.row.unique_hash}`;S.copyTextToClipboard(e),_.showNotification({type:"success",message:s("general.copied_pdf_url_clipboard")})}return(e,t)=>{const a=T("BaseIcon"),h=T("BaseButton"),c=T("BaseDropdownItem"),A=T("router-link"),j=T("BaseDropdown");return i(),l(j,null,{activator:r(()=>[n(v).name==="estimates.view"?(i(),l(h,{key:0,variant:"primary"},{default:r(()=>[m(a,{name:"DotsHorizontalIcon",class:"text-white"})]),_:1})):(i(),l(a,{key:1,class:"text-gray-500",name:"DotsHorizontalIcon"}))]),default:r(()=>[n(v).name==="estimates.view"?(i(),l(c,{key:0,onClick:L},{default:r(()=>[m(a,{name:"LinkIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),u(" "+d(e.$t("general.copy_pdf_url")),1)]),_:1})):g("",!0),n(f).hasAbilities(n(E).EDIT_ESTIMATE)?(i(),l(A,{key:1,to:`/admin/estimates/${o.row.id}/edit`},{default:r(()=>[m(c,null,{default:r(()=>[m(a,{name:"PencilIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),u(" "+d(e.$t("general.edit")),1)]),_:1})]),_:1},8,["to"])):g("",!0),n(f).hasAbilities(n(E).DELETE_ESTIMATE)?(i(),l(c,{key:2,onClick:t[0]||(t[0]=w=>C(o.row.id))},{default:r(()=>[m(a,{name:"TrashIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),u(" "+d(e.$t("general.delete")),1)]),_:1})):g("",!0),n(v).name!=="estimates.view"&&n(f).hasAbilities(n(E).VIEW_ESTIMATE)?(i(),l(A,{key:3,to:`estimates/${o.row.id}/view`},{default:r(()=>[m(c,null,{default:r(()=>[m(a,{name:"EyeIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),u(" "+d(e.$t("general.view")),1)]),_:1})]),_:1},8,["to"])):g("",!0),n(f).hasAbilities(n(E).CREATE_INVOICE)?(i(),l(c,{key:4,onClick:t[1]||(t[1]=w=>$(o.row.id))},{default:r(()=>[m(a,{name:"DocumentTextIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),u(" "+d(e.$t("estimates.convert_to_invoice")),1)]),_:1})):g("",!0),o.row.status!=="SENT"&&n(v).name!=="estimates.view"&&n(f).hasAbilities(n(E).SEND_ESTIMATE)?(i(),l(c,{key:5,onClick:t[2]||(t[2]=w=>N(o.row.id))},{default:r(()=>[m(a,{name:"CheckCircleIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),u(" "+d(e.$t("estimates.mark_as_sent")),1)]),_:1})):g("",!0),o.row.status!=="SENT"&&n(v).name!=="estimates.view"&&n(f).hasAbilities(n(E).SEND_ESTIMATE)?(i(),l(c,{key:6,onClick:t[3]||(t[3]=w=>I(o.row))},{default:r(()=>[m(a,{name:"PaperAirplaneIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),u(" "+d(e.$t("estimates.send_estimate")),1)]),_:1})):g("",!0),x(o.row)?(i(),l(c,{key:7,onClick:t[4]||(t[4]=w=>I(o.row))},{default:r(()=>[m(a,{name:"PaperAirplaneIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),u(" "+d(e.$t("estimates.resend_estimate")),1)]),_:1})):g("",!0),o.row.status!=="ACCEPTED"&&n(f).hasAbilities(n(E).EDIT_ESTIMATE)?(i(),l(c,{key:8,onClick:t[5]||(t[5]=w=>B(o.row.id))},{default:r(()=>[m(a,{name:"CheckCircleIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),u(" "+d(e.$t("estimates.mark_as_accepted")),1)]),_:1})):g("",!0),o.row.status!=="REJECTED"&&n(f).hasAbilities(n(E).EDIT_ESTIMATE)?(i(),l(c,{key:9,onClick:t[6]||(t[6]=w=>M(o.row.id))},{default:r(()=>[m(a,{name:"XCircleIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),u(" "+d(e.$t("estimates.mark_as_rejected")),1)]),_:1})):g("",!0)]),_:1})}}};export{G as _};
+import{k as R,c as z,u as P,j as V,e as J,g as E}from"./main.75722495.js";import{ah as O,J as U,G as H,aN as W,r as T,o as i,l,w as r,u as n,f as m,i as u,t as d,j as g}from"./vendor.01d0adc5.js";const G={props:{row:{type:Object,default:null},table:{type:Object,default:null}},setup(o){const y=o,S=O("utils"),k=R(),D=z(),_=P(),p=V(),f=J(),{t:s}=U(),v=H(),I=W();async function C(e){p.openDialog({title:s("general.are_you_sure"),message:s("estimates.confirm_delete"),yesLabel:s("general.ok"),noLabel:s("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(t=>{e=e,t&&k.deleteEstimate({ids:[e]}).then(a=>{a&&(y.table&&y.table.refresh(),a.data&&I.push("/admin/estimates"),k.$patch(h=>{h.selectedEstimates=[],h.selectAllField=!1}))})})}function $(e){p.openDialog({title:s("general.are_you_sure"),message:s("estimates.confirm_conversion"),yesLabel:s("general.ok"),noLabel:s("general.cancel"),variant:"primary",hideNoButton:!1,size:"lg"}).then(t=>{t&&k.convertToInvoice(e).then(a=>{a.data&&I.push(`/admin/invoices/${a.data.data.id}/edit`)})})}async function N(e){p.openDialog({title:s("general.are_you_sure"),message:s("estimates.confirm_mark_as_sent"),yesLabel:s("general.ok"),noLabel:s("general.cancel"),variant:"primary",hideNoButton:!1,size:"lg"}).then(t=>{const a={id:e,status:"SENT"};t&&k.markAsSent(a).then(h=>{y.table&&y.table.refresh()})})}function x(e){return(e.status=="SENT"||e.status=="VIEWED")&&v.name!=="estimates.view"&&f.hasAbilities(E.SEND_ESTIMATE)}async function b(e){D.openModal({title:s("estimates.send_estimate"),componentName:"SendEstimateModal",id:e.id,data:e,variant:"lg"})}async function B(e){p.openDialog({title:s("general.are_you_sure"),message:s("estimates.confirm_mark_as_accepted"),yesLabel:s("general.ok"),noLabel:s("general.cancel"),variant:"primary",hideNoButton:!1,size:"lg"}).then(t=>{const a={id:e,status:"ACCEPTED"};t&&k.markAsAccepted(a).then(h=>{y.table&&y.table.refresh()})})}async function M(e){p.openDialog({title:s("general.are_you_sure"),message:s("estimates.confirm_mark_as_rejected"),yesLabel:s("general.ok"),noLabel:s("general.cancel"),variant:"primary",hideNoButton:!1,size:"lg"}).then(t=>{const a={id:e,status:"REJECTED"};t&&k.markAsRejected(a).then(h=>{y.table&&y.table.refresh()})})}function L(){let e=`${window.location.origin}/estimates/pdf/${y.row.unique_hash}`;S.copyTextToClipboard(e),_.showNotification({type:"success",message:s("general.copied_pdf_url_clipboard")})}return(e,t)=>{const a=T("BaseIcon"),h=T("BaseButton"),c=T("BaseDropdownItem"),A=T("router-link"),j=T("BaseDropdown");return i(),l(j,null,{activator:r(()=>[n(v).name==="estimates.view"?(i(),l(h,{key:0,variant:"primary"},{default:r(()=>[m(a,{name:"DotsHorizontalIcon",class:"text-white"})]),_:1})):(i(),l(a,{key:1,class:"text-gray-500",name:"DotsHorizontalIcon"}))]),default:r(()=>[n(v).name==="estimates.view"?(i(),l(c,{key:0,onClick:L},{default:r(()=>[m(a,{name:"LinkIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),u(" "+d(e.$t("general.copy_pdf_url")),1)]),_:1})):g("",!0),n(f).hasAbilities(n(E).EDIT_ESTIMATE)?(i(),l(A,{key:1,to:`/admin/estimates/${o.row.id}/edit`},{default:r(()=>[m(c,null,{default:r(()=>[m(a,{name:"PencilIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),u(" "+d(e.$t("general.edit")),1)]),_:1})]),_:1},8,["to"])):g("",!0),n(f).hasAbilities(n(E).DELETE_ESTIMATE)?(i(),l(c,{key:2,onClick:t[0]||(t[0]=w=>C(o.row.id))},{default:r(()=>[m(a,{name:"TrashIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),u(" "+d(e.$t("general.delete")),1)]),_:1})):g("",!0),n(v).name!=="estimates.view"&&n(f).hasAbilities(n(E).VIEW_ESTIMATE)?(i(),l(A,{key:3,to:`estimates/${o.row.id}/view`},{default:r(()=>[m(c,null,{default:r(()=>[m(a,{name:"EyeIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),u(" "+d(e.$t("general.view")),1)]),_:1})]),_:1},8,["to"])):g("",!0),n(f).hasAbilities(n(E).CREATE_INVOICE)?(i(),l(c,{key:4,onClick:t[1]||(t[1]=w=>$(o.row.id))},{default:r(()=>[m(a,{name:"DocumentTextIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),u(" "+d(e.$t("estimates.convert_to_invoice")),1)]),_:1})):g("",!0),o.row.status!=="SENT"&&n(v).name!=="estimates.view"&&n(f).hasAbilities(n(E).SEND_ESTIMATE)?(i(),l(c,{key:5,onClick:t[2]||(t[2]=w=>N(o.row.id))},{default:r(()=>[m(a,{name:"CheckCircleIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),u(" "+d(e.$t("estimates.mark_as_sent")),1)]),_:1})):g("",!0),o.row.status!=="SENT"&&n(v).name!=="estimates.view"&&n(f).hasAbilities(n(E).SEND_ESTIMATE)?(i(),l(c,{key:6,onClick:t[3]||(t[3]=w=>b(o.row))},{default:r(()=>[m(a,{name:"PaperAirplaneIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),u(" "+d(e.$t("estimates.send_estimate")),1)]),_:1})):g("",!0),x(o.row)?(i(),l(c,{key:7,onClick:t[4]||(t[4]=w=>b(o.row))},{default:r(()=>[m(a,{name:"PaperAirplaneIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),u(" "+d(e.$t("estimates.resend_estimate")),1)]),_:1})):g("",!0),o.row.status!=="ACCEPTED"&&n(f).hasAbilities(n(E).EDIT_ESTIMATE)?(i(),l(c,{key:8,onClick:t[5]||(t[5]=w=>B(o.row.id))},{default:r(()=>[m(a,{name:"CheckCircleIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),u(" "+d(e.$t("estimates.mark_as_accepted")),1)]),_:1})):g("",!0),o.row.status!=="REJECTED"&&n(f).hasAbilities(n(E).EDIT_ESTIMATE)?(i(),l(c,{key:9,onClick:t[6]||(t[6]=w=>M(o.row.id))},{default:r(()=>[m(a,{name:"XCircleIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),u(" "+d(e.$t("estimates.mark_as_rejected")),1)]),_:1})):g("",!0)]),_:1})}}};export{G as _};

--- public/build/assets/ExchangeRateConverter.7d8c4309.js ---
@@ -1 +1 @@
-import{d as V,b as _}from"./main.832b14c7.js";import{u as D}from"./exchange-rate.45b62b37.js";import{B as p,k as u,C as l,b1 as F,r as d,K as N,u as n,o as x,l as A,w as h,e as G,q,f as v,m as L,j as C,h as b,t as E}from"./vendor.01d0adc5.js";const O={key:0},U={class:"text-gray-500 sm:text-sm"},z={class:"text-gray-400 text-xs mt-2 font-light"},M={props:{v:{type:Object,default:null},isLoading:{type:Boolean,default:!1},store:{type:Object,default:null},storeProp:{type:String,default:""},isEdit:{type:Boolean,default:!1},customerCurrency:{type:[String,Number],default:null}},setup(r){const e=r,m=V(),B=_(),g=D(),f=p(!1);let a=p(!1);m.fetchCurrencies();const s=u(()=>B.selectedCompanyCurrency),c=u(()=>m.currencies.find(t=>t.id===e.store[e.storeProp].currency_id)),P=u(()=>s.value.id!==e.customerCurrency);l(()=>e.store[e.storeProp].customer,t=>{R(t)},{deep:!0}),l(()=>e.store[e.storeProp].currency_id,t=>{$(t)},{immediate:!0}),l(()=>e.customerCurrency,t=>{t&&e.isEdit&&w()},{immediate:!0});function w(){P.value&&g.checkForActiveProvider(e.customerCurrency).then(t=>{t.data.success&&(f.value=!0)})}function R(t){t?e.store[e.storeProp].currency_id=t.currency.id:e.store[e.storeProp].currency_id=s.value.id}async function $(t){t!==s.value.id?(!e.isEdit&&t&&await y(t),e.store.showExchangeRate=!0):e.store.showExchangeRate=!1}function y(t){a.value=!0,g.getCurrentExchangeRate(t).then(o=>{o.data&&!o.data.error?e.store[e.storeProp].exchange_rate=o.data.exchangeRate[0]:e.store[e.storeProp].exchange_rate="",a.value=!1}).catch(o=>{a.value=!1})}return F(()=>{e.store.showExchangeRate=!1}),(t,o)=>{const k=d("BaseIcon"),S=d("BaseInput"),I=d("BaseInputGroup"),j=N("tooltip");return r.store.showExchangeRate&&n(c)?(x(),A(I,{key:0,"content-loading":n(a)&&!r.isEdit,label:t.$t("settings.exchange_rate.exchange_rate"),error:r.v.exchange_rate.$error&&r.v.exchange_rate.$errors[0].$message,required:""},{labelRight:h(()=>[f.value&&r.isEdit?(x(),G("div",O,[q(v(k,{name:"RefreshIcon",class:L(`h-4 w-4 text-primary-500 cursor-pointer outline-none ${n(a)?" animate-spin rotate-180 cursor-not-allowed pointer-events-none ":""}`),onClick:o[0]||(o[0]=i=>y(r.customerCurrency))},null,8,["class"]),[[j,{content:"Fetch Latest Exchange rate"}]])])):C("",!0)]),default:h(()=>[v(S,{modelValue:r.store[r.storeProp].exchange_rate,"onUpdate:modelValue":o[1]||(o[1]=i=>r.store[r.storeProp].exchange_rate=i),"content-loading":n(a)&&!r.isEdit,addon:`1 ${n(c).code} =`,disabled:n(a),onInput:o[2]||(o[2]=i=>r.v.exchange_rate.$touch())},{right:h(()=>[b("span",U,E(n(s).code),1)]),_:1},8,["modelValue","content-loading","addon","disabled"]),b("span",z,E(t.$t("settings.exchange_rate.exchange_help_text",{currency:n(c).code,baseCurrency:n(s).code})),1)]),_:1},8,["content-loading","label","error"])):C("",!0)}}};export{M as _};
+import{d as V,b as _}from"./main.75722495.js";import{u as D}from"./exchange-rate.dffa79b6.js";import{B as p,k as u,C as l,b1 as F,r as d,K as N,u as a,o as x,l as A,w as h,e as G,q,f as v,m as L,j as C,h as E,t as b}from"./vendor.01d0adc5.js";const O={key:0},U={class:"text-gray-500 sm:text-sm"},z={class:"text-gray-400 text-xs mt-2 font-light"},M={props:{v:{type:Object,default:null},isLoading:{type:Boolean,default:!1},store:{type:Object,default:null},storeProp:{type:String,default:""},isEdit:{type:Boolean,default:!1},customerCurrency:{type:[String,Number],default:null}},setup(r){const e=r,m=V(),B=_(),g=D(),f=p(!1);let n=p(!1);m.fetchCurrencies();const s=u(()=>B.selectedCompanyCurrency),c=u(()=>m.currencies.find(t=>t.id===e.store[e.storeProp].currency_id)),P=u(()=>s.value.id!==e.customerCurrency);l(()=>e.store[e.storeProp].customer,t=>{R(t)},{deep:!0}),l(()=>e.store[e.storeProp].currency_id,t=>{$(t)},{immediate:!0}),l(()=>e.customerCurrency,t=>{t&&e.isEdit&&w()},{immediate:!0});function w(){P.value&&g.checkForActiveProvider(e.customerCurrency).then(t=>{t.data.success&&(f.value=!0)})}function R(t){t?e.store[e.storeProp].currency_id=t.currency.id:e.store[e.storeProp].currency_id=s.value.id}async function $(t){t!==s.value.id?(!e.isEdit&&t&&await y(t),e.store.showExchangeRate=!0):e.store.showExchangeRate=!1}function y(t){n.value=!0,g.getCurrentExchangeRate(t).then(o=>{o.data&&!o.data.error?e.store[e.storeProp].exchange_rate=o.data.exchangeRate[0]:e.store[e.storeProp].exchange_rate="",n.value=!1}).catch(o=>{n.value=!1})}return F(()=>{e.store.showExchangeRate=!1}),(t,o)=>{const k=d("BaseIcon"),S=d("BaseInput"),I=d("BaseInputGroup"),j=N("tooltip");return r.store.showExchangeRate&&a(c)?(x(),A(I,{key:0,"content-loading":a(n)&&!r.isEdit,label:t.$t("settings.exchange_rate.exchange_rate"),error:r.v.exchange_rate.$error&&r.v.exchange_rate.$errors[0].$message,required:""},{labelRight:h(()=>[f.value&&r.isEdit?(x(),G("div",O,[q(v(k,{name:"RefreshIcon",class:L(`h-4 w-4 text-primary-500 cursor-pointer outline-none ${a(n)?" animate-spin rotate-180 cursor-not-allowed pointer-events-none ":""}`),onClick:o[0]||(o[0]=i=>y(r.customerCurrency))},null,8,["class"]),[[j,{content:"Fetch Latest Exchange rate"}]])])):C("",!0)]),default:h(()=>[v(S,{modelValue:r.store[r.storeProp].exchange_rate,"onUpdate:modelValue":o[1]||(o[1]=i=>r.store[r.storeProp].exchange_rate=i),"content-loading":a(n)&&!r.isEdit,addon:`1 ${a(c).code} =`,disabled:a(n),onInput:o[2]||(o[2]=i=>r.v.exchange_rate.$touch())},{right:h(()=>[E("span",U,b(a(s).code),1)]),_:1},8,["modelValue","content-loading","addon","disabled"]),E("span",z,b(t.$t("settings.exchange_rate.exchange_help_text",{currency:a(c).code,baseCurrency:a(s).code})),1)]),_:1},8,["content-loading","label","error"])):C("",!0)}}};export{M as _};

--- public/build/assets/ExchangeRateProviderSetting.57eedd6c.js ---
@@ -1 +1 @@
-var ie=Object.defineProperty;var J=Object.getOwnPropertySymbols;var ue=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable;var X=(C,c,n)=>c in C?ie(C,c,{enumerable:!0,configurable:!0,writable:!0,value:n}):C[c]=n,T=(C,c)=>{for(var n in c||(c={}))ue.call(c,n)&&X(C,n,c[n]);if(J)for(var n of J(c))de.call(c,n)&&X(C,n,c[n]);return C};import{u as Z}from"./exchange-rate.45b62b37.js";import{c as K,b as ge,j as ve}from"./main.832b14c7.js";import{J as Q,B,k as b,L as V,M as G,O as W,R as pe,T as he,C as L,A as me,r as v,o as k,l as I,w as l,h as y,i as w,t as x,u as e,f as s,j as M,m as ee,U as fe,ah as ye,e as _e,aZ as xe,x as Ce,a_ as Ee,a$ as $e,b0 as be,F as Re,a0 as Be}from"./vendor.01d0adc5.js";import ke from"./BaseTable.440de545.js";const we={class:"flex justify-between w-full"},Ve=["onSubmit"],Ie={class:"px-4 md:px-8 py-8 overflow-y-auto sm:p-6"},Se={class:"z-0 flex justify-end p-4 border-t border-gray-200 border-solid"},De={setup(C){const{t:c}=Q();let n=B(!1),u=B(!1),E=B(!1),m=B([]),p=B([]);const _=K(),t=Z();let q=B([]);const A=b(()=>({currentExchangeRate:{key:{required:V.withMessage(c("validation.required"),G)},driver:{required:V.withMessage(c("validation.required"),G)},currencies:{required:V.withMessage(c("validation.required"),G)}},currencyConverter:{type:{required:V.withMessage(c("validation.required"),W(i))},url:{required:V.withMessage(c("validation.required"),W($)),url:V.withMessage(c("validation.invalid_url"),pe)}}})),O=b(()=>t.drivers.map(r=>Object.assign({},r,{key:c(r.key)}))),z=b(()=>_.active&&_.componentName==="ExchangeRateProviderModal");b(()=>_.title);const i=b(()=>t.currentExchangeRate.driver==="currency_converter"),$=b(()=>t.currencyConverter&&t.currencyConverter.type==="DEDICATED"),S=b(()=>{switch(t.currentExchangeRate.driver){case"currency_converter":return"https://www.currencyconverterapi.com";case"currency_freak":return"https://currencyfreaks.com";case"currency_layer":return"https://currencylayer.com";case"open_exchange_rate":return"https://openexchangerates.org";default:return""}}),o=he(A,b(()=>t));function N(){m.value=[]}function F(){const{currencies:r}=t.currentExchangeRate;m.value.forEach(a=>{r.forEach((h,f)=>{h===a&&r.splice(f,1)})}),m.value=[]}function j(){t.currentExchangeRate.key=null,t.currentExchangeRate.currencies=[],t.supportedCurrencies=[]}function d(){t.supportedCurrencies=[],p.value=[],t.currentExchangeRate={id:null,name:"",driver:"",key:"",active:!0,currencies:[]},t.currencyConverter={type:"",url:""},m.value=[]}async function D(){t.currentExchangeRate.driver="currency_converter";let r={};t.isEdit&&(r.provider_id=t.currentExchangeRate.id),u.value=!0,await t.fetchDefaultProviders(),await t.fetchActiveCurrency(r),p.value=t.currentExchangeRate.currencies,u.value=!1}L(()=>i.value,(r,a)=>{r&&ae()},{immediate:!0}),L(()=>t.currentExchangeRate.key,(r,a)=>{r&&P()}),L(()=>{var r;return(r=t==null?void 0:t.currencyConverter)==null?void 0:r.type},(r,a)=>{r&&P()}),P=me.exports.debounce(P,500);function te(){return o.value.$touch(),ne(),!!(o.value.$invalid||m.value.length&&t.currentExchangeRate.active)}async function re(){if(te())return!0;let r=T({},t.currentExchangeRate);i.value&&(r.driver_config=T({},t.currencyConverter),$.value||(r.driver_config.url=""));const a=t.isEdit?t.updateProvider:t.addProvider;n.value=!0,await a(r).then(h=>{n.value=!1,_.refreshData&&_.refreshData(),U()}).catch(h=>{n.value=!1})}async function ae(){let r=await t.getCurrencyConverterServers();q.value=r.data.currency_converter_servers,t.currencyConverter.type="FREE"}function P(){var h;const{driver:r,key:a}=t.currentExchangeRate;if(r&&a){E.value=!0;let f={driver:r,key:a};if(i.value&&!t.currencyConverter.type){E.value=!1;return}((h=t==null?void 0:t.currencyConverter)==null?void 0:h.type)&&(f.type=t.currencyConverter.type),t.fetchCurrencies(f).then(R=>{E.value=!1}).catch(R=>{E.value=!1})}}function ne(r=!0){var h;m.value=[];const{currencies:a}=t.currentExchangeRate;a.length&&((h=t.activeUsedCurrencies)==null?void 0:h.length)&&a.forEach(f=>{t.activeUsedCurrencies.includes(f)&&m.value.push(f)})}function U(){_.closeModal(),setTimeout(()=>{d(),o.value.$reset()},300)}return(r,a)=>{const h=v("BaseIcon"),f=v("BaseMultiselect"),R=v("BaseInputGroup"),Y=v("BaseInput"),oe=v("BaseSwitch"),se=v("BaseInputGrid"),le=v("BaseInfoAlert"),H=v("BaseButton"),ce=v("BaseModal");return k(),I(ce,{show:e(z),onClose:U,onOpen:D},{header:l(()=>[y("div",we,[w(x(e(_).title)+" ",1),s(h,{name:"XIcon",class:"w-6 h-6 text-gray-500 cursor-pointer",onClick:U})])]),default:l(()=>[y("form",{onSubmit:fe(re,["prevent"])},[y("div",Ie,[s(se,{layout:"one-column"},{default:l(()=>[s(R,{label:r.$tc("settings.exchange_rate.driver"),"content-loading":e(u),required:"",error:e(o).currentExchangeRate.driver.$error&&e(o).currentExchangeRate.driver.$errors[0].$message,"help-text":e(S)},{default:l(()=>[s(f,{modelValue:e(t).currentExchangeRate.driver,"onUpdate:modelValue":[a[0]||(a[0]=g=>e(t).currentExchangeRate.driver=g),j],options:e(O),"content-loading":e(u),"value-prop":"value","can-deselect":!0,label:"key",searchable:!0,invalid:e(o).currentExchangeRate.driver.$error,onInput:a[1]||(a[1]=g=>e(o).currentExchangeRate.driver.$touch())},null,8,["modelValue","options","content-loading","invalid"])]),_:1},8,["label","content-loading","error","help-text"]),e(i)?(k(),I(R,{key:0,required:"",label:r.$t("settings.exchange_rate.server"),"content-loading":e(u),error:e(o).currencyConverter.type.$error&&e(o).currencyConverter.type.$errors[0].$message},{default:l(()=>[s(f,{modelValue:e(t).currencyConverter.type,"onUpdate:modelValue":[a[2]||(a[2]=g=>e(t).currencyConverter.type=g),j],"content-loading":e(u),"value-prop":"value",searchable:"",options:e(q),invalid:e(o).currencyConverter.type.$error,label:"value"},null,8,["modelValue","content-loading","options","invalid"])]),_:1},8,["label","content-loading","error"])):M("",!0),s(R,{label:r.$t("settings.exchange_rate.key"),required:"","content-loading":e(u),error:e(o).currentExchangeRate.key.$error&&e(o).currentExchangeRate.key.$errors[0].$message},{default:l(()=>[s(Y,{modelValue:e(t).currentExchangeRate.key,"onUpdate:modelValue":a[3]||(a[3]=g=>e(t).currentExchangeRate.key=g),"content-loading":e(u),type:"text",name:"key",loading:e(E),"loading-position":"right",invalid:e(o).currentExchangeRate.key.$error},null,8,["modelValue","content-loading","loading","invalid"])]),_:1},8,["label","content-loading","error"]),e(t).supportedCurrencies.length?(k(),I(R,{key:1,label:r.$t("settings.exchange_rate.currency"),"content-loading":e(u),error:e(o).currentExchangeRate.currencies.$error&&e(o).currentExchangeRate.currencies.$errors[0].$message,"help-text":r.$t("settings.exchange_rate.currency_help_text")},{default:l(()=>[s(f,{modelValue:e(t).currentExchangeRate.currencies,"onUpdate:modelValue":a[4]||(a[4]=g=>e(t).currentExchangeRate.currencies=g),"content-loading":e(u),"value-prop":"code",mode:"tags",searchable:"",options:e(t).supportedCurrencies,invalid:e(o).currentExchangeRate.currencies.$error,label:"code","track-by":"code",onInput:a[5]||(a[5]=g=>e(o).currentExchangeRate.currencies.$touch()),openDirection:"top"},null,8,["modelValue","content-loading","options","invalid"])]),_:1},8,["label","content-loading","error","help-text"])):M("",!0),e($)?(k(),I(R,{key:2,label:r.$t("settings.exchange_rate.url"),"content-loading":e(u),error:e(o).currencyConverter.url.$error&&e(o).currencyConverter.url.$errors[0].$message},{default:l(()=>[s(Y,{modelValue:e(t).currencyConverter.url,"onUpdate:modelValue":a[6]||(a[6]=g=>e(t).currencyConverter.url=g),"content-loading":e(u),type:"url",invalid:e(o).currencyConverter.url.$error,onInput:a[7]||(a[7]=g=>e(o).currencyConverter.url.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"])):M("",!0),s(oe,{modelValue:e(t).currentExchangeRate.active,"onUpdate:modelValue":a[8]||(a[8]=g=>e(t).currentExchangeRate.active=g),class:"flex","label-right":r.$t("settings.exchange_rate.active")},null,8,["modelValue","label-right"])]),_:1}),e(m).length&&e(t).currentExchangeRate.active?(k(),I(le,{key:0,class:"mt-5",title:r.$t("settings.exchange_rate.currency_in_used"),lists:[e(m).toString()],actions:["Remove"],onHide:N,onRemove:F},null,8,["title","lists"])):M("",!0)]),y("div",Se,[s(H,{class:"mr-3",variant:"primary-outline",type:"button",disabled:e(n),onClick:U},{default:l(()=>[w(x(r.$t("general.cancel")),1)]),_:1},8,["disabled"]),s(H,{loading:e(n),disabled:e(n)||e(E),variant:"primary",type:"submit"},{left:l(g=>[e(n)?M("",!0):(k(),I(h,{key:0,name:"SaveIcon",class:ee(g.class)},null,8,["class"]))]),default:l(()=>[w(" "+x(e(t).isEdit?r.$t("general.update"):r.$t("general.save")),1)]),_:1},8,["loading","disabled"])])],40,Ve)]),_:1},8,["show"])}}},Me={slot:"header",class:"flex flex-wrap justify-between lg:flex-nowrap"},qe={class:"text-lg font-medium text-left"},Ne={class:"mt-2 text-sm leading-snug text-left text-gray-500",style:{"max-width":"680px"}},je={class:"mt-4 lg:mt-0 lg:ml-2"},Pe={class:"capitalize"},Ue={class:"inline-block"},Ge={setup(C){const{tm:c,t:n}=Q();ge();const u=Z(),E=K(),m=ve();let p=B("");const _=ye("utils"),t=b(()=>[{key:"driver",label:n("settings.exchange_rate.driver"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"key",label:n("settings.exchange_rate.key"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"active",label:n("settings.exchange_rate.active"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"actions",label:"",tdClass:"text-right text-sm font-medium",sortable:!1}]);async function q({page:i,sort:$}){let S=Be({orderByField:$.fieldName||"created_at",orderBy:$.order||"desc",page:i}),o=await u.fetchProviders(S);return{data:o.data.data,pagination:{totalPages:o.data.meta.last_page,currentPage:i,totalCount:o.data.meta.total,limit:5}}}function A(){E.openModal({title:n("settings.exchange_rate.new_driver"),componentName:"ExchangeRateProviderModal",size:"md",refreshData:p.value&&p.value.refresh})}function O(i){u.fetchProvider(i),E.openModal({title:n("settings.exchange_rate.edit_driver"),componentName:"ExchangeRateProviderModal",size:"md",data:i,refreshData:p.value&&p.value.refresh})}function z(i){m.openDialog({title:n("general.are_you_sure"),message:n("settings.exchange_rate.exchange_rate_confirm_delete"),yesLabel:n("general.ok"),noLabel:n("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(async $=>{$&&(await u.deleteExchangeRate(i),p.value&&p.value.refresh())})}return(i,$)=>{const S=v("BaseButton"),o=v("BaseBadge"),N=v("BaseDropdownItem"),F=v("BaseDropdown"),j=v("BaseCard");return k(),_e(Re,null,[s(De),s(j,null,{default:l(()=>[y("div",Me,[y("div",null,[y("h6",qe,x(i.$t("settings.menu_title.exchange_rate")),1),y("p",Ne,x(i.$t("settings.exchange_rate.providers_description")),1)]),y("div",je,[s(S,{variant:"primary-outline",size:"lg",onClick:A},{left:l(d=>[s(e(xe),{class:ee(d.class)},null,8,["class"])]),default:l(()=>[w(" "+x(i.$t("settings.exchange_rate.new_driver")),1)]),_:1})])]),s(ke,{ref:(d,D)=>{D.table=d,Ce(p)?p.value=d:p=d},class:"mt-16",data:q,columns:e(t)},{"cell-driver":l(({row:d})=>[y("span",Pe,x(d.data.driver.replace("_"," ")),1)]),"cell-active":l(({row:d})=>[s(o,{"bg-color":e(_).getBadgeStatusColor(d.data.active?"YES":"NO").bgColor,color:e(_).getBadgeStatusColor(d.data.active?"YES":"NO").color},{default:l(()=>[w(x(d.data.active?"YES":"NO"),1)]),_:2},1032,["bg-color","color"])]),"cell-actions":l(({row:d})=>[s(F,null,{activator:l(()=>[y("div",Ue,[s(e(Ee),{class:"w-5 text-gray-500"})])]),default:l(()=>[s(N,{onClick:D=>O(d.data.id)},{default:l(()=>[s(e($e),{class:"h-5 mr-3 text-gray-600"}),w(" "+x(i.$t("general.edit")),1)]),_:2},1032,["onClick"]),s(N,{onClick:D=>z(d.data.id)},{default:l(()=>[s(e(be),{class:"h-5 mr-3 text-gray-600"}),w(" "+x(i.$t("general.delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:1},8,["columns"])]),_:1})],64)}}};export{Ge as default};
+var ie=Object.defineProperty;var J=Object.getOwnPropertySymbols;var ue=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable;var X=(C,c,n)=>c in C?ie(C,c,{enumerable:!0,configurable:!0,writable:!0,value:n}):C[c]=n,T=(C,c)=>{for(var n in c||(c={}))ue.call(c,n)&&X(C,n,c[n]);if(J)for(var n of J(c))de.call(c,n)&&X(C,n,c[n]);return C};import{u as Z}from"./exchange-rate.dffa79b6.js";import{c as K,b as ge,j as ve}from"./main.75722495.js";import{J as Q,B,k as b,L as V,M as G,O as W,R as pe,T as he,C as L,A as me,r as v,o as k,l as I,w as l,h as y,i as w,t as x,u as e,f as s,j as M,m as ee,U as fe,ah as ye,e as _e,aZ as xe,x as Ce,a_ as Ee,a$ as $e,b0 as be,F as Re,a0 as Be}from"./vendor.01d0adc5.js";import ke from"./BaseTable.6e206ca7.js";const we={class:"flex justify-between w-full"},Ve=["onSubmit"],Ie={class:"px-4 md:px-8 py-8 overflow-y-auto sm:p-6"},Se={class:"z-0 flex justify-end p-4 border-t border-gray-200 border-solid"},De={setup(C){const{t:c}=Q();let n=B(!1),u=B(!1),E=B(!1),m=B([]),p=B([]);const _=K(),t=Z();let q=B([]);const A=b(()=>({currentExchangeRate:{key:{required:V.withMessage(c("validation.required"),G)},driver:{required:V.withMessage(c("validation.required"),G)},currencies:{required:V.withMessage(c("validation.required"),G)}},currencyConverter:{type:{required:V.withMessage(c("validation.required"),W(i))},url:{required:V.withMessage(c("validation.required"),W($)),url:V.withMessage(c("validation.invalid_url"),pe)}}})),O=b(()=>t.drivers.map(r=>Object.assign({},r,{key:c(r.key)}))),z=b(()=>_.active&&_.componentName==="ExchangeRateProviderModal");b(()=>_.title);const i=b(()=>t.currentExchangeRate.driver==="currency_converter"),$=b(()=>t.currencyConverter&&t.currencyConverter.type==="DEDICATED"),S=b(()=>{switch(t.currentExchangeRate.driver){case"currency_converter":return"https://www.currencyconverterapi.com";case"currency_freak":return"https://currencyfreaks.com";case"currency_layer":return"https://currencylayer.com";case"open_exchange_rate":return"https://openexchangerates.org";default:return""}}),o=he(A,b(()=>t));function N(){m.value=[]}function F(){const{currencies:r}=t.currentExchangeRate;m.value.forEach(a=>{r.forEach((h,f)=>{h===a&&r.splice(f,1)})}),m.value=[]}function j(){t.currentExchangeRate.key=null,t.currentExchangeRate.currencies=[],t.supportedCurrencies=[]}function d(){t.supportedCurrencies=[],p.value=[],t.currentExchangeRate={id:null,name:"",driver:"",key:"",active:!0,currencies:[]},t.currencyConverter={type:"",url:""},m.value=[]}async function D(){t.currentExchangeRate.driver="currency_converter";let r={};t.isEdit&&(r.provider_id=t.currentExchangeRate.id),u.value=!0,await t.fetchDefaultProviders(),await t.fetchActiveCurrency(r),p.value=t.currentExchangeRate.currencies,u.value=!1}L(()=>i.value,(r,a)=>{r&&ae()},{immediate:!0}),L(()=>t.currentExchangeRate.key,(r,a)=>{r&&P()}),L(()=>{var r;return(r=t==null?void 0:t.currencyConverter)==null?void 0:r.type},(r,a)=>{r&&P()}),P=me.exports.debounce(P,500);function te(){return o.value.$touch(),ne(),!!(o.value.$invalid||m.value.length&&t.currentExchangeRate.active)}async function re(){if(te())return!0;let r=T({},t.currentExchangeRate);i.value&&(r.driver_config=T({},t.currencyConverter),$.value||(r.driver_config.url=""));const a=t.isEdit?t.updateProvider:t.addProvider;n.value=!0,await a(r).then(h=>{n.value=!1,_.refreshData&&_.refreshData(),U()}).catch(h=>{n.value=!1})}async function ae(){let r=await t.getCurrencyConverterServers();q.value=r.data.currency_converter_servers,t.currencyConverter.type="FREE"}function P(){var h;const{driver:r,key:a}=t.currentExchangeRate;if(r&&a){E.value=!0;let f={driver:r,key:a};if(i.value&&!t.currencyConverter.type){E.value=!1;return}((h=t==null?void 0:t.currencyConverter)==null?void 0:h.type)&&(f.type=t.currencyConverter.type),t.fetchCurrencies(f).then(R=>{E.value=!1}).catch(R=>{E.value=!1})}}function ne(r=!0){var h;m.value=[];const{currencies:a}=t.currentExchangeRate;a.length&&((h=t.activeUsedCurrencies)==null?void 0:h.length)&&a.forEach(f=>{t.activeUsedCurrencies.includes(f)&&m.value.push(f)})}function U(){_.closeModal(),setTimeout(()=>{d(),o.value.$reset()},300)}return(r,a)=>{const h=v("BaseIcon"),f=v("BaseMultiselect"),R=v("BaseInputGroup"),Y=v("BaseInput"),oe=v("BaseSwitch"),se=v("BaseInputGrid"),le=v("BaseInfoAlert"),H=v("BaseButton"),ce=v("BaseModal");return k(),I(ce,{show:e(z),onClose:U,onOpen:D},{header:l(()=>[y("div",we,[w(x(e(_).title)+" ",1),s(h,{name:"XIcon",class:"w-6 h-6 text-gray-500 cursor-pointer",onClick:U})])]),default:l(()=>[y("form",{onSubmit:fe(re,["prevent"])},[y("div",Ie,[s(se,{layout:"one-column"},{default:l(()=>[s(R,{label:r.$tc("settings.exchange_rate.driver"),"content-loading":e(u),required:"",error:e(o).currentExchangeRate.driver.$error&&e(o).currentExchangeRate.driver.$errors[0].$message,"help-text":e(S)},{default:l(()=>[s(f,{modelValue:e(t).currentExchangeRate.driver,"onUpdate:modelValue":[a[0]||(a[0]=g=>e(t).currentExchangeRate.driver=g),j],options:e(O),"content-loading":e(u),"value-prop":"value","can-deselect":!0,label:"key",searchable:!0,invalid:e(o).currentExchangeRate.driver.$error,onInput:a[1]||(a[1]=g=>e(o).currentExchangeRate.driver.$touch())},null,8,["modelValue","options","content-loading","invalid"])]),_:1},8,["label","content-loading","error","help-text"]),e(i)?(k(),I(R,{key:0,required:"",label:r.$t("settings.exchange_rate.server"),"content-loading":e(u),error:e(o).currencyConverter.type.$error&&e(o).currencyConverter.type.$errors[0].$message},{default:l(()=>[s(f,{modelValue:e(t).currencyConverter.type,"onUpdate:modelValue":[a[2]||(a[2]=g=>e(t).currencyConverter.type=g),j],"content-loading":e(u),"value-prop":"value",searchable:"",options:e(q),invalid:e(o).currencyConverter.type.$error,label:"value"},null,8,["modelValue","content-loading","options","invalid"])]),_:1},8,["label","content-loading","error"])):M("",!0),s(R,{label:r.$t("settings.exchange_rate.key"),required:"","content-loading":e(u),error:e(o).currentExchangeRate.key.$error&&e(o).currentExchangeRate.key.$errors[0].$message},{default:l(()=>[s(Y,{modelValue:e(t).currentExchangeRate.key,"onUpdate:modelValue":a[3]||(a[3]=g=>e(t).currentExchangeRate.key=g),"content-loading":e(u),type:"text",name:"key",loading:e(E),"loading-position":"right",invalid:e(o).currentExchangeRate.key.$error},null,8,["modelValue","content-loading","loading","invalid"])]),_:1},8,["label","content-loading","error"]),e(t).supportedCurrencies.length?(k(),I(R,{key:1,label:r.$t("settings.exchange_rate.currency"),"content-loading":e(u),error:e(o).currentExchangeRate.currencies.$error&&e(o).currentExchangeRate.currencies.$errors[0].$message,"help-text":r.$t("settings.exchange_rate.currency_help_text")},{default:l(()=>[s(f,{modelValue:e(t).currentExchangeRate.currencies,"onUpdate:modelValue":a[4]||(a[4]=g=>e(t).currentExchangeRate.currencies=g),"content-loading":e(u),"value-prop":"code",mode:"tags",searchable:"",options:e(t).supportedCurrencies,invalid:e(o).currentExchangeRate.currencies.$error,label:"code","track-by":"code",onInput:a[5]||(a[5]=g=>e(o).currentExchangeRate.currencies.$touch()),openDirection:"top"},null,8,["modelValue","content-loading","options","invalid"])]),_:1},8,["label","content-loading","error","help-text"])):M("",!0),e($)?(k(),I(R,{key:2,label:r.$t("settings.exchange_rate.url"),"content-loading":e(u),error:e(o).currencyConverter.url.$error&&e(o).currencyConverter.url.$errors[0].$message},{default:l(()=>[s(Y,{modelValue:e(t).currencyConverter.url,"onUpdate:modelValue":a[6]||(a[6]=g=>e(t).currencyConverter.url=g),"content-loading":e(u),type:"url",invalid:e(o).currencyConverter.url.$error,onInput:a[7]||(a[7]=g=>e(o).currencyConverter.url.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"])):M("",!0),s(oe,{modelValue:e(t).currentExchangeRate.active,"onUpdate:modelValue":a[8]||(a[8]=g=>e(t).currentExchangeRate.active=g),class:"flex","label-right":r.$t("settings.exchange_rate.active")},null,8,["modelValue","label-right"])]),_:1}),e(m).length&&e(t).currentExchangeRate.active?(k(),I(le,{key:0,class:"mt-5",title:r.$t("settings.exchange_rate.currency_in_used"),lists:[e(m).toString()],actions:["Remove"],onHide:N,onRemove:F},null,8,["title","lists"])):M("",!0)]),y("div",Se,[s(H,{class:"mr-3",variant:"primary-outline",type:"button",disabled:e(n),onClick:U},{default:l(()=>[w(x(r.$t("general.cancel")),1)]),_:1},8,["disabled"]),s(H,{loading:e(n),disabled:e(n)||e(E),variant:"primary",type:"submit"},{left:l(g=>[e(n)?M("",!0):(k(),I(h,{key:0,name:"SaveIcon",class:ee(g.class)},null,8,["class"]))]),default:l(()=>[w(" "+x(e(t).isEdit?r.$t("general.update"):r.$t("general.save")),1)]),_:1},8,["loading","disabled"])])],40,Ve)]),_:1},8,["show"])}}},Me={slot:"header",class:"flex flex-wrap justify-between lg:flex-nowrap"},qe={class:"text-lg font-medium text-left"},Ne={class:"mt-2 text-sm leading-snug text-left text-gray-500",style:{"max-width":"680px"}},je={class:"mt-4 lg:mt-0 lg:ml-2"},Pe={class:"capitalize"},Ue={class:"inline-block"},Ge={setup(C){const{tm:c,t:n}=Q();ge();const u=Z(),E=K(),m=ve();let p=B("");const _=ye("utils"),t=b(()=>[{key:"driver",label:n("settings.exchange_rate.driver"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"key",label:n("settings.exchange_rate.key"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"active",label:n("settings.exchange_rate.active"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"actions",label:"",tdClass:"text-right text-sm font-medium",sortable:!1}]);async function q({page:i,sort:$}){let S=Be({orderByField:$.fieldName||"created_at",orderBy:$.order||"desc",page:i}),o=await u.fetchProviders(S);return{data:o.data.data,pagination:{totalPages:o.data.meta.last_page,currentPage:i,totalCount:o.data.meta.total,limit:5}}}function A(){E.openModal({title:n("settings.exchange_rate.new_driver"),componentName:"ExchangeRateProviderModal",size:"md",refreshData:p.value&&p.value.refresh})}function O(i){u.fetchProvider(i),E.openModal({title:n("settings.exchange_rate.edit_driver"),componentName:"ExchangeRateProviderModal",size:"md",data:i,refreshData:p.value&&p.value.refresh})}function z(i){m.openDialog({title:n("general.are_you_sure"),message:n("settings.exchange_rate.exchange_rate_confirm_delete"),yesLabel:n("general.ok"),noLabel:n("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(async $=>{$&&(await u.deleteExchangeRate(i),p.value&&p.value.refresh())})}return(i,$)=>{const S=v("BaseButton"),o=v("BaseBadge"),N=v("BaseDropdownItem"),F=v("BaseDropdown"),j=v("BaseCard");return k(),_e(Re,null,[s(De),s(j,null,{default:l(()=>[y("div",Me,[y("div",null,[y("h6",qe,x(i.$t("settings.menu_title.exchange_rate")),1),y("p",Ne,x(i.$t("settings.exchange_rate.providers_description")),1)]),y("div",je,[s(S,{variant:"primary-outline",size:"lg",onClick:A},{left:l(d=>[s(e(xe),{class:ee(d.class)},null,8,["class"])]),default:l(()=>[w(" "+x(i.$t("settings.exchange_rate.new_driver")),1)]),_:1})])]),s(ke,{ref:(d,D)=>{D.table=d,Ce(p)?p.value=d:p=d},class:"mt-16",data:q,columns:e(t)},{"cell-driver":l(({row:d})=>[y("span",Pe,x(d.data.driver.replace("_"," ")),1)]),"cell-active":l(({row:d})=>[s(o,{"bg-color":e(_).getBadgeStatusColor(d.data.active?"YES":"NO").bgColor,color:e(_).getBadgeStatusColor(d.data.active?"YES":"NO").color},{default:l(()=>[w(x(d.data.active?"YES":"NO"),1)]),_:2},1032,["bg-color","color"])]),"cell-actions":l(({row:d})=>[s(F,null,{activator:l(()=>[y("div",Ue,[s(e(Ee),{class:"w-5 text-gray-500"})])]),default:l(()=>[s(N,{onClick:D=>O(d.data.id)},{default:l(()=>[s(e($e),{class:"h-5 mr-3 text-gray-600"}),w(" "+x(i.$t("general.edit")),1)]),_:2},1032,["onClick"]),s(N,{onClick:D=>z(d.data.id)},{default:l(()=>[s(e(be),{class:"h-5 mr-3 text-gray-600"}),w(" "+x(i.$t("general.delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:1},8,["columns"])]),_:1})],64)}}};export{Ge as default};

--- public/build/assets/ExpenseCategorySetting.80e0d8ac.js ---
@@ -1 +1 @@
-import{j as v,u as $,e as M,c as S,g as k}from"./main.832b14c7.js";import{u as E}from"./category.c27e9638.js";import{J as I,G as T,ah as z,r as i,o as m,l as p,w as e,u as g,f as n,i as w,t as C,j as N,B as P,k as F,e as V,m as L,h as j,F as A}from"./vendor.01d0adc5.js";import{_ as H}from"./CategoryModal.9d414df9.js";const O={props:{row:{type:Object,default:null},table:{type:Object,default:null},loadData:{type:Function,default:null}},setup(y){const d=y,B=v();$();const{t:o}=I(),s=E(),h=T(),_=M(),x=S();z("utils");function b(l){s.fetchCategory(l),x.openModal({title:o("settings.expense_category.edit_category"),componentName:"CategoryModal",refreshData:d.loadData,size:"sm"})}function r(l){B.openDialog({title:o("general.are_you_sure"),message:o("settings.expense_category.confirm_delete"),yesLabel:o("general.ok"),noLabel:o("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(async()=>{if((await s.deleteCategory(l)).data.success)return d.loadData&&d.loadData(),!0;d.loadData&&d.loadData()})}return(l,t)=>{const c=i("BaseIcon"),u=i("BaseButton"),f=i("BaseDropdownItem"),a=i("BaseDropdown");return m(),p(a,null,{activator:e(()=>[g(h).name==="expenseCategorys.view"?(m(),p(u,{key:0,variant:"primary"},{default:e(()=>[n(c,{name:"DotsHorizontalIcon",class:"h-5 text-white"})]),_:1})):(m(),p(c,{key:1,name:"DotsHorizontalIcon",class:"h-5 text-gray-500"}))]),default:e(()=>[g(_).hasAbilities(g(k).EDIT_EXPENSE)?(m(),p(f,{key:0,onClick:t[0]||(t[0]=D=>b(y.row.id))},{default:e(()=>[n(c,{name:"PencilIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),w(" "+C(l.$t("general.edit")),1)]),_:1})):N("",!0),g(_).hasAbilities(g(k).DELETE_EXPENSE)?(m(),p(f,{key:1,onClick:t[1]||(t[1]=D=>r(y.row.id))},{default:e(()=>[n(c,{name:"TrashIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),w(" "+C(l.$t("general.delete")),1)]),_:1})):N("",!0)]),_:1})}}},X={class:"w-64"},G={class:"truncate"},K={setup(y){const d=E();v();const B=S(),{t:o}=I(),s=P(null),h=F(()=>[{key:"name",label:o("settings.expense_category.category_name"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"description",label:o("settings.expense_category.category_description"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"actions",label:"",tdClass:"text-right text-sm font-medium",sortable:!1}]);async function _({page:r,filter:l,sort:t}){let c={orderByField:t.fieldName||"created_at",orderBy:t.order||"desc",page:r},u=await d.fetchCategories(c);return{data:u.data.data,pagination:{totalPages:u.data.meta.last_page,currentPage:r,totalCount:u.data.meta.total,limit:5}}}function x(){B.openModal({title:o("settings.expense_category.add_category"),componentName:"CategoryModal",size:"sm",refreshData:s.value&&s.value.refresh})}async function b(){s.value&&s.value.refresh()}return(r,l)=>{const t=i("BaseIcon"),c=i("BaseButton"),u=i("BaseTable"),f=i("BaseSettingCard");return m(),V(A,null,[n(H),n(f,{title:r.$t("settings.expense_category.title"),description:r.$t("settings.expense_category.description")},{action:e(()=>[n(c,{variant:"primary-outline",type:"button",onClick:x},{left:e(a=>[n(t,{class:L(a.class),name:"PlusIcon"},null,8,["class"])]),default:e(()=>[w(" "+C(r.$t("settings.expense_category.add_new_category")),1)]),_:1})]),default:e(()=>[n(u,{ref:(a,D)=>{D.table=a,s.value=a},data:_,columns:g(h),class:"mt-16"},{"cell-description":e(({row:a})=>[j("div",X,[j("p",G,C(a.data.description),1)])]),"cell-actions":e(({row:a})=>[n(O,{row:a.data,table:s.value,"load-data":b},null,8,["row","table"])]),_:1},8,["columns"])]),_:1},8,["title","description"])],64)}}};export{K as default};
+import{j as v,u as $,e as M,c as S,g as k}from"./main.75722495.js";import{u as E}from"./category.4b37f0ed.js";import{J as I,G as T,ah as z,r as i,o as m,l as p,w as e,u as g,f as n,i as w,t as C,j as N,B as P,k as F,e as V,m as L,h as j,F as A}from"./vendor.01d0adc5.js";import{_ as H}from"./CategoryModal.9a2e05b9.js";const O={props:{row:{type:Object,default:null},table:{type:Object,default:null},loadData:{type:Function,default:null}},setup(y){const d=y,B=v();$();const{t:o}=I(),s=E(),h=T(),_=M(),x=S();z("utils");function b(l){s.fetchCategory(l),x.openModal({title:o("settings.expense_category.edit_category"),componentName:"CategoryModal",refreshData:d.loadData,size:"sm"})}function r(l){B.openDialog({title:o("general.are_you_sure"),message:o("settings.expense_category.confirm_delete"),yesLabel:o("general.ok"),noLabel:o("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(async()=>{if((await s.deleteCategory(l)).data.success)return d.loadData&&d.loadData(),!0;d.loadData&&d.loadData()})}return(l,t)=>{const c=i("BaseIcon"),u=i("BaseButton"),f=i("BaseDropdownItem"),a=i("BaseDropdown");return m(),p(a,null,{activator:e(()=>[g(h).name==="expenseCategorys.view"?(m(),p(u,{key:0,variant:"primary"},{default:e(()=>[n(c,{name:"DotsHorizontalIcon",class:"h-5 text-white"})]),_:1})):(m(),p(c,{key:1,name:"DotsHorizontalIcon",class:"h-5 text-gray-500"}))]),default:e(()=>[g(_).hasAbilities(g(k).EDIT_EXPENSE)?(m(),p(f,{key:0,onClick:t[0]||(t[0]=D=>b(y.row.id))},{default:e(()=>[n(c,{name:"PencilIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),w(" "+C(l.$t("general.edit")),1)]),_:1})):N("",!0),g(_).hasAbilities(g(k).DELETE_EXPENSE)?(m(),p(f,{key:1,onClick:t[1]||(t[1]=D=>r(y.row.id))},{default:e(()=>[n(c,{name:"TrashIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),w(" "+C(l.$t("general.delete")),1)]),_:1})):N("",!0)]),_:1})}}},X={class:"w-64"},G={class:"truncate"},K={setup(y){const d=E();v();const B=S(),{t:o}=I(),s=P(null),h=F(()=>[{key:"name",label:o("settings.expense_category.category_name"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"description",label:o("settings.expense_category.category_description"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"actions",label:"",tdClass:"text-right text-sm font-medium",sortable:!1}]);async function _({page:r,filter:l,sort:t}){let c={orderByField:t.fieldName||"created_at",orderBy:t.order||"desc",page:r},u=await d.fetchCategories(c);return{data:u.data.data,pagination:{totalPages:u.data.meta.last_page,currentPage:r,totalCount:u.data.meta.total,limit:5}}}function x(){B.openModal({title:o("settings.expense_category.add_category"),componentName:"CategoryModal",size:"sm",refreshData:s.value&&s.value.refresh})}async function b(){s.value&&s.value.refresh()}return(r,l)=>{const t=i("BaseIcon"),c=i("BaseButton"),u=i("BaseTable"),f=i("BaseSettingCard");return m(),V(A,null,[n(H),n(f,{title:r.$t("settings.expense_category.title"),description:r.$t("settings.expense_category.description")},{action:e(()=>[n(c,{variant:"primary-outline",type:"button",onClick:x},{left:e(a=>[n(t,{class:L(a.class),name:"PlusIcon"},null,8,["class"])]),default:e(()=>[w(" "+C(r.$t("settings.expense_category.add_new_category")),1)]),_:1})]),default:e(()=>[n(u,{ref:(a,D)=>{D.table=a,s.value=a},data:_,columns:g(h),class:"mt-16"},{"cell-description":e(({row:a})=>[j("div",X,[j("p",G,C(a.data.description),1)])]),"cell-actions":e(({row:a})=>[n(O,{row:a.data,table:s.value,"load-data":b},null,8,["row","table"])]),_:1},8,["columns"])]),_:1},8,["title","description"])],64)}}};export{K as default};

--- public/build/assets/FileDiskSetting.b99dc80a.js ---
@@ -1 +1 @@
-var re=Object.defineProperty;var X=Object.getOwnPropertySymbols;var se=Object.prototype.hasOwnProperty,le=Object.prototype.propertyIsEnumerable;var Q=(t,i,a)=>i in t?re(t,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[i]=a,W=(t,i)=>{for(var a in i||(i={}))se.call(i,a)&&Q(t,a,i[a]);if(X)for(var a of X(i))le.call(i,a)&&Q(t,a,i[a]);return t};import{u as j}from"./disk.3cfd12a4.js";import{_ as F,c as G,b as ne,j as de}from"./main.832b14c7.js";import{J as A,B as p,k as S,L as g,M as D,T as R,b1 as Y,a0 as L,r as f,o as y,e as h,h as b,f as r,w as n,t as V,j as E,g as z,U as K,R as ue,a7 as fe,l as N,i as U,aj as ke,ah as me,m as ve,x as Z,u as P,F as ge}from"./vendor.01d0adc5.js";const ce={props:{isEdit:{type:Boolean,require:!0,default:!1},loading:{type:Boolean,require:!0,default:!1},disks:{type:Array,require:!0,default:Array}},emits:["submit","onChangeDisk"],setup(t,{emit:i}){const a=j(),e=G(),{t:u}=A();let k=p(!1),s=p(!1),l=p(null),d=p(null);const c=S({get:()=>a.selected_driver,set:v=>{a.selected_driver=v,a.dropBoxDiskConfig.selected_driver=v}}),m=S(()=>({dropBoxDiskConfig:{root:{required:g.withMessage(u("validation.required"),D)},key:{required:g.withMessage(u("validation.required"),D)},secret:{required:g.withMessage(u("validation.required"),D)},token:{required:g.withMessage(u("validation.required"),D)},app:{required:g.withMessage(u("validation.required"),D)},selected_driver:{required:g.withMessage(u("validation.required"),D)},name:{required:g.withMessage(u("validation.required"),D)}}})),o=R(m,S(()=>a));Y(()=>{a.dropBoxDiskConfig={name:null,selected_driver:"dropbox",token:null,key:null,secret:null,app:null}}),B();async function B(){s.value=!0;let v=L({disk:"dropbox"});if(t.isEdit)Object.assign(a.dropBoxDiskConfig,e.data),k.value=e.data.set_as_default,k.value&&(l.value=!0);else{let $=await a.fetchDiskEnv(v);Object.assign(a.dropBoxDiskConfig,$.data)}d.value=t.disks.find($=>$.value=="dropbox"),s.value=!1}const M=S(()=>!!(t.isEdit&&k.value&&l.value));async function w(){if(o.value.dropBoxDiskConfig.$touch(),o.value.dropBoxDiskConfig.$invalid)return!0;let v={credentials:a.dropBoxDiskConfig,name:a.dropBoxDiskConfig.name,driver:d.value.value,set_as_default:k.value};return i("submit",v),!1}function I(){i("onChangeDisk",a.dropBoxDiskConfig.selected_driver)}return{v$:o,diskStore:a,selected_driver:c,set_as_default:k,isLoading:s,is_current_disk:l,selected_disk:d,isDisabled:M,loadData:B,submitData:w,onChangeDriver:I}}},De={class:"px-8 py-6"},Ce={key:0,class:"flex items-center mt-6"},pe={class:"relative flex items-center w-12"},_e={class:"ml-4 right"},be={class:"p-0 mb-1 text-base leading-snug text-black box-title"};function Se(t,i,a,e,u,k){const s=f("BaseInput"),l=f("BaseInputGroup"),d=f("BaseMultiselect"),c=f("BaseInputGrid"),m=f("BaseSwitch");return y(),h("form",{onSubmit:i[15]||(i[15]=K((...o)=>e.submitData&&e.submitData(...o),["prevent"]))},[b("div",De,[r(c,null,{default:n(()=>[r(l,{label:t.$t("settings.disk.name"),error:e.v$.dropBoxDiskConfig.name.$error&&e.v$.dropBoxDiskConfig.name.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.dropBoxDiskConfig.name,"onUpdate:modelValue":i[0]||(i[0]=o=>e.diskStore.dropBoxDiskConfig.name=o),type:"text",name:"name",invalid:e.v$.dropBoxDiskConfig.name.$error,onInput:i[1]||(i[1]=o=>e.v$.dropBoxDiskConfig.name.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),r(l,{label:t.$t("settings.disk.driver"),error:e.v$.dropBoxDiskConfig.selected_driver.$error&&e.v$.dropBoxDiskConfig.selected_driver.$errors[0].$message,required:""},{default:n(()=>[r(d,{modelValue:e.selected_driver,"onUpdate:modelValue":[i[2]||(i[2]=o=>e.selected_driver=o),i[3]||(i[3]=o=>e.onChangeDriver(t.data))],invalid:e.v$.dropBoxDiskConfig.selected_driver.$error,"value-prop":"value",options:a.disks,searchable:"",label:"name","can-deselect":!1},null,8,["modelValue","invalid","options"])]),_:1},8,["label","error"]),r(l,{label:t.$t("settings.disk.dropbox_root"),error:e.v$.dropBoxDiskConfig.root.$error&&e.v$.dropBoxDiskConfig.root.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.dropBoxDiskConfig.root,"onUpdate:modelValue":i[4]||(i[4]=o=>e.diskStore.dropBoxDiskConfig.root=o),modelModifiers:{trim:!0},type:"text",name:"name",placeholder:"Ex. /user/root/",invalid:e.v$.dropBoxDiskConfig.root.$error,onInput:i[5]||(i[5]=o=>e.v$.dropBoxDiskConfig.root.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),r(l,{label:t.$t("settings.disk.dropbox_token"),error:e.v$.dropBoxDiskConfig.token.$error&&e.v$.dropBoxDiskConfig.token.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.dropBoxDiskConfig.token,"onUpdate:modelValue":i[6]||(i[6]=o=>e.diskStore.dropBoxDiskConfig.token=o),modelModifiers:{trim:!0},type:"text",name:"name",invalid:e.v$.dropBoxDiskConfig.token.$error,onInput:i[7]||(i[7]=o=>e.v$.dropBoxDiskConfig.token.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),r(l,{label:t.$t("settings.disk.dropbox_key"),error:e.v$.dropBoxDiskConfig.key.$error&&e.v$.dropBoxDiskConfig.key.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.dropBoxDiskConfig.key,"onUpdate:modelValue":i[8]||(i[8]=o=>e.diskStore.dropBoxDiskConfig.key=o),modelModifiers:{trim:!0},type:"text",name:"name",placeholder:"Ex. KEIS4S39SERSDS",invalid:e.v$.dropBoxDiskConfig.key.$error,onInput:i[9]||(i[9]=o=>e.v$.dropBoxDiskConfig.key.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),r(l,{label:t.$t("settings.disk.dropbox_secret"),error:e.v$.dropBoxDiskConfig.secret.$error&&e.v$.dropBoxDiskConfig.secret.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.dropBoxDiskConfig.secret,"onUpdate:modelValue":i[10]||(i[10]=o=>e.diskStore.dropBoxDiskConfig.secret=o),modelModifiers:{trim:!0},type:"text",name:"name",placeholder:"Ex. ********",invalid:e.v$.dropBoxDiskConfig.secret.$error,onInput:i[11]||(i[11]=o=>e.v$.dropBoxDiskConfig.secret.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),r(l,{label:t.$t("settings.disk.dropbox_app"),error:e.v$.dropBoxDiskConfig.app.$error&&e.v$.dropBoxDiskConfig.app.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.dropBoxDiskConfig.app,"onUpdate:modelValue":i[12]||(i[12]=o=>e.diskStore.dropBoxDiskConfig.app=o),modelModifiers:{trim:!0},type:"text",name:"name",invalid:e.v$.dropBoxDiskConfig.app.$error,onInput:i[13]||(i[13]=o=>e.v$.dropBoxDiskConfig.app.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"])]),_:1}),e.isDisabled?E("",!0):(y(),h("div",Ce,[b("div",pe,[r(m,{modelValue:e.set_as_default,"onUpdate:modelValue":i[14]||(i[14]=o=>e.set_as_default=o),class:"flex"},null,8,["modelValue"])]),b("div",_e,[b("p",be,V(t.$t("settings.disk.is_default")),1)])]))]),z(t.$slots,"default",{diskData:{isLoading:e.isLoading,submitData:e.submitData}})],32)}var $e=F(ce,[["render",Se]]);const ye={props:{isEdit:{type:Boolean,require:!0,default:!1},loading:{type:Boolean,require:!0,default:!1},disks:{type:Array,require:!0,default:Array}},emits:["submit","onChangeDisk"],setup(t,{emit:i}){const a=j(),e=G(),{t:u}=A();let k=p(!1),s=p(!1),l=p(""),d=p(null);const c=S({get:()=>a.selected_driver,set:v=>{a.selected_driver=v,a.localDiskConfig.selected_driver=v}}),m=S(()=>({localDiskConfig:{name:{required:g.withMessage(u("validation.required"),D)},selected_driver:{required:g.withMessage(u("validation.required"),D)},root:{required:g.withMessage(u("validation.required"),D)}}})),o=R(m,S(()=>a));Y(()=>{a.localDiskConfig={name:null,selected_driver:"local",root:null}}),B();async function B(){k.value=!0;let v=L({disk:"local"});if(t.isEdit)Object.assign(a.localDiskConfig,e.data),a.localDiskConfig.root=e.data.credentials,s.value=e.data.set_as_default,s.value&&(d.value=!0);else{let $=await a.fetchDiskEnv(v);Object.assign(a.localDiskConfig,$.data)}l.value=t.disks.find($=>$.value=="local"),k.value=!1}const M=S(()=>!!(t.isEdit&&s.value&&d.value));async function w(){if(o.value.localDiskConfig.$touch(),o.value.localDiskConfig.$invalid)return!0;let v=L({credentials:a.localDiskConfig.root,name:a.localDiskConfig.name,driver:a.localDiskConfig.selected_driver,set_as_default:s.value});return i("submit",v),!1}function I(){i("onChangeDisk",a.localDiskConfig.selected_driver)}return{v$:o,diskStore:a,modalStore:e,selected_driver:c,selected_disk:l,isLoading:k,set_as_default:s,is_current_disk:d,submitData:w,onChangeDriver:I,isDisabled:M}}},Be={class:"px-4 sm:px-8 py-6"},xe={key:0,class:"flex items-center mt-6"},Ve={class:"relative flex items-center w-12"},qe={class:"ml-4 right"},Me={class:"p-0 mb-1 text-base leading-snug text-black box-title"};function we(t,i,a,e,u,k){const s=f("BaseInput"),l=f("BaseInputGroup"),d=f("BaseMultiselect"),c=f("BaseInputGrid"),m=f("BaseSwitch");return y(),h("form",{action:"",onSubmit:i[7]||(i[7]=K((...o)=>e.submitData&&e.submitData(...o),["prevent"]))},[b("div",Be,[r(c,null,{default:n(()=>[r(l,{label:t.$t("settings.disk.name"),error:e.v$.localDiskConfig.name.$error&&e.v$.localDiskConfig.name.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.localDiskConfig.name,"onUpdate:modelValue":i[0]||(i[0]=o=>e.diskStore.localDiskConfig.name=o),type:"text",name:"name",invalid:e.v$.localDiskConfig.name.$error,onInput:i[1]||(i[1]=o=>e.v$.localDiskConfig.name.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),r(l,{label:t.$tc("settings.disk.driver"),error:e.v$.localDiskConfig.selected_driver.$error&&e.v$.localDiskConfig.selected_driver.$errors[0].$message,required:""},{default:n(()=>[r(d,{modelValue:e.selected_driver,"onUpdate:modelValue":[i[2]||(i[2]=o=>e.selected_driver=o),i[3]||(i[3]=o=>e.onChangeDriver(t.data))],"value-prop":"value",invalid:e.v$.localDiskConfig.selected_driver.$error,options:a.disks,searchable:"",label:"name","can-deselect":!1},null,8,["modelValue","invalid","options"])]),_:1},8,["label","error"]),r(l,{label:t.$t("settings.disk.local_root"),error:e.v$.localDiskConfig.root.$error&&e.v$.localDiskConfig.root.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.localDiskConfig.root,"onUpdate:modelValue":i[4]||(i[4]=o=>e.diskStore.localDiskConfig.root=o),modelModifiers:{trim:!0},type:"text",name:"name",invalid:e.v$.localDiskConfig.root.$error,placeholder:"Ex./user/root/",onInput:i[5]||(i[5]=o=>e.v$.localDiskConfig.root.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"])]),_:1}),e.isDisabled?E("",!0):(y(),h("div",xe,[b("div",Ve,[r(m,{modelValue:e.set_as_default,"onUpdate:modelValue":i[6]||(i[6]=o=>e.set_as_default=o),class:"flex"},null,8,["modelValue"])]),b("div",qe,[b("p",Me,V(t.$t("settings.disk.is_default")),1)])]))]),z(t.$slots,"default",{diskData:{isLoading:e.isLoading,submitData:e.submitData}})],32)}var Ie=F(ye,[["render",we]]);const he={props:{isEdit:{type:Boolean,require:!0,default:!1},loading:{type:Boolean,require:!0,default:!1},disks:{type:Array,require:!0,default:Array}},emits:["submit","onChangeDisk"],setup(t,{emit:i}){const a=j(),e=G(),{t:u}=A();let k=p(!1),s=p(!1),l=p(null),d=p(null);const c=S({get:()=>a.selected_driver,set:v=>{a.selected_driver=v,a.s3DiskConfigData.selected_driver=v}}),m=S(()=>({s3DiskConfigData:{name:{required:g.withMessage(u("validation.required"),D)},root:{required:g.withMessage(u("validation.required"),D)},key:{required:g.withMessage(u("validation.required"),D)},secret:{required:g.withMessage(u("validation.required"),D)},region:{required:g.withMessage(u("validation.required"),D)},bucket:{required:g.withMessage(u("validation.required"),D)},selected_driver:{required:g.withMessage(u("validation.required"),D)}}})),o=R(m,S(()=>a));Y(()=>{a.s3DiskConfigData={name:null,selected_driver:"s3",key:null,secret:null,region:null,bucket:null,root:null}}),B();async function B(){s.value=!0;let v=L({disk:"s3"});if(t.isEdit)Object.assign(a.s3DiskConfigData,e.data),k.value=e.data.set_as_default,k.value&&(d.value=!0);else{let $=await a.fetchDiskEnv(v);Object.assign(a.s3DiskConfigData,$.data)}l.value=t.disks.find($=>$.value=="s3"),s.value=!1}const M=S(()=>!!(t.isEdit&&k.value&&d.value));async function w(){if(o.value.s3DiskConfigData.$touch(),o.value.s3DiskConfigData.$invalid)return!0;let v={credentials:a.s3DiskConfigData,name:a.s3DiskConfigData.name,driver:l.value.value,set_as_default:k.value};return i("submit",v),!1}function I(){i("onChangeDisk",a.s3DiskConfigData.selected_driver)}return{v$:o,diskStore:a,modalStore:e,set_as_default:k,isLoading:s,selected_disk:l,selected_driver:c,is_current_disk:d,loadData:B,submitData:w,onChangeDriver:I,isDisabled:M}}},Ee={class:"px-8 py-6"},Ue={key:0,class:"flex items-center mt-6"},Le={class:"relative flex items-center w-12"},Ne={class:"ml-4 right"},je={class:"p-0 mb-1 text-base leading-snug text-black box-title"};function Ge(t,i,a,e,u,k){const s=f("BaseInput"),l=f("BaseInputGroup"),d=f("BaseMultiselect"),c=f("BaseInputGrid"),m=f("BaseSwitch");return y(),h("form",{onSubmit:i[15]||(i[15]=K((...o)=>e.submitData&&e.submitData(...o),["prevent"]))},[b("div",Ee,[r(c,null,{default:n(()=>[r(l,{label:t.$t("settings.disk.name"),error:e.v$.s3DiskConfigData.name.$error&&e.v$.s3DiskConfigData.name.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.s3DiskConfigData.name,"onUpdate:modelValue":i[0]||(i[0]=o=>e.diskStore.s3DiskConfigData.name=o),type:"text",name:"name",invalid:e.v$.s3DiskConfigData.name.$error,onInput:i[1]||(i[1]=o=>e.v$.s3DiskConfigData.name.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),r(l,{label:t.$tc("settings.disk.driver"),error:e.v$.s3DiskConfigData.selected_driver.$error&&e.v$.s3DiskConfigData.selected_driver.$errors[0].$message,required:""},{default:n(()=>[r(d,{modelValue:e.selected_driver,"onUpdate:modelValue":[i[2]||(i[2]=o=>e.selected_driver=o),i[3]||(i[3]=o=>e.onChangeDriver(t.data))],invalid:e.v$.s3DiskConfigData.selected_driver.$error,"value-prop":"value",options:a.disks,searchable:"",label:"name","can-deselect":!1},null,8,["modelValue","invalid","options"])]),_:1},8,["label","error"]),r(l,{label:t.$t("settings.disk.aws_root"),error:e.v$.s3DiskConfigData.root.$error&&e.v$.s3DiskConfigData.root.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.s3DiskConfigData.root,"onUpdate:modelValue":i[4]||(i[4]=o=>e.diskStore.s3DiskConfigData.root=o),modelModifiers:{trim:!0},type:"text",name:"name",placeholder:"Ex. /user/root/",invalid:e.v$.s3DiskConfigData.root.$error,onInput:i[5]||(i[5]=o=>e.v$.s3DiskConfigData.root.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),r(l,{label:t.$t("settings.disk.aws_key"),error:e.v$.s3DiskConfigData.key.$error&&e.v$.s3DiskConfigData.key.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.s3DiskConfigData.key,"onUpdate:modelValue":i[6]||(i[6]=o=>e.diskStore.s3DiskConfigData.key=o),modelModifiers:{trim:!0},type:"text",name:"name",placeholder:"Ex. KEIS4S39SERSDS",invalid:e.v$.s3DiskConfigData.key.$error,onInput:i[7]||(i[7]=o=>e.v$.s3DiskConfigData.key.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),r(l,{label:t.$t("settings.disk.aws_secret"),error:e.v$.s3DiskConfigData.secret.$error&&e.v$.s3DiskConfigData.secret.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.s3DiskConfigData.secret,"onUpdate:modelValue":i[8]||(i[8]=o=>e.diskStore.s3DiskConfigData.secret=o),modelModifiers:{trim:!0},type:"text",name:"name",placeholder:"Ex. ********",invalid:e.v$.s3DiskConfigData.secret.$error,onInput:i[9]||(i[9]=o=>e.v$.s3DiskConfigData.secret.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),r(l,{label:t.$t("settings.disk.aws_region"),error:e.v$.s3DiskConfigData.region.$error&&e.v$.s3DiskConfigData.region.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.s3DiskConfigData.region,"onUpdate:modelValue":i[10]||(i[10]=o=>e.diskStore.s3DiskConfigData.region=o),modelModifiers:{trim:!0},type:"text",name:"name",placeholder:"Ex. us-west",invalid:e.v$.s3DiskConfigData.region.$error,onInput:i[11]||(i[11]=o=>e.v$.s3DiskConfigData.region.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),r(l,{label:t.$t("settings.disk.aws_bucket"),error:e.v$.s3DiskConfigData.bucket.$error&&e.v$.s3DiskConfigData.bucket.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.s3DiskConfigData.bucket,"onUpdate:modelValue":i[12]||(i[12]=o=>e.diskStore.s3DiskConfigData.bucket=o),modelModifiers:{trim:!0},type:"text",name:"name",placeholder:"Ex. AppName",invalid:e.v$.s3DiskConfigData.bucket.$error,onInput:i[13]||(i[13]=o=>e.v$.s3DiskConfigData.bucket.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"])]),_:1}),e.isDisabled?E("",!0):(y(),h("div",Ue,[b("div",Le,[r(m,{modelValue:e.set_as_default,"onUpdate:modelValue":i[14]||(i[14]=o=>e.set_as_default=o),class:"flex"},null,8,["modelValue"])]),b("div",Ne,[b("p",je,V(t.$t("settings.disk.is_default")),1)])]))]),z(t.$slots,"default",{diskData:{isLoading:e.isLoading,submitData:e.submitData}})],32)}var Oe=F(he,[["render",Ge]]);const Fe={props:{isEdit:{type:Boolean,require:!0,default:!1},loading:{type:Boolean,require:!0,default:!1},disks:{type:Array,require:!0,default:Array}},emits:["submit","onChangeDisk"],setup(t,{emit:i}){const a=j(),e=G(),{t:u}=A();let k=p(!1),s=p(!1),l=p(""),d=p(null);const c=S({get:()=>a.selected_driver,set:v=>{a.selected_driver=v,a.doSpaceDiskConfig.selected_driver=v}}),m=S(()=>({doSpaceDiskConfig:{root:{required:g.withMessage(u("validation.required"),D)},key:{required:g.withMessage(u("validation.required"),D)},secret:{required:g.withMessage(u("validation.required"),D)},region:{required:g.withMessage(u("validation.required"),D)},endpoint:{required:g.withMessage(u("validation.required"),D),url:g.withMessage(u("validation.invalid_url"),ue)},bucket:{required:g.withMessage(u("validation.required"),D)},selected_driver:{required:g.withMessage(u("validation.required"),D)},name:{required:g.withMessage(u("validation.required"),D)}}})),o=R(m,S(()=>a));Y(()=>{a.doSpaceDiskConfig={name:null,selected_driver:"doSpaces",key:null,secret:null,region:null,bucket:null,endpoint:null,root:null}}),B();async function B(){k.value=!0;let v=L({disk:"doSpaces"});if(t.isEdit)Object.assign(a.doSpaceDiskConfig,JSON.parse(e.data.credentials)),s.value=e.data.set_as_default,s.value&&(d.value=!0);else{let $=await a.fetchDiskEnv(v);Object.assign(a.doSpaceDiskConfig,$.data)}l.value=t.disks.find($=>$.value=="doSpaces"),k.value=!1}const M=S(()=>!!(t.isEdit&&s.value&&d.value));async function w(){if(o.value.doSpaceDiskConfig.$touch(),o.value.doSpaceDiskConfig.$invalid)return!0;let v={credentials:a.doSpaceDiskConfig,name:a.doSpaceDiskConfig.name,driver:l.value.value,set_as_default:s.value};return i("submit",v),!1}function I(){i("onChangeDisk",a.doSpaceDiskConfig.selected_driver)}return{v$:o,diskStore:a,selected_driver:c,isLoading:k,set_as_default:s,selected_disk:l,is_current_disk:d,loadData:B,submitData:w,onChangeDriver:I,isDisabled:M}}},Ae={class:"px-8 py-6"},Te={key:0,class:"flex items-center mt-6"},Re={class:"relative flex items-center w-12"},Ye={class:"ml-4 right"},ze={class:"p-0 mb-1 text-base leading-snug text-black box-title"};function Ke(t,i,a,e,u,k){const s=f("BaseInput"),l=f("BaseInputGroup"),d=f("BaseMultiselect"),c=f("BaseInputGrid"),m=f("BaseSwitch");return y(),h("form",{onSubmit:i[17]||(i[17]=K((...o)=>e.submitData&&e.submitData(...o),["prevent"]))},[b("div",Ae,[r(c,null,{default:n(()=>[r(l,{label:t.$t("settings.disk.name"),error:e.v$.doSpaceDiskConfig.name.$error&&e.v$.doSpaceDiskConfig.name.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.doSpaceDiskConfig.name,"onUpdate:modelValue":i[0]||(i[0]=o=>e.diskStore.doSpaceDiskConfig.name=o),type:"text",name:"name",invalid:e.v$.doSpaceDiskConfig.name.$error,onInput:i[1]||(i[1]=o=>e.v$.doSpaceDiskConfig.name.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),r(l,{label:t.$tc("settings.disk.driver"),error:e.v$.doSpaceDiskConfig.selected_driver.$error&&e.v$.doSpaceDiskConfig.selected_driver.$errors[0].$message,required:""},{default:n(()=>[r(d,{modelValue:e.selected_driver,"onUpdate:modelValue":[i[2]||(i[2]=o=>e.selected_driver=o),i[3]||(i[3]=o=>e.onChangeDriver(t.data))],invalid:e.v$.doSpaceDiskConfig.selected_driver.$error,"value-prop":"value",options:a.disks,searchable:"",label:"name","can-deselect":!1},null,8,["modelValue","invalid","options"])]),_:1},8,["label","error"]),r(l,{label:t.$t("settings.disk.do_spaces_root"),error:e.v$.doSpaceDiskConfig.root.$error&&e.v$.doSpaceDiskConfig.root.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.doSpaceDiskConfig.root,"onUpdate:modelValue":i[4]||(i[4]=o=>e.diskStore.doSpaceDiskConfig.root=o),modelModifiers:{trim:!0},type:"text",name:"name",placeholder:"Ex. /user/root/",invalid:e.v$.doSpaceDiskConfig.root.$error,onInput:i[5]||(i[5]=o=>e.v$.doSpaceDiskConfig.root.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),r(l,{label:t.$t("settings.disk.do_spaces_key"),error:e.v$.doSpaceDiskConfig.key.$error&&e.v$.doSpaceDiskConfig.key.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.doSpaceDiskConfig.key,"onUpdate:modelValue":i[6]||(i[6]=o=>e.diskStore.doSpaceDiskConfig.key=o),modelModifiers:{trim:!0},type:"text",name:"name",placeholder:"Ex. KEIS4S39SERSDS",invalid:e.v$.doSpaceDiskConfig.key.$error,onInput:i[7]||(i[7]=o=>e.v$.doSpaceDiskConfig.key.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),r(l,{label:t.$t("settings.disk.do_spaces_secret"),error:e.v$.doSpaceDiskConfig.secret.$error&&e.v$.doSpaceDiskConfig.secret.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.doSpaceDiskConfig.secret,"onUpdate:modelValue":i[8]||(i[8]=o=>e.diskStore.doSpaceDiskConfig.secret=o),modelModifiers:{trim:!0},type:"text",name:"name",placeholder:"Ex. ********",invalid:e.v$.doSpaceDiskConfig.secret.$error,onInput:i[9]||(i[9]=o=>e.v$.doSpaceDiskConfig.secret.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),r(l,{label:t.$t("settings.disk.do_spaces_region"),error:e.v$.doSpaceDiskConfig.region.$error&&e.v$.doSpaceDiskConfig.region.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.doSpaceDiskConfig.region,"onUpdate:modelValue":i[10]||(i[10]=o=>e.diskStore.doSpaceDiskConfig.region=o),modelModifiers:{trim:!0},type:"text",name:"name",placeholder:"Ex. nyc3",invalid:e.v$.doSpaceDiskConfig.region.$error,onInput:i[11]||(i[11]=o=>e.v$.doSpaceDiskConfig.region.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),r(l,{label:t.$t("settings.disk.do_spaces_endpoint"),error:e.v$.doSpaceDiskConfig.endpoint.$error&&e.v$.doSpaceDiskConfig.endpoint.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.doSpaceDiskConfig.endpoint,"onUpdate:modelValue":i[12]||(i[12]=o=>e.diskStore.doSpaceDiskConfig.endpoint=o),modelModifiers:{trim:!0},type:"text",name:"name",placeholder:"Ex. https://nyc3.digitaloceanspaces.com",invalid:e.v$.doSpaceDiskConfig.endpoint.$error,onInput:i[13]||(i[13]=o=>e.v$.doSpaceDiskConfig.endpoint.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),r(l,{label:t.$t("settings.disk.do_spaces_bucket"),error:e.v$.doSpaceDiskConfig.bucket.$error&&e.v$.doSpaceDiskConfig.bucket.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.doSpaceDiskConfig.bucket,"onUpdate:modelValue":i[14]||(i[14]=o=>e.diskStore.doSpaceDiskConfig.bucket=o),modelModifiers:{trim:!0},type:"text",name:"name",placeholder:"Ex. my-new-space",invalid:e.v$.doSpaceDiskConfig.bucket.$error,onInput:i[15]||(i[15]=o=>e.v$.doSpaceDiskConfig.bucket.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"])]),_:1}),e.isDisabled?E("",!0):(y(),h("div",Te,[b("div",Re,[r(m,{modelValue:e.set_as_default,"onUpdate:modelValue":i[16]||(i[16]=o=>e.set_as_default=o),class:"flex"},null,8,["modelValue"])]),b("div",Ye,[b("p",ze,V(t.$t("settings.disk.is_default")),1)])]))]),z(t.$slots,"default",{diskData:{isLoading:e.isLoading,submitData:e.submitData}})],32)}var Pe=F(Fe,[["render",Ke]]);const Je={components:{Dropbox:$e,Local:Ie,S3:Oe,DoSpaces:Pe},setup(){const t=j(),i=G();let a=p(!1),e=p(!1);fe(()=>{i.id&&(e.value=!0)});const u=S(()=>i.active&&i.componentName==="FileDiskModal");function k(m){return m&&(m.diskData.isLoading.value||a.value)}async function s(){a.value=!0;let m=await t.fetchDiskDrivers();e.value?t.selected_driver=i.data.driver:t.selected_driver=m.data.drivers[0].value,a.value=!1}async function l(m){Object.assign(t.diskConfigData,m),a.value=!0;let o=W({id:i.id},m);await(e.value?t.updateDisk:t.createDisk)(o),a.value=!1,i.refreshData(),d()}function d(){i.closeModal()}function c(m){t.selected_driver=m,t.diskConfigData.selected_driver=m}return{isEdit:e,createNewDisk:l,isRequestFire:k,diskStore:t,closeDiskModal:d,loadData:s,diskChange:c,modalStore:i,isLoading:a,modalActive:u}}},He={class:"flex justify-between w-full"},Xe={class:"file-disk-modal"},Qe={class:"z-0 flex justify-end p-4 border-t border-solid border-gray-light"};function We(t,i,a,e,u,k){const s=f("BaseIcon"),l=f("BaseButton"),d=f("BaseModal");return y(),N(d,{show:e.modalActive,onClose:e.closeDiskModal,onOpen:e.loadData},{header:n(()=>[b("div",He,[U(V(e.modalStore.title)+" ",1),r(s,{name:"XIcon",class:"h-6 w-6 text-gray-500 cursor-pointer",onClick:e.closeDiskModal},null,8,["onClick"])])]),default:n(()=>[b("div",Xe,[(y(),N(ke(e.diskStore.selected_driver),{loading:e.isLoading,disks:e.diskStore.getDiskDrivers,"is-edit":e.isEdit,onOnChangeDisk:i[0]||(i[0]=c=>e.diskChange(c)),onSubmit:e.createNewDisk},{default:n(c=>[b("div",Qe,[r(l,{class:"mr-3 text-sm",variant:"primary-outline",type:"button",onClick:e.closeDiskModal},{default:n(()=>[U(V(t.$t("general.cancel")),1)]),_:1},8,["onClick"]),r(l,{loading:e.isRequestFire(c),disabled:e.isRequestFire(c),variant:"primary",type:"submit"},{default:n(()=>[e.isRequestFire(c)?E("",!0):(y(),N(s,{key:0,name:"SaveIcon",class:"w-6 mr-2"})),U(" "+V(t.$t("general.save")),1)]),_:2},1032,["loading","disabled"])])]),_:1},8,["loading","disks","is-edit","onSubmit"]))])]),_:1},8,["show","onClose","onOpen"])}var Ze=F(Je,[["render",We]]);const ei={class:"inline-block"},ri={setup(t){const i=me("utils"),a=G(),e=j(),u=ne(),k=de(),{t:s}=A();let l=p(!1),d=p("");const c=S(()=>[{key:"name",label:s("settings.disk.disk_name"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"driver",label:s("settings.disk.filesystem_driver"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"type",label:s("settings.disk.disk_type"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"set_as_default",label:s("settings.disk.is_default"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"actions",label:"",tdClass:"text-right text-sm font-medium",sortable:!1}]),m=p(u.selectedCompanySettings.save_pdf_to_disk),o=S({get:()=>m.value==="YES",set:async C=>{const q=C?"YES":"NO";let x={settings:{save_pdf_to_disk:q}};m.value=q,await u.updateCompanySettings({data:x,message:"general.setting_updated"})}});async function B({page:C,filter:q,sort:x}){let J=L({orderByField:x.fieldName||"created_at",orderBy:x.order||"desc",page:C}),O=await e.fetchDisks(J);return{data:O.data.data,pagination:{totalPages:O.data.meta.last_page,currentPage:C,totalCount:O.data.meta.total}}}function M(C){return C.set_as_default?!(C.type=="SYSTEM"&&C.set_as_default):!0}function w(){a.openModal({title:s("settings.disk.new_disk"),componentName:"FileDiskModal",variant:"lg",refreshData:d.value&&d.value.refresh})}function I(C){a.openModal({title:s("settings.disk.edit_file_disk"),componentName:"FileDiskModal",variant:"lg",id:C.id,data:C,refreshData:d.value&&d.value.refresh})}function v(C){k.openDialog({title:s("general.are_you_sure"),message:s("settings.disk.set_default_disk_confirm"),yesLabel:s("general.ok"),noLabel:s("general.cancel"),variant:"primary",hideNoButton:!1,size:"lg"}).then(async q=>{if(q){l.value=!0;let x=L({set_as_default:!0,id:C});await e.updateDisk(x).then(()=>{d.value&&d.value.refresh()})}})}function $(C){k.openDialog({title:s("general.are_you_sure"),message:s("settings.disk.confirm_delete"),yesLabel:s("general.ok"),noLabel:s("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(async q=>{if(q&&(await e.deleteFileDisk(C)).data.success)return d.value&&d.value.refresh(),!0})}return(C,q)=>{const x=f("BaseIcon"),J=f("BaseButton"),O=f("BaseBadge"),H=f("BaseDropdownItem"),ee=f("BaseDropdown"),ie=f("BaseTable"),oe=f("BaseDivider"),ae=f("BaseSwitchSection"),te=f("BaseSettingCard");return y(),h(ge,null,[r(Ze),r(te,{title:C.$tc("settings.disk.title",1),description:C.$t("settings.disk.description")},{action:n(()=>[r(J,{variant:"primary-outline",onClick:w},{left:n(_=>[r(x,{class:ve(_.class),name:"PlusIcon"},null,8,["class"])]),default:n(()=>[U(" "+V(C.$t("settings.disk.new_disk")),1)]),_:1})]),default:n(()=>[r(ie,{ref:(_,T)=>{T.table=_,Z(d)?d.value=_:d=_},class:"mt-16",data:B,columns:P(c)},{"cell-set_as_default":n(({row:_})=>[r(O,{"bg-color":P(i).getBadgeStatusColor(_.data.set_as_default?"YES":"NO").bgColor,color:P(i).getBadgeStatusColor(_.data.set_as_default?"YES":"NO").color},{default:n(()=>[U(V(_.data.set_as_default?"Yes":"No".replace("_"," ")),1)]),_:2},1032,["bg-color","color"])]),"cell-actions":n(({row:_})=>[M(_.data)?(y(),N(ee,{key:0},{activator:n(()=>[b("div",ei,[r(x,{name:"DotsHorizontalIcon",class:"text-gray-500"})])]),default:n(()=>[_.data.set_as_default?E("",!0):(y(),N(H,{key:0,onClick:T=>v(_.data.id)},{default:n(()=>[r(x,{class:"mr-3 tetx-gray-600",name:"CheckCircleIcon"}),U(" "+V(C.$t("settings.disk.set_default_disk")),1)]),_:2},1032,["onClick"])),_.data.type!=="SYSTEM"?(y(),N(H,{key:1,onClick:T=>I(_.data)},{default:n(()=>[r(x,{name:"PencilIcon",class:"mr-3 text-gray-600"}),U(" "+V(C.$t("general.edit")),1)]),_:2},1032,["onClick"])):E("",!0),_.data.type!=="SYSTEM"&&!_.data.set_as_default?(y(),N(H,{key:2,onClick:T=>$(_.data.id)},{default:n(()=>[r(x,{name:"TrashIcon",class:"mr-3 text-gray-600"}),U(" "+V(C.$t("general.delete")),1)]),_:2},1032,["onClick"])):E("",!0)]),_:2},1024)):E("",!0)]),_:1},8,["columns"]),r(oe,{class:"mt-8 mb-2"}),r(ae,{modelValue:P(o),"onUpdate:modelValue":q[0]||(q[0]=_=>Z(o)?o.value=_:null),title:C.$t("settings.disk.save_pdf_to_disk"),description:C.$t("settings.disk.disk_setting_description")},null,8,["modelValue","title","description"])]),_:1},8,["title","description"])],64)}}};export{ri as default};
+var re=Object.defineProperty;var X=Object.getOwnPropertySymbols;var se=Object.prototype.hasOwnProperty,le=Object.prototype.propertyIsEnumerable;var Q=(t,i,a)=>i in t?re(t,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[i]=a,W=(t,i)=>{for(var a in i||(i={}))se.call(i,a)&&Q(t,a,i[a]);if(X)for(var a of X(i))le.call(i,a)&&Q(t,a,i[a]);return t};import{u as j}from"./disk.518ebc4b.js";import{_ as F,c as G,b as ne,j as de}from"./main.75722495.js";import{J as A,B as p,k as S,L as g,M as D,T as R,b1 as Y,a0 as L,r as f,o as y,e as h,h as b,f as r,w as n,t as V,j as E,g as z,U as K,R as ue,a7 as fe,l as N,i as U,aj as ke,ah as me,m as ve,x as Z,u as P,F as ge}from"./vendor.01d0adc5.js";const ce={props:{isEdit:{type:Boolean,require:!0,default:!1},loading:{type:Boolean,require:!0,default:!1},disks:{type:Array,require:!0,default:Array}},emits:["submit","onChangeDisk"],setup(t,{emit:i}){const a=j(),e=G(),{t:u}=A();let k=p(!1),s=p(!1),l=p(null),d=p(null);const c=S({get:()=>a.selected_driver,set:v=>{a.selected_driver=v,a.dropBoxDiskConfig.selected_driver=v}}),m=S(()=>({dropBoxDiskConfig:{root:{required:g.withMessage(u("validation.required"),D)},key:{required:g.withMessage(u("validation.required"),D)},secret:{required:g.withMessage(u("validation.required"),D)},token:{required:g.withMessage(u("validation.required"),D)},app:{required:g.withMessage(u("validation.required"),D)},selected_driver:{required:g.withMessage(u("validation.required"),D)},name:{required:g.withMessage(u("validation.required"),D)}}})),o=R(m,S(()=>a));Y(()=>{a.dropBoxDiskConfig={name:null,selected_driver:"dropbox",token:null,key:null,secret:null,app:null}}),B();async function B(){s.value=!0;let v=L({disk:"dropbox"});if(t.isEdit)Object.assign(a.dropBoxDiskConfig,e.data),k.value=e.data.set_as_default,k.value&&(l.value=!0);else{let $=await a.fetchDiskEnv(v);Object.assign(a.dropBoxDiskConfig,$.data)}d.value=t.disks.find($=>$.value=="dropbox"),s.value=!1}const M=S(()=>!!(t.isEdit&&k.value&&l.value));async function w(){if(o.value.dropBoxDiskConfig.$touch(),o.value.dropBoxDiskConfig.$invalid)return!0;let v={credentials:a.dropBoxDiskConfig,name:a.dropBoxDiskConfig.name,driver:d.value.value,set_as_default:k.value};return i("submit",v),!1}function I(){i("onChangeDisk",a.dropBoxDiskConfig.selected_driver)}return{v$:o,diskStore:a,selected_driver:c,set_as_default:k,isLoading:s,is_current_disk:l,selected_disk:d,isDisabled:M,loadData:B,submitData:w,onChangeDriver:I}}},De={class:"px-8 py-6"},Ce={key:0,class:"flex items-center mt-6"},pe={class:"relative flex items-center w-12"},_e={class:"ml-4 right"},be={class:"p-0 mb-1 text-base leading-snug text-black box-title"};function Se(t,i,a,e,u,k){const s=f("BaseInput"),l=f("BaseInputGroup"),d=f("BaseMultiselect"),c=f("BaseInputGrid"),m=f("BaseSwitch");return y(),h("form",{onSubmit:i[15]||(i[15]=K((...o)=>e.submitData&&e.submitData(...o),["prevent"]))},[b("div",De,[r(c,null,{default:n(()=>[r(l,{label:t.$t("settings.disk.name"),error:e.v$.dropBoxDiskConfig.name.$error&&e.v$.dropBoxDiskConfig.name.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.dropBoxDiskConfig.name,"onUpdate:modelValue":i[0]||(i[0]=o=>e.diskStore.dropBoxDiskConfig.name=o),type:"text",name:"name",invalid:e.v$.dropBoxDiskConfig.name.$error,onInput:i[1]||(i[1]=o=>e.v$.dropBoxDiskConfig.name.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),r(l,{label:t.$t("settings.disk.driver"),error:e.v$.dropBoxDiskConfig.selected_driver.$error&&e.v$.dropBoxDiskConfig.selected_driver.$errors[0].$message,required:""},{default:n(()=>[r(d,{modelValue:e.selected_driver,"onUpdate:modelValue":[i[2]||(i[2]=o=>e.selected_driver=o),i[3]||(i[3]=o=>e.onChangeDriver(t.data))],invalid:e.v$.dropBoxDiskConfig.selected_driver.$error,"value-prop":"value",options:a.disks,searchable:"",label:"name","can-deselect":!1},null,8,["modelValue","invalid","options"])]),_:1},8,["label","error"]),r(l,{label:t.$t("settings.disk.dropbox_root"),error:e.v$.dropBoxDiskConfig.root.$error&&e.v$.dropBoxDiskConfig.root.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.dropBoxDiskConfig.root,"onUpdate:modelValue":i[4]||(i[4]=o=>e.diskStore.dropBoxDiskConfig.root=o),modelModifiers:{trim:!0},type:"text",name:"name",placeholder:"Ex. /user/root/",invalid:e.v$.dropBoxDiskConfig.root.$error,onInput:i[5]||(i[5]=o=>e.v$.dropBoxDiskConfig.root.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),r(l,{label:t.$t("settings.disk.dropbox_token"),error:e.v$.dropBoxDiskConfig.token.$error&&e.v$.dropBoxDiskConfig.token.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.dropBoxDiskConfig.token,"onUpdate:modelValue":i[6]||(i[6]=o=>e.diskStore.dropBoxDiskConfig.token=o),modelModifiers:{trim:!0},type:"text",name:"name",invalid:e.v$.dropBoxDiskConfig.token.$error,onInput:i[7]||(i[7]=o=>e.v$.dropBoxDiskConfig.token.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),r(l,{label:t.$t("settings.disk.dropbox_key"),error:e.v$.dropBoxDiskConfig.key.$error&&e.v$.dropBoxDiskConfig.key.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.dropBoxDiskConfig.key,"onUpdate:modelValue":i[8]||(i[8]=o=>e.diskStore.dropBoxDiskConfig.key=o),modelModifiers:{trim:!0},type:"text",name:"name",placeholder:"Ex. KEIS4S39SERSDS",invalid:e.v$.dropBoxDiskConfig.key.$error,onInput:i[9]||(i[9]=o=>e.v$.dropBoxDiskConfig.key.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),r(l,{label:t.$t("settings.disk.dropbox_secret"),error:e.v$.dropBoxDiskConfig.secret.$error&&e.v$.dropBoxDiskConfig.secret.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.dropBoxDiskConfig.secret,"onUpdate:modelValue":i[10]||(i[10]=o=>e.diskStore.dropBoxDiskConfig.secret=o),modelModifiers:{trim:!0},type:"text",name:"name",placeholder:"Ex. ********",invalid:e.v$.dropBoxDiskConfig.secret.$error,onInput:i[11]||(i[11]=o=>e.v$.dropBoxDiskConfig.secret.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),r(l,{label:t.$t("settings.disk.dropbox_app"),error:e.v$.dropBoxDiskConfig.app.$error&&e.v$.dropBoxDiskConfig.app.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.dropBoxDiskConfig.app,"onUpdate:modelValue":i[12]||(i[12]=o=>e.diskStore.dropBoxDiskConfig.app=o),modelModifiers:{trim:!0},type:"text",name:"name",invalid:e.v$.dropBoxDiskConfig.app.$error,onInput:i[13]||(i[13]=o=>e.v$.dropBoxDiskConfig.app.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"])]),_:1}),e.isDisabled?E("",!0):(y(),h("div",Ce,[b("div",pe,[r(m,{modelValue:e.set_as_default,"onUpdate:modelValue":i[14]||(i[14]=o=>e.set_as_default=o),class:"flex"},null,8,["modelValue"])]),b("div",_e,[b("p",be,V(t.$t("settings.disk.is_default")),1)])]))]),z(t.$slots,"default",{diskData:{isLoading:e.isLoading,submitData:e.submitData}})],32)}var $e=F(ce,[["render",Se]]);const ye={props:{isEdit:{type:Boolean,require:!0,default:!1},loading:{type:Boolean,require:!0,default:!1},disks:{type:Array,require:!0,default:Array}},emits:["submit","onChangeDisk"],setup(t,{emit:i}){const a=j(),e=G(),{t:u}=A();let k=p(!1),s=p(!1),l=p(""),d=p(null);const c=S({get:()=>a.selected_driver,set:v=>{a.selected_driver=v,a.localDiskConfig.selected_driver=v}}),m=S(()=>({localDiskConfig:{name:{required:g.withMessage(u("validation.required"),D)},selected_driver:{required:g.withMessage(u("validation.required"),D)},root:{required:g.withMessage(u("validation.required"),D)}}})),o=R(m,S(()=>a));Y(()=>{a.localDiskConfig={name:null,selected_driver:"local",root:null}}),B();async function B(){k.value=!0;let v=L({disk:"local"});if(t.isEdit)Object.assign(a.localDiskConfig,e.data),a.localDiskConfig.root=e.data.credentials,s.value=e.data.set_as_default,s.value&&(d.value=!0);else{let $=await a.fetchDiskEnv(v);Object.assign(a.localDiskConfig,$.data)}l.value=t.disks.find($=>$.value=="local"),k.value=!1}const M=S(()=>!!(t.isEdit&&s.value&&d.value));async function w(){if(o.value.localDiskConfig.$touch(),o.value.localDiskConfig.$invalid)return!0;let v=L({credentials:a.localDiskConfig.root,name:a.localDiskConfig.name,driver:a.localDiskConfig.selected_driver,set_as_default:s.value});return i("submit",v),!1}function I(){i("onChangeDisk",a.localDiskConfig.selected_driver)}return{v$:o,diskStore:a,modalStore:e,selected_driver:c,selected_disk:l,isLoading:k,set_as_default:s,is_current_disk:d,submitData:w,onChangeDriver:I,isDisabled:M}}},Be={class:"px-4 sm:px-8 py-6"},xe={key:0,class:"flex items-center mt-6"},Ve={class:"relative flex items-center w-12"},qe={class:"ml-4 right"},Me={class:"p-0 mb-1 text-base leading-snug text-black box-title"};function we(t,i,a,e,u,k){const s=f("BaseInput"),l=f("BaseInputGroup"),d=f("BaseMultiselect"),c=f("BaseInputGrid"),m=f("BaseSwitch");return y(),h("form",{action:"",onSubmit:i[7]||(i[7]=K((...o)=>e.submitData&&e.submitData(...o),["prevent"]))},[b("div",Be,[r(c,null,{default:n(()=>[r(l,{label:t.$t("settings.disk.name"),error:e.v$.localDiskConfig.name.$error&&e.v$.localDiskConfig.name.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.localDiskConfig.name,"onUpdate:modelValue":i[0]||(i[0]=o=>e.diskStore.localDiskConfig.name=o),type:"text",name:"name",invalid:e.v$.localDiskConfig.name.$error,onInput:i[1]||(i[1]=o=>e.v$.localDiskConfig.name.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),r(l,{label:t.$tc("settings.disk.driver"),error:e.v$.localDiskConfig.selected_driver.$error&&e.v$.localDiskConfig.selected_driver.$errors[0].$message,required:""},{default:n(()=>[r(d,{modelValue:e.selected_driver,"onUpdate:modelValue":[i[2]||(i[2]=o=>e.selected_driver=o),i[3]||(i[3]=o=>e.onChangeDriver(t.data))],"value-prop":"value",invalid:e.v$.localDiskConfig.selected_driver.$error,options:a.disks,searchable:"",label:"name","can-deselect":!1},null,8,["modelValue","invalid","options"])]),_:1},8,["label","error"]),r(l,{label:t.$t("settings.disk.local_root"),error:e.v$.localDiskConfig.root.$error&&e.v$.localDiskConfig.root.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.localDiskConfig.root,"onUpdate:modelValue":i[4]||(i[4]=o=>e.diskStore.localDiskConfig.root=o),modelModifiers:{trim:!0},type:"text",name:"name",invalid:e.v$.localDiskConfig.root.$error,placeholder:"Ex./user/root/",onInput:i[5]||(i[5]=o=>e.v$.localDiskConfig.root.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"])]),_:1}),e.isDisabled?E("",!0):(y(),h("div",xe,[b("div",Ve,[r(m,{modelValue:e.set_as_default,"onUpdate:modelValue":i[6]||(i[6]=o=>e.set_as_default=o),class:"flex"},null,8,["modelValue"])]),b("div",qe,[b("p",Me,V(t.$t("settings.disk.is_default")),1)])]))]),z(t.$slots,"default",{diskData:{isLoading:e.isLoading,submitData:e.submitData}})],32)}var Ie=F(ye,[["render",we]]);const he={props:{isEdit:{type:Boolean,require:!0,default:!1},loading:{type:Boolean,require:!0,default:!1},disks:{type:Array,require:!0,default:Array}},emits:["submit","onChangeDisk"],setup(t,{emit:i}){const a=j(),e=G(),{t:u}=A();let k=p(!1),s=p(!1),l=p(null),d=p(null);const c=S({get:()=>a.selected_driver,set:v=>{a.selected_driver=v,a.s3DiskConfigData.selected_driver=v}}),m=S(()=>({s3DiskConfigData:{name:{required:g.withMessage(u("validation.required"),D)},root:{required:g.withMessage(u("validation.required"),D)},key:{required:g.withMessage(u("validation.required"),D)},secret:{required:g.withMessage(u("validation.required"),D)},region:{required:g.withMessage(u("validation.required"),D)},bucket:{required:g.withMessage(u("validation.required"),D)},selected_driver:{required:g.withMessage(u("validation.required"),D)}}})),o=R(m,S(()=>a));Y(()=>{a.s3DiskConfigData={name:null,selected_driver:"s3",key:null,secret:null,region:null,bucket:null,root:null}}),B();async function B(){s.value=!0;let v=L({disk:"s3"});if(t.isEdit)Object.assign(a.s3DiskConfigData,e.data),k.value=e.data.set_as_default,k.value&&(d.value=!0);else{let $=await a.fetchDiskEnv(v);Object.assign(a.s3DiskConfigData,$.data)}l.value=t.disks.find($=>$.value=="s3"),s.value=!1}const M=S(()=>!!(t.isEdit&&k.value&&d.value));async function w(){if(o.value.s3DiskConfigData.$touch(),o.value.s3DiskConfigData.$invalid)return!0;let v={credentials:a.s3DiskConfigData,name:a.s3DiskConfigData.name,driver:l.value.value,set_as_default:k.value};return i("submit",v),!1}function I(){i("onChangeDisk",a.s3DiskConfigData.selected_driver)}return{v$:o,diskStore:a,modalStore:e,set_as_default:k,isLoading:s,selected_disk:l,selected_driver:c,is_current_disk:d,loadData:B,submitData:w,onChangeDriver:I,isDisabled:M}}},Ee={class:"px-8 py-6"},Ue={key:0,class:"flex items-center mt-6"},Le={class:"relative flex items-center w-12"},Ne={class:"ml-4 right"},je={class:"p-0 mb-1 text-base leading-snug text-black box-title"};function Ge(t,i,a,e,u,k){const s=f("BaseInput"),l=f("BaseInputGroup"),d=f("BaseMultiselect"),c=f("BaseInputGrid"),m=f("BaseSwitch");return y(),h("form",{onSubmit:i[15]||(i[15]=K((...o)=>e.submitData&&e.submitData(...o),["prevent"]))},[b("div",Ee,[r(c,null,{default:n(()=>[r(l,{label:t.$t("settings.disk.name"),error:e.v$.s3DiskConfigData.name.$error&&e.v$.s3DiskConfigData.name.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.s3DiskConfigData.name,"onUpdate:modelValue":i[0]||(i[0]=o=>e.diskStore.s3DiskConfigData.name=o),type:"text",name:"name",invalid:e.v$.s3DiskConfigData.name.$error,onInput:i[1]||(i[1]=o=>e.v$.s3DiskConfigData.name.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),r(l,{label:t.$tc("settings.disk.driver"),error:e.v$.s3DiskConfigData.selected_driver.$error&&e.v$.s3DiskConfigData.selected_driver.$errors[0].$message,required:""},{default:n(()=>[r(d,{modelValue:e.selected_driver,"onUpdate:modelValue":[i[2]||(i[2]=o=>e.selected_driver=o),i[3]||(i[3]=o=>e.onChangeDriver(t.data))],invalid:e.v$.s3DiskConfigData.selected_driver.$error,"value-prop":"value",options:a.disks,searchable:"",label:"name","can-deselect":!1},null,8,["modelValue","invalid","options"])]),_:1},8,["label","error"]),r(l,{label:t.$t("settings.disk.aws_root"),error:e.v$.s3DiskConfigData.root.$error&&e.v$.s3DiskConfigData.root.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.s3DiskConfigData.root,"onUpdate:modelValue":i[4]||(i[4]=o=>e.diskStore.s3DiskConfigData.root=o),modelModifiers:{trim:!0},type:"text",name:"name",placeholder:"Ex. /user/root/",invalid:e.v$.s3DiskConfigData.root.$error,onInput:i[5]||(i[5]=o=>e.v$.s3DiskConfigData.root.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),r(l,{label:t.$t("settings.disk.aws_key"),error:e.v$.s3DiskConfigData.key.$error&&e.v$.s3DiskConfigData.key.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.s3DiskConfigData.key,"onUpdate:modelValue":i[6]||(i[6]=o=>e.diskStore.s3DiskConfigData.key=o),modelModifiers:{trim:!0},type:"text",name:"name",placeholder:"Ex. KEIS4S39SERSDS",invalid:e.v$.s3DiskConfigData.key.$error,onInput:i[7]||(i[7]=o=>e.v$.s3DiskConfigData.key.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),r(l,{label:t.$t("settings.disk.aws_secret"),error:e.v$.s3DiskConfigData.secret.$error&&e.v$.s3DiskConfigData.secret.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.s3DiskConfigData.secret,"onUpdate:modelValue":i[8]||(i[8]=o=>e.diskStore.s3DiskConfigData.secret=o),modelModifiers:{trim:!0},type:"text",name:"name",placeholder:"Ex. ********",invalid:e.v$.s3DiskConfigData.secret.$error,onInput:i[9]||(i[9]=o=>e.v$.s3DiskConfigData.secret.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),r(l,{label:t.$t("settings.disk.aws_region"),error:e.v$.s3DiskConfigData.region.$error&&e.v$.s3DiskConfigData.region.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.s3DiskConfigData.region,"onUpdate:modelValue":i[10]||(i[10]=o=>e.diskStore.s3DiskConfigData.region=o),modelModifiers:{trim:!0},type:"text",name:"name",placeholder:"Ex. us-west",invalid:e.v$.s3DiskConfigData.region.$error,onInput:i[11]||(i[11]=o=>e.v$.s3DiskConfigData.region.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),r(l,{label:t.$t("settings.disk.aws_bucket"),error:e.v$.s3DiskConfigData.bucket.$error&&e.v$.s3DiskConfigData.bucket.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.s3DiskConfigData.bucket,"onUpdate:modelValue":i[12]||(i[12]=o=>e.diskStore.s3DiskConfigData.bucket=o),modelModifiers:{trim:!0},type:"text",name:"name",placeholder:"Ex. AppName",invalid:e.v$.s3DiskConfigData.bucket.$error,onInput:i[13]||(i[13]=o=>e.v$.s3DiskConfigData.bucket.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"])]),_:1}),e.isDisabled?E("",!0):(y(),h("div",Ue,[b("div",Le,[r(m,{modelValue:e.set_as_default,"onUpdate:modelValue":i[14]||(i[14]=o=>e.set_as_default=o),class:"flex"},null,8,["modelValue"])]),b("div",Ne,[b("p",je,V(t.$t("settings.disk.is_default")),1)])]))]),z(t.$slots,"default",{diskData:{isLoading:e.isLoading,submitData:e.submitData}})],32)}var Oe=F(he,[["render",Ge]]);const Fe={props:{isEdit:{type:Boolean,require:!0,default:!1},loading:{type:Boolean,require:!0,default:!1},disks:{type:Array,require:!0,default:Array}},emits:["submit","onChangeDisk"],setup(t,{emit:i}){const a=j(),e=G(),{t:u}=A();let k=p(!1),s=p(!1),l=p(""),d=p(null);const c=S({get:()=>a.selected_driver,set:v=>{a.selected_driver=v,a.doSpaceDiskConfig.selected_driver=v}}),m=S(()=>({doSpaceDiskConfig:{root:{required:g.withMessage(u("validation.required"),D)},key:{required:g.withMessage(u("validation.required"),D)},secret:{required:g.withMessage(u("validation.required"),D)},region:{required:g.withMessage(u("validation.required"),D)},endpoint:{required:g.withMessage(u("validation.required"),D),url:g.withMessage(u("validation.invalid_url"),ue)},bucket:{required:g.withMessage(u("validation.required"),D)},selected_driver:{required:g.withMessage(u("validation.required"),D)},name:{required:g.withMessage(u("validation.required"),D)}}})),o=R(m,S(()=>a));Y(()=>{a.doSpaceDiskConfig={name:null,selected_driver:"doSpaces",key:null,secret:null,region:null,bucket:null,endpoint:null,root:null}}),B();async function B(){k.value=!0;let v=L({disk:"doSpaces"});if(t.isEdit)Object.assign(a.doSpaceDiskConfig,JSON.parse(e.data.credentials)),s.value=e.data.set_as_default,s.value&&(d.value=!0);else{let $=await a.fetchDiskEnv(v);Object.assign(a.doSpaceDiskConfig,$.data)}l.value=t.disks.find($=>$.value=="doSpaces"),k.value=!1}const M=S(()=>!!(t.isEdit&&s.value&&d.value));async function w(){if(o.value.doSpaceDiskConfig.$touch(),o.value.doSpaceDiskConfig.$invalid)return!0;let v={credentials:a.doSpaceDiskConfig,name:a.doSpaceDiskConfig.name,driver:l.value.value,set_as_default:s.value};return i("submit",v),!1}function I(){i("onChangeDisk",a.doSpaceDiskConfig.selected_driver)}return{v$:o,diskStore:a,selected_driver:c,isLoading:k,set_as_default:s,selected_disk:l,is_current_disk:d,loadData:B,submitData:w,onChangeDriver:I,isDisabled:M}}},Ae={class:"px-8 py-6"},Te={key:0,class:"flex items-center mt-6"},Re={class:"relative flex items-center w-12"},Ye={class:"ml-4 right"},ze={class:"p-0 mb-1 text-base leading-snug text-black box-title"};function Ke(t,i,a,e,u,k){const s=f("BaseInput"),l=f("BaseInputGroup"),d=f("BaseMultiselect"),c=f("BaseInputGrid"),m=f("BaseSwitch");return y(),h("form",{onSubmit:i[17]||(i[17]=K((...o)=>e.submitData&&e.submitData(...o),["prevent"]))},[b("div",Ae,[r(c,null,{default:n(()=>[r(l,{label:t.$t("settings.disk.name"),error:e.v$.doSpaceDiskConfig.name.$error&&e.v$.doSpaceDiskConfig.name.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.doSpaceDiskConfig.name,"onUpdate:modelValue":i[0]||(i[0]=o=>e.diskStore.doSpaceDiskConfig.name=o),type:"text",name:"name",invalid:e.v$.doSpaceDiskConfig.name.$error,onInput:i[1]||(i[1]=o=>e.v$.doSpaceDiskConfig.name.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),r(l,{label:t.$tc("settings.disk.driver"),error:e.v$.doSpaceDiskConfig.selected_driver.$error&&e.v$.doSpaceDiskConfig.selected_driver.$errors[0].$message,required:""},{default:n(()=>[r(d,{modelValue:e.selected_driver,"onUpdate:modelValue":[i[2]||(i[2]=o=>e.selected_driver=o),i[3]||(i[3]=o=>e.onChangeDriver(t.data))],invalid:e.v$.doSpaceDiskConfig.selected_driver.$error,"value-prop":"value",options:a.disks,searchable:"",label:"name","can-deselect":!1},null,8,["modelValue","invalid","options"])]),_:1},8,["label","error"]),r(l,{label:t.$t("settings.disk.do_spaces_root"),error:e.v$.doSpaceDiskConfig.root.$error&&e.v$.doSpaceDiskConfig.root.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.doSpaceDiskConfig.root,"onUpdate:modelValue":i[4]||(i[4]=o=>e.diskStore.doSpaceDiskConfig.root=o),modelModifiers:{trim:!0},type:"text",name:"name",placeholder:"Ex. /user/root/",invalid:e.v$.doSpaceDiskConfig.root.$error,onInput:i[5]||(i[5]=o=>e.v$.doSpaceDiskConfig.root.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),r(l,{label:t.$t("settings.disk.do_spaces_key"),error:e.v$.doSpaceDiskConfig.key.$error&&e.v$.doSpaceDiskConfig.key.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.doSpaceDiskConfig.key,"onUpdate:modelValue":i[6]||(i[6]=o=>e.diskStore.doSpaceDiskConfig.key=o),modelModifiers:{trim:!0},type:"text",name:"name",placeholder:"Ex. KEIS4S39SERSDS",invalid:e.v$.doSpaceDiskConfig.key.$error,onInput:i[7]||(i[7]=o=>e.v$.doSpaceDiskConfig.key.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),r(l,{label:t.$t("settings.disk.do_spaces_secret"),error:e.v$.doSpaceDiskConfig.secret.$error&&e.v$.doSpaceDiskConfig.secret.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.doSpaceDiskConfig.secret,"onUpdate:modelValue":i[8]||(i[8]=o=>e.diskStore.doSpaceDiskConfig.secret=o),modelModifiers:{trim:!0},type:"text",name:"name",placeholder:"Ex. ********",invalid:e.v$.doSpaceDiskConfig.secret.$error,onInput:i[9]||(i[9]=o=>e.v$.doSpaceDiskConfig.secret.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),r(l,{label:t.$t("settings.disk.do_spaces_region"),error:e.v$.doSpaceDiskConfig.region.$error&&e.v$.doSpaceDiskConfig.region.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.doSpaceDiskConfig.region,"onUpdate:modelValue":i[10]||(i[10]=o=>e.diskStore.doSpaceDiskConfig.region=o),modelModifiers:{trim:!0},type:"text",name:"name",placeholder:"Ex. nyc3",invalid:e.v$.doSpaceDiskConfig.region.$error,onInput:i[11]||(i[11]=o=>e.v$.doSpaceDiskConfig.region.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),r(l,{label:t.$t("settings.disk.do_spaces_endpoint"),error:e.v$.doSpaceDiskConfig.endpoint.$error&&e.v$.doSpaceDiskConfig.endpoint.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.doSpaceDiskConfig.endpoint,"onUpdate:modelValue":i[12]||(i[12]=o=>e.diskStore.doSpaceDiskConfig.endpoint=o),modelModifiers:{trim:!0},type:"text",name:"name",placeholder:"Ex. https://nyc3.digitaloceanspaces.com",invalid:e.v$.doSpaceDiskConfig.endpoint.$error,onInput:i[13]||(i[13]=o=>e.v$.doSpaceDiskConfig.endpoint.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),r(l,{label:t.$t("settings.disk.do_spaces_bucket"),error:e.v$.doSpaceDiskConfig.bucket.$error&&e.v$.doSpaceDiskConfig.bucket.$errors[0].$message,required:""},{default:n(()=>[r(s,{modelValue:e.diskStore.doSpaceDiskConfig.bucket,"onUpdate:modelValue":i[14]||(i[14]=o=>e.diskStore.doSpaceDiskConfig.bucket=o),modelModifiers:{trim:!0},type:"text",name:"name",placeholder:"Ex. my-new-space",invalid:e.v$.doSpaceDiskConfig.bucket.$error,onInput:i[15]||(i[15]=o=>e.v$.doSpaceDiskConfig.bucket.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"])]),_:1}),e.isDisabled?E("",!0):(y(),h("div",Te,[b("div",Re,[r(m,{modelValue:e.set_as_default,"onUpdate:modelValue":i[16]||(i[16]=o=>e.set_as_default=o),class:"flex"},null,8,["modelValue"])]),b("div",Ye,[b("p",ze,V(t.$t("settings.disk.is_default")),1)])]))]),z(t.$slots,"default",{diskData:{isLoading:e.isLoading,submitData:e.submitData}})],32)}var Pe=F(Fe,[["render",Ke]]);const Je={components:{Dropbox:$e,Local:Ie,S3:Oe,DoSpaces:Pe},setup(){const t=j(),i=G();let a=p(!1),e=p(!1);fe(()=>{i.id&&(e.value=!0)});const u=S(()=>i.active&&i.componentName==="FileDiskModal");function k(m){return m&&(m.diskData.isLoading.value||a.value)}async function s(){a.value=!0;let m=await t.fetchDiskDrivers();e.value?t.selected_driver=i.data.driver:t.selected_driver=m.data.drivers[0].value,a.value=!1}async function l(m){Object.assign(t.diskConfigData,m),a.value=!0;let o=W({id:i.id},m);await(e.value?t.updateDisk:t.createDisk)(o),a.value=!1,i.refreshData(),d()}function d(){i.closeModal()}function c(m){t.selected_driver=m,t.diskConfigData.selected_driver=m}return{isEdit:e,createNewDisk:l,isRequestFire:k,diskStore:t,closeDiskModal:d,loadData:s,diskChange:c,modalStore:i,isLoading:a,modalActive:u}}},He={class:"flex justify-between w-full"},Xe={class:"file-disk-modal"},Qe={class:"z-0 flex justify-end p-4 border-t border-solid border-gray-light"};function We(t,i,a,e,u,k){const s=f("BaseIcon"),l=f("BaseButton"),d=f("BaseModal");return y(),N(d,{show:e.modalActive,onClose:e.closeDiskModal,onOpen:e.loadData},{header:n(()=>[b("div",He,[U(V(e.modalStore.title)+" ",1),r(s,{name:"XIcon",class:"h-6 w-6 text-gray-500 cursor-pointer",onClick:e.closeDiskModal},null,8,["onClick"])])]),default:n(()=>[b("div",Xe,[(y(),N(ke(e.diskStore.selected_driver),{loading:e.isLoading,disks:e.diskStore.getDiskDrivers,"is-edit":e.isEdit,onOnChangeDisk:i[0]||(i[0]=c=>e.diskChange(c)),onSubmit:e.createNewDisk},{default:n(c=>[b("div",Qe,[r(l,{class:"mr-3 text-sm",variant:"primary-outline",type:"button",onClick:e.closeDiskModal},{default:n(()=>[U(V(t.$t("general.cancel")),1)]),_:1},8,["onClick"]),r(l,{loading:e.isRequestFire(c),disabled:e.isRequestFire(c),variant:"primary",type:"submit"},{default:n(()=>[e.isRequestFire(c)?E("",!0):(y(),N(s,{key:0,name:"SaveIcon",class:"w-6 mr-2"})),U(" "+V(t.$t("general.save")),1)]),_:2},1032,["loading","disabled"])])]),_:1},8,["loading","disks","is-edit","onSubmit"]))])]),_:1},8,["show","onClose","onOpen"])}var Ze=F(Je,[["render",We]]);const ei={class:"inline-block"},ri={setup(t){const i=me("utils"),a=G(),e=j(),u=ne(),k=de(),{t:s}=A();let l=p(!1),d=p("");const c=S(()=>[{key:"name",label:s("settings.disk.disk_name"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"driver",label:s("settings.disk.filesystem_driver"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"type",label:s("settings.disk.disk_type"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"set_as_default",label:s("settings.disk.is_default"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"actions",label:"",tdClass:"text-right text-sm font-medium",sortable:!1}]),m=p(u.selectedCompanySettings.save_pdf_to_disk),o=S({get:()=>m.value==="YES",set:async C=>{const q=C?"YES":"NO";let x={settings:{save_pdf_to_disk:q}};m.value=q,await u.updateCompanySettings({data:x,message:"general.setting_updated"})}});async function B({page:C,filter:q,sort:x}){let J=L({orderByField:x.fieldName||"created_at",orderBy:x.order||"desc",page:C}),O=await e.fetchDisks(J);return{data:O.data.data,pagination:{totalPages:O.data.meta.last_page,currentPage:C,totalCount:O.data.meta.total}}}function M(C){return C.set_as_default?!(C.type=="SYSTEM"&&C.set_as_default):!0}function w(){a.openModal({title:s("settings.disk.new_disk"),componentName:"FileDiskModal",variant:"lg",refreshData:d.value&&d.value.refresh})}function I(C){a.openModal({title:s("settings.disk.edit_file_disk"),componentName:"FileDiskModal",variant:"lg",id:C.id,data:C,refreshData:d.value&&d.value.refresh})}function v(C){k.openDialog({title:s("general.are_you_sure"),message:s("settings.disk.set_default_disk_confirm"),yesLabel:s("general.ok"),noLabel:s("general.cancel"),variant:"primary",hideNoButton:!1,size:"lg"}).then(async q=>{if(q){l.value=!0;let x=L({set_as_default:!0,id:C});await e.updateDisk(x).then(()=>{d.value&&d.value.refresh()})}})}function $(C){k.openDialog({title:s("general.are_you_sure"),message:s("settings.disk.confirm_delete"),yesLabel:s("general.ok"),noLabel:s("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(async q=>{if(q&&(await e.deleteFileDisk(C)).data.success)return d.value&&d.value.refresh(),!0})}return(C,q)=>{const x=f("BaseIcon"),J=f("BaseButton"),O=f("BaseBadge"),H=f("BaseDropdownItem"),ee=f("BaseDropdown"),ie=f("BaseTable"),oe=f("BaseDivider"),ae=f("BaseSwitchSection"),te=f("BaseSettingCard");return y(),h(ge,null,[r(Ze),r(te,{title:C.$tc("settings.disk.title",1),description:C.$t("settings.disk.description")},{action:n(()=>[r(J,{variant:"primary-outline",onClick:w},{left:n(_=>[r(x,{class:ve(_.class),name:"PlusIcon"},null,8,["class"])]),default:n(()=>[U(" "+V(C.$t("settings.disk.new_disk")),1)]),_:1})]),default:n(()=>[r(ie,{ref:(_,T)=>{T.table=_,Z(d)?d.value=_:d=_},class:"mt-16",data:B,columns:P(c)},{"cell-set_as_default":n(({row:_})=>[r(O,{"bg-color":P(i).getBadgeStatusColor(_.data.set_as_default?"YES":"NO").bgColor,color:P(i).getBadgeStatusColor(_.data.set_as_default?"YES":"NO").color},{default:n(()=>[U(V(_.data.set_as_default?"Yes":"No".replace("_"," ")),1)]),_:2},1032,["bg-color","color"])]),"cell-actions":n(({row:_})=>[M(_.data)?(y(),N(ee,{key:0},{activator:n(()=>[b("div",ei,[r(x,{name:"DotsHorizontalIcon",class:"text-gray-500"})])]),default:n(()=>[_.data.set_as_default?E("",!0):(y(),N(H,{key:0,onClick:T=>v(_.data.id)},{default:n(()=>[r(x,{class:"mr-3 tetx-gray-600",name:"CheckCircleIcon"}),U(" "+V(C.$t("settings.disk.set_default_disk")),1)]),_:2},1032,["onClick"])),_.data.type!=="SYSTEM"?(y(),N(H,{key:1,onClick:T=>I(_.data)},{default:n(()=>[r(x,{name:"PencilIcon",class:"mr-3 text-gray-600"}),U(" "+V(C.$t("general.edit")),1)]),_:2},1032,["onClick"])):E("",!0),_.data.type!=="SYSTEM"&&!_.data.set_as_default?(y(),N(H,{key:2,onClick:T=>$(_.data.id)},{default:n(()=>[r(x,{name:"TrashIcon",class:"mr-3 text-gray-600"}),U(" "+V(C.$t("general.delete")),1)]),_:2},1032,["onClick"])):E("",!0)]),_:2},1024)):E("",!0)]),_:1},8,["columns"]),r(oe,{class:"mt-8 mb-2"}),r(ae,{modelValue:P(o),"onUpdate:modelValue":q[0]||(q[0]=_=>Z(o)?o.value=_:null),title:C.$t("settings.disk.save_pdf_to_disk"),description:C.$t("settings.disk.disk_setting_description")},null,8,["modelValue","title","description"])]),_:1},8,["title","description"])],64)}}};export{ri as default};

--- public/build/assets/ForgotPassword.51f99d8b.js ---
@@ -1 +1 @@
-var M=Object.defineProperty,j=Object.defineProperties;var G=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var B=(a,e,t)=>e in a?M(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,$=(a,e)=>{for(var t in e||(e={}))N.call(e,t)&&B(a,t,e[t]);if(h)for(var t of h(e))C.call(e,t)&&B(a,t,e[t]);return a},b=(a,e)=>j(a,G(e));import{J as D,G as L,a0 as T,B as y,k as U,L as k,M as A,Q as E,T as F,r as u,o as c,e as p,f as m,w as v,u as r,t as _,h as J,i as P,U as Q}from"./vendor.01d0adc5.js";import{u as R}from"./auth.77d12976.js";import"./main.832b14c7.js";const z=["onSubmit"],H={key:0},K={key:1},O={class:"mt-4 mb-4 text-sm"},ee={setup(a){const e=R(),{t}=D(),S=L(),l=T({email:"",company:""}),f=y(!1),n=y(!1),V=U(()=>({email:{required:k.withMessage(t("validation.required"),A),email:k.withMessage(t("validation.email_incorrect"),E)}})),o=F(V,l);function w(i){if(o.value.$touch(),o.value.$invalid)return!0;n.value=!0;let s=b($({},l),{company:S.params.company});e.forgotPassword(s).then(d=>{n.value=!1}).catch(d=>{n.value=!1}),f.value=!0}return(i,s)=>{const d=u("BaseInput"),I=u("BaseInputGroup"),q=u("BaseButton"),x=u("router-link");return c(),p("form",{id:"loginForm",onSubmit:Q(w,["prevent"])},[m(I,{error:r(o).email.$error&&r(o).email.$errors[0].$message,label:i.$t("login.enter_email"),class:"mb-4",required:""},{default:v(()=>[m(d,{modelValue:r(l).email,"onUpdate:modelValue":s[0]||(s[0]=g=>r(l).email=g),type:"email",name:"email",invalid:r(o).email.$error,onInput:s[1]||(s[1]=g=>r(o).email.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["error","label"]),m(q,{loading:n.value,disabled:n.value,type:"submit",variant:"primary"},{default:v(()=>[f.value?(c(),p("div",K,_(i.$t("validation.not_yet")),1)):(c(),p("div",H,_(i.$t("validation.send_reset_link")),1))]),_:1},8,["loading","disabled"]),J("div",O,[m(x,{to:"login",class:"text-sm text-primary-400 hover:text-gray-700"},{default:v(()=>[P(_(i.$t("general.back_to_login")),1)]),_:1})])],40,z)}}};export{ee as default};
+var M=Object.defineProperty,j=Object.defineProperties;var G=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var B=(a,e,t)=>e in a?M(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,$=(a,e)=>{for(var t in e||(e={}))N.call(e,t)&&B(a,t,e[t]);if(h)for(var t of h(e))C.call(e,t)&&B(a,t,e[t]);return a},y=(a,e)=>j(a,G(e));import{J as D,G as L,a0 as T,B as b,k as U,L as k,M as A,Q as E,T as F,r as u,o as c,e as p,f as m,w as v,u as r,t as _,h as J,i as P,U as Q}from"./vendor.01d0adc5.js";import{u as R}from"./auth.4644c288.js";import"./main.75722495.js";const z=["onSubmit"],H={key:0},K={key:1},O={class:"mt-4 mb-4 text-sm"},ee={setup(a){const e=R(),{t}=D(),S=L(),l=T({email:"",company:""}),f=b(!1),n=b(!1),V=U(()=>({email:{required:k.withMessage(t("validation.required"),A),email:k.withMessage(t("validation.email_incorrect"),E)}})),o=F(V,l);function w(i){if(o.value.$touch(),o.value.$invalid)return!0;n.value=!0;let s=y($({},l),{company:S.params.company});e.forgotPassword(s).then(d=>{n.value=!1}).catch(d=>{n.value=!1}),f.value=!0}return(i,s)=>{const d=u("BaseInput"),I=u("BaseInputGroup"),q=u("BaseButton"),x=u("router-link");return c(),p("form",{id:"loginForm",onSubmit:Q(w,["prevent"])},[m(I,{error:r(o).email.$error&&r(o).email.$errors[0].$message,label:i.$t("login.enter_email"),class:"mb-4",required:""},{default:v(()=>[m(d,{modelValue:r(l).email,"onUpdate:modelValue":s[0]||(s[0]=g=>r(l).email=g),type:"email",name:"email",invalid:r(o).email.$error,onInput:s[1]||(s[1]=g=>r(o).email.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["error","label"]),m(q,{loading:n.value,disabled:n.value,type:"submit",variant:"primary"},{default:v(()=>[f.value?(c(),p("div",K,_(i.$t("validation.not_yet")),1)):(c(),p("div",H,_(i.$t("validation.send_reset_link")),1))]),_:1},8,["loading","disabled"]),J("div",O,[m(x,{to:"login",class:"text-sm text-primary-400 hover:text-gray-700"},{default:v(()=>[P(_(i.$t("general.back_to_login")),1)]),_:1})])],40,z)}}};export{ee as default};

--- public/build/assets/ForgotPassword.6a2c79cb.js ---
@@ -1 +1 @@
-import{J as w,a0 as S,B as _,L as f,M as V,Q as I,T as x,r as n,o as l,e as u,f as r,w as m,u as t,t as d,h as M,i as N,U as q,a as j}from"./vendor.01d0adc5.js";import{u as C,h as D}from"./main.832b14c7.js";const E=["onSubmit"],G={key:0},L={key:1},T={class:"mt-4 mb-4 text-sm"},Q={setup(U){const g=C(),{t:c}=w(),i=S({email:""}),p=_(!1),o=_(!1),h={email:{required:f.withMessage(c("validation.required"),V),email:f.withMessage(c("validation.email_incorrect"),I)}},a=x(h,i);async function y(s){if(a.value.$touch(),!a.value.$invalid)try{o.value=!0,(await j.post("/api/v1/auth/password/email",i)).data&&g.showNotification({type:"success",message:"Mail sent successfully"}),p.value=!0,o.value=!1}catch(e){D(e),o.value=!1}}return(s,e)=>{const $=n("BaseInput"),b=n("BaseInputGroup"),B=n("BaseButton"),k=n("router-link");return l(),u("form",{id:"loginForm",onSubmit:q(y,["prevent"])},[r(b,{error:t(a).email.$error&&t(a).email.$errors[0].$message,label:s.$t("login.enter_email"),class:"mb-4",required:""},{default:m(()=>[r($,{modelValue:t(i).email,"onUpdate:modelValue":e[0]||(e[0]=v=>t(i).email=v),invalid:t(a).email.$error,focus:"",type:"email",name:"email",onInput:e[1]||(e[1]=v=>t(a).email.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["error","label"]),r(B,{loading:o.value,disabled:o.value,type:"submit",variant:"primary"},{default:m(()=>[p.value?(l(),u("div",L,d(s.$t("validation.not_yet")),1)):(l(),u("div",G,d(s.$t("validation.send_reset_link")),1))]),_:1},8,["loading","disabled"]),M("div",T,[r(k,{to:"/login",class:"text-sm text-primary-400 hover:text-gray-700"},{default:m(()=>[N(d(s.$t("general.back_to_login")),1)]),_:1})])],40,E)}}};export{Q as default};
+import{J as w,a0 as S,B as _,L as f,M as V,Q as I,T as x,r as n,o as l,e as u,f as r,w as m,u as t,t as d,h as M,i as N,U as q,a as j}from"./vendor.01d0adc5.js";import{u as C,h as D}from"./main.75722495.js";const E=["onSubmit"],G={key:0},L={key:1},T={class:"mt-4 mb-4 text-sm"},Q={setup(U){const g=C(),{t:c}=w(),i=S({email:""}),p=_(!1),o=_(!1),h={email:{required:f.withMessage(c("validation.required"),V),email:f.withMessage(c("validation.email_incorrect"),I)}},a=x(h,i);async function y(s){if(a.value.$touch(),!a.value.$invalid)try{o.value=!0,(await j.post("/api/v1/auth/password/email",i)).data&&g.showNotification({type:"success",message:"Mail sent successfully"}),p.value=!0,o.value=!1}catch(e){D(e),o.value=!1}}return(s,e)=>{const $=n("BaseInput"),B=n("BaseInputGroup"),b=n("BaseButton"),k=n("router-link");return l(),u("form",{id:"loginForm",onSubmit:q(y,["prevent"])},[r(B,{error:t(a).email.$error&&t(a).email.$errors[0].$message,label:s.$t("login.enter_email"),class:"mb-4",required:""},{default:m(()=>[r($,{modelValue:t(i).email,"onUpdate:modelValue":e[0]||(e[0]=v=>t(i).email=v),invalid:t(a).email.$error,focus:"",type:"email",name:"email",onInput:e[1]||(e[1]=v=>t(a).email.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["error","label"]),r(b,{loading:o.value,disabled:o.value,type:"submit",variant:"primary"},{default:m(()=>[p.value?(l(),u("div",L,d(s.$t("validation.not_yet")),1)):(l(),u("div",G,d(s.$t("validation.send_reset_link")),1))]),_:1},8,["loading","disabled"]),M("div",T,[r(k,{to:"/login",class:"text-sm text-primary-400 hover:text-gray-700"},{default:m(()=>[N(d(s.$t("general.back_to_login")),1)]),_:1})])],40,E)}}};export{Q as default};

--- public/build/assets/Index.2f43174e.js ---
@@ -1 +1 @@
-import{J as z,G as ue,aN as me,ah as H,r as o,o as m,l as C,w as t,u as a,f as l,i as g,t as y,j as M,e as pe,h as n,m as u,B as Z,a0 as Ce,k as A,aR as fe,aS as he,q as P,ag as U,V as ye,x as ve}from"./vendor.01d0adc5.js";import{j as G,u as W,p as O,e as q,g as L,b as _e}from"./main.832b14c7.js";const ge={props:{row:{type:Object,default:null},table:{type:Object,default:null},loadData:{type:Function,default:null}},setup(i){const r=i,F=G();W();const{t:B}=z(),b=O(),f=ue();me();const _=q();H("utils");function I(d){F.openDialog({title:B("general.are_you_sure"),message:B("items.confirm_delete"),yesLabel:B("general.ok"),noLabel:B("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(p=>{p&&b.deleteItem({ids:[d]}).then(v=>(v.data.success&&r.loadData&&r.loadData(),!0))})}return(d,p)=>{const v=o("BaseIcon"),w=o("BaseButton"),$=o("BaseDropdownItem"),D=o("router-link"),E=o("BaseDropdown");return m(),C(E,null,{activator:t(()=>[a(f).name==="items.view"?(m(),C(w,{key:0,variant:"primary"},{default:t(()=>[l(v,{name:"DotsHorizontalIcon",class:"h-5 text-white"})]),_:1})):(m(),C(v,{key:1,name:"DotsHorizontalIcon",class:"h-5 text-gray-500"}))]),default:t(()=>[a(_).hasAbilities(a(L).EDIT_ITEM)?(m(),C(D,{key:0,to:`/admin/items/${i.row.id}/edit`},{default:t(()=>[l($,null,{default:t(()=>[l(v,{name:"PencilIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),g(" "+y(d.$t("general.edit")),1)]),_:1})]),_:1},8,["to"])):M("",!0),a(_).hasAbilities(a(L).DELETE_ITEM)?(m(),C($,{key:1,onClick:p[0]||(p[0]=j=>I(i.row.id))},{default:t(()=>[l(v,{name:"TrashIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),g(" "+y(d.$t("general.delete")),1)]),_:1})):M("",!0)]),_:1})}}},Be={width:"110",height:"110",viewBox:"0 0 110 110",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Le={"clip-path":"url(#clip0)"},be=n("defs",null,[n("clipPath",{id:"clip0"},[n("rect",{width:"110",height:"110",fill:"white"})])],-1),Ie={props:{primaryFillColor:{type:String,default:"fill-primary-500"},secondaryFillColor:{type:String,default:"fill-gray-600"}},setup(i){return(r,F)=>(m(),pe("svg",Be,[n("g",Le,[n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.76398 22.9512L4.54883 21.7361L21.7363 4.54858L22.9515 5.76374L5.76398 22.9512Z",class:u(i.secondaryFillColor)},null,2),n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M88.264 105.451L87.0488 104.236L104.236 87.0486L105.451 88.2637L88.264 105.451Z",class:u(i.secondaryFillColor)},null,2),n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M29.8265 81.3887L28.6113 80.1736L38.9238 69.8611L40.139 71.0762L29.8265 81.3887Z",class:u(i.primaryFillColor)},null,2),n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M30.9375 81.6406C30.9375 83.0637 29.7825 84.2188 28.3594 84.2188C26.9362 84.2188 25.7812 83.0637 25.7812 81.6406C25.7812 80.2175 26.9362 79.0625 28.3594 79.0625C29.7825 79.0625 30.9375 80.2175 30.9375 81.6406Z",class:u(i.primaryFillColor)},null,2),n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M77.3435 61.5801C76.4635 61.5801 75.5835 61.9152 74.9132 62.5873L62.5863 74.9124C61.244 76.2548 61.244 78.4324 62.5863 79.7748L92.8123 110.001L110 92.8132L79.7738 62.5873C79.1035 61.9152 78.2235 61.5801 77.3435 61.5801ZM77.3435 63.2988C77.8024 63.2988 78.2338 63.4776 78.5587 63.8024L107.569 92.8132L92.8123 107.569L63.8015 78.5596C63.4767 78.2348 63.2979 77.8034 63.2979 77.3445C63.2979 76.8838 63.4767 76.4524 63.8015 76.1276L76.1284 63.8024C76.4532 63.4776 76.8846 63.2988 77.3435 63.2988Z",class:u(i.secondaryFillColor)},null,2),n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M17.1875 0L0 17.1875L30.2259 47.4134C30.8963 48.0838 31.7763 48.4206 32.6562 48.4206C33.5363 48.4206 34.4162 48.0838 35.0866 47.4134L47.4134 35.0866C48.7558 33.7442 48.7558 31.5683 47.4134 30.2259L17.1875 0ZM17.1875 2.43031L46.1983 31.4411C46.5231 31.7659 46.7019 32.1973 46.7019 32.6562C46.7019 33.1152 46.5231 33.5466 46.1983 33.8714L33.8714 46.1983C33.5466 46.5231 33.1152 46.7019 32.6562 46.7019C32.1973 46.7019 31.7659 46.5231 31.4411 46.1983L2.43031 17.1875L17.1875 2.43031Z",class:u(i.secondaryFillColor)},null,2),n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M60.156 28.9238C59.276 28.9238 58.396 29.259 57.7257 29.931L29.9301 57.7249C28.5878 59.0673 28.5878 61.2449 29.9301 62.5873L47.4132 80.0687C48.0835 80.7407 48.9635 81.0759 49.8435 81.0759C50.7235 81.0759 51.6035 80.7407 52.2738 80.0687L80.0695 52.2748C81.4118 50.9324 81.4118 48.7548 80.0695 47.4124L62.5863 29.931C61.916 29.259 61.036 28.9238 60.156 28.9238ZM60.156 30.6426C60.6149 30.6426 61.0463 30.8213 61.3712 31.1462L78.8543 48.6276C79.1792 48.9524 79.3579 49.3838 79.3579 49.8445C79.3579 50.3034 79.1792 50.7348 78.8543 51.0596L51.0587 78.8535C50.7338 79.1784 50.3024 79.3571 49.8435 79.3571C49.3846 79.3571 48.9532 79.1784 48.6284 78.8535L31.1453 61.3721C30.8204 61.0473 30.6417 60.6159 30.6417 60.157C30.6417 59.6963 30.8204 59.2649 31.1453 58.9401L58.9409 31.1462C59.2657 30.8213 59.6971 30.6426 60.156 30.6426Z",class:u(i.secondaryFillColor)},null,2),n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M71.0765 40.1387L69.8613 38.9236L72.4395 36.3455L73.6546 37.5606L71.0765 40.1387Z",class:u(i.secondaryFillColor)},null,2),n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M72.9858 24.8608C69.6291 28.2176 69.6291 33.6574 72.9858 37.0141C74.6633 38.6916 76.8633 39.5321 79.0633 39.5321C81.2616 39.5321 83.4616 38.6916 85.1391 37.0141L72.9858 24.8608ZM73.1388 27.4441L82.5558 36.8612C81.5091 37.4816 80.3111 37.8133 79.0633 37.8133C77.226 37.8133 75.5003 37.0966 74.201 35.799C72.9033 34.4996 72.1883 32.774 72.1883 30.9383C72.1883 29.6888 72.5183 28.4908 73.1388 27.4441Z",class:u(i.secondaryFillColor)},null,2),n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M86.1459 32.0051C85.9259 32.0051 85.7059 31.9209 85.5374 31.7542C85.2023 31.4173 85.2023 30.8742 85.5374 30.5373C86.3504 29.7261 86.7973 28.6467 86.7973 27.5003C86.7973 26.3522 86.3504 25.2728 85.5374 24.4615C83.9149 22.839 81.0859 22.839 79.4616 24.4615C79.1265 24.7984 78.5834 24.7984 78.2465 24.4615C77.9113 24.1264 77.9113 23.5833 78.2465 23.2464C80.5187 20.9742 84.4821 20.9742 86.7543 23.2464C87.8904 24.3825 88.516 25.8933 88.516 27.5003C88.516 29.1073 87.8904 30.6181 86.7543 31.7542C86.5859 31.9209 86.3659 32.0051 86.1459 32.0051Z",class:u(i.primaryFillColor)},null,2),n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M89.792 35.6514C89.572 35.6514 89.352 35.5672 89.1836 35.4004C88.8484 35.0636 88.8484 34.5204 89.1836 34.1836C90.9711 32.3978 91.9525 30.0259 91.9525 27.4994C91.9525 24.9745 90.9711 22.6009 89.1836 20.8151C87.3978 19.0294 85.0259 18.0462 82.4994 18.0462C79.9745 18.0462 77.6009 19.0294 75.8152 20.8151C75.48 21.1503 74.9352 21.1503 74.6 20.8151C74.2648 20.48 74.2648 19.9351 74.6 19.6C78.9553 15.2447 86.0434 15.2447 90.4005 19.6C94.7558 23.9553 94.7558 31.0434 90.4005 35.4004C90.232 35.5672 90.012 35.6514 89.792 35.6514Z",class:u(i.primaryFillColor)},null,2),n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M93.4379 39.297C93.2179 39.297 92.9979 39.2128 92.8295 39.0461C92.4944 38.7092 92.4944 38.1661 92.8295 37.8292C95.5898 35.0706 97.1092 31.4028 97.1092 27.4995C97.1092 23.5979 95.5898 19.9284 92.8295 17.1698C90.0709 14.4112 86.4031 12.8901 82.4998 12.8901C78.5983 12.8901 74.9287 14.4112 72.1701 17.1698C71.835 17.505 71.2901 17.505 70.955 17.1698C70.6198 16.8347 70.6198 16.2898 70.955 15.9547C74.0384 12.8712 78.1394 11.1714 82.4998 11.1714C86.862 11.1714 90.9612 12.8712 94.0464 15.9547C97.1298 19.0381 98.8279 23.139 98.8279 27.4995C98.8279 31.8617 97.1298 35.9609 94.0464 39.0461C93.8779 39.2128 93.6579 39.297 93.4379 39.297Z",class:u(i.primaryFillColor)},null,2),n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M39.7832 40.9981L8.8457 10.0606L10.0609 8.84546L40.9984 39.783L39.7832 40.9981Z",class:u(i.primaryFillColor)},null,2),n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M99.9395 101.154L69.002 70.2169L70.2171 69.0017L101.155 99.9392L99.9395 101.154Z",class:u(i.primaryFillColor)},null,2)]),be]))}},we={class:"flex items-center justify-end space-x-5"},ke={class:"relative table-container"},Me={class:"relative flex items-center justify-end h-5 border-gray-200 border-solid"},Fe={class:"flex text-sm font-medium cursor-pointer select-none text-primary-400"},$e={class:"absolute items-center left-6 top-2.5 select-none"},De={class:"relative block"},Se={setup(i){H("utils");const r=O(),F=_e();W();const B=G(),b=q(),{t:f}=z();let _=Z(!1),I=Z(!0);const d=Ce({name:"",unit_id:"",price:""}),p=Z(null),v=A(()=>!r.totalItems&&!I.value),w=A({get:()=>r.selectedItems,set:s=>r.selectItem(s)}),$=A(()=>[{key:"status",thClass:"extra w-10",tdClass:"font-medium text-gray-900",placeholderClass:"w-10",sortable:!1},{key:"name",label:f("items.name"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"unit_name",label:f("items.unit")},{key:"price",label:f("items.price")},{key:"created_at",label:f("items.added_on")},{key:"actions",thClass:"text-right",tdClass:"text-right text-sm font-medium",sortable:!1}]);fe(d,()=>{J()},{debounce:500}),r.fetchItemUnits({limit:"all"}),he(()=>{r.selectAllField&&r.selectAllItems()});function D(){d.name="",d.unit_id="",d.price=""}function E(){return b.hasAbilities([L.DELETE_ITEM,L.EDIT_ITEM])}function j(){_.value&&D(),_.value=!_.value}function N(){p.value&&p.value.refresh()}function J(){N()}async function X(s){return(await r.fetchItemUnits({search:s})).data.data}async function K({page:s,filter:c,sort:k}){let V={search:d.name,unit_id:d.unit_id!==null?d.unit_id:"",price:Math.round(d.price*100),orderByField:k.fieldName||"created_at",orderBy:k.order||"desc",page:s};I.value=!0;let h=await r.fetchItems(V);return I.value=!1,{data:h.data.data,pagination:{totalPages:h.data.meta.last_page,currentPage:s,totalCount:h.data.meta.total,limit:10}}}function Q(){B.openDialog({title:f("general.are_you_sure"),message:f("items.confirm_delete",2),yesLabel:f("general.ok"),noLabel:f("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(s=>{s&&r.deleteMultipleItems().then(c=>{c.data.success&&p.value&&p.value.refresh()})})}return(s,c)=>{const k=o("BaseBreadcrumbItem"),V=o("BaseBreadcrumb"),h=o("BaseIcon"),S=o("BaseButton"),Y=o("BasePageHeader"),ee=o("BaseInput"),x=o("BaseInputGroup"),te=o("BaseMultiselect"),le=o("BaseMoney"),ae=o("BaseFilterWrapper"),ne=o("BaseEmptyPlaceholder"),se=o("BaseDropdownItem"),oe=o("BaseDropdown"),R=o("BaseCheckbox"),ie=o("router-link"),re=o("BaseFormatMoney"),de=o("BaseTable"),ce=o("BasePage");return m(),C(ce,null,{default:t(()=>[l(Y,{title:s.$t("items.title")},{actions:t(()=>[n("div",we,[P(l(S,{variant:"primary-outline",onClick:j},{right:t(e=>[a(_)?(m(),C(h,{key:1,name:"XIcon",class:u(e.class)},null,8,["class"])):(m(),C(h,{key:0,class:u(e.class),name:"FilterIcon"},null,8,["class"]))]),default:t(()=>[g(y(s.$t("general.filter"))+" ",1)]),_:1},512),[[U,a(r).totalItems]]),a(b).hasAbilities(a(L).CREATE_ITEM)?(m(),C(S,{key:0,onClick:c[0]||(c[0]=e=>s.$router.push("/admin/items/create"))},{left:t(e=>[l(h,{name:"PlusIcon",class:u(e.class)},null,8,["class"])]),default:t(()=>[g(" "+y(s.$t("items.add_item")),1)]),_:1})):M("",!0)])]),default:t(()=>[l(V,null,{default:t(()=>[l(k,{title:s.$t("general.home"),to:"dashboard"},null,8,["title"]),l(k,{title:s.$tc("items.item",2),to:"#",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),l(ae,{show:a(_),class:"mt-5",onClear:D},{default:t(()=>[l(x,{label:s.$tc("items.name"),class:"text-left"},{default:t(()=>[l(ee,{modelValue:a(d).name,"onUpdate:modelValue":c[1]||(c[1]=e=>a(d).name=e),type:"text",name:"name",autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label"]),l(x,{label:s.$tc("items.unit"),class:"text-left"},{default:t(()=>[l(te,{modelValue:a(d).unit_id,"onUpdate:modelValue":c[2]||(c[2]=e=>a(d).unit_id=e),placeholder:s.$t("items.select_a_unit"),"value-prop":"id","track-by":"name","filter-results":!1,label:"name","resolve-on-load":"",delay:500,searchable:"",class:"w-full",options:X},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(x,{class:"text-left",label:s.$tc("items.price")},{default:t(()=>[l(le,{modelValue:a(d).price,"onUpdate:modelValue":c[3]||(c[3]=e=>a(d).price=e)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["show"]),P(l(ne,{title:s.$t("items.no_items"),description:s.$t("items.list_of_items")},{actions:t(()=>[a(b).hasAbilities(a(L).CREATE_ITEM)?(m(),C(S,{key:0,variant:"primary-outline",onClick:c[4]||(c[4]=e=>s.$router.push("/admin/items/create"))},{left:t(e=>[l(h,{name:"PlusIcon",class:u(e.class)},null,8,["class"])]),default:t(()=>[g(" "+y(s.$t("items.add_new_item")),1)]),_:1})):M("",!0)]),default:t(()=>[l(Ie,{class:"mt-5 mb-4"})]),_:1},8,["title","description"]),[[U,a(v)]]),P(n("div",ke,[n("div",Me,[a(r).selectedItems.length?(m(),C(oe,{key:0},{activator:t(()=>[n("span",Fe,[g(y(s.$t("general.actions"))+" ",1),l(h,{name:"ChevronDownIcon"})])]),default:t(()=>[l(se,{onClick:Q},{default:t(()=>[l(h,{name:"TrashIcon",class:"mr-3 text-gray-600"}),g(" "+y(s.$t("general.delete")),1)]),_:1})]),_:1})):M("",!0)]),l(de,{ref:(e,T)=>{T.table=e,p.value=e},data:K,columns:a($),"placeholder-count":a(r).totalItems>=20?10:5,class:"mt-3"},ye({header:t(()=>[n("div",$e,[l(R,{modelValue:a(r).selectAllField,"onUpdate:modelValue":c[5]||(c[5]=e=>a(r).selectAllField=e),variant:"primary",onChange:a(r).selectAllItems},null,8,["modelValue","onChange"])])]),"cell-status":t(({row:e})=>[n("div",De,[l(R,{id:e.id,modelValue:a(w),"onUpdate:modelValue":c[6]||(c[6]=T=>ve(w)?w.value=T:null),value:e.data.id},null,8,["id","modelValue","value"])])]),"cell-name":t(({row:e})=>[l(ie,{to:{path:`items/${e.data.id}/edit`},class:"font-medium text-primary-500"},{default:t(()=>[g(y(e.data.name),1)]),_:2},1032,["to"])]),"cell-unit_name":t(({row:e})=>[n("span",null,y(e.data.unit?e.data.unit.name:"-"),1)]),"cell-price":t(({row:e})=>[l(re,{amount:e.data.price,currency:a(F).selectedCompanyCurrency},null,8,["amount","currency"])]),"cell-created_at":t(({row:e})=>[n("span",null,y(e.data.formatted_created_at),1)]),_:2},[E()?{name:"cell-actions",fn:t(({row:e})=>[l(ge,{row:e.data,table:p.value,"load-data":N},null,8,["row","table"])])}:void 0]),1032,["columns","placeholder-count"])],512),[[U,!a(v)]])]),_:1})}}};export{Se as default};
+import{J as z,G as ue,aN as me,ah as H,r as o,o as m,l as C,w as t,u as a,f as l,i as g,t as y,j as M,e as pe,h as n,m as u,B as Z,a0 as Ce,k as A,aR as fe,aS as he,q as P,ag as U,V as ye,x as ve}from"./vendor.01d0adc5.js";import{j as G,u as W,p as O,e as q,g as L,b as _e}from"./main.75722495.js";const ge={props:{row:{type:Object,default:null},table:{type:Object,default:null},loadData:{type:Function,default:null}},setup(i){const r=i,F=G();W();const{t:B}=z(),b=O(),f=ue();me();const _=q();H("utils");function I(d){F.openDialog({title:B("general.are_you_sure"),message:B("items.confirm_delete"),yesLabel:B("general.ok"),noLabel:B("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(p=>{p&&b.deleteItem({ids:[d]}).then(v=>(v.data.success&&r.loadData&&r.loadData(),!0))})}return(d,p)=>{const v=o("BaseIcon"),w=o("BaseButton"),$=o("BaseDropdownItem"),D=o("router-link"),E=o("BaseDropdown");return m(),C(E,null,{activator:t(()=>[a(f).name==="items.view"?(m(),C(w,{key:0,variant:"primary"},{default:t(()=>[l(v,{name:"DotsHorizontalIcon",class:"h-5 text-white"})]),_:1})):(m(),C(v,{key:1,name:"DotsHorizontalIcon",class:"h-5 text-gray-500"}))]),default:t(()=>[a(_).hasAbilities(a(L).EDIT_ITEM)?(m(),C(D,{key:0,to:`/admin/items/${i.row.id}/edit`},{default:t(()=>[l($,null,{default:t(()=>[l(v,{name:"PencilIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),g(" "+y(d.$t("general.edit")),1)]),_:1})]),_:1},8,["to"])):M("",!0),a(_).hasAbilities(a(L).DELETE_ITEM)?(m(),C($,{key:1,onClick:p[0]||(p[0]=j=>I(i.row.id))},{default:t(()=>[l(v,{name:"TrashIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),g(" "+y(d.$t("general.delete")),1)]),_:1})):M("",!0)]),_:1})}}},Be={width:"110",height:"110",viewBox:"0 0 110 110",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Le={"clip-path":"url(#clip0)"},be=n("defs",null,[n("clipPath",{id:"clip0"},[n("rect",{width:"110",height:"110",fill:"white"})])],-1),Ie={props:{primaryFillColor:{type:String,default:"fill-primary-500"},secondaryFillColor:{type:String,default:"fill-gray-600"}},setup(i){return(r,F)=>(m(),pe("svg",Be,[n("g",Le,[n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.76398 22.9512L4.54883 21.7361L21.7363 4.54858L22.9515 5.76374L5.76398 22.9512Z",class:u(i.secondaryFillColor)},null,2),n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M88.264 105.451L87.0488 104.236L104.236 87.0486L105.451 88.2637L88.264 105.451Z",class:u(i.secondaryFillColor)},null,2),n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M29.8265 81.3887L28.6113 80.1736L38.9238 69.8611L40.139 71.0762L29.8265 81.3887Z",class:u(i.primaryFillColor)},null,2),n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M30.9375 81.6406C30.9375 83.0637 29.7825 84.2188 28.3594 84.2188C26.9362 84.2188 25.7812 83.0637 25.7812 81.6406C25.7812 80.2175 26.9362 79.0625 28.3594 79.0625C29.7825 79.0625 30.9375 80.2175 30.9375 81.6406Z",class:u(i.primaryFillColor)},null,2),n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M77.3435 61.5801C76.4635 61.5801 75.5835 61.9152 74.9132 62.5873L62.5863 74.9124C61.244 76.2548 61.244 78.4324 62.5863 79.7748L92.8123 110.001L110 92.8132L79.7738 62.5873C79.1035 61.9152 78.2235 61.5801 77.3435 61.5801ZM77.3435 63.2988C77.8024 63.2988 78.2338 63.4776 78.5587 63.8024L107.569 92.8132L92.8123 107.569L63.8015 78.5596C63.4767 78.2348 63.2979 77.8034 63.2979 77.3445C63.2979 76.8838 63.4767 76.4524 63.8015 76.1276L76.1284 63.8024C76.4532 63.4776 76.8846 63.2988 77.3435 63.2988Z",class:u(i.secondaryFillColor)},null,2),n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M17.1875 0L0 17.1875L30.2259 47.4134C30.8963 48.0838 31.7763 48.4206 32.6562 48.4206C33.5363 48.4206 34.4162 48.0838 35.0866 47.4134L47.4134 35.0866C48.7558 33.7442 48.7558 31.5683 47.4134 30.2259L17.1875 0ZM17.1875 2.43031L46.1983 31.4411C46.5231 31.7659 46.7019 32.1973 46.7019 32.6562C46.7019 33.1152 46.5231 33.5466 46.1983 33.8714L33.8714 46.1983C33.5466 46.5231 33.1152 46.7019 32.6562 46.7019C32.1973 46.7019 31.7659 46.5231 31.4411 46.1983L2.43031 17.1875L17.1875 2.43031Z",class:u(i.secondaryFillColor)},null,2),n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M60.156 28.9238C59.276 28.9238 58.396 29.259 57.7257 29.931L29.9301 57.7249C28.5878 59.0673 28.5878 61.2449 29.9301 62.5873L47.4132 80.0687C48.0835 80.7407 48.9635 81.0759 49.8435 81.0759C50.7235 81.0759 51.6035 80.7407 52.2738 80.0687L80.0695 52.2748C81.4118 50.9324 81.4118 48.7548 80.0695 47.4124L62.5863 29.931C61.916 29.259 61.036 28.9238 60.156 28.9238ZM60.156 30.6426C60.6149 30.6426 61.0463 30.8213 61.3712 31.1462L78.8543 48.6276C79.1792 48.9524 79.3579 49.3838 79.3579 49.8445C79.3579 50.3034 79.1792 50.7348 78.8543 51.0596L51.0587 78.8535C50.7338 79.1784 50.3024 79.3571 49.8435 79.3571C49.3846 79.3571 48.9532 79.1784 48.6284 78.8535L31.1453 61.3721C30.8204 61.0473 30.6417 60.6159 30.6417 60.157C30.6417 59.6963 30.8204 59.2649 31.1453 58.9401L58.9409 31.1462C59.2657 30.8213 59.6971 30.6426 60.156 30.6426Z",class:u(i.secondaryFillColor)},null,2),n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M71.0765 40.1387L69.8613 38.9236L72.4395 36.3455L73.6546 37.5606L71.0765 40.1387Z",class:u(i.secondaryFillColor)},null,2),n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M72.9858 24.8608C69.6291 28.2176 69.6291 33.6574 72.9858 37.0141C74.6633 38.6916 76.8633 39.5321 79.0633 39.5321C81.2616 39.5321 83.4616 38.6916 85.1391 37.0141L72.9858 24.8608ZM73.1388 27.4441L82.5558 36.8612C81.5091 37.4816 80.3111 37.8133 79.0633 37.8133C77.226 37.8133 75.5003 37.0966 74.201 35.799C72.9033 34.4996 72.1883 32.774 72.1883 30.9383C72.1883 29.6888 72.5183 28.4908 73.1388 27.4441Z",class:u(i.secondaryFillColor)},null,2),n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M86.1459 32.0051C85.9259 32.0051 85.7059 31.9209 85.5374 31.7542C85.2023 31.4173 85.2023 30.8742 85.5374 30.5373C86.3504 29.7261 86.7973 28.6467 86.7973 27.5003C86.7973 26.3522 86.3504 25.2728 85.5374 24.4615C83.9149 22.839 81.0859 22.839 79.4616 24.4615C79.1265 24.7984 78.5834 24.7984 78.2465 24.4615C77.9113 24.1264 77.9113 23.5833 78.2465 23.2464C80.5187 20.9742 84.4821 20.9742 86.7543 23.2464C87.8904 24.3825 88.516 25.8933 88.516 27.5003C88.516 29.1073 87.8904 30.6181 86.7543 31.7542C86.5859 31.9209 86.3659 32.0051 86.1459 32.0051Z",class:u(i.primaryFillColor)},null,2),n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M89.792 35.6514C89.572 35.6514 89.352 35.5672 89.1836 35.4004C88.8484 35.0636 88.8484 34.5204 89.1836 34.1836C90.9711 32.3978 91.9525 30.0259 91.9525 27.4994C91.9525 24.9745 90.9711 22.6009 89.1836 20.8151C87.3978 19.0294 85.0259 18.0462 82.4994 18.0462C79.9745 18.0462 77.6009 19.0294 75.8152 20.8151C75.48 21.1503 74.9352 21.1503 74.6 20.8151C74.2648 20.48 74.2648 19.9351 74.6 19.6C78.9553 15.2447 86.0434 15.2447 90.4005 19.6C94.7558 23.9553 94.7558 31.0434 90.4005 35.4004C90.232 35.5672 90.012 35.6514 89.792 35.6514Z",class:u(i.primaryFillColor)},null,2),n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M93.4379 39.297C93.2179 39.297 92.9979 39.2128 92.8295 39.0461C92.4944 38.7092 92.4944 38.1661 92.8295 37.8292C95.5898 35.0706 97.1092 31.4028 97.1092 27.4995C97.1092 23.5979 95.5898 19.9284 92.8295 17.1698C90.0709 14.4112 86.4031 12.8901 82.4998 12.8901C78.5983 12.8901 74.9287 14.4112 72.1701 17.1698C71.835 17.505 71.2901 17.505 70.955 17.1698C70.6198 16.8347 70.6198 16.2898 70.955 15.9547C74.0384 12.8712 78.1394 11.1714 82.4998 11.1714C86.862 11.1714 90.9612 12.8712 94.0464 15.9547C97.1298 19.0381 98.8279 23.139 98.8279 27.4995C98.8279 31.8617 97.1298 35.9609 94.0464 39.0461C93.8779 39.2128 93.6579 39.297 93.4379 39.297Z",class:u(i.primaryFillColor)},null,2),n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M39.7832 40.9981L8.8457 10.0606L10.0609 8.84546L40.9984 39.783L39.7832 40.9981Z",class:u(i.primaryFillColor)},null,2),n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M99.9395 101.154L69.002 70.2169L70.2171 69.0017L101.155 99.9392L99.9395 101.154Z",class:u(i.primaryFillColor)},null,2)]),be]))}},we={class:"flex items-center justify-end space-x-5"},ke={class:"relative table-container"},Me={class:"relative flex items-center justify-end h-5 border-gray-200 border-solid"},Fe={class:"flex text-sm font-medium cursor-pointer select-none text-primary-400"},$e={class:"absolute items-center left-6 top-2.5 select-none"},De={class:"relative block"},Se={setup(i){H("utils");const r=O(),F=_e();W();const B=G(),b=q(),{t:f}=z();let _=Z(!1),I=Z(!0);const d=Ce({name:"",unit_id:"",price:""}),p=Z(null),v=A(()=>!r.totalItems&&!I.value),w=A({get:()=>r.selectedItems,set:s=>r.selectItem(s)}),$=A(()=>[{key:"status",thClass:"extra w-10",tdClass:"font-medium text-gray-900",placeholderClass:"w-10",sortable:!1},{key:"name",label:f("items.name"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"unit_name",label:f("items.unit")},{key:"price",label:f("items.price")},{key:"created_at",label:f("items.added_on")},{key:"actions",thClass:"text-right",tdClass:"text-right text-sm font-medium",sortable:!1}]);fe(d,()=>{J()},{debounce:500}),r.fetchItemUnits({limit:"all"}),he(()=>{r.selectAllField&&r.selectAllItems()});function D(){d.name="",d.unit_id="",d.price=""}function E(){return b.hasAbilities([L.DELETE_ITEM,L.EDIT_ITEM])}function j(){_.value&&D(),_.value=!_.value}function N(){p.value&&p.value.refresh()}function J(){N()}async function X(s){return(await r.fetchItemUnits({search:s})).data.data}async function K({page:s,filter:c,sort:k}){let V={search:d.name,unit_id:d.unit_id!==null?d.unit_id:"",price:Math.round(d.price*100),orderByField:k.fieldName||"created_at",orderBy:k.order||"desc",page:s};I.value=!0;let h=await r.fetchItems(V);return I.value=!1,{data:h.data.data,pagination:{totalPages:h.data.meta.last_page,currentPage:s,totalCount:h.data.meta.total,limit:10}}}function Q(){B.openDialog({title:f("general.are_you_sure"),message:f("items.confirm_delete",2),yesLabel:f("general.ok"),noLabel:f("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(s=>{s&&r.deleteMultipleItems().then(c=>{c.data.success&&p.value&&p.value.refresh()})})}return(s,c)=>{const k=o("BaseBreadcrumbItem"),V=o("BaseBreadcrumb"),h=o("BaseIcon"),S=o("BaseButton"),Y=o("BasePageHeader"),ee=o("BaseInput"),x=o("BaseInputGroup"),te=o("BaseMultiselect"),le=o("BaseMoney"),ae=o("BaseFilterWrapper"),ne=o("BaseEmptyPlaceholder"),se=o("BaseDropdownItem"),oe=o("BaseDropdown"),R=o("BaseCheckbox"),ie=o("router-link"),re=o("BaseFormatMoney"),de=o("BaseTable"),ce=o("BasePage");return m(),C(ce,null,{default:t(()=>[l(Y,{title:s.$t("items.title")},{actions:t(()=>[n("div",we,[P(l(S,{variant:"primary-outline",onClick:j},{right:t(e=>[a(_)?(m(),C(h,{key:1,name:"XIcon",class:u(e.class)},null,8,["class"])):(m(),C(h,{key:0,class:u(e.class),name:"FilterIcon"},null,8,["class"]))]),default:t(()=>[g(y(s.$t("general.filter"))+" ",1)]),_:1},512),[[U,a(r).totalItems]]),a(b).hasAbilities(a(L).CREATE_ITEM)?(m(),C(S,{key:0,onClick:c[0]||(c[0]=e=>s.$router.push("/admin/items/create"))},{left:t(e=>[l(h,{name:"PlusIcon",class:u(e.class)},null,8,["class"])]),default:t(()=>[g(" "+y(s.$t("items.add_item")),1)]),_:1})):M("",!0)])]),default:t(()=>[l(V,null,{default:t(()=>[l(k,{title:s.$t("general.home"),to:"dashboard"},null,8,["title"]),l(k,{title:s.$tc("items.item",2),to:"#",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),l(ae,{show:a(_),class:"mt-5",onClear:D},{default:t(()=>[l(x,{label:s.$tc("items.name"),class:"text-left"},{default:t(()=>[l(ee,{modelValue:a(d).name,"onUpdate:modelValue":c[1]||(c[1]=e=>a(d).name=e),type:"text",name:"name",autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label"]),l(x,{label:s.$tc("items.unit"),class:"text-left"},{default:t(()=>[l(te,{modelValue:a(d).unit_id,"onUpdate:modelValue":c[2]||(c[2]=e=>a(d).unit_id=e),placeholder:s.$t("items.select_a_unit"),"value-prop":"id","track-by":"name","filter-results":!1,label:"name","resolve-on-load":"",delay:500,searchable:"",class:"w-full",options:X},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(x,{class:"text-left",label:s.$tc("items.price")},{default:t(()=>[l(le,{modelValue:a(d).price,"onUpdate:modelValue":c[3]||(c[3]=e=>a(d).price=e)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["show"]),P(l(ne,{title:s.$t("items.no_items"),description:s.$t("items.list_of_items")},{actions:t(()=>[a(b).hasAbilities(a(L).CREATE_ITEM)?(m(),C(S,{key:0,variant:"primary-outline",onClick:c[4]||(c[4]=e=>s.$router.push("/admin/items/create"))},{left:t(e=>[l(h,{name:"PlusIcon",class:u(e.class)},null,8,["class"])]),default:t(()=>[g(" "+y(s.$t("items.add_new_item")),1)]),_:1})):M("",!0)]),default:t(()=>[l(Ie,{class:"mt-5 mb-4"})]),_:1},8,["title","description"]),[[U,a(v)]]),P(n("div",ke,[n("div",Me,[a(r).selectedItems.length?(m(),C(oe,{key:0},{activator:t(()=>[n("span",Fe,[g(y(s.$t("general.actions"))+" ",1),l(h,{name:"ChevronDownIcon"})])]),default:t(()=>[l(se,{onClick:Q},{default:t(()=>[l(h,{name:"TrashIcon",class:"mr-3 text-gray-600"}),g(" "+y(s.$t("general.delete")),1)]),_:1})]),_:1})):M("",!0)]),l(de,{ref:(e,T)=>{T.table=e,p.value=e},data:K,columns:a($),"placeholder-count":a(r).totalItems>=20?10:5,class:"mt-3"},ye({header:t(()=>[n("div",$e,[l(R,{modelValue:a(r).selectAllField,"onUpdate:modelValue":c[5]||(c[5]=e=>a(r).selectAllField=e),variant:"primary",onChange:a(r).selectAllItems},null,8,["modelValue","onChange"])])]),"cell-status":t(({row:e})=>[n("div",De,[l(R,{id:e.id,modelValue:a(w),"onUpdate:modelValue":c[6]||(c[6]=T=>ve(w)?w.value=T:null),value:e.data.id},null,8,["id","modelValue","value"])])]),"cell-name":t(({row:e})=>[l(ie,{to:{path:`items/${e.data.id}/edit`},class:"font-medium text-primary-500"},{default:t(()=>[g(y(e.data.name),1)]),_:2},1032,["to"])]),"cell-unit_name":t(({row:e})=>[n("span",null,y(e.data.unit?e.data.unit.name:"-"),1)]),"cell-price":t(({row:e})=>[l(re,{amount:e.data.price,currency:a(F).selectedCompanyCurrency},null,8,["amount","currency"])]),"cell-created_at":t(({row:e})=>[n("span",null,y(e.data.formatted_created_at),1)]),_:2},[E()?{name:"cell-actions",fn:t(({row:e})=>[l(ge,{row:e.data,table:p.value,"load-data":N},null,8,["row","table"])])}:void 0]),1032,["columns","placeholder-count"])],512),[[U,!a(v)]])]),_:1})}}};export{Se as default};

--- public/build/assets/Index.36ae4778.js ---
@@ -1 +1 @@
-import{J as Q,ah as Y,G as Z,B as y,a0 as ee,k as I,aR as te,r as l,o as c,l as d,w as a,f as t,u as o,m as w,i as _,t as p,j as C,q as S,ag as F,h as P}from"./vendor.01d0adc5.js";import ae from"./BaseTable.440de545.js";import{u as se}from"./global.8697213a.js";import{u as le}from"./estimate.5745bb55.js";import{_ as oe}from"./ObservatoryIcon.1877bd3e.js";import"./main.832b14c7.js";import"./auth.77d12976.js";const ne=P("div",{class:"hidden w-8 h-0 mx-4 border border-gray-400 border-solid xl:block",style:{"margin-top":"1.5rem"}},null,-1),re={class:"relative table-container"},be={setup(me){const{t:f}=Q();Y("utils"),Z();const E=y(null);let u=y(!1),h=y(!0);const j=y(["DRAFT","SENT","VIEWED","EXPIRED","ACCEPTED","REJECTED"]),s=ee({status:"",from_date:"",to_date:"",estimate_number:""}),v=se(),b=le(),x=I(()=>[{key:"estimate_date",label:f("estimates.date"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"estimate_number",label:f("estimates.number",2)},{key:"status",label:f("estimates.status")},{key:"total",label:f("estimates.total")},{key:"actions",thClass:"text-right",tdClass:"text-right text-sm font-medium",sortable:!1}]),k=I(()=>!b.totalEstimates&&!h.value);I(()=>v.currency),te(s,()=>{N()},{debounce:500});function T(){E.value.refresh()}function N(){T()}function D(){s.status="",s.from_date="",s.to_date="",s.estimate_number=""}function H(){u.value&&D(),u.value=!u.value}async function R({page:n,sort:r}){let B={status:s.status,estimate_number:s.estimate_number,from_date:s.from_date,to_date:s.to_date,orderByField:r.fieldName||"created_at",orderBy:r.order||"desc",page:n};h.value=!0;let i=await b.fetchEstimate(B,v.companySlug);return h.value=!1,{data:i.data.data,pagination:{totalPages:i.data.meta.last_page,currentPage:n,totalCount:i.data.meta.total,limit:10}}}return(n,r)=>{const B=l("BaseBreadcrumbItem"),i=l("BaseBreadcrumb"),m=l("BaseIcon"),G=l("BaseButton"),U=l("BasePageHeader"),W=l("BaseSelectInput"),g=l("BaseInputGroup"),z=l("BaseInput"),V=l("BaseDatePicker"),A=l("BaseFilterWrapper"),J=l("BaseEmptyPlaceholder"),$=l("router-link"),M=l("BaseEstimateStatusBadge"),X=l("BaseFormatMoney"),q=l("BaseDropdownItem"),O=l("BaseDropdown"),K=l("BasePage");return c(),d(K,null,{default:a(()=>[t(U,{title:n.$t("estimates.title")},{actions:a(()=>[o(b).totalEstimates?(c(),d(G,{key:0,variant:"primary-outline",onClick:H},{right:a(e=>[o(u)?(c(),d(m,{key:1,name:"XIcon",class:w(e.class)},null,8,["class"])):(c(),d(m,{key:0,name:"FilterIcon",class:w(e.class)},null,8,["class"]))]),default:a(()=>[_(p(n.$t("general.filter"))+" ",1)]),_:1})):C("",!0)]),default:a(()=>[t(i,null,{default:a(()=>[t(B,{title:n.$t("general.home"),to:`/${o(v).companySlug}/customer/dashboard`},null,8,["title","to"]),t(B,{title:n.$tc("estimates.estimate",2),to:"#",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),S(t(A,{onClear:D},{default:a(()=>[t(g,{label:n.$t("estimates.status"),class:"px-3"},{default:a(()=>[t(W,{modelValue:o(s).status,"onUpdate:modelValue":r[0]||(r[0]=e=>o(s).status=e),options:j.value,searchable:"","show-labels":!1,"allow-empty":!1,placeholder:n.$t("general.select_a_status")},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"]),t(g,{label:n.$t("estimates.estimate_number"),color:"black-light",class:"px-3 mt-2"},{default:a(()=>[t(z,{modelValue:o(s).estimate_number,"onUpdate:modelValue":r[1]||(r[1]=e=>o(s).estimate_number=e)},{default:a(()=>[t(m,{name:"DotsHorizontalIcon",class:"h-5 text-gray-500"}),t(m,{name:"HashtagIcon",class:"h-5 mr-3 text-gray-600"})]),_:1},8,["modelValue"])]),_:1},8,["label"]),t(g,{label:n.$t("general.from"),class:"px-3"},{default:a(()=>[t(V,{modelValue:o(s).from_date,"onUpdate:modelValue":r[2]||(r[2]=e=>o(s).from_date=e),"calendar-button":!0,"calendar-button-icon":"calendar"},null,8,["modelValue"])]),_:1},8,["label"]),ne,t(g,{label:n.$t("general.to"),class:"px-3"},{default:a(()=>[t(V,{modelValue:o(s).to_date,"onUpdate:modelValue":r[3]||(r[3]=e=>o(s).to_date=e),"calendar-button":!0,"calendar-button-icon":"calendar"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},512),[[F,o(u)]]),o(k)?(c(),d(J,{key:0,title:n.$t("estimates.no_estimates"),description:n.$t("estimates.list_of_estimates")},{default:a(()=>[t(oe,{class:"mt-5 mb-4"})]),_:1},8,["title","description"])):C("",!0),S(P("div",re,[t(ae,{ref:(e,L)=>{L.table=e,E.value=e},data:R,columns:o(x),"placeholder-count":o(b).totalEstimates>=20?10:5,class:"mt-10"},{"cell-estimate_date":a(({row:e})=>[_(p(e.data.formatted_estimate_date),1)]),"cell-estimate_number":a(({row:e})=>[t($,{to:{path:`estimates/${e.data.id}/view`},class:"font-medium text-primary-500"},{default:a(()=>[_(p(e.data.estimate_number),1)]),_:2},1032,["to"])]),"cell-status":a(({row:e})=>[t(M,{status:e.data.status,class:"px-3 py-1"},{default:a(()=>[_(p(e.data.status),1)]),_:2},1032,["status"])]),"cell-total":a(({row:e})=>[t(X,{amount:e.data.total},null,8,["amount"])]),"cell-actions":a(({row:e})=>[t(O,null,{activator:a(()=>[t(m,{name:"DotsHorizontalIcon",class:"h-5 text-gray-500"})]),default:a(()=>[t($,{to:`estimates/${e.data.id}/view`},{default:a(()=>[t(q,null,{default:a(()=>[t(m,{name:"EyeIcon",class:"h-5 mr-3 text-gray-600"}),_(" "+p(n.$t("general.view")),1)]),_:1})]),_:2},1032,["to"])]),_:2},1024)]),_:1},8,["columns","placeholder-count"])],512),[[F,!o(k)]])]),_:1})}}};export{be as default};
+import{J as Q,ah as Y,G as Z,B as y,a0 as ee,k as I,aR as te,r as l,o as c,l as d,w as a,f as t,u as o,m as w,i as _,t as p,j as C,q as S,ag as F,h as P}from"./vendor.01d0adc5.js";import ae from"./BaseTable.6e206ca7.js";import{u as se}from"./global.08b6a984.js";import{u as le}from"./estimate.e6573e64.js";import{_ as oe}from"./ObservatoryIcon.1877bd3e.js";import"./main.75722495.js";import"./auth.4644c288.js";const ne=P("div",{class:"hidden w-8 h-0 mx-4 border border-gray-400 border-solid xl:block",style:{"margin-top":"1.5rem"}},null,-1),re={class:"relative table-container"},be={setup(me){const{t:f}=Q();Y("utils"),Z();const E=y(null);let u=y(!1),h=y(!0);const j=y(["DRAFT","SENT","VIEWED","EXPIRED","ACCEPTED","REJECTED"]),s=ee({status:"",from_date:"",to_date:"",estimate_number:""}),v=se(),b=le(),x=I(()=>[{key:"estimate_date",label:f("estimates.date"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"estimate_number",label:f("estimates.number",2)},{key:"status",label:f("estimates.status")},{key:"total",label:f("estimates.total")},{key:"actions",thClass:"text-right",tdClass:"text-right text-sm font-medium",sortable:!1}]),k=I(()=>!b.totalEstimates&&!h.value);I(()=>v.currency),te(s,()=>{N()},{debounce:500});function T(){E.value.refresh()}function N(){T()}function D(){s.status="",s.from_date="",s.to_date="",s.estimate_number=""}function H(){u.value&&D(),u.value=!u.value}async function R({page:n,sort:r}){let B={status:s.status,estimate_number:s.estimate_number,from_date:s.from_date,to_date:s.to_date,orderByField:r.fieldName||"created_at",orderBy:r.order||"desc",page:n};h.value=!0;let i=await b.fetchEstimate(B,v.companySlug);return h.value=!1,{data:i.data.data,pagination:{totalPages:i.data.meta.last_page,currentPage:n,totalCount:i.data.meta.total,limit:10}}}return(n,r)=>{const B=l("BaseBreadcrumbItem"),i=l("BaseBreadcrumb"),m=l("BaseIcon"),G=l("BaseButton"),U=l("BasePageHeader"),W=l("BaseSelectInput"),g=l("BaseInputGroup"),z=l("BaseInput"),V=l("BaseDatePicker"),A=l("BaseFilterWrapper"),J=l("BaseEmptyPlaceholder"),$=l("router-link"),M=l("BaseEstimateStatusBadge"),X=l("BaseFormatMoney"),q=l("BaseDropdownItem"),O=l("BaseDropdown"),K=l("BasePage");return c(),d(K,null,{default:a(()=>[t(U,{title:n.$t("estimates.title")},{actions:a(()=>[o(b).totalEstimates?(c(),d(G,{key:0,variant:"primary-outline",onClick:H},{right:a(e=>[o(u)?(c(),d(m,{key:1,name:"XIcon",class:w(e.class)},null,8,["class"])):(c(),d(m,{key:0,name:"FilterIcon",class:w(e.class)},null,8,["class"]))]),default:a(()=>[_(p(n.$t("general.filter"))+" ",1)]),_:1})):C("",!0)]),default:a(()=>[t(i,null,{default:a(()=>[t(B,{title:n.$t("general.home"),to:`/${o(v).companySlug}/customer/dashboard`},null,8,["title","to"]),t(B,{title:n.$tc("estimates.estimate",2),to:"#",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),S(t(A,{onClear:D},{default:a(()=>[t(g,{label:n.$t("estimates.status"),class:"px-3"},{default:a(()=>[t(W,{modelValue:o(s).status,"onUpdate:modelValue":r[0]||(r[0]=e=>o(s).status=e),options:j.value,searchable:"","show-labels":!1,"allow-empty":!1,placeholder:n.$t("general.select_a_status")},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"]),t(g,{label:n.$t("estimates.estimate_number"),color:"black-light",class:"px-3 mt-2"},{default:a(()=>[t(z,{modelValue:o(s).estimate_number,"onUpdate:modelValue":r[1]||(r[1]=e=>o(s).estimate_number=e)},{default:a(()=>[t(m,{name:"DotsHorizontalIcon",class:"h-5 text-gray-500"}),t(m,{name:"HashtagIcon",class:"h-5 mr-3 text-gray-600"})]),_:1},8,["modelValue"])]),_:1},8,["label"]),t(g,{label:n.$t("general.from"),class:"px-3"},{default:a(()=>[t(V,{modelValue:o(s).from_date,"onUpdate:modelValue":r[2]||(r[2]=e=>o(s).from_date=e),"calendar-button":!0,"calendar-button-icon":"calendar"},null,8,["modelValue"])]),_:1},8,["label"]),ne,t(g,{label:n.$t("general.to"),class:"px-3"},{default:a(()=>[t(V,{modelValue:o(s).to_date,"onUpdate:modelValue":r[3]||(r[3]=e=>o(s).to_date=e),"calendar-button":!0,"calendar-button-icon":"calendar"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},512),[[F,o(u)]]),o(k)?(c(),d(J,{key:0,title:n.$t("estimates.no_estimates"),description:n.$t("estimates.list_of_estimates")},{default:a(()=>[t(oe,{class:"mt-5 mb-4"})]),_:1},8,["title","description"])):C("",!0),S(P("div",re,[t(ae,{ref:(e,L)=>{L.table=e,E.value=e},data:R,columns:o(x),"placeholder-count":o(b).totalEstimates>=20?10:5,class:"mt-10"},{"cell-estimate_date":a(({row:e})=>[_(p(e.data.formatted_estimate_date),1)]),"cell-estimate_number":a(({row:e})=>[t($,{to:{path:`estimates/${e.data.id}/view`},class:"font-medium text-primary-500"},{default:a(()=>[_(p(e.data.estimate_number),1)]),_:2},1032,["to"])]),"cell-status":a(({row:e})=>[t(M,{status:e.data.status,class:"px-3 py-1"},{default:a(()=>[_(p(e.data.status),1)]),_:2},1032,["status"])]),"cell-total":a(({row:e})=>[t(X,{amount:e.data.total},null,8,["amount"])]),"cell-actions":a(({row:e})=>[t(O,null,{activator:a(()=>[t(m,{name:"DotsHorizontalIcon",class:"h-5 text-gray-500"})]),default:a(()=>[t($,{to:`estimates/${e.data.id}/view`},{default:a(()=>[t(q,null,{default:a(()=>[t(m,{name:"EyeIcon",class:"h-5 mr-3 text-gray-600"}),_(" "+p(n.$t("general.view")),1)]),_:1})]),_:2},1032,["to"])]),_:2},1024)]),_:1},8,["columns","placeholder-count"])],512),[[F,!o(k)]])]),_:1})}}};export{be as default};

--- public/build/assets/Index.492a896e.js ---
@@ -1 +1 @@
-import{J as ie,B as E,a0 as ce,k as C,aR as de,aS as pe,r as s,o as f,l as b,w as t,f as a,q as Y,ag as R,u as l,m as g,i as d,t as c,j as S,V as W,h as p,x as F}from"./vendor.01d0adc5.js";import{b as ye,j as _e,e as fe,g as B}from"./main.832b14c7.js";import{u as be}from"./payment.372edbf1.js";import{_ as Be}from"./CapsuleIcon.dc769b69.js";import{_ as ve,a as he}from"./SendPaymentModal.a713aa7b.js";import"./mail-driver.1b5e2a8f.js";const ge={class:"relative table-container"},Ce={class:"relative flex items-center justify-end h-5"},ke={class:"flex text-sm font-medium cursor-pointer select-none text-primary-400"},Pe={class:"absolute items-center left-6 top-2.5 select-none"},Ie={class:"relative block"},Me={setup($e){const{t:i}=ie();let v=E(!1),k=E(!0),y=E(null);const r=ce({customer:"",payment_mode:"",payment_number:""}),m=be();ye();const H=_e(),P=fe(),M=C(()=>!m.paymentTotalCount&&!k.value),L=C(()=>[{key:"status",sortable:!1,thClass:"extra w-10",tdClass:"text-left text-sm font-medium extra"},{key:"payment_date",label:i("payments.date"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"payment_number",label:i("payments.payment_number")},{key:"name",label:i("payments.customer")},{key:"payment_mode",label:i("payments.payment_mode")},{key:"invoice_number",label:i("invoices.invoice_number")},{key:"amount",label:i("payments.amount")},{key:"actions",label:"",tdClass:"text-right text-sm font-medium",sortable:!1}]),I=C({get:()=>m.selectedPayments,set:n=>m.selectPayment(n)}),$=C({get:()=>m.selectAllField,set:n=>m.setSelectAllState(n)});de(r,()=>{J()},{debounce:500}),pe(()=>{m.selectAllField&&m.selectAllPayments()}),m.fetchPaymentModes({limit:"all"});async function z(n){return(await m.fetchPaymentModes({search:n})).data.data}function G(){return P.hasAbilities([B.DELETE_PAYMENT,B.EDIT_PAYMENT,B.VIEW_PAYMENT,B.SEND_PAYMENT])}async function q({page:n,filter:o,sort:h}){let V={customer_id:r.customer_id,payment_method_id:r.payment_mode!==null?r.payment_mode:"",payment_number:r.payment_number,orderByField:h.fieldName||"created_at",orderBy:h.order||"desc",page:n};k.value=!0;let u=await m.fetchPayments(V);return k.value=!1,{data:u.data.data,pagination:{totalPages:u.data.meta.last_page,currentPage:n,totalCount:u.data.meta.total,limit:10}}}function D(){y.value&&y.value.refresh()}function J(){D()}function N(){r.customer_id="",r.payment_mode="",r.payment_number=""}function O(){v.value&&N(),v.value=!v.value}function X(){H.openDialog({title:i("general.are_you_sure"),message:i("payments.confirm_delete",2),yesLabel:i("general.ok"),noLabel:i("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(n=>{n&&m.deleteMultiplePayments().then(o=>{o.data.success&&D()})})}return(n,o)=>{const h=s("BaseBreadcrumbItem"),V=s("BaseBreadcrumb"),u=s("BaseIcon"),T=s("BaseButton"),K=s("BasePageHeader"),Q=s("BaseCustomerSelectInput"),A=s("BaseInputGroup"),Z=s("BaseInput"),ee=s("BaseMultiselect"),te=s("BaseFilterWrapper"),ae=s("BaseEmptyPlaceholder"),ne=s("BaseDropdownItem"),le=s("BaseDropdown"),j=s("BaseCheckbox"),se=s("router-link"),oe=s("BaseText"),me=s("BaseFormatMoney"),re=s("BaseTable"),ue=s("BasePage");return f(),b(ue,{class:"payments"},{default:t(()=>[a(ve),a(K,{title:n.$t("payments.title")},{actions:t(()=>[Y(a(T,{variant:"primary-outline",onClick:O},{right:t(e=>[l(v)?(f(),b(u,{key:1,name:"XIcon",class:g(e.class)},null,8,["class"])):(f(),b(u,{key:0,class:g(e.class),name:"FilterIcon"},null,8,["class"]))]),default:t(()=>[d(c(n.$t("general.filter"))+" ",1)]),_:1},512),[[R,l(m).paymentTotalCount]]),l(P).hasAbilities(l(B).CREATE_PAYMENT)?(f(),b(T,{key:0,variant:"primary",class:"ml-4",onClick:o[0]||(o[0]=e=>n.$router.push("/admin/payments/create"))},{left:t(e=>[a(u,{name:"PlusIcon",class:g(e.class)},null,8,["class"])]),default:t(()=>[d(" "+c(n.$t("payments.add_payment")),1)]),_:1})):S("",!0)]),default:t(()=>[a(V,null,{default:t(()=>[a(h,{title:n.$t("general.home"),to:"dashboard"},null,8,["title"]),a(h,{title:n.$tc("payments.payment",2),to:"#",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),a(te,{show:l(v),class:"mt-3",onClear:N},{default:t(()=>[a(A,{label:n.$t("payments.customer")},{default:t(()=>[a(Q,{modelValue:l(r).customer_id,"onUpdate:modelValue":o[1]||(o[1]=e=>l(r).customer_id=e),placeholder:n.$t("customers.type_or_click"),"value-prop":"id",label:"name"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(A,{label:n.$t("payments.payment_number")},{default:t(()=>[a(Z,{modelValue:l(r).payment_number,"onUpdate:modelValue":o[2]||(o[2]=e=>l(r).payment_number=e)},{left:t(e=>[a(u,{name:"HashtagIcon",class:g(e.class)},null,8,["class"])]),_:1},8,["modelValue"])]),_:1},8,["label"]),a(A,{label:n.$t("payments.payment_mode")},{default:t(()=>[a(ee,{modelValue:l(r).payment_mode,"onUpdate:modelValue":o[3]||(o[3]=e=>l(r).payment_mode=e),"value-prop":"id","track-by":"name","filter-results":!1,label:"name","resolve-on-load":"",delay:500,searchable:"",options:z},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["show"]),l(M)?(f(),b(ae,{key:0,title:n.$t("payments.no_payments"),description:n.$t("payments.list_of_payments")},W({default:t(()=>[a(Be,{class:"mt-5 mb-4"})]),_:2},[l(P).hasAbilities(l(B).CREATE_PAYMENT)?{name:"actions",fn:t(()=>[a(T,{variant:"primary-outline",onClick:o[4]||(o[4]=e=>n.$router.push("/admin/payments/create"))},{left:t(e=>[a(u,{name:"PlusIcon",class:g(e.class)},null,8,["class"])]),default:t(()=>[d(" "+c(n.$t("payments.add_new_payment")),1)]),_:1})])}:void 0]),1032,["title","description"])):S("",!0),Y(p("div",ge,[p("div",Ce,[l(m).selectedPayments.length?(f(),b(le,{key:0},{activator:t(()=>[p("span",ke,[d(c(n.$t("general.actions"))+" ",1),a(u,{name:"ChevronDownIcon"})])]),default:t(()=>[a(ne,{onClick:X},{default:t(()=>[a(u,{name:"TrashIcon",class:"mr-3 text-gray-600"}),d(" "+c(n.$t("general.delete")),1)]),_:1})]),_:1})):S("",!0)]),a(re,{ref:(e,_)=>{_.tableComponent=e,F(y)?y.value=e:y=e},data:q,columns:l(L),"placeholder-count":l(m).paymentTotalCount>=20?10:5,class:"mt-3"},W({header:t(()=>[p("div",Pe,[a(j,{modelValue:l($),"onUpdate:modelValue":o[5]||(o[5]=e=>F($)?$.value=e:null),variant:"primary",onChange:l(m).selectAllPayments},null,8,["modelValue","onChange"])])]),"cell-status":t(({row:e})=>[p("div",Ie,[a(j,{id:e.id,modelValue:l(I),"onUpdate:modelValue":o[6]||(o[6]=_=>F(I)?I.value=_:null),value:e.data.id,variant:"primary"},null,8,["id","modelValue","value"])])]),"cell-payment_date":t(({row:e})=>[d(c(e.data.formatted_payment_date),1)]),"cell-payment_number":t(({row:e})=>[a(se,{to:{path:`payments/${e.data.id}/view`},class:"font-medium text-primary-500"},{default:t(()=>[d(c(e.data.payment_number),1)]),_:2},1032,["to"])]),"cell-name":t(({row:e})=>[a(oe,{text:e.data.customer.name,length:30,tag:"span"},null,8,["text"])]),"cell-payment_mode":t(({row:e})=>[p("span",null,c(e.data.payment_method?e.data.payment_method.name:"-"),1)]),"cell-invoice_number":t(({row:e})=>{var _,x,w,U;return[p("span",null,c(((x=(_=e==null?void 0:e.data)==null?void 0:_.invoice)==null?void 0:x.invoice_number)?(U=(w=e==null?void 0:e.data)==null?void 0:w.invoice)==null?void 0:U.invoice_number:"-"),1)]}),"cell-amount":t(({row:e})=>[a(me,{amount:e.data.amount,currency:e.data.customer.currency},null,8,["amount","currency"])]),_:2},[G()?{name:"cell-actions",fn:t(({row:e})=>[a(he,{row:e.data,table:l(y)},null,8,["row","table"])])}:void 0]),1032,["columns","placeholder-count"])],512),[[R,!l(M)]])]),_:1})}}};export{Me as default};
+import{J as ie,B as E,a0 as ce,k as C,aR as de,aS as pe,r as s,o as f,l as b,w as t,f as a,q as Y,ag as R,u as l,m as g,i as d,t as c,j as S,V as W,h as p,x as F}from"./vendor.01d0adc5.js";import{b as ye,j as _e,e as fe,g as B}from"./main.75722495.js";import{u as be}from"./payment.5c57bec3.js";import{_ as Be}from"./CapsuleIcon.dc769b69.js";import{_ as ve,a as he}from"./SendPaymentModal.1bb9d371.js";import"./mail-driver.4ea1af6b.js";const ge={class:"relative table-container"},Ce={class:"relative flex items-center justify-end h-5"},ke={class:"flex text-sm font-medium cursor-pointer select-none text-primary-400"},Pe={class:"absolute items-center left-6 top-2.5 select-none"},Ie={class:"relative block"},Me={setup($e){const{t:i}=ie();let v=E(!1),k=E(!0),y=E(null);const r=ce({customer:"",payment_mode:"",payment_number:""}),m=be();ye();const H=_e(),P=fe(),M=C(()=>!m.paymentTotalCount&&!k.value),L=C(()=>[{key:"status",sortable:!1,thClass:"extra w-10",tdClass:"text-left text-sm font-medium extra"},{key:"payment_date",label:i("payments.date"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"payment_number",label:i("payments.payment_number")},{key:"name",label:i("payments.customer")},{key:"payment_mode",label:i("payments.payment_mode")},{key:"invoice_number",label:i("invoices.invoice_number")},{key:"amount",label:i("payments.amount")},{key:"actions",label:"",tdClass:"text-right text-sm font-medium",sortable:!1}]),I=C({get:()=>m.selectedPayments,set:n=>m.selectPayment(n)}),$=C({get:()=>m.selectAllField,set:n=>m.setSelectAllState(n)});de(r,()=>{J()},{debounce:500}),pe(()=>{m.selectAllField&&m.selectAllPayments()}),m.fetchPaymentModes({limit:"all"});async function z(n){return(await m.fetchPaymentModes({search:n})).data.data}function G(){return P.hasAbilities([B.DELETE_PAYMENT,B.EDIT_PAYMENT,B.VIEW_PAYMENT,B.SEND_PAYMENT])}async function q({page:n,filter:o,sort:h}){let V={customer_id:r.customer_id,payment_method_id:r.payment_mode!==null?r.payment_mode:"",payment_number:r.payment_number,orderByField:h.fieldName||"created_at",orderBy:h.order||"desc",page:n};k.value=!0;let u=await m.fetchPayments(V);return k.value=!1,{data:u.data.data,pagination:{totalPages:u.data.meta.last_page,currentPage:n,totalCount:u.data.meta.total,limit:10}}}function D(){y.value&&y.value.refresh()}function J(){D()}function N(){r.customer_id="",r.payment_mode="",r.payment_number=""}function O(){v.value&&N(),v.value=!v.value}function X(){H.openDialog({title:i("general.are_you_sure"),message:i("payments.confirm_delete",2),yesLabel:i("general.ok"),noLabel:i("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(n=>{n&&m.deleteMultiplePayments().then(o=>{o.data.success&&D()})})}return(n,o)=>{const h=s("BaseBreadcrumbItem"),V=s("BaseBreadcrumb"),u=s("BaseIcon"),T=s("BaseButton"),K=s("BasePageHeader"),Q=s("BaseCustomerSelectInput"),A=s("BaseInputGroup"),Z=s("BaseInput"),ee=s("BaseMultiselect"),te=s("BaseFilterWrapper"),ae=s("BaseEmptyPlaceholder"),ne=s("BaseDropdownItem"),le=s("BaseDropdown"),j=s("BaseCheckbox"),se=s("router-link"),oe=s("BaseText"),me=s("BaseFormatMoney"),re=s("BaseTable"),ue=s("BasePage");return f(),b(ue,{class:"payments"},{default:t(()=>[a(ve),a(K,{title:n.$t("payments.title")},{actions:t(()=>[Y(a(T,{variant:"primary-outline",onClick:O},{right:t(e=>[l(v)?(f(),b(u,{key:1,name:"XIcon",class:g(e.class)},null,8,["class"])):(f(),b(u,{key:0,class:g(e.class),name:"FilterIcon"},null,8,["class"]))]),default:t(()=>[d(c(n.$t("general.filter"))+" ",1)]),_:1},512),[[R,l(m).paymentTotalCount]]),l(P).hasAbilities(l(B).CREATE_PAYMENT)?(f(),b(T,{key:0,variant:"primary",class:"ml-4",onClick:o[0]||(o[0]=e=>n.$router.push("/admin/payments/create"))},{left:t(e=>[a(u,{name:"PlusIcon",class:g(e.class)},null,8,["class"])]),default:t(()=>[d(" "+c(n.$t("payments.add_payment")),1)]),_:1})):S("",!0)]),default:t(()=>[a(V,null,{default:t(()=>[a(h,{title:n.$t("general.home"),to:"dashboard"},null,8,["title"]),a(h,{title:n.$tc("payments.payment",2),to:"#",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),a(te,{show:l(v),class:"mt-3",onClear:N},{default:t(()=>[a(A,{label:n.$t("payments.customer")},{default:t(()=>[a(Q,{modelValue:l(r).customer_id,"onUpdate:modelValue":o[1]||(o[1]=e=>l(r).customer_id=e),placeholder:n.$t("customers.type_or_click"),"value-prop":"id",label:"name"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(A,{label:n.$t("payments.payment_number")},{default:t(()=>[a(Z,{modelValue:l(r).payment_number,"onUpdate:modelValue":o[2]||(o[2]=e=>l(r).payment_number=e)},{left:t(e=>[a(u,{name:"HashtagIcon",class:g(e.class)},null,8,["class"])]),_:1},8,["modelValue"])]),_:1},8,["label"]),a(A,{label:n.$t("payments.payment_mode")},{default:t(()=>[a(ee,{modelValue:l(r).payment_mode,"onUpdate:modelValue":o[3]||(o[3]=e=>l(r).payment_mode=e),"value-prop":"id","track-by":"name","filter-results":!1,label:"name","resolve-on-load":"",delay:500,searchable:"",options:z},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["show"]),l(M)?(f(),b(ae,{key:0,title:n.$t("payments.no_payments"),description:n.$t("payments.list_of_payments")},W({default:t(()=>[a(Be,{class:"mt-5 mb-4"})]),_:2},[l(P).hasAbilities(l(B).CREATE_PAYMENT)?{name:"actions",fn:t(()=>[a(T,{variant:"primary-outline",onClick:o[4]||(o[4]=e=>n.$router.push("/admin/payments/create"))},{left:t(e=>[a(u,{name:"PlusIcon",class:g(e.class)},null,8,["class"])]),default:t(()=>[d(" "+c(n.$t("payments.add_new_payment")),1)]),_:1})])}:void 0]),1032,["title","description"])):S("",!0),Y(p("div",ge,[p("div",Ce,[l(m).selectedPayments.length?(f(),b(le,{key:0},{activator:t(()=>[p("span",ke,[d(c(n.$t("general.actions"))+" ",1),a(u,{name:"ChevronDownIcon"})])]),default:t(()=>[a(ne,{onClick:X},{default:t(()=>[a(u,{name:"TrashIcon",class:"mr-3 text-gray-600"}),d(" "+c(n.$t("general.delete")),1)]),_:1})]),_:1})):S("",!0)]),a(re,{ref:(e,_)=>{_.tableComponent=e,F(y)?y.value=e:y=e},data:q,columns:l(L),"placeholder-count":l(m).paymentTotalCount>=20?10:5,class:"mt-3"},W({header:t(()=>[p("div",Pe,[a(j,{modelValue:l($),"onUpdate:modelValue":o[5]||(o[5]=e=>F($)?$.value=e:null),variant:"primary",onChange:l(m).selectAllPayments},null,8,["modelValue","onChange"])])]),"cell-status":t(({row:e})=>[p("div",Ie,[a(j,{id:e.id,modelValue:l(I),"onUpdate:modelValue":o[6]||(o[6]=_=>F(I)?I.value=_:null),value:e.data.id,variant:"primary"},null,8,["id","modelValue","value"])])]),"cell-payment_date":t(({row:e})=>[d(c(e.data.formatted_payment_date),1)]),"cell-payment_number":t(({row:e})=>[a(se,{to:{path:`payments/${e.data.id}/view`},class:"font-medium text-primary-500"},{default:t(()=>[d(c(e.data.payment_number),1)]),_:2},1032,["to"])]),"cell-name":t(({row:e})=>[a(oe,{text:e.data.customer.name,length:30,tag:"span"},null,8,["text"])]),"cell-payment_mode":t(({row:e})=>[p("span",null,c(e.data.payment_method?e.data.payment_method.name:"-"),1)]),"cell-invoice_number":t(({row:e})=>{var _,x,w,U;return[p("span",null,c(((x=(_=e==null?void 0:e.data)==null?void 0:_.invoice)==null?void 0:x.invoice_number)?(U=(w=e==null?void 0:e.data)==null?void 0:w.invoice)==null?void 0:U.invoice_number:"-"),1)]}),"cell-amount":t(({row:e})=>[a(me,{amount:e.data.amount,currency:e.data.customer.currency},null,8,["amount","currency"])]),_:2},[G()?{name:"cell-actions",fn:t(({row:e})=>[a(he,{row:e.data,table:l(y)},null,8,["row","table"])])}:void 0]),1032,["columns","placeholder-count"])],512),[[R,!l(M)]])]),_:1})}}};export{Me as default};

--- public/build/assets/Index.56add046.js ---
@@ -1 +1 @@
-import{J as ve,ah as pe,B,aN as fe,a0 as be,k as F,aR as ge,aS as Be,r as i,o as I,l as h,w as l,f as t,q as D,ag as V,u as o,m as y,i as m,t as _,j as L,V as M,h as p,x as Ie}from"./vendor.01d0adc5.js";import{i as he,j as ye,u as ke,e as Ee,g as f}from"./main.832b14c7.js";import{_ as Ce}from"./MoonwalkerIcon.ab503573.js";import{_ as De}from"./InvoiceIndexDropdown.a0cb5742.js";import{_ as Ve}from"./SendInvoiceModal.35678ab1.js";import"./mail-driver.1b5e2a8f.js";const Te=p("div",{class:"hidden w-8 h-0 mx-4 border border-gray-400 border-solid xl:block",style:{"margin-top":"1.5rem"}},null,-1),Ae={class:"relative table-container"},$e={class:"relative flex items-center justify-between h-10 mt-5 list-none border-b-2 border-gray-200 border-solid"},Se={class:"flex text-sm font-medium cursor-pointer select-none text-primary-400"},Pe={class:"absolute items-center left-6 top-2.5 select-none"},we={class:"relative block"},Fe={class:"flex justify-between"},Me={setup(Ne){const c=he(),W=ye();ke();const{t:n}=ve();pe("$utils");const k=B(null),b=B(!1),G=B([{label:"Status",options:["DRAFT","DUE","SENT","VIEWED","OVERDUE","COMPLETED"]},{label:"Paid Status",options:["UNPAID","PAID","PARTIALLY_PAID"]},,]),T=B(!0),u=B("general.draft");fe();const E=Ee();let s=be({customer_id:"",status:"DRAFT",from_date:"",to_date:"",invoice_number:""});const N=F(()=>!c.invoiceTotalCount&&!T.value),A=F({get:()=>c.selectedInvoices,set:a=>c.selectInvoice(a)}),H=F(()=>[{key:"checkbox",thClass:"extra w-10",tdClass:"font-medium text-gray-900",placeholderClass:"w-10",sortable:!1},{key:"invoice_date",label:n("invoices.date"),thClass:"extra",tdClass:"font-medium"},{key:"invoice_number",label:n("invoices.number")},{key:"name",label:n("invoices.customer")},{key:"status",label:n("invoices.status")},{key:"due_amount",label:n("dashboard.recent_invoices_card.amount_due")},{key:"total",label:n("invoices.total"),tdClass:"font-medium text-gray-900"},{key:"actions",label:n("invoices.action"),tdClass:"text-right text-sm font-medium",thClass:"text-right",sortable:!1}]);ge(s,()=>{X()},{debounce:500}),Be(()=>{c.selectAllField&&c.selectAllInvoices()});function q(){return E.hasAbilities([f.DELETE_INVOICE,f.EDIT_INVOICE,f.VIEW_INVOICE,f.SEND_INVOICE])}async function z(a,r){s.status="",$()}function $(){k.value&&k.value.refresh()}async function Y({page:a,filter:r,sort:v}){let S={customer_id:s.customer_id,status:s.status,from_date:s.from_date,to_date:s.to_date,invoice_number:s.invoice_number,orderByField:v.fieldName||"created_at",orderBy:v.order||"desc",page:a};T.value=!0;let d=await c.fetchInvoices(S);return T.value=!1,{data:d.data.data,pagination:{totalPages:d.data.meta.last_page,currentPage:a,totalCount:d.data.meta.total,limit:10}}}function J(a){if(u.value==a.title)return!0;switch(u.value=a.title,a.title){case n("general.draft"):s.status="DRAFT";break;case n("general.sent"):s.status="SENT";break;case n("general.due"):s.status="DUE";break;default:s.status="";break}}function X(){c.$patch(a=>{a.selectedInvoices=[],a.selectAllField=!1}),$()}function U(){s.customer_id="",s.status="",s.from_date="",s.to_date="",s.invoice_number="",u.value=n("general.all")}async function K(){W.openDialog({title:n("general.are_you_sure"),message:n("invoices.confirm_delete"),yesLabel:n("general.ok"),noLabel:n("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(async a=>{a&&await c.deleteMultipleInvoices().then(r=>{r.data.success&&($(),c.$patch(v=>{v.selectedInvoices=[],v.selectAllField=!1}))})})}function Q(){b.value&&U(),b.value=!b.value}function Z(a){switch(a){case"DRAFT":u.value=n("general.draft");break;case"SENT":u.value=n("general.sent");break;case"DUE":u.value=n("general.due");break;case"COMPLETED":u.value=n("invoices.completed");break;case"PAID":u.value=n("invoices.paid");break;case"UNPAID":u.value=n("invoices.unpaid");break;case"PARTIALLY_PAID":u.value=n("invoices.partially_paid");break;case"VIEWED":u.value=n("invoices.viewed");break;case"OVERDUE":u.value=n("invoices.overdue");break;default:u.value=n("general.all");break}}return(a,r)=>{const v=i("BaseBreadcrumbItem"),S=i("BaseBreadcrumb"),d=i("BaseIcon"),P=i("BaseButton"),R=i("router-link"),ee=i("BasePageHeader"),te=i("BaseCustomerSelectInput"),g=i("BaseInputGroup"),ae=i("BaseMultiselect"),O=i("BaseDatePicker"),le=i("BaseInput"),se=i("BaseFilterWrapper"),oe=i("BaseEmptyPlaceholder"),C=i("BaseTab"),ne=i("BaseTabGroup"),ie=i("BaseDropdownItem"),re=i("BaseDropdown"),j=i("BaseCheckbox"),ce=i("BaseText"),x=i("BaseFormatMoney"),ue=i("BaseInvoiceStatusBadge"),de=i("BasePaidStatusBadge"),me=i("BaseTable"),_e=i("BasePage");return I(),h(_e,null,{default:l(()=>[t(Ve),t(ee,{title:a.$t("invoices.title")},{actions:l(()=>[D(t(P,{variant:"primary-outline",onClick:Q},{right:l(e=>[b.value?(I(),h(d,{key:1,name:"XIcon",class:y(e.class)},null,8,["class"])):(I(),h(d,{key:0,name:"FilterIcon",class:y(e.class)},null,8,["class"]))]),default:l(()=>[m(_(a.$t("general.filter"))+" ",1)]),_:1},512),[[V,o(c).invoiceTotalCount]]),o(E).hasAbilities(o(f).CREATE_INVOICE)?(I(),h(R,{key:0,to:"invoices/create"},{default:l(()=>[t(P,{variant:"primary",class:"ml-4"},{left:l(e=>[t(d,{name:"PlusIcon",class:y(e.class)},null,8,["class"])]),default:l(()=>[m(" "+_(a.$t("invoices.new_invoice")),1)]),_:1})]),_:1})):L("",!0)]),default:l(()=>[t(S,null,{default:l(()=>[t(v,{title:a.$t("general.home"),to:"dashboard"},null,8,["title"]),t(v,{title:a.$tc("invoices.invoice",2),to:"#",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),D(t(se,{"row-on-xl":!0,onClear:U},{default:l(()=>[t(g,{label:a.$tc("customers.customer",1)},{default:l(()=>[t(te,{modelValue:o(s).customer_id,"onUpdate:modelValue":r[0]||(r[0]=e=>o(s).customer_id=e),placeholder:a.$t("customers.type_or_click"),"value-prop":"id",label:"name"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(g,{label:a.$t("invoices.status")},{default:l(()=>[t(ae,{modelValue:o(s).status,"onUpdate:modelValue":[r[1]||(r[1]=e=>o(s).status=e),Z],groups:!0,options:G.value,searchable:"",placeholder:a.$t("general.select_a_status"),onRemove:r[2]||(r[2]=e=>z())},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"]),t(g,{label:a.$t("general.from")},{default:l(()=>[t(O,{modelValue:o(s).from_date,"onUpdate:modelValue":r[3]||(r[3]=e=>o(s).from_date=e),"calendar-button":!0,"calendar-button-icon":"calendar"},null,8,["modelValue"])]),_:1},8,["label"]),Te,t(g,{label:a.$t("general.to"),class:"mt-2"},{default:l(()=>[t(O,{modelValue:o(s).to_date,"onUpdate:modelValue":r[4]||(r[4]=e=>o(s).to_date=e),"calendar-button":!0,"calendar-button-icon":"calendar"},null,8,["modelValue"])]),_:1},8,["label"]),t(g,{label:a.$t("invoices.invoice_number")},{default:l(()=>[t(le,{modelValue:o(s).invoice_number,"onUpdate:modelValue":r[5]||(r[5]=e=>o(s).invoice_number=e)},{left:l(e=>[t(d,{name:"HashtagIcon",class:y(e.class)},null,8,["class"])]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1},512),[[V,b.value]]),D(t(oe,{title:a.$t("invoices.no_invoices"),description:a.$t("invoices.list_of_invoices")},M({default:l(()=>[t(Ce,{class:"mt-5 mb-4"})]),_:2},[o(E).hasAbilities(o(f).CREATE_INVOICE)?{name:"actions",fn:l(()=>[t(P,{variant:"primary-outline",onClick:r[6]||(r[6]=e=>a.$router.push("/admin/invoices/create"))},{left:l(e=>[t(d,{name:"PlusIcon",class:y(e.class)},null,8,["class"])]),default:l(()=>[m(" "+_(a.$t("invoices.add_new_invoice")),1)]),_:1})])}:void 0]),1032,["title","description"]),[[V,o(N)]]),D(p("div",Ae,[p("div",$e,[t(ne,{class:"-mb-5",onChange:J},{default:l(()=>[t(C,{title:a.$t("general.draft"),filter:"DRAFT"},null,8,["title"]),t(C,{title:a.$t("general.due"),filter:"DUE"},null,8,["title"]),t(C,{title:a.$t("general.sent"),filter:"SENT"},null,8,["title"]),t(C,{title:a.$t("general.all"),filter:""},null,8,["title"])]),_:1}),o(c).selectedInvoices.length&&o(E).hasAbilities(o(f).DELETE_INVOICE)?(I(),h(re,{key:0,class:"absolute float-right"},{activator:l(()=>[p("span",Se,[m(_(a.$t("general.actions"))+" ",1),t(d,{name:"ChevronDownIcon"})])]),default:l(()=>[t(ie,{onClick:K},{default:l(()=>[t(d,{name:"TrashIcon",class:"mr-3 text-gray-600"}),m(" "+_(a.$t("general.delete")),1)]),_:1})]),_:1})):L("",!0)]),t(me,{ref:(e,w)=>{w.table=e,k.value=e},data:Y,columns:o(H),"placeholder-count":o(c).invoiceTotalCount>=20?10:5,class:"mt-10"},M({header:l(()=>[p("div",Pe,[t(j,{modelValue:o(c).selectAllField,"onUpdate:modelValue":r[7]||(r[7]=e=>o(c).selectAllField=e),variant:"primary",onChange:o(c).selectAllInvoices},null,8,["modelValue","onChange"])])]),"cell-checkbox":l(({row:e})=>[p("div",we,[t(j,{id:e.id,modelValue:o(A),"onUpdate:modelValue":r[8]||(r[8]=w=>Ie(A)?A.value=w:null),value:e.data.id},null,8,["id","modelValue","value"])])]),"cell-name":l(({row:e})=>[t(ce,{text:e.data.customer.name,length:30},null,8,["text"])]),"cell-invoice_number":l(({row:e})=>[t(R,{to:{path:`invoices/${e.data.id}/view`},class:"font-medium text-primary-500"},{default:l(()=>[m(_(e.data.invoice_number),1)]),_:2},1032,["to"])]),"cell-invoice_date":l(({row:e})=>[m(_(e.data.formatted_invoice_date),1)]),"cell-total":l(({row:e})=>[t(x,{amount:e.data.total,currency:e.data.customer.currency},null,8,["amount","currency"])]),"cell-status":l(({row:e})=>[t(ue,{status:e.data.status,class:"px-3 py-1"},{default:l(()=>[m(_(e.data.status),1)]),_:2},1032,["status"])]),"cell-due_amount":l(({row:e})=>[p("div",Fe,[t(x,{amount:e.data.due_amount,currency:e.data.currency},null,8,["amount","currency"]),t(de,{status:e.data.paid_status,class:"px-1 py-0.5 ml-2"},{default:l(()=>[m(_(e.data.paid_status),1)]),_:2},1032,["status"])])]),_:2},[q()?{name:"cell-actions",fn:l(({row:e})=>[t(De,{row:e.data,table:k.value},null,8,["row","table"])])}:void 0]),1032,["columns","placeholder-count"])],512),[[V,!o(N)]])]),_:1})}}};export{Me as default};
+import{J as ve,ah as pe,B,aN as fe,a0 as be,k as F,aR as ge,aS as Be,r as i,o as I,l as h,w as l,f as t,q as D,ag as V,u as o,m as y,i as m,t as _,j as L,V as M,h as p,x as Ie}from"./vendor.01d0adc5.js";import{i as he,j as ye,u as ke,e as Ee,g as f}from"./main.75722495.js";import{_ as Ce}from"./MoonwalkerIcon.ab503573.js";import{_ as De}from"./InvoiceIndexDropdown.430bc329.js";import{_ as Ve}from"./SendInvoiceModal.89e6012d.js";import"./mail-driver.4ea1af6b.js";const Te=p("div",{class:"hidden w-8 h-0 mx-4 border border-gray-400 border-solid xl:block",style:{"margin-top":"1.5rem"}},null,-1),Ae={class:"relative table-container"},$e={class:"relative flex items-center justify-between h-10 mt-5 list-none border-b-2 border-gray-200 border-solid"},Se={class:"flex text-sm font-medium cursor-pointer select-none text-primary-400"},Pe={class:"absolute items-center left-6 top-2.5 select-none"},we={class:"relative block"},Fe={class:"flex justify-between"},Me={setup(Ne){const c=he(),W=ye();ke();const{t:n}=ve();pe("$utils");const k=B(null),b=B(!1),G=B([{label:"Status",options:["DRAFT","DUE","SENT","VIEWED","OVERDUE","COMPLETED"]},{label:"Paid Status",options:["UNPAID","PAID","PARTIALLY_PAID"]},,]),T=B(!0),u=B("general.draft");fe();const E=Ee();let s=be({customer_id:"",status:"DRAFT",from_date:"",to_date:"",invoice_number:""});const N=F(()=>!c.invoiceTotalCount&&!T.value),A=F({get:()=>c.selectedInvoices,set:a=>c.selectInvoice(a)}),H=F(()=>[{key:"checkbox",thClass:"extra w-10",tdClass:"font-medium text-gray-900",placeholderClass:"w-10",sortable:!1},{key:"invoice_date",label:n("invoices.date"),thClass:"extra",tdClass:"font-medium"},{key:"invoice_number",label:n("invoices.number")},{key:"name",label:n("invoices.customer")},{key:"status",label:n("invoices.status")},{key:"due_amount",label:n("dashboard.recent_invoices_card.amount_due")},{key:"total",label:n("invoices.total"),tdClass:"font-medium text-gray-900"},{key:"actions",label:n("invoices.action"),tdClass:"text-right text-sm font-medium",thClass:"text-right",sortable:!1}]);ge(s,()=>{X()},{debounce:500}),Be(()=>{c.selectAllField&&c.selectAllInvoices()});function q(){return E.hasAbilities([f.DELETE_INVOICE,f.EDIT_INVOICE,f.VIEW_INVOICE,f.SEND_INVOICE])}async function z(a,r){s.status="",$()}function $(){k.value&&k.value.refresh()}async function Y({page:a,filter:r,sort:v}){let S={customer_id:s.customer_id,status:s.status,from_date:s.from_date,to_date:s.to_date,invoice_number:s.invoice_number,orderByField:v.fieldName||"created_at",orderBy:v.order||"desc",page:a};T.value=!0;let d=await c.fetchInvoices(S);return T.value=!1,{data:d.data.data,pagination:{totalPages:d.data.meta.last_page,currentPage:a,totalCount:d.data.meta.total,limit:10}}}function J(a){if(u.value==a.title)return!0;switch(u.value=a.title,a.title){case n("general.draft"):s.status="DRAFT";break;case n("general.sent"):s.status="SENT";break;case n("general.due"):s.status="DUE";break;default:s.status="";break}}function X(){c.$patch(a=>{a.selectedInvoices=[],a.selectAllField=!1}),$()}function U(){s.customer_id="",s.status="",s.from_date="",s.to_date="",s.invoice_number="",u.value=n("general.all")}async function K(){W.openDialog({title:n("general.are_you_sure"),message:n("invoices.confirm_delete"),yesLabel:n("general.ok"),noLabel:n("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(async a=>{a&&await c.deleteMultipleInvoices().then(r=>{r.data.success&&($(),c.$patch(v=>{v.selectedInvoices=[],v.selectAllField=!1}))})})}function Q(){b.value&&U(),b.value=!b.value}function Z(a){switch(a){case"DRAFT":u.value=n("general.draft");break;case"SENT":u.value=n("general.sent");break;case"DUE":u.value=n("general.due");break;case"COMPLETED":u.value=n("invoices.completed");break;case"PAID":u.value=n("invoices.paid");break;case"UNPAID":u.value=n("invoices.unpaid");break;case"PARTIALLY_PAID":u.value=n("invoices.partially_paid");break;case"VIEWED":u.value=n("invoices.viewed");break;case"OVERDUE":u.value=n("invoices.overdue");break;default:u.value=n("general.all");break}}return(a,r)=>{const v=i("BaseBreadcrumbItem"),S=i("BaseBreadcrumb"),d=i("BaseIcon"),P=i("BaseButton"),R=i("router-link"),ee=i("BasePageHeader"),te=i("BaseCustomerSelectInput"),g=i("BaseInputGroup"),ae=i("BaseMultiselect"),O=i("BaseDatePicker"),le=i("BaseInput"),se=i("BaseFilterWrapper"),oe=i("BaseEmptyPlaceholder"),C=i("BaseTab"),ne=i("BaseTabGroup"),ie=i("BaseDropdownItem"),re=i("BaseDropdown"),j=i("BaseCheckbox"),ce=i("BaseText"),x=i("BaseFormatMoney"),ue=i("BaseInvoiceStatusBadge"),de=i("BasePaidStatusBadge"),me=i("BaseTable"),_e=i("BasePage");return I(),h(_e,null,{default:l(()=>[t(Ve),t(ee,{title:a.$t("invoices.title")},{actions:l(()=>[D(t(P,{variant:"primary-outline",onClick:Q},{right:l(e=>[b.value?(I(),h(d,{key:1,name:"XIcon",class:y(e.class)},null,8,["class"])):(I(),h(d,{key:0,name:"FilterIcon",class:y(e.class)},null,8,["class"]))]),default:l(()=>[m(_(a.$t("general.filter"))+" ",1)]),_:1},512),[[V,o(c).invoiceTotalCount]]),o(E).hasAbilities(o(f).CREATE_INVOICE)?(I(),h(R,{key:0,to:"invoices/create"},{default:l(()=>[t(P,{variant:"primary",class:"ml-4"},{left:l(e=>[t(d,{name:"PlusIcon",class:y(e.class)},null,8,["class"])]),default:l(()=>[m(" "+_(a.$t("invoices.new_invoice")),1)]),_:1})]),_:1})):L("",!0)]),default:l(()=>[t(S,null,{default:l(()=>[t(v,{title:a.$t("general.home"),to:"dashboard"},null,8,["title"]),t(v,{title:a.$tc("invoices.invoice",2),to:"#",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),D(t(se,{"row-on-xl":!0,onClear:U},{default:l(()=>[t(g,{label:a.$tc("customers.customer",1)},{default:l(()=>[t(te,{modelValue:o(s).customer_id,"onUpdate:modelValue":r[0]||(r[0]=e=>o(s).customer_id=e),placeholder:a.$t("customers.type_or_click"),"value-prop":"id",label:"name"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(g,{label:a.$t("invoices.status")},{default:l(()=>[t(ae,{modelValue:o(s).status,"onUpdate:modelValue":[r[1]||(r[1]=e=>o(s).status=e),Z],groups:!0,options:G.value,searchable:"",placeholder:a.$t("general.select_a_status"),onRemove:r[2]||(r[2]=e=>z())},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"]),t(g,{label:a.$t("general.from")},{default:l(()=>[t(O,{modelValue:o(s).from_date,"onUpdate:modelValue":r[3]||(r[3]=e=>o(s).from_date=e),"calendar-button":!0,"calendar-button-icon":"calendar"},null,8,["modelValue"])]),_:1},8,["label"]),Te,t(g,{label:a.$t("general.to"),class:"mt-2"},{default:l(()=>[t(O,{modelValue:o(s).to_date,"onUpdate:modelValue":r[4]||(r[4]=e=>o(s).to_date=e),"calendar-button":!0,"calendar-button-icon":"calendar"},null,8,["modelValue"])]),_:1},8,["label"]),t(g,{label:a.$t("invoices.invoice_number")},{default:l(()=>[t(le,{modelValue:o(s).invoice_number,"onUpdate:modelValue":r[5]||(r[5]=e=>o(s).invoice_number=e)},{left:l(e=>[t(d,{name:"HashtagIcon",class:y(e.class)},null,8,["class"])]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1},512),[[V,b.value]]),D(t(oe,{title:a.$t("invoices.no_invoices"),description:a.$t("invoices.list_of_invoices")},M({default:l(()=>[t(Ce,{class:"mt-5 mb-4"})]),_:2},[o(E).hasAbilities(o(f).CREATE_INVOICE)?{name:"actions",fn:l(()=>[t(P,{variant:"primary-outline",onClick:r[6]||(r[6]=e=>a.$router.push("/admin/invoices/create"))},{left:l(e=>[t(d,{name:"PlusIcon",class:y(e.class)},null,8,["class"])]),default:l(()=>[m(" "+_(a.$t("invoices.add_new_invoice")),1)]),_:1})])}:void 0]),1032,["title","description"]),[[V,o(N)]]),D(p("div",Ae,[p("div",$e,[t(ne,{class:"-mb-5",onChange:J},{default:l(()=>[t(C,{title:a.$t("general.draft"),filter:"DRAFT"},null,8,["title"]),t(C,{title:a.$t("general.due"),filter:"DUE"},null,8,["title"]),t(C,{title:a.$t("general.sent"),filter:"SENT"},null,8,["title"]),t(C,{title:a.$t("general.all"),filter:""},null,8,["title"])]),_:1}),o(c).selectedInvoices.length&&o(E).hasAbilities(o(f).DELETE_INVOICE)?(I(),h(re,{key:0,class:"absolute float-right"},{activator:l(()=>[p("span",Se,[m(_(a.$t("general.actions"))+" ",1),t(d,{name:"ChevronDownIcon"})])]),default:l(()=>[t(ie,{onClick:K},{default:l(()=>[t(d,{name:"TrashIcon",class:"mr-3 text-gray-600"}),m(" "+_(a.$t("general.delete")),1)]),_:1})]),_:1})):L("",!0)]),t(me,{ref:(e,w)=>{w.table=e,k.value=e},data:Y,columns:o(H),"placeholder-count":o(c).invoiceTotalCount>=20?10:5,class:"mt-10"},M({header:l(()=>[p("div",Pe,[t(j,{modelValue:o(c).selectAllField,"onUpdate:modelValue":r[7]||(r[7]=e=>o(c).selectAllField=e),variant:"primary",onChange:o(c).selectAllInvoices},null,8,["modelValue","onChange"])])]),"cell-checkbox":l(({row:e})=>[p("div",we,[t(j,{id:e.id,modelValue:o(A),"onUpdate:modelValue":r[8]||(r[8]=w=>Ie(A)?A.value=w:null),value:e.data.id},null,8,["id","modelValue","value"])])]),"cell-name":l(({row:e})=>[t(ce,{text:e.data.customer.name,length:30},null,8,["text"])]),"cell-invoice_number":l(({row:e})=>[t(R,{to:{path:`invoices/${e.data.id}/view`},class:"font-medium text-primary-500"},{default:l(()=>[m(_(e.data.invoice_number),1)]),_:2},1032,["to"])]),"cell-invoice_date":l(({row:e})=>[m(_(e.data.formatted_invoice_date),1)]),"cell-total":l(({row:e})=>[t(x,{amount:e.data.total,currency:e.data.customer.currency},null,8,["amount","currency"])]),"cell-status":l(({row:e})=>[t(ue,{status:e.data.status,class:"px-3 py-1"},{default:l(()=>[m(_(e.data.status),1)]),_:2},1032,["status"])]),"cell-due_amount":l(({row:e})=>[p("div",Fe,[t(x,{amount:e.data.due_amount,currency:e.data.currency},null,8,["amount","currency"]),t(de,{status:e.data.paid_status,class:"px-1 py-0.5 ml-2"},{default:l(()=>[m(_(e.data.paid_status),1)]),_:2},1032,["status"])])]),_:2},[q()?{name:"cell-actions",fn:l(({row:e})=>[t(De,{row:e.data,table:k.value},null,8,["row","table"])])}:void 0]),1032,["columns","placeholder-count"])],512),[[V,!o(N)]])]),_:1})}}};export{Me as default};

--- public/build/assets/Index.83e96e3c.js ---
@@ -1 +1 @@
-import{B as b,J as le,a0 as oe,k as g,aR as ne,aS as re,I as ue,r as n,o as p,l as _,w as t,f as a,h as d,q as F,ag as A,u as l,m as v,i as B,t as i,j as U,V as ce,x as M}from"./vendor.01d0adc5.js";import{b as me,j as de,l as ie,e as pe,g as C}from"./main.832b14c7.js";import{_ as _e}from"./CustomerIndexDropdown.8fced79d.js";import{_ as fe}from"./AstronautIcon.948728ac.js";const he={class:"flex items-center justify-end space-x-5"},ye={class:"relative table-container"},Be={class:"relative flex items-center justify-end h-5"},Ce={class:"flex text-sm font-medium cursor-pointer select-none text-primary-400"},be={class:"absolute z-10 items-center left-6 top-2.5 select-none"},ge={class:"relative block"},Se={setup(ve){me();const W=de(),u=ie(),k=pe();let f=b(null),h=b(!1),x=b(!0);const{t:m}=le();let r=oe({display_name:"",contact_name:"",phone:""});const P=g(()=>!u.totalCustomers&&!x.value),I=g({get:()=>u.selectedCustomers,set:s=>u.selectCustomer(s)}),V=g({get:()=>u.selectAllField,set:s=>u.setSelectAllState(s)}),Y=g(()=>[{key:"status",thClass:"extra w-10 pr-0",sortable:!1,tdClass:"font-medium text-gray-900 pr-0"},{key:"name",label:m("customers.name"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"phone",label:m("customers.phone")},{key:"due_amount",label:m("customers.amount_due")},{key:"created_at",label:m("items.added_on")},{key:"actions",tdClass:"text-right text-sm font-medium pl-0",thClass:"pl-0",sortable:!1}]);ne(r,()=>{z()},{debounce:500}),re(()=>{u.selectAllField&&u.selectAllCustomers()});function S(){f.value.refresh()}function z(){S()}function L(){return k.hasAbilities([C.DELETE_CUSTOMER,C.EDIT_CUSTOMER,C.VIEW_CUSTOMER])}async function G({page:s,filter:o,sort:y}){let $={display_name:r.display_name,contact_name:r.contact_name,phone:r.phone,orderByField:y.fieldName||"created_at",orderBy:y.order||"desc",page:s};x.value=!0;let c=await u.fetchCustomers($);return x.value=!1,{data:c.data.data,pagination:{totalPages:c.data.meta.last_page,currentPage:s,totalCount:c.data.meta.total,limit:10}}}function R(){r.display_name="",r.contact_name="",r.phone=""}function H(){h.value&&R(),h.value=!h.value}let j=b(new Date);j.value=ue(j).format("YYYY-MM-DD");function q(){W.openDialog({title:m("general.are_you_sure"),message:m("customers.confirm_delete",2),yesLabel:m("general.ok"),noLabel:m("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(s=>{s&&u.deleteMultipleCustomers().then(o=>{o.data&&S()})})}return(s,o)=>{const y=n("BaseBreadcrumbItem"),$=n("BaseBreadcrumb"),c=n("BaseIcon"),D=n("BaseButton"),J=n("BasePageHeader"),E=n("BaseInput"),w=n("BaseInputGroup"),X=n("BaseFilterWrapper"),K=n("BaseEmptyPlaceholder"),Q=n("BaseDropdownItem"),Z=n("BaseDropdown"),N=n("BaseCheckbox"),O=n("BaseText"),ee=n("router-link"),te=n("BaseFormatMoney"),ae=n("BaseTable"),se=n("BasePage");return p(),_(se,null,{default:t(()=>[a(J,{title:s.$t("customers.title")},{actions:t(()=>[d("div",he,[F(a(D,{variant:"primary-outline",onClick:H},{right:t(e=>[l(h)?(p(),_(c,{key:1,name:"XIcon",class:v(e.class)},null,8,["class"])):(p(),_(c,{key:0,name:"FilterIcon",class:v(e.class)},null,8,["class"]))]),default:t(()=>[B(i(s.$t("general.filter"))+" ",1)]),_:1},512),[[A,l(u).totalCustomers]]),l(k).hasAbilities(l(C).CREATE_CUSTOMER)?(p(),_(D,{key:0,onClick:o[0]||(o[0]=e=>s.$router.push("customers/create"))},{left:t(e=>[a(c,{name:"PlusIcon",class:v(e.class)},null,8,["class"])]),default:t(()=>[B(" "+i(s.$t("customers.new_customer")),1)]),_:1})):U("",!0)])]),default:t(()=>[a($,null,{default:t(()=>[a(y,{title:s.$t("general.home"),to:"dashboard"},null,8,["title"]),a(y,{title:s.$tc("customers.customer",2),to:"#",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),a(X,{show:l(h),class:"mt-5",onClear:R},{default:t(()=>[a(w,{label:s.$t("customers.display_name"),class:"text-left"},{default:t(()=>[a(E,{modelValue:l(r).display_name,"onUpdate:modelValue":o[1]||(o[1]=e=>l(r).display_name=e),type:"text",name:"name",autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label"]),a(w,{label:s.$t("customers.contact_name"),class:"text-left"},{default:t(()=>[a(E,{modelValue:l(r).contact_name,"onUpdate:modelValue":o[2]||(o[2]=e=>l(r).contact_name=e),type:"text",name:"address_name",autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label"]),a(w,{label:s.$t("customers.phone"),class:"text-left"},{default:t(()=>[a(E,{modelValue:l(r).phone,"onUpdate:modelValue":o[3]||(o[3]=e=>l(r).phone=e),type:"text",name:"phone",autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["show"]),F(a(K,{title:s.$t("customers.no_customers"),description:s.$t("customers.list_of_customers")},{actions:t(()=>[l(k).hasAbilities(l(C).CREATE_CUSTOMER)?(p(),_(D,{key:0,variant:"primary-outline",onClick:o[4]||(o[4]=e=>s.$router.push("/admin/customers/create"))},{left:t(e=>[a(c,{name:"PlusIcon",class:v(e.class)},null,8,["class"])]),default:t(()=>[B(" "+i(s.$t("customers.add_new_customer")),1)]),_:1})):U("",!0)]),default:t(()=>[a(fe,{class:"mt-5 mb-4"})]),_:1},8,["title","description"]),[[A,l(P)]]),F(d("div",ye,[d("div",Be,[l(u).selectedCustomers.length?(p(),_(Z,{key:0},{activator:t(()=>[d("span",Ce,[B(i(s.$t("general.actions"))+" ",1),a(c,{name:"ChevronDownIcon"})])]),default:t(()=>[a(Q,{onClick:q},{default:t(()=>[a(c,{name:"TrashIcon",class:"mr-3 text-gray-600"}),B(" "+i(s.$t("general.delete")),1)]),_:1})]),_:1})):U("",!0)]),a(ae,{ref:(e,T)=>{T.tableComponent=e,M(f)?f.value=e:f=e},class:"mt-3",data:G,columns:l(Y)},ce({header:t(()=>[d("div",be,[a(N,{modelValue:l(V),"onUpdate:modelValue":o[5]||(o[5]=e=>M(V)?V.value=e:null),variant:"primary",onChange:l(u).selectAllCustomers},null,8,["modelValue","onChange"])])]),"cell-status":t(({row:e})=>[d("div",ge,[a(N,{id:e.data.id,modelValue:l(I),"onUpdate:modelValue":o[6]||(o[6]=T=>M(I)?I.value=T:null),value:e.data.id,variant:"primary"},null,8,["id","modelValue","value"])])]),"cell-name":t(({row:e})=>[a(ee,{to:{path:`customers/${e.data.id}/view`}},{default:t(()=>[a(O,{text:e.data.name,length:30,tag:"span",class:"font-medium text-primary-500 flex flex-col"},null,8,["text"]),a(O,{text:e.data.contact_name?e.data.contact_name:"",length:30,tag:"span",class:"text-xs text-gray-400"},null,8,["text"])]),_:2},1032,["to"])]),"cell-phone":t(({row:e})=>[d("span",null,i(e.data.phone?e.data.phone:"-"),1)]),"cell-due_amount":t(({row:e})=>[a(te,{amount:e.data.due_amount||0,currency:e.data.currency},null,8,["amount","currency"])]),"cell-created_at":t(({row:e})=>[d("span",null,i(e.data.formatted_created_at),1)]),_:2},[L()?{name:"cell-actions",fn:t(({row:e})=>[a(_e,{row:e.data,table:l(f),"load-data":S},null,8,["row","table"])])}:void 0]),1032,["columns"])],512),[[A,!l(P)]])]),_:1})}}};export{Se as default};
+import{B as g,J as le,a0 as oe,k as b,aR as ne,aS as re,I as ue,r as n,o as p,l as _,w as t,f as a,h as i,q as F,ag as A,u as l,m as v,i as B,t as d,j as U,V as ce,x as M}from"./vendor.01d0adc5.js";import{b as me,j as ie,l as de,e as pe,g as C}from"./main.75722495.js";import{_ as _e}from"./CustomerIndexDropdown.3adf4218.js";import{_ as fe}from"./AstronautIcon.948728ac.js";const he={class:"flex items-center justify-end space-x-5"},ye={class:"relative table-container"},Be={class:"relative flex items-center justify-end h-5"},Ce={class:"flex text-sm font-medium cursor-pointer select-none text-primary-400"},ge={class:"absolute z-10 items-center left-6 top-2.5 select-none"},be={class:"relative block"},Se={setup(ve){me();const W=ie(),u=de(),k=pe();let f=g(null),h=g(!1),x=g(!0);const{t:m}=le();let r=oe({display_name:"",contact_name:"",phone:""});const P=b(()=>!u.totalCustomers&&!x.value),I=b({get:()=>u.selectedCustomers,set:s=>u.selectCustomer(s)}),V=b({get:()=>u.selectAllField,set:s=>u.setSelectAllState(s)}),Y=b(()=>[{key:"status",thClass:"extra w-10 pr-0",sortable:!1,tdClass:"font-medium text-gray-900 pr-0"},{key:"name",label:m("customers.name"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"phone",label:m("customers.phone")},{key:"due_amount",label:m("customers.amount_due")},{key:"created_at",label:m("items.added_on")},{key:"actions",tdClass:"text-right text-sm font-medium pl-0",thClass:"pl-0",sortable:!1}]);ne(r,()=>{z()},{debounce:500}),re(()=>{u.selectAllField&&u.selectAllCustomers()});function S(){f.value.refresh()}function z(){S()}function L(){return k.hasAbilities([C.DELETE_CUSTOMER,C.EDIT_CUSTOMER,C.VIEW_CUSTOMER])}async function G({page:s,filter:o,sort:y}){let $={display_name:r.display_name,contact_name:r.contact_name,phone:r.phone,orderByField:y.fieldName||"created_at",orderBy:y.order||"desc",page:s};x.value=!0;let c=await u.fetchCustomers($);return x.value=!1,{data:c.data.data,pagination:{totalPages:c.data.meta.last_page,currentPage:s,totalCount:c.data.meta.total,limit:10}}}function R(){r.display_name="",r.contact_name="",r.phone=""}function H(){h.value&&R(),h.value=!h.value}let j=g(new Date);j.value=ue(j).format("YYYY-MM-DD");function q(){W.openDialog({title:m("general.are_you_sure"),message:m("customers.confirm_delete",2),yesLabel:m("general.ok"),noLabel:m("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(s=>{s&&u.deleteMultipleCustomers().then(o=>{o.data&&S()})})}return(s,o)=>{const y=n("BaseBreadcrumbItem"),$=n("BaseBreadcrumb"),c=n("BaseIcon"),D=n("BaseButton"),J=n("BasePageHeader"),E=n("BaseInput"),w=n("BaseInputGroup"),X=n("BaseFilterWrapper"),K=n("BaseEmptyPlaceholder"),Q=n("BaseDropdownItem"),Z=n("BaseDropdown"),N=n("BaseCheckbox"),O=n("BaseText"),ee=n("router-link"),te=n("BaseFormatMoney"),ae=n("BaseTable"),se=n("BasePage");return p(),_(se,null,{default:t(()=>[a(J,{title:s.$t("customers.title")},{actions:t(()=>[i("div",he,[F(a(D,{variant:"primary-outline",onClick:H},{right:t(e=>[l(h)?(p(),_(c,{key:1,name:"XIcon",class:v(e.class)},null,8,["class"])):(p(),_(c,{key:0,name:"FilterIcon",class:v(e.class)},null,8,["class"]))]),default:t(()=>[B(d(s.$t("general.filter"))+" ",1)]),_:1},512),[[A,l(u).totalCustomers]]),l(k).hasAbilities(l(C).CREATE_CUSTOMER)?(p(),_(D,{key:0,onClick:o[0]||(o[0]=e=>s.$router.push("customers/create"))},{left:t(e=>[a(c,{name:"PlusIcon",class:v(e.class)},null,8,["class"])]),default:t(()=>[B(" "+d(s.$t("customers.new_customer")),1)]),_:1})):U("",!0)])]),default:t(()=>[a($,null,{default:t(()=>[a(y,{title:s.$t("general.home"),to:"dashboard"},null,8,["title"]),a(y,{title:s.$tc("customers.customer",2),to:"#",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),a(X,{show:l(h),class:"mt-5",onClear:R},{default:t(()=>[a(w,{label:s.$t("customers.display_name"),class:"text-left"},{default:t(()=>[a(E,{modelValue:l(r).display_name,"onUpdate:modelValue":o[1]||(o[1]=e=>l(r).display_name=e),type:"text",name:"name",autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label"]),a(w,{label:s.$t("customers.contact_name"),class:"text-left"},{default:t(()=>[a(E,{modelValue:l(r).contact_name,"onUpdate:modelValue":o[2]||(o[2]=e=>l(r).contact_name=e),type:"text",name:"address_name",autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label"]),a(w,{label:s.$t("customers.phone"),class:"text-left"},{default:t(()=>[a(E,{modelValue:l(r).phone,"onUpdate:modelValue":o[3]||(o[3]=e=>l(r).phone=e),type:"text",name:"phone",autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["show"]),F(a(K,{title:s.$t("customers.no_customers"),description:s.$t("customers.list_of_customers")},{actions:t(()=>[l(k).hasAbilities(l(C).CREATE_CUSTOMER)?(p(),_(D,{key:0,variant:"primary-outline",onClick:o[4]||(o[4]=e=>s.$router.push("/admin/customers/create"))},{left:t(e=>[a(c,{name:"PlusIcon",class:v(e.class)},null,8,["class"])]),default:t(()=>[B(" "+d(s.$t("customers.add_new_customer")),1)]),_:1})):U("",!0)]),default:t(()=>[a(fe,{class:"mt-5 mb-4"})]),_:1},8,["title","description"]),[[A,l(P)]]),F(i("div",ye,[i("div",Be,[l(u).selectedCustomers.length?(p(),_(Z,{key:0},{activator:t(()=>[i("span",Ce,[B(d(s.$t("general.actions"))+" ",1),a(c,{name:"ChevronDownIcon"})])]),default:t(()=>[a(Q,{onClick:q},{default:t(()=>[a(c,{name:"TrashIcon",class:"mr-3 text-gray-600"}),B(" "+d(s.$t("general.delete")),1)]),_:1})]),_:1})):U("",!0)]),a(ae,{ref:(e,T)=>{T.tableComponent=e,M(f)?f.value=e:f=e},class:"mt-3",data:G,columns:l(Y)},ce({header:t(()=>[i("div",ge,[a(N,{modelValue:l(V),"onUpdate:modelValue":o[5]||(o[5]=e=>M(V)?V.value=e:null),variant:"primary",onChange:l(u).selectAllCustomers},null,8,["modelValue","onChange"])])]),"cell-status":t(({row:e})=>[i("div",be,[a(N,{id:e.data.id,modelValue:l(I),"onUpdate:modelValue":o[6]||(o[6]=T=>M(I)?I.value=T:null),value:e.data.id,variant:"primary"},null,8,["id","modelValue","value"])])]),"cell-name":t(({row:e})=>[a(ee,{to:{path:`customers/${e.data.id}/view`}},{default:t(()=>[a(O,{text:e.data.name,length:30,tag:"span",class:"font-medium text-primary-500 flex flex-col"},null,8,["text"]),a(O,{text:e.data.contact_name?e.data.contact_name:"",length:30,tag:"span",class:"text-xs text-gray-400"},null,8,["text"])]),_:2},1032,["to"])]),"cell-phone":t(({row:e})=>[i("span",null,d(e.data.phone?e.data.phone:"-"),1)]),"cell-due_amount":t(({row:e})=>[a(te,{amount:e.data.due_amount||0,currency:e.data.currency},null,8,["amount","currency"])]),"cell-created_at":t(({row:e})=>[i("span",null,d(e.data.formatted_created_at),1)]),_:2},[L()?{name:"cell-actions",fn:t(({row:e})=>[a(_e,{row:e.data,table:l(f),"load-data":S},null,8,["row","table"])])}:void 0]),1032,["columns"])],512),[[A,!l(P)]])]),_:1})}}};export{Se as default};

--- public/build/assets/Index.857b8662.js ---
@@ -1 +1 @@
-import{J as G,G as oe,aN as M,ah as re,r as o,o as p,l as f,w as t,u as n,f as a,i as g,t as d,B as b,a0 as ue,k as D,C as ie,D as ce,aS as de,h as B,q as T,ag as z,m as V,j as E,V as me,x as H}from"./vendor.01d0adc5.js";import{u as O}from"./users.936a04ee.js";import{j as W,u as q,e as J}from"./main.832b14c7.js";import{_ as pe}from"./AstronautIcon.948728ac.js";const fe={props:{row:{type:Object,default:null},table:{type:Object,default:null},loadData:{type:Function,default:null}},setup(U){const $=U,u=W();q();const{t:_}=G();J();const y=oe();M();const k=O();re("utils");function m(i){u.openDialog({title:_("general.are_you_sure"),message:_("users.confirm_delete",1),yesLabel:_("general.ok"),noLabel:_("general.cancel"),variant:"danger",size:"lg",hideNoButton:!1}).then(l=>{l&&k.deleteUser({ids:[i]}).then(h=>{h&&$.loadData&&$.loadData()})})}return(i,l)=>{const h=o("BaseIcon"),C=o("BaseButton"),v=o("BaseDropdownItem"),w=o("router-link"),x=o("BaseDropdown");return p(),f(x,null,{activator:t(()=>[n(y).name==="users.view"?(p(),f(C,{key:0,variant:"primary"},{default:t(()=>[a(h,{name:"DotsHorizontalIcon",class:"h-5 text-white"})]),_:1})):(p(),f(h,{key:1,name:"DotsHorizontalIcon",class:"h-5 text-gray-500"}))]),default:t(()=>[a(w,{to:`/admin/users/${U.row.id}/edit`},{default:t(()=>[a(v,null,{default:t(()=>[a(h,{name:"PencilIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),g(" "+d(i.$t("general.edit")),1)]),_:1})]),_:1},8,["to"]),a(v,{onClick:l[0]||(l[0]=S=>m(U.row.id))},{default:t(()=>[a(h,{name:"TrashIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),g(" "+d(i.$t("general.delete")),1)]),_:1})]),_:1})}}},_e={class:"flex items-center justify-end space-x-5"},he={class:"relative table-container"},ge={class:"relative flex items-center justify-end h-5 border-gray-200 border-solid"},Be={class:"flex text-sm font-medium cursor-pointer select-none text-primary-400"},ye={class:"absolute z-10 items-center left-6 top-2.5 select-none"},ve={class:"custom-control custom-checkbox"},Ue={setup(U){q();const $=W(),u=O(),_=J();M();let y=b(!1),k=b(!0);b(null),b("created_at"),b(!1);const{t:m}=G();let i=b(null),l=ue({name:"",email:"",phone:""});const h=D(()=>[{key:"status",thClass:"extra",tdClass:"font-medium text-gray-900",sortable:!1},{key:"name",label:m("users.name"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"email",label:"Email"},{key:"phone",label:m("users.phone")},{key:"created_at",label:m("users.added_on")},{key:"actions",tdClass:"text-right text-sm font-medium",sortable:!1}]),C=D(()=>!u.totalUsers&&!k.value),v=D({get:()=>u.selectedUsers,set:s=>u.selectUser(s)}),w=D({get:()=>u.selectAllField,set:s=>u.setSelectAllState(s)});ie(l,()=>{x()},{deep:!0}),ce(()=>{u.fetchUsers(),u.fetchRoles()}),de(()=>{u.selectAllField&&u.selectAllUsers()});function x(){S()}function S(){i.value&&i.value.refresh()}async function X({page:s,filter:r,sort:I}){let F={display_name:l.name!==null?l.name:"",phone:l.phone!==null?l.phone:"",email:l.email!==null?l.email:"",orderByField:I.fieldName||"created_at",orderBy:I.order||"desc",page:s};k.value=!0;let c=await u.fetchUsers(F);return k.value=!1,{data:c.data.data,pagination:{totalPages:c.data.meta.last_page,currentPage:s,totalCount:c.data.meta.total,limit:10}}}function L(){l.name="",l.email="",l.phone=null}function K(){y.value&&L(),y.value=!y.value}function Q(){$.openDialog({title:m("general.are_you_sure"),message:m("users.confirm_delete",2),yesLabel:m("general.ok"),noLabel:m("general.cancel"),variant:"danger",size:"lg",hideNoButton:!1}).then(s=>{s&&u.deleteMultipleUsers().then(r=>{r.data.success&&i.value&&i.value.refresh()})})}return(s,r)=>{const I=o("BaseBreadcrumbItem"),F=o("BaseBreadcrumb"),c=o("BaseIcon"),j=o("BaseButton"),Y=o("BasePageHeader"),P=o("BaseInput"),N=o("BaseInputGroup"),Z=o("BaseFilterWrapper"),ee=o("BaseEmptyPlaceholder"),te=o("BaseDropdownItem"),ae=o("BaseDropdown"),R=o("BaseCheckbox"),se=o("router-link"),le=o("BaseTable"),ne=o("BasePage");return p(),f(ne,null,{default:t(()=>[a(Y,{title:s.$t("users.title")},{actions:t(()=>[B("div",_e,[T(a(j,{variant:"primary-outline",onClick:K},{right:t(e=>[n(y)?(p(),f(c,{key:1,name:"XIcon",class:V(e.class)},null,8,["class"])):(p(),f(c,{key:0,name:"FilterIcon",class:V(e.class)},null,8,["class"]))]),default:t(()=>[g(d(s.$t("general.filter"))+" ",1)]),_:1},512),[[z,n(u).totalUsers]]),n(_).currentUser.is_owner?(p(),f(j,{key:0,onClick:r[0]||(r[0]=e=>s.$router.push("users/create"))},{left:t(e=>[a(c,{name:"PlusIcon",class:V(e.class),"aria-hidden":"true"},null,8,["class"])]),default:t(()=>[g(" "+d(s.$t("users.add_user")),1)]),_:1})):E("",!0)])]),default:t(()=>[a(F,null,{default:t(()=>[a(I,{title:s.$t("general.home"),to:"dashboard"},null,8,["title"]),a(I,{title:s.$tc("users.title",2),to:"#",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),a(Z,{show:n(y),class:"mt-3",onClear:L},{default:t(()=>[a(N,{label:s.$tc("users.name"),class:"flex-1 mt-2 mr-4"},{default:t(()=>[a(P,{modelValue:n(l).name,"onUpdate:modelValue":r[1]||(r[1]=e=>n(l).name=e),type:"text",name:"name",autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label"]),a(N,{label:s.$tc("users.email"),class:"flex-1 mt-2 mr-4"},{default:t(()=>[a(P,{modelValue:n(l).email,"onUpdate:modelValue":r[2]||(r[2]=e=>n(l).email=e),type:"text",name:"email",autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label"]),a(N,{class:"flex-1 mt-2",label:s.$tc("users.phone")},{default:t(()=>[a(P,{modelValue:n(l).phone,"onUpdate:modelValue":r[3]||(r[3]=e=>n(l).phone=e),type:"text",name:"phone",autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["show"]),T(a(ee,{title:s.$t("users.no_users"),description:s.$t("users.list_of_users")},{actions:t(()=>[n(_).currentUser.is_owner?(p(),f(j,{key:0,variant:"primary-outline",onClick:r[4]||(r[4]=e=>s.$router.push("/admin/users/create"))},{left:t(e=>[a(c,{name:"PlusIcon",class:V(e.class)},null,8,["class"])]),default:t(()=>[g(" "+d(s.$t("users.add_user")),1)]),_:1})):E("",!0)]),default:t(()=>[a(pe,{class:"mt-5 mb-4"})]),_:1},8,["title","description"]),[[z,n(C)]]),T(B("div",he,[B("div",ge,[n(u).selectedUsers.length?(p(),f(ae,{key:0},{activator:t(()=>[B("span",Be,[g(d(s.$t("general.actions"))+" ",1),a(c,{name:"ChevronDownIcon",class:"h-5"})])]),default:t(()=>[a(te,{onClick:Q},{default:t(()=>[a(c,{name:"TrashIcon",class:"h-5 mr-3 text-gray-600"}),g(" "+d(s.$t("general.delete")),1)]),_:1})]),_:1})):E("",!0)]),a(le,{ref:(e,A)=>{A.table=e,H(i)?i.value=e:i=e},data:X,columns:n(h),class:"mt-3"},me({header:t(()=>[B("div",ye,[a(R,{modelValue:n(w),"onUpdate:modelValue":r[5]||(r[5]=e=>H(w)?w.value=e:null),variant:"primary",onChange:n(u).selectAllUsers},null,8,["modelValue","onChange"])])]),"cell-status":t(({row:e})=>[B("div",ve,[a(R,{id:e.data.id,modelValue:n(v),"onUpdate:modelValue":r[6]||(r[6]=A=>H(v)?v.value=A:null),value:e.data.id,variant:"primary"},null,8,["id","modelValue","value"])])]),"cell-name":t(({row:e})=>[a(se,{to:{path:`users/${e.data.id}/edit`},class:"font-medium text-primary-500"},{default:t(()=>[g(d(e.data.name),1)]),_:2},1032,["to"])]),"cell-phone":t(({row:e})=>[B("span",null,d(e.data.phone?e.data.phone:"-"),1)]),"cell-created_at":t(({row:e})=>[B("span",null,d(e.data.formatted_created_at),1)]),_:2},[n(_).currentUser.is_owner?{name:"cell-actions",fn:t(({row:e})=>[a(fe,{row:e.data,table:n(i),"load-data":S},null,8,["row","table"])])}:void 0]),1032,["columns"])],512),[[z,!n(C)]])]),_:1})}}};export{Ue as default};
+import{J as G,G as oe,aN as M,ah as re,r as o,o as p,l as f,w as t,u as n,f as a,i as g,t as d,B as b,a0 as ue,k as D,C as ie,D as ce,aS as de,h as B,q as T,ag as z,m as V,j as E,V as me,x as H}from"./vendor.01d0adc5.js";import{u as O}from"./users.73a3faa4.js";import{j as W,u as q,e as J}from"./main.75722495.js";import{_ as pe}from"./AstronautIcon.948728ac.js";const fe={props:{row:{type:Object,default:null},table:{type:Object,default:null},loadData:{type:Function,default:null}},setup(U){const $=U,u=W();q();const{t:_}=G();J();const y=oe();M();const k=O();re("utils");function m(i){u.openDialog({title:_("general.are_you_sure"),message:_("users.confirm_delete",1),yesLabel:_("general.ok"),noLabel:_("general.cancel"),variant:"danger",size:"lg",hideNoButton:!1}).then(l=>{l&&k.deleteUser({ids:[i]}).then(h=>{h&&$.loadData&&$.loadData()})})}return(i,l)=>{const h=o("BaseIcon"),C=o("BaseButton"),v=o("BaseDropdownItem"),w=o("router-link"),x=o("BaseDropdown");return p(),f(x,null,{activator:t(()=>[n(y).name==="users.view"?(p(),f(C,{key:0,variant:"primary"},{default:t(()=>[a(h,{name:"DotsHorizontalIcon",class:"h-5 text-white"})]),_:1})):(p(),f(h,{key:1,name:"DotsHorizontalIcon",class:"h-5 text-gray-500"}))]),default:t(()=>[a(w,{to:`/admin/users/${U.row.id}/edit`},{default:t(()=>[a(v,null,{default:t(()=>[a(h,{name:"PencilIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),g(" "+d(i.$t("general.edit")),1)]),_:1})]),_:1},8,["to"]),a(v,{onClick:l[0]||(l[0]=S=>m(U.row.id))},{default:t(()=>[a(h,{name:"TrashIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),g(" "+d(i.$t("general.delete")),1)]),_:1})]),_:1})}}},_e={class:"flex items-center justify-end space-x-5"},he={class:"relative table-container"},ge={class:"relative flex items-center justify-end h-5 border-gray-200 border-solid"},Be={class:"flex text-sm font-medium cursor-pointer select-none text-primary-400"},ye={class:"absolute z-10 items-center left-6 top-2.5 select-none"},ve={class:"custom-control custom-checkbox"},Ue={setup(U){q();const $=W(),u=O(),_=J();M();let y=b(!1),k=b(!0);b(null),b("created_at"),b(!1);const{t:m}=G();let i=b(null),l=ue({name:"",email:"",phone:""});const h=D(()=>[{key:"status",thClass:"extra",tdClass:"font-medium text-gray-900",sortable:!1},{key:"name",label:m("users.name"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"email",label:"Email"},{key:"phone",label:m("users.phone")},{key:"created_at",label:m("users.added_on")},{key:"actions",tdClass:"text-right text-sm font-medium",sortable:!1}]),C=D(()=>!u.totalUsers&&!k.value),v=D({get:()=>u.selectedUsers,set:s=>u.selectUser(s)}),w=D({get:()=>u.selectAllField,set:s=>u.setSelectAllState(s)});ie(l,()=>{x()},{deep:!0}),ce(()=>{u.fetchUsers(),u.fetchRoles()}),de(()=>{u.selectAllField&&u.selectAllUsers()});function x(){S()}function S(){i.value&&i.value.refresh()}async function X({page:s,filter:r,sort:I}){let F={display_name:l.name!==null?l.name:"",phone:l.phone!==null?l.phone:"",email:l.email!==null?l.email:"",orderByField:I.fieldName||"created_at",orderBy:I.order||"desc",page:s};k.value=!0;let c=await u.fetchUsers(F);return k.value=!1,{data:c.data.data,pagination:{totalPages:c.data.meta.last_page,currentPage:s,totalCount:c.data.meta.total,limit:10}}}function L(){l.name="",l.email="",l.phone=null}function K(){y.value&&L(),y.value=!y.value}function Q(){$.openDialog({title:m("general.are_you_sure"),message:m("users.confirm_delete",2),yesLabel:m("general.ok"),noLabel:m("general.cancel"),variant:"danger",size:"lg",hideNoButton:!1}).then(s=>{s&&u.deleteMultipleUsers().then(r=>{r.data.success&&i.value&&i.value.refresh()})})}return(s,r)=>{const I=o("BaseBreadcrumbItem"),F=o("BaseBreadcrumb"),c=o("BaseIcon"),j=o("BaseButton"),Y=o("BasePageHeader"),P=o("BaseInput"),N=o("BaseInputGroup"),Z=o("BaseFilterWrapper"),ee=o("BaseEmptyPlaceholder"),te=o("BaseDropdownItem"),ae=o("BaseDropdown"),R=o("BaseCheckbox"),se=o("router-link"),le=o("BaseTable"),ne=o("BasePage");return p(),f(ne,null,{default:t(()=>[a(Y,{title:s.$t("users.title")},{actions:t(()=>[B("div",_e,[T(a(j,{variant:"primary-outline",onClick:K},{right:t(e=>[n(y)?(p(),f(c,{key:1,name:"XIcon",class:V(e.class)},null,8,["class"])):(p(),f(c,{key:0,name:"FilterIcon",class:V(e.class)},null,8,["class"]))]),default:t(()=>[g(d(s.$t("general.filter"))+" ",1)]),_:1},512),[[z,n(u).totalUsers]]),n(_).currentUser.is_owner?(p(),f(j,{key:0,onClick:r[0]||(r[0]=e=>s.$router.push("users/create"))},{left:t(e=>[a(c,{name:"PlusIcon",class:V(e.class),"aria-hidden":"true"},null,8,["class"])]),default:t(()=>[g(" "+d(s.$t("users.add_user")),1)]),_:1})):E("",!0)])]),default:t(()=>[a(F,null,{default:t(()=>[a(I,{title:s.$t("general.home"),to:"dashboard"},null,8,["title"]),a(I,{title:s.$tc("users.title",2),to:"#",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),a(Z,{show:n(y),class:"mt-3",onClear:L},{default:t(()=>[a(N,{label:s.$tc("users.name"),class:"flex-1 mt-2 mr-4"},{default:t(()=>[a(P,{modelValue:n(l).name,"onUpdate:modelValue":r[1]||(r[1]=e=>n(l).name=e),type:"text",name:"name",autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label"]),a(N,{label:s.$tc("users.email"),class:"flex-1 mt-2 mr-4"},{default:t(()=>[a(P,{modelValue:n(l).email,"onUpdate:modelValue":r[2]||(r[2]=e=>n(l).email=e),type:"text",name:"email",autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label"]),a(N,{class:"flex-1 mt-2",label:s.$tc("users.phone")},{default:t(()=>[a(P,{modelValue:n(l).phone,"onUpdate:modelValue":r[3]||(r[3]=e=>n(l).phone=e),type:"text",name:"phone",autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["show"]),T(a(ee,{title:s.$t("users.no_users"),description:s.$t("users.list_of_users")},{actions:t(()=>[n(_).currentUser.is_owner?(p(),f(j,{key:0,variant:"primary-outline",onClick:r[4]||(r[4]=e=>s.$router.push("/admin/users/create"))},{left:t(e=>[a(c,{name:"PlusIcon",class:V(e.class)},null,8,["class"])]),default:t(()=>[g(" "+d(s.$t("users.add_user")),1)]),_:1})):E("",!0)]),default:t(()=>[a(pe,{class:"mt-5 mb-4"})]),_:1},8,["title","description"]),[[z,n(C)]]),T(B("div",he,[B("div",ge,[n(u).selectedUsers.length?(p(),f(ae,{key:0},{activator:t(()=>[B("span",Be,[g(d(s.$t("general.actions"))+" ",1),a(c,{name:"ChevronDownIcon",class:"h-5"})])]),default:t(()=>[a(te,{onClick:Q},{default:t(()=>[a(c,{name:"TrashIcon",class:"h-5 mr-3 text-gray-600"}),g(" "+d(s.$t("general.delete")),1)]),_:1})]),_:1})):E("",!0)]),a(le,{ref:(e,A)=>{A.table=e,H(i)?i.value=e:i=e},data:X,columns:n(h),class:"mt-3"},me({header:t(()=>[B("div",ye,[a(R,{modelValue:n(w),"onUpdate:modelValue":r[5]||(r[5]=e=>H(w)?w.value=e:null),variant:"primary",onChange:n(u).selectAllUsers},null,8,["modelValue","onChange"])])]),"cell-status":t(({row:e})=>[B("div",ve,[a(R,{id:e.data.id,modelValue:n(v),"onUpdate:modelValue":r[6]||(r[6]=A=>H(v)?v.value=A:null),value:e.data.id,variant:"primary"},null,8,["id","modelValue","value"])])]),"cell-name":t(({row:e})=>[a(se,{to:{path:`users/${e.data.id}/edit`},class:"font-medium text-primary-500"},{default:t(()=>[g(d(e.data.name),1)]),_:2},1032,["to"])]),"cell-phone":t(({row:e})=>[B("span",null,d(e.data.phone?e.data.phone:"-"),1)]),"cell-created_at":t(({row:e})=>[B("span",null,d(e.data.formatted_created_at),1)]),_:2},[n(_).currentUser.is_owner?{name:"cell-actions",fn:t(({row:e})=>[a(fe,{row:e.data,table:n(i),"load-data":S},null,8,["row","table"])])}:void 0]),1032,["columns"])],512),[[z,!n(C)]])]),_:1})}}};export{Ue as default};

--- public/build/assets/Index.97b641ce.js ---
@@ -1 +1 @@
-import{J as A,B as b,a0 as K,ah as O,G as Q,k as I,aR as Y,r as o,o as B,l as h,w as t,f as n,q as P,ag as C,u as l,m as M,i as v,t as c,j as Z,h as g,x as ee}from"./vendor.01d0adc5.js";import te from"./BaseTable.440de545.js";import{_ as ae}from"./CapsuleIcon.dc769b69.js";import{x as ne,w as le}from"./main.832b14c7.js";import{u as oe}from"./payment.b36842df.js";import{u as se}from"./global.8697213a.js";import"./auth.77d12976.js";const me={class:"relative table-container"},re=["innerHTML"],Be={setup(ce){const{tm:ue,t:u}=A();let i=b(!1);b("created_at");let $=b(!0),y=b(null);const s=K({payment_mode:"",payment_number:""}),D=O("utils");Q();const d=oe(),_=se(),w=I(()=>!d.totalPayments&&!$.value),H=I(()=>_.currency),N=I(()=>[{key:"payment_date",label:u("payments.date"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"payment_number",label:u("payments.payment_number")},{key:"payment_mode",label:u("payments.payment_mode")},{key:"invoice_number",label:u("invoices.invoice_number")},{key:"amount",label:u("payments.amount")},{key:"actions",label:"",tdClass:"text-right text-sm font-medium",sortable:!1}]);Y(s,()=>{R()},{debounce:500});async function T(a){return(await d.fetchPaymentModes(a,_.companySlug)).data.data}async function E({page:a,filter:r,sort:p}){let k={payment_method_id:s.payment_mode!==null?s.payment_mode:"",payment_number:s.payment_number,orderByField:p.fieldName||"created_at",orderBy:p.order||"desc",page:a};$.value=!0;let m=await d.fetchPayments(k,_.companySlug);return $.value=!1,{data:m.data.data,pagination:{totalPages:m.data.meta.last_page,currentPage:a,totalCount:m.data.meta.total,limit:10}}}function G(){y.value.refresh()}function R(){G()}function S(){s.customer="",s.payment_mode="",s.payment_number=""}function W(){i.value&&S(),i.value=!i.value}return(a,r)=>{const p=o("BaseBreadcrumbItem"),k=o("BaseBreadcrumb"),m=o("BaseIcon"),x=o("BaseButton"),z=o("BasePageHeader"),L=o("BaseInput"),V=o("BaseInputGroup"),U=o("BaseMultiselect"),q=o("BaseFilterWrapper"),J=o("BaseEmptyPlaceholder"),j=o("router-link"),X=o("BasePage");return B(),h(X,null,{default:t(()=>[n(z,{title:a.$t("payments.title")},{actions:t(()=>[P(n(x,{variant:"primary-outline",onClick:W},{right:t(e=>[l(i)?(B(),h(m,{key:1,class:M(e.class),name:"XIcon"},null,8,["class"])):(B(),h(m,{key:0,class:M(e.class),name:"FilterIcon"},null,8,["class"]))]),default:t(()=>[v(c(a.$t("general.filter"))+" ",1)]),_:1},512),[[C,l(d).totalPayments]])]),default:t(()=>[n(k,{slot:"breadcrumbs"},{default:t(()=>[n(p,{title:a.$t("general.home"),to:`/${l(_).companySlug}/customer/dashboard`},null,8,["title","to"]),n(p,{title:a.$tc("payments.payment",2),to:"#",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),P(n(q,{onClear:S},{default:t(()=>[n(V,{label:a.$t("payments.payment_number"),class:"px-3"},{default:t(()=>[n(L,{modelValue:l(s).payment_number,"onUpdate:modelValue":r[0]||(r[0]=e=>l(s).payment_number=e),placeholder:a.$t("payments.payment_number")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),n(V,{label:a.$t("payments.payment_mode"),class:"px-3"},{default:t(()=>[n(U,{modelValue:l(s).payment_mode,"onUpdate:modelValue":r[1]||(r[1]=e=>l(s).payment_mode=e),"value-prop":"id","track-by":"name","filter-results":!1,label:"name","resolve-on-load":"",delay:100,searchable:"",options:T,placeholder:a.$t("payments.payment_mode")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},512),[[C,l(i)]]),l(w)?(B(),h(J,{key:0,title:a.$t("payments.no_payments"),description:a.$t("payments.list_of_payments")},{default:t(()=>[n(ae,{class:"mt-5 mb-4"})]),_:1},8,["title","description"])):Z("",!0),P(g("div",me,[n(te,{ref:(e,f)=>{f.table=e,ee(y)?y.value=e:y=e},data:E,columns:l(N),"placeholder-count":l(d).totalPayments>=20?10:5,class:"mt-10"},{"cell-payment_date":t(({row:e})=>[v(c(e.data.formatted_payment_date),1)]),"cell-payment_number":t(({row:e})=>[n(j,{to:{path:`payments/${e.data.id}/view`},class:"font-medium text-primary-500"},{default:t(()=>[v(c(e.data.payment_number),1)]),_:2},1032,["to"])]),"cell-payment_mode":t(({row:e})=>[g("span",null,c(e.data.payment_method?e.data.payment_method.name:a.$t("payments.not_selected")),1)]),"cell-invoice_number":t(({row:e})=>{var f,F;return[g("span",null,c(((f=e.data.invoice)==null?void 0:f.invoice_number)?(F=e.data.invoice)==null?void 0:F.invoice_number:a.$t("payments.no_invoice")),1)]}),"cell-amount":t(({row:e})=>[g("div",{innerHTML:l(D).formatMoney(e.data.amount,l(H))},null,8,re)]),"cell-actions":t(({row:e})=>[n(ne,null,{activator:t(()=>[n(m,{name:"DotsHorizontalIcon",class:"w-5 text-gray-500"})]),default:t(()=>[n(j,{to:`payments/${e.data.id}/view`},{default:t(()=>[n(le,null,{default:t(()=>[n(m,{name:"EyeIcon",class:"h-5 mr-3 text-gray-600"}),v(" "+c(a.$t("general.view")),1)]),_:1})]),_:2},1032,["to"])]),_:2},1024)]),_:1},8,["columns","placeholder-count"])],512),[[C,!l(w)]])]),_:1})}}};export{Be as default};
+import{J as A,B as b,a0 as K,ah as O,G as Q,k as I,aR as Y,r as o,o as B,l as h,w as t,f as n,q as P,ag as C,u as l,m as M,i as v,t as c,j as Z,h as g,x as ee}from"./vendor.01d0adc5.js";import te from"./BaseTable.6e206ca7.js";import{_ as ae}from"./CapsuleIcon.dc769b69.js";import{x as ne,w as le}from"./main.75722495.js";import{u as oe}from"./payment.037dd620.js";import{u as se}from"./global.08b6a984.js";import"./auth.4644c288.js";const me={class:"relative table-container"},re=["innerHTML"],Be={setup(ce){const{tm:ue,t:u}=A();let i=b(!1);b("created_at");let $=b(!0),y=b(null);const s=K({payment_mode:"",payment_number:""}),D=O("utils");Q();const d=oe(),_=se(),w=I(()=>!d.totalPayments&&!$.value),H=I(()=>_.currency),N=I(()=>[{key:"payment_date",label:u("payments.date"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"payment_number",label:u("payments.payment_number")},{key:"payment_mode",label:u("payments.payment_mode")},{key:"invoice_number",label:u("invoices.invoice_number")},{key:"amount",label:u("payments.amount")},{key:"actions",label:"",tdClass:"text-right text-sm font-medium",sortable:!1}]);Y(s,()=>{R()},{debounce:500});async function T(a){return(await d.fetchPaymentModes(a,_.companySlug)).data.data}async function E({page:a,filter:r,sort:p}){let k={payment_method_id:s.payment_mode!==null?s.payment_mode:"",payment_number:s.payment_number,orderByField:p.fieldName||"created_at",orderBy:p.order||"desc",page:a};$.value=!0;let m=await d.fetchPayments(k,_.companySlug);return $.value=!1,{data:m.data.data,pagination:{totalPages:m.data.meta.last_page,currentPage:a,totalCount:m.data.meta.total,limit:10}}}function G(){y.value.refresh()}function R(){G()}function S(){s.customer="",s.payment_mode="",s.payment_number=""}function W(){i.value&&S(),i.value=!i.value}return(a,r)=>{const p=o("BaseBreadcrumbItem"),k=o("BaseBreadcrumb"),m=o("BaseIcon"),x=o("BaseButton"),z=o("BasePageHeader"),L=o("BaseInput"),V=o("BaseInputGroup"),U=o("BaseMultiselect"),q=o("BaseFilterWrapper"),J=o("BaseEmptyPlaceholder"),j=o("router-link"),X=o("BasePage");return B(),h(X,null,{default:t(()=>[n(z,{title:a.$t("payments.title")},{actions:t(()=>[P(n(x,{variant:"primary-outline",onClick:W},{right:t(e=>[l(i)?(B(),h(m,{key:1,class:M(e.class),name:"XIcon"},null,8,["class"])):(B(),h(m,{key:0,class:M(e.class),name:"FilterIcon"},null,8,["class"]))]),default:t(()=>[v(c(a.$t("general.filter"))+" ",1)]),_:1},512),[[C,l(d).totalPayments]])]),default:t(()=>[n(k,{slot:"breadcrumbs"},{default:t(()=>[n(p,{title:a.$t("general.home"),to:`/${l(_).companySlug}/customer/dashboard`},null,8,["title","to"]),n(p,{title:a.$tc("payments.payment",2),to:"#",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),P(n(q,{onClear:S},{default:t(()=>[n(V,{label:a.$t("payments.payment_number"),class:"px-3"},{default:t(()=>[n(L,{modelValue:l(s).payment_number,"onUpdate:modelValue":r[0]||(r[0]=e=>l(s).payment_number=e),placeholder:a.$t("payments.payment_number")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),n(V,{label:a.$t("payments.payment_mode"),class:"px-3"},{default:t(()=>[n(U,{modelValue:l(s).payment_mode,"onUpdate:modelValue":r[1]||(r[1]=e=>l(s).payment_mode=e),"value-prop":"id","track-by":"name","filter-results":!1,label:"name","resolve-on-load":"",delay:100,searchable:"",options:T,placeholder:a.$t("payments.payment_mode")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},512),[[C,l(i)]]),l(w)?(B(),h(J,{key:0,title:a.$t("payments.no_payments"),description:a.$t("payments.list_of_payments")},{default:t(()=>[n(ae,{class:"mt-5 mb-4"})]),_:1},8,["title","description"])):Z("",!0),P(g("div",me,[n(te,{ref:(e,f)=>{f.table=e,ee(y)?y.value=e:y=e},data:E,columns:l(N),"placeholder-count":l(d).totalPayments>=20?10:5,class:"mt-10"},{"cell-payment_date":t(({row:e})=>[v(c(e.data.formatted_payment_date),1)]),"cell-payment_number":t(({row:e})=>[n(j,{to:{path:`payments/${e.data.id}/view`},class:"font-medium text-primary-500"},{default:t(()=>[v(c(e.data.payment_number),1)]),_:2},1032,["to"])]),"cell-payment_mode":t(({row:e})=>[g("span",null,c(e.data.payment_method?e.data.payment_method.name:a.$t("payments.not_selected")),1)]),"cell-invoice_number":t(({row:e})=>{var f,F;return[g("span",null,c(((f=e.data.invoice)==null?void 0:f.invoice_number)?(F=e.data.invoice)==null?void 0:F.invoice_number:a.$t("payments.no_invoice")),1)]}),"cell-amount":t(({row:e})=>[g("div",{innerHTML:l(D).formatMoney(e.data.amount,l(H))},null,8,re)]),"cell-actions":t(({row:e})=>[n(ne,null,{activator:t(()=>[n(m,{name:"DotsHorizontalIcon",class:"w-5 text-gray-500"})]),default:t(()=>[n(j,{to:`payments/${e.data.id}/view`},{default:t(()=>[n(le,null,{default:t(()=>[n(m,{name:"EyeIcon",class:"h-5 mr-3 text-gray-600"}),v(" "+c(a.$t("general.view")),1)]),_:1})]),_:2},1032,["to"])]),_:2},1024)]),_:1},8,["columns","placeholder-count"])],512),[[C,!l(w)]])]),_:1})}}};export{Be as default};

--- public/build/assets/Index.9d0bbfbe.js ---
@@ -1 +1 @@
-var ge=Object.defineProperty,he=Object.defineProperties;var Ce=Object.getOwnPropertyDescriptors;var G=Object.getOwnPropertySymbols;var be=Object.prototype.hasOwnProperty,xe=Object.prototype.propertyIsEnumerable;var W=(r,s,u)=>s in r?ge(r,s,{enumerable:!0,configurable:!0,writable:!0,value:u}):r[s]=u,O=(r,s)=>{for(var u in s||(s={}))be.call(s,u)&&W(r,u,s[u]);if(G)for(var u of G(s))xe.call(s,u)&&W(r,u,s[u]);return r},q=(r,s)=>he(r,Ce(s));import{o as m,e as ve,h as c,m as y,J,G as Be,aN as Ee,ah as ke,r as o,l as _,w as t,u as a,f as l,i as b,t as g,j as I,B as M,a0 as we,k as F,aR as Se,aS as De,D as Ie,q as j,ag as X,V as K,x as U}from"./vendor.01d0adc5.js";import{u as Q}from"./expense.e774182e.js";import{u as $e}from"./category.c27e9638.js";import{j as Y,u as Fe,e as ee,g as v,b as Ve}from"./main.832b14c7.js";const Pe={width:"110",height:"110",viewBox:"0 0 110 110",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Le={props:{primaryFillColor:{type:String,default:"fill-primary-500"},secondaryFillColor:{type:String,default:"fill-gray-600"}},setup(r){return(s,u)=>(m(),ve("svg",Pe,[c("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M55 13.75C24.6245 13.75 0 22.9848 0 34.375C0 45.7652 24.6245 55 55 55C85.3755 55 110 45.7652 110 34.375C110 22.9848 85.3755 13.75 55 13.75ZM55 15.4688C86.8708 15.4688 108.281 25.245 108.281 34.375C108.281 43.505 86.8708 53.2812 55 53.2812C23.1292 53.2812 1.71875 43.505 1.71875 34.375C1.71875 25.245 23.1292 15.4688 55 15.4688Z",class:y(r.secondaryFillColor)},null,2),c("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M54.9999 1.71875C66.0842 1.71875 75.7452 7.92172 80.697 17.038L82.732 17.2081C77.6737 7.01078 67.1549 0 54.9999 0C42.7985 0 32.2454 7.06406 27.2095 17.3267L29.2479 17.1411C34.1824 7.96812 43.8745 1.71875 54.9999 1.71875Z",class:y(r.primaryFillColor)},null,2),c("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M55 96.25C40.7619 96.25 25.7812 99.3283 25.7812 103.125C25.7812 106.922 40.7619 110 55 110C69.2381 110 84.2188 106.922 84.2188 103.125C84.2188 99.3283 69.2381 96.25 55 96.25ZM55 97.9688C70.4602 97.9688 81.5959 101.317 82.4811 103.125C81.5959 104.933 70.4602 108.281 55 108.281C39.5398 108.281 28.4041 104.933 27.5189 103.125C28.4041 101.317 39.5398 97.9688 55 97.9688Z",class:y(r.primaryFillColor)},null,2),c("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M27.4756 103.328L25.8049 102.922L41.2737 39.3286L42.9443 39.7342L27.4756 103.328Z",class:y(r.primaryFillColor)},null,2),c("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M82.5247 103.328L67.0559 39.7342L68.7265 39.3286L84.1953 102.922L82.5247 103.328Z",class:y(r.primaryFillColor)},null,2),c("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M68.75 39.5312C68.75 42.3792 62.5934 44.6875 55 44.6875C47.4066 44.6875 41.25 42.3792 41.25 39.5312C41.25 36.6833 47.4066 34.375 55 34.375C62.5934 34.375 68.75 36.6833 68.75 39.5312Z",class:y(r.secondaryFillColor)},null,2)]))}},Ne={props:{row:{type:Object,default:null},table:{type:Object,default:null},loadData:{type:Function,default:null}},setup(r){const s=r,u=Y();Fe();const{t:B}=J(),E=Q(),w=Be();Ee();const x=ee();ke("utils");function d(h){u.openDialog({title:B("general.are_you_sure"),message:B("expenses.confirm_delete",1),yesLabel:B("general.ok"),noLabel:B("general.cancel"),variant:"danger",size:"lg",hideNoButton:!1}).then(p=>{p&&E.deleteExpense({ids:[h]}).then(C=>{C&&s.loadData&&s.loadData()})})}return(h,p)=>{const C=o("BaseIcon"),S=o("BaseButton"),k=o("BaseDropdownItem"),V=o("router-link"),P=o("BaseDropdown");return m(),_(P,null,{activator:t(()=>[a(w).name==="expenses.view"?(m(),_(S,{key:0,variant:"primary"},{default:t(()=>[l(C,{name:"DotsHorizontalIcon",class:"h-5 text-white"})]),_:1})):(m(),_(C,{key:1,name:"DotsHorizontalIcon",class:"h-5 text-gray-500"}))]),default:t(()=>[a(x).hasAbilities(a(v).EDIT_EXPENSE)?(m(),_(V,{key:0,to:`/admin/expenses/${r.row.id}/edit`},{default:t(()=>[l(k,null,{default:t(()=>[l(C,{name:"PencilIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),b(" "+g(h.$t("general.edit")),1)]),_:1})]),_:1},8,["to"])):I("",!0),a(x).hasAbilities(a(v).DELETE_EXPENSE)?(m(),_(k,{key:1,onClick:p[0]||(p[0]=Z=>d(r.row.id))},{default:t(()=>[l(C,{name:"TrashIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),b(" "+g(h.$t("general.delete")),1)]),_:1})):I("",!0)]),_:1})}}},Ae=c("div",{class:"hidden w-8 h-0 mx-4 border border-gray-400 border-solid xl:block",style:{"margin-top":"1.5rem"}},null,-1),Te={class:"relative table-container"},Me={class:"relative flex items-center justify-end h-5"},je={class:"flex text-sm font-medium cursor-pointer select-none text-primary-400"},Xe={class:"absolute items-center left-6 top-2.5 select-none"},Ue={class:"relative block"},Ze={class:"notes"},Re={class:"truncate note w-60"},qe={setup(r){Ve();const s=Q(),u=Y(),B=$e(),E=ee();let w=M(!0),x=M(null);const d=we({expense_category_id:"",from_date:"",to_date:"",customer_id:""}),{t:h}=J();let p=M(null);const C=F(()=>!s.totalExpenses&&!w.value),S=F({get:()=>s.selectedExpenses,set:n=>s.selectExpense(n)}),k=F({get:()=>s.selectAllField,set:n=>s.setSelectAllState(n)}),V=F(()=>[{key:"status",thClass:"extra w-10",tdClass:"font-medium text-gray-900",placeholderClass:"w-10",sortable:!1},{key:"expense_date",label:"Date",thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"name",label:"Category",thClass:"extra",tdClass:"cursor-pointer font-medium text-primary-500"},{key:"user_name",label:"Customer"},{key:"notes",label:"Note"},{key:"amount",label:"Amount"},{key:"actions",sortable:!1,tdClass:"text-right text-sm font-medium"}]);Se(d,()=>{te()},{debounce:500}),De(()=>{s.selectAllField&&s.selectAllExpenses()}),Ie(()=>{B.fetchCategories({limit:"all"})});async function P(n){return(await B.fetchCategories({search:n})).data.data}async function Z({page:n,filter:i,sort:D}){let N=q(O({},d),{orderByField:D.fieldName||"created_at",orderBy:D.order||"desc",page:n});w.value=!0;let f=await s.fetchExpenses(N);return w.value=!1,{data:f.data.data,pagination:{data:f.data.data,totalPages:f.data.meta.last_page,currentPage:n,totalCount:f.data.meta.total,limit:10}}}function L(){p.value&&p.value.refresh()}function te(){L()}function R(){d.expense_category_id="",d.from_date="",d.to_date="",d.customer_id=""}function ae(){x.value&&R(),x.value=!x.value}function le(){return E.hasAbilities([v.DELETE_EXPENSE,v.EDIT_EXPENSE])}function se(){u.openDialog({title:h("general.are_you_sure"),message:h("expenses.confirm_delete",2),yesLabel:h("general.ok"),noLabel:h("general.cancel"),variant:"danger",size:"lg",hideNoButton:!1}).then(n=>{n&&s.deleteMultipleExpenses().then(i=>{i.data&&L()})})}return(n,i)=>{const D=o("BaseBreadcrumbItem"),N=o("BaseBreadcrumb"),f=o("BaseIcon"),A=o("BaseButton"),ne=o("BasePageHeader"),oe=o("BaseCustomerSelectInput"),$=o("BaseInputGroup"),re=o("BaseMultiselect"),z=o("BaseDatePicker"),ie=o("BaseFilterWrapper"),de=o("BaseEmptyPlaceholder"),ue=o("BaseDropdownItem"),ce=o("BaseDropdown"),H=o("BaseCheckbox"),me=o("router-link"),pe=o("BaseFormatMoney"),fe=o("BaseText"),_e=o("BaseTable"),ye=o("BasePage");return m(),_(ye,null,{default:t(()=>[l(ne,{title:n.$t("expenses.title")},{actions:t(()=>[j(l(A,{variant:"primary-outline",onClick:ae},{right:t(e=>[a(x)?(m(),_(f,{key:1,name:"XIcon",class:y(e.class)},null,8,["class"])):(m(),_(f,{key:0,name:"FilterIcon",class:y(e.class)},null,8,["class"]))]),default:t(()=>[b(g(n.$t("general.filter"))+" ",1)]),_:1},512),[[X,a(s).totalExpenses]]),a(E).hasAbilities(a(v).CREATE_EXPENSE)?(m(),_(A,{key:0,class:"ml-4",variant:"primary",onClick:i[0]||(i[0]=e=>n.$router.push("expenses/create"))},{left:t(e=>[l(f,{name:"PlusIcon",class:y(e.class)},null,8,["class"])]),default:t(()=>[b(" "+g(n.$t("expenses.add_expense")),1)]),_:1})):I("",!0)]),default:t(()=>[l(N,null,{default:t(()=>[l(D,{title:n.$t("general.home"),to:"dashboard"},null,8,["title"]),l(D,{title:n.$tc("expenses.expense",2),to:"#",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),l(ie,{show:a(x),class:"mt-5",onClear:R},{default:t(()=>[l($,{label:n.$t("expenses.customer")},{default:t(()=>[l(oe,{modelValue:a(d).customer_id,"onUpdate:modelValue":i[1]||(i[1]=e=>a(d).customer_id=e),placeholder:n.$t("customers.type_or_click"),"value-prop":"id",label:"name"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l($,{label:n.$t("expenses.category")},{default:t(()=>[l(re,{modelValue:a(d).expense_category_id,"onUpdate:modelValue":i[2]||(i[2]=e=>a(d).expense_category_id=e),"value-prop":"id",label:"name","track-by":"name","filter-results":!1,"resolve-on-load":"",delay:500,options:P,searchable:"",placeholder:n.$t("expenses.categories.select_a_category")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l($,{label:n.$t("expenses.from_date")},{default:t(()=>[l(z,{modelValue:a(d).from_date,"onUpdate:modelValue":i[3]||(i[3]=e=>a(d).from_date=e),"calendar-button":!0,"calendar-button-icon":"calendar"},null,8,["modelValue"])]),_:1},8,["label"]),Ae,l($,{label:n.$t("expenses.to_date")},{default:t(()=>[l(z,{modelValue:a(d).to_date,"onUpdate:modelValue":i[4]||(i[4]=e=>a(d).to_date=e),"calendar-button":!0,"calendar-button-icon":"calendar"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["show"]),j(l(de,{title:n.$t("expenses.no_expenses"),description:n.$t("expenses.list_of_expenses")},K({default:t(()=>[l(Le,{class:"mt-5 mb-4"})]),_:2},[a(E).hasAbilities(a(v).CREATE_EXPENSE)?{name:"actions",fn:t(()=>[l(A,{variant:"primary-outline",onClick:i[5]||(i[5]=e=>n.$router.push("/admin/expenses/create"))},{left:t(e=>[l(f,{name:"PlusIcon",class:y(e.class)},null,8,["class"])]),default:t(()=>[b(" "+g(n.$t("expenses.add_new_expense")),1)]),_:1})])}:void 0]),1032,["title","description"]),[[X,a(C)]]),j(c("div",Te,[c("div",Me,[a(s).selectedExpenses.length&&a(E).hasAbilities(a(v).DELETE_EXPENSE)?(m(),_(ce,{key:0},{activator:t(()=>[c("span",je,[b(g(n.$t("general.actions"))+" ",1),l(f,{name:"ChevronDownIcon"})])]),default:t(()=>[a(E).hasAbilities(a(v).DELETE_EXPENSE)?(m(),_(ue,{key:0,onClick:se},{default:t(()=>[l(f,{name:"TrashIcon",class:"h-5 mr-3 text-gray-600"}),b(" "+g(n.$t("general.delete")),1)]),_:1})):I("",!0)]),_:1})):I("",!0)]),l(_e,{ref:(e,T)=>{T.tableComponent=e,U(p)?p.value=e:p=e},data:Z,columns:a(V),class:"mt-3"},K({header:t(()=>[c("div",Xe,[l(H,{modelValue:a(k),"onUpdate:modelValue":i[6]||(i[6]=e=>U(k)?k.value=e:null),variant:"primary",onChange:a(s).selectAllExpenses},null,8,["modelValue","onChange"])])]),"cell-status":t(({row:e})=>[c("div",Ue,[l(H,{id:e.id,modelValue:a(S),"onUpdate:modelValue":i[7]||(i[7]=T=>U(S)?S.value=T:null),value:e.data.id,variant:"primary"},null,8,["id","modelValue","value"])])]),"cell-name":t(({row:e})=>[l(me,{to:{path:`expenses/${e.data.id}/edit`},class:"font-medium text-primary-500"},{default:t(()=>[b(g(e.data.expense_category.name),1)]),_:2},1032,["to"])]),"cell-amount":t(({row:e})=>[l(pe,{amount:e.data.amount,currency:e.data.currency},null,8,["amount","currency"])]),"cell-expense_date":t(({row:e})=>[b(g(e.data.formatted_expense_date),1)]),"cell-user_name":t(({row:e})=>[l(fe,{text:e.data.customer?e.data.customer.name:"-",length:30},null,8,["text"])]),"cell-notes":t(({row:e})=>[c("div",Ze,[c("div",Re,g(e.data.notes?e.data.notes:"-"),1)])]),_:2},[le()?{name:"cell-actions",fn:t(({row:e})=>[l(Ne,{row:e.data,table:a(p),"load-data":L},null,8,["row","table"])])}:void 0]),1032,["columns"])],512),[[X,!a(C)]])]),_:1})}}};export{qe as default};
+var ge=Object.defineProperty,he=Object.defineProperties;var Ce=Object.getOwnPropertyDescriptors;var G=Object.getOwnPropertySymbols;var be=Object.prototype.hasOwnProperty,xe=Object.prototype.propertyIsEnumerable;var W=(r,s,u)=>s in r?ge(r,s,{enumerable:!0,configurable:!0,writable:!0,value:u}):r[s]=u,O=(r,s)=>{for(var u in s||(s={}))be.call(s,u)&&W(r,u,s[u]);if(G)for(var u of G(s))xe.call(s,u)&&W(r,u,s[u]);return r},q=(r,s)=>he(r,Ce(s));import{o as m,e as ve,h as c,m as y,J,G as Be,aN as Ee,ah as ke,r as o,l as _,w as t,u as a,f as l,i as b,t as g,j as I,B as M,a0 as we,k as F,aR as Se,aS as De,D as Ie,q as j,ag as X,V as K,x as U}from"./vendor.01d0adc5.js";import{u as Q}from"./expense.e270a61c.js";import{u as $e}from"./category.4b37f0ed.js";import{j as Y,u as Fe,e as ee,g as v,b as Ve}from"./main.75722495.js";const Pe={width:"110",height:"110",viewBox:"0 0 110 110",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Le={props:{primaryFillColor:{type:String,default:"fill-primary-500"},secondaryFillColor:{type:String,default:"fill-gray-600"}},setup(r){return(s,u)=>(m(),ve("svg",Pe,[c("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M55 13.75C24.6245 13.75 0 22.9848 0 34.375C0 45.7652 24.6245 55 55 55C85.3755 55 110 45.7652 110 34.375C110 22.9848 85.3755 13.75 55 13.75ZM55 15.4688C86.8708 15.4688 108.281 25.245 108.281 34.375C108.281 43.505 86.8708 53.2812 55 53.2812C23.1292 53.2812 1.71875 43.505 1.71875 34.375C1.71875 25.245 23.1292 15.4688 55 15.4688Z",class:y(r.secondaryFillColor)},null,2),c("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M54.9999 1.71875C66.0842 1.71875 75.7452 7.92172 80.697 17.038L82.732 17.2081C77.6737 7.01078 67.1549 0 54.9999 0C42.7985 0 32.2454 7.06406 27.2095 17.3267L29.2479 17.1411C34.1824 7.96812 43.8745 1.71875 54.9999 1.71875Z",class:y(r.primaryFillColor)},null,2),c("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M55 96.25C40.7619 96.25 25.7812 99.3283 25.7812 103.125C25.7812 106.922 40.7619 110 55 110C69.2381 110 84.2188 106.922 84.2188 103.125C84.2188 99.3283 69.2381 96.25 55 96.25ZM55 97.9688C70.4602 97.9688 81.5959 101.317 82.4811 103.125C81.5959 104.933 70.4602 108.281 55 108.281C39.5398 108.281 28.4041 104.933 27.5189 103.125C28.4041 101.317 39.5398 97.9688 55 97.9688Z",class:y(r.primaryFillColor)},null,2),c("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M27.4756 103.328L25.8049 102.922L41.2737 39.3286L42.9443 39.7342L27.4756 103.328Z",class:y(r.primaryFillColor)},null,2),c("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M82.5247 103.328L67.0559 39.7342L68.7265 39.3286L84.1953 102.922L82.5247 103.328Z",class:y(r.primaryFillColor)},null,2),c("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M68.75 39.5312C68.75 42.3792 62.5934 44.6875 55 44.6875C47.4066 44.6875 41.25 42.3792 41.25 39.5312C41.25 36.6833 47.4066 34.375 55 34.375C62.5934 34.375 68.75 36.6833 68.75 39.5312Z",class:y(r.secondaryFillColor)},null,2)]))}},Ne={props:{row:{type:Object,default:null},table:{type:Object,default:null},loadData:{type:Function,default:null}},setup(r){const s=r,u=Y();Fe();const{t:B}=J(),E=Q(),w=Be();Ee();const x=ee();ke("utils");function d(h){u.openDialog({title:B("general.are_you_sure"),message:B("expenses.confirm_delete",1),yesLabel:B("general.ok"),noLabel:B("general.cancel"),variant:"danger",size:"lg",hideNoButton:!1}).then(p=>{p&&E.deleteExpense({ids:[h]}).then(C=>{C&&s.loadData&&s.loadData()})})}return(h,p)=>{const C=o("BaseIcon"),S=o("BaseButton"),k=o("BaseDropdownItem"),V=o("router-link"),P=o("BaseDropdown");return m(),_(P,null,{activator:t(()=>[a(w).name==="expenses.view"?(m(),_(S,{key:0,variant:"primary"},{default:t(()=>[l(C,{name:"DotsHorizontalIcon",class:"h-5 text-white"})]),_:1})):(m(),_(C,{key:1,name:"DotsHorizontalIcon",class:"h-5 text-gray-500"}))]),default:t(()=>[a(x).hasAbilities(a(v).EDIT_EXPENSE)?(m(),_(V,{key:0,to:`/admin/expenses/${r.row.id}/edit`},{default:t(()=>[l(k,null,{default:t(()=>[l(C,{name:"PencilIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),b(" "+g(h.$t("general.edit")),1)]),_:1})]),_:1},8,["to"])):I("",!0),a(x).hasAbilities(a(v).DELETE_EXPENSE)?(m(),_(k,{key:1,onClick:p[0]||(p[0]=Z=>d(r.row.id))},{default:t(()=>[l(C,{name:"TrashIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),b(" "+g(h.$t("general.delete")),1)]),_:1})):I("",!0)]),_:1})}}},Ae=c("div",{class:"hidden w-8 h-0 mx-4 border border-gray-400 border-solid xl:block",style:{"margin-top":"1.5rem"}},null,-1),Te={class:"relative table-container"},Me={class:"relative flex items-center justify-end h-5"},je={class:"flex text-sm font-medium cursor-pointer select-none text-primary-400"},Xe={class:"absolute items-center left-6 top-2.5 select-none"},Ue={class:"relative block"},Ze={class:"notes"},Re={class:"truncate note w-60"},qe={setup(r){Ve();const s=Q(),u=Y(),B=$e(),E=ee();let w=M(!0),x=M(null);const d=we({expense_category_id:"",from_date:"",to_date:"",customer_id:""}),{t:h}=J();let p=M(null);const C=F(()=>!s.totalExpenses&&!w.value),S=F({get:()=>s.selectedExpenses,set:n=>s.selectExpense(n)}),k=F({get:()=>s.selectAllField,set:n=>s.setSelectAllState(n)}),V=F(()=>[{key:"status",thClass:"extra w-10",tdClass:"font-medium text-gray-900",placeholderClass:"w-10",sortable:!1},{key:"expense_date",label:"Date",thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"name",label:"Category",thClass:"extra",tdClass:"cursor-pointer font-medium text-primary-500"},{key:"user_name",label:"Customer"},{key:"notes",label:"Note"},{key:"amount",label:"Amount"},{key:"actions",sortable:!1,tdClass:"text-right text-sm font-medium"}]);Se(d,()=>{te()},{debounce:500}),De(()=>{s.selectAllField&&s.selectAllExpenses()}),Ie(()=>{B.fetchCategories({limit:"all"})});async function P(n){return(await B.fetchCategories({search:n})).data.data}async function Z({page:n,filter:i,sort:D}){let N=q(O({},d),{orderByField:D.fieldName||"created_at",orderBy:D.order||"desc",page:n});w.value=!0;let f=await s.fetchExpenses(N);return w.value=!1,{data:f.data.data,pagination:{data:f.data.data,totalPages:f.data.meta.last_page,currentPage:n,totalCount:f.data.meta.total,limit:10}}}function L(){p.value&&p.value.refresh()}function te(){L()}function R(){d.expense_category_id="",d.from_date="",d.to_date="",d.customer_id=""}function ae(){x.value&&R(),x.value=!x.value}function le(){return E.hasAbilities([v.DELETE_EXPENSE,v.EDIT_EXPENSE])}function se(){u.openDialog({title:h("general.are_you_sure"),message:h("expenses.confirm_delete",2),yesLabel:h("general.ok"),noLabel:h("general.cancel"),variant:"danger",size:"lg",hideNoButton:!1}).then(n=>{n&&s.deleteMultipleExpenses().then(i=>{i.data&&L()})})}return(n,i)=>{const D=o("BaseBreadcrumbItem"),N=o("BaseBreadcrumb"),f=o("BaseIcon"),A=o("BaseButton"),ne=o("BasePageHeader"),oe=o("BaseCustomerSelectInput"),$=o("BaseInputGroup"),re=o("BaseMultiselect"),z=o("BaseDatePicker"),ie=o("BaseFilterWrapper"),de=o("BaseEmptyPlaceholder"),ue=o("BaseDropdownItem"),ce=o("BaseDropdown"),H=o("BaseCheckbox"),me=o("router-link"),pe=o("BaseFormatMoney"),fe=o("BaseText"),_e=o("BaseTable"),ye=o("BasePage");return m(),_(ye,null,{default:t(()=>[l(ne,{title:n.$t("expenses.title")},{actions:t(()=>[j(l(A,{variant:"primary-outline",onClick:ae},{right:t(e=>[a(x)?(m(),_(f,{key:1,name:"XIcon",class:y(e.class)},null,8,["class"])):(m(),_(f,{key:0,name:"FilterIcon",class:y(e.class)},null,8,["class"]))]),default:t(()=>[b(g(n.$t("general.filter"))+" ",1)]),_:1},512),[[X,a(s).totalExpenses]]),a(E).hasAbilities(a(v).CREATE_EXPENSE)?(m(),_(A,{key:0,class:"ml-4",variant:"primary",onClick:i[0]||(i[0]=e=>n.$router.push("expenses/create"))},{left:t(e=>[l(f,{name:"PlusIcon",class:y(e.class)},null,8,["class"])]),default:t(()=>[b(" "+g(n.$t("expenses.add_expense")),1)]),_:1})):I("",!0)]),default:t(()=>[l(N,null,{default:t(()=>[l(D,{title:n.$t("general.home"),to:"dashboard"},null,8,["title"]),l(D,{title:n.$tc("expenses.expense",2),to:"#",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),l(ie,{show:a(x),class:"mt-5",onClear:R},{default:t(()=>[l($,{label:n.$t("expenses.customer")},{default:t(()=>[l(oe,{modelValue:a(d).customer_id,"onUpdate:modelValue":i[1]||(i[1]=e=>a(d).customer_id=e),placeholder:n.$t("customers.type_or_click"),"value-prop":"id",label:"name"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l($,{label:n.$t("expenses.category")},{default:t(()=>[l(re,{modelValue:a(d).expense_category_id,"onUpdate:modelValue":i[2]||(i[2]=e=>a(d).expense_category_id=e),"value-prop":"id",label:"name","track-by":"name","filter-results":!1,"resolve-on-load":"",delay:500,options:P,searchable:"",placeholder:n.$t("expenses.categories.select_a_category")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l($,{label:n.$t("expenses.from_date")},{default:t(()=>[l(z,{modelValue:a(d).from_date,"onUpdate:modelValue":i[3]||(i[3]=e=>a(d).from_date=e),"calendar-button":!0,"calendar-button-icon":"calendar"},null,8,["modelValue"])]),_:1},8,["label"]),Ae,l($,{label:n.$t("expenses.to_date")},{default:t(()=>[l(z,{modelValue:a(d).to_date,"onUpdate:modelValue":i[4]||(i[4]=e=>a(d).to_date=e),"calendar-button":!0,"calendar-button-icon":"calendar"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["show"]),j(l(de,{title:n.$t("expenses.no_expenses"),description:n.$t("expenses.list_of_expenses")},K({default:t(()=>[l(Le,{class:"mt-5 mb-4"})]),_:2},[a(E).hasAbilities(a(v).CREATE_EXPENSE)?{name:"actions",fn:t(()=>[l(A,{variant:"primary-outline",onClick:i[5]||(i[5]=e=>n.$router.push("/admin/expenses/create"))},{left:t(e=>[l(f,{name:"PlusIcon",class:y(e.class)},null,8,["class"])]),default:t(()=>[b(" "+g(n.$t("expenses.add_new_expense")),1)]),_:1})])}:void 0]),1032,["title","description"]),[[X,a(C)]]),j(c("div",Te,[c("div",Me,[a(s).selectedExpenses.length&&a(E).hasAbilities(a(v).DELETE_EXPENSE)?(m(),_(ce,{key:0},{activator:t(()=>[c("span",je,[b(g(n.$t("general.actions"))+" ",1),l(f,{name:"ChevronDownIcon"})])]),default:t(()=>[a(E).hasAbilities(a(v).DELETE_EXPENSE)?(m(),_(ue,{key:0,onClick:se},{default:t(()=>[l(f,{name:"TrashIcon",class:"h-5 mr-3 text-gray-600"}),b(" "+g(n.$t("general.delete")),1)]),_:1})):I("",!0)]),_:1})):I("",!0)]),l(_e,{ref:(e,T)=>{T.tableComponent=e,U(p)?p.value=e:p=e},data:Z,columns:a(V),class:"mt-3"},K({header:t(()=>[c("div",Xe,[l(H,{modelValue:a(k),"onUpdate:modelValue":i[6]||(i[6]=e=>U(k)?k.value=e:null),variant:"primary",onChange:a(s).selectAllExpenses},null,8,["modelValue","onChange"])])]),"cell-status":t(({row:e})=>[c("div",Ue,[l(H,{id:e.id,modelValue:a(S),"onUpdate:modelValue":i[7]||(i[7]=T=>U(S)?S.value=T:null),value:e.data.id,variant:"primary"},null,8,["id","modelValue","value"])])]),"cell-name":t(({row:e})=>[l(me,{to:{path:`expenses/${e.data.id}/edit`},class:"font-medium text-primary-500"},{default:t(()=>[b(g(e.data.expense_category.name),1)]),_:2},1032,["to"])]),"cell-amount":t(({row:e})=>[l(pe,{amount:e.data.amount,currency:e.data.currency},null,8,["amount","currency"])]),"cell-expense_date":t(({row:e})=>[b(g(e.data.formatted_expense_date),1)]),"cell-user_name":t(({row:e})=>[l(fe,{text:e.data.customer?e.data.customer.name:"-",length:30},null,8,["text"])]),"cell-notes":t(({row:e})=>[c("div",Ze,[c("div",Re,g(e.data.notes?e.data.notes:"-"),1)])]),_:2},[le()?{name:"cell-actions",fn:t(({row:e})=>[l(Ne,{row:e.data,table:a(p),"load-data":L},null,8,["row","table"])])}:void 0]),1032,["columns"])],512),[[X,!a(C)]])]),_:1})}}};export{qe as default};

--- public/build/assets/Index.a00a8636.js ---
@@ -1 +1 @@
-import{J as K,ah as Q,G as Y,B as b,a0 as Z,k as I,aR as ee,r as s,o as B,l as y,w as a,f as t,q as k,ag as V,u as n,m as F,i,t as u,j as te,h as x}from"./vendor.01d0adc5.js";import{u as ae}from"./invoice.fd03309f.js";import oe from"./BaseTable.440de545.js";import{u as se}from"./global.8697213a.js";import{_ as ne}from"./MoonwalkerIcon.ab503573.js";import"./auth.77d12976.js";import"./main.832b14c7.js";const le=x("div",{class:"hidden w-8 h-0 mx-4 border border-gray-400 border-solid xl:block",style:{"margin-top":"1.5rem"}},null,-1),re={class:"relative table-container"},ve={setup(ce){const{t:d}=K();Q("utils"),Y();const D=b(null);let g=b(!0),m=b(!1);const P=b(["DRAFT","DUE","SENT","VIEWED","OVERDUE","COMPLETED"]),o=Z({status:"",from_date:"",to_date:"",invoice_number:""}),p=ae(),h=se();I(()=>h.currency);const j=I(()=>[{key:"invoice_date",label:d("invoices.date"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"invoice_number",label:d("invoices.number")},{key:"status",label:d("invoices.status")},{key:"paid_status",label:d("invoices.paid_status")},{key:"due_amount",label:d("dashboard.recent_invoices_card.amount_due")},{key:"actions",thClass:"text-right",tdClass:"text-right text-sm font-medium",sortable:!1}]),$=I(()=>!p.totalInvoices&&!g.value);ee(o,()=>{T()},{debounce:500});function N(){D.value.refresh()}function T(){N()}function S(){o.status="",o.from_date="",o.to_date="",o.invoice_number=""}function U(){m.value&&S(),m.value=!m.value}async function H({page:l,sort:r}){let f={status:o.status,invoice_number:o.invoice_number,from_date:o.from_date,to_date:o.to_date,orderByField:r.fieldName||"created_at",orderBy:r.order||"desc",page:l};g.value=!0;let _=await p.fetchInvoices(f,h.companySlug);return g.value=!1,{data:_.data.data,pagination:{totalPages:_.data.meta.last_page,currentPage:l,totalCount:_.data.meta.total,limit:10}}}return(l,r)=>{const f=s("BaseBreadcrumbItem"),_=s("BaseBreadcrumb"),c=s("BaseIcon"),G=s("BaseButton"),M=s("BasePageHeader"),R=s("BaseSelectInput"),v=s("BaseInputGroup"),W=s("BaseInput"),w=s("BaseDatePicker"),z=s("BaseFilterWrapper"),O=s("BaseEmptyPlaceholder"),C=s("router-link"),q=s("BaseFormatMoney"),E=s("BaseInvoiceStatusBadge"),A=s("BaseDropdownItem"),J=s("BaseDropdown"),L=s("BasePage");return B(),y(L,null,{default:a(()=>[t(M,{title:l.$t("invoices.title")},{actions:a(()=>[k(t(G,{variant:"primary-outline",onClick:U},{right:a(e=>[n(m)?(B(),y(c,{key:1,name:"XIcon",class:F(e.class)},null,8,["class"])):(B(),y(c,{key:0,name:"FilterIcon",class:F(e.class)},null,8,["class"]))]),default:a(()=>[i(u(l.$t("general.filter"))+" ",1)]),_:1},512),[[V,n(p).totalInvoices]])]),default:a(()=>[t(_,null,{default:a(()=>[t(f,{title:l.$t("general.home"),to:`/${n(h).companySlug}/customer/dashboard`},null,8,["title","to"]),t(f,{title:l.$tc("invoices.invoice",2),to:"#",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),k(t(z,{onClear:S},{default:a(()=>[t(v,{label:l.$t("invoices.status"),class:"px-3"},{default:a(()=>[t(R,{modelValue:n(o).status,"onUpdate:modelValue":r[0]||(r[0]=e=>n(o).status=e),options:P.value,searchable:"","allow-empty":!1,placeholder:l.$t("general.select_a_status")},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"]),t(v,{label:l.$t("invoices.invoice_number"),color:"black-light",class:"px-3 mt-2"},{default:a(()=>[t(W,{modelValue:n(o).invoice_number,"onUpdate:modelValue":r[1]||(r[1]=e=>n(o).invoice_number=e)},{default:a(()=>[t(c,{name:"DotsHorizontalIcon",class:"h-5 text-gray-500"}),t(c,{name:"HashtagIcon",class:"h-5 ml-3 text-gray-600"})]),_:1},8,["modelValue"])]),_:1},8,["label"]),t(v,{label:l.$t("general.from"),class:"px-3"},{default:a(()=>[t(w,{modelValue:n(o).from_date,"onUpdate:modelValue":r[2]||(r[2]=e=>n(o).from_date=e),"calendar-button":!0,"calendar-button-icon":"calendar"},null,8,["modelValue"])]),_:1},8,["label"]),le,t(v,{label:l.$t("general.to"),class:"px-3"},{default:a(()=>[t(w,{modelValue:n(o).to_date,"onUpdate:modelValue":r[3]||(r[3]=e=>n(o).to_date=e),"calendar-button":!0,"calendar-button-icon":"calendar"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},512),[[V,n(m)]]),n($)?(B(),y(O,{key:0,title:l.$t("invoices.no_invoices"),description:l.$t("invoices.list_of_invoices")},{default:a(()=>[t(ne,{class:"mt-5 mb-4"})]),_:1},8,["title","description"])):te("",!0),k(x("div",re,[t(oe,{ref:(e,X)=>{X.table=e,D.value=e},data:H,columns:n(j),"placeholder-count":n(p).totalInvoices>=20?10:5,class:"mt-10"},{"cell-invoice_date":a(({row:e})=>[i(u(e.data.formatted_invoice_date),1)]),"cell-invoice_number":a(({row:e})=>[t(C,{to:{path:`invoices/${e.data.id}/view`},class:"font-medium text-primary-500"},{default:a(()=>[i(u(e.data.invoice_number),1)]),_:2},1032,["to"])]),"cell-due_amount":a(({row:e})=>[t(q,{amount:e.data.total,currency:e.data.customer.currency},null,8,["amount","currency"])]),"cell-status":a(({row:e})=>[t(E,{status:e.data.status,class:"px-3 py-1"},{default:a(()=>[i(u(e.data.status),1)]),_:2},1032,["status"])]),"cell-paid_status":a(({row:e})=>[t(E,{status:e.data.paid_status,class:"px-3 py-1"},{default:a(()=>[i(u(e.data.paid_status),1)]),_:2},1032,["status"])]),"cell-actions":a(({row:e})=>[t(J,null,{activator:a(()=>[t(c,{name:"DotsHorizontalIcon",class:"h-5 text-gray-500"})]),default:a(()=>[t(C,{to:`invoices/${e.data.id}/view`},{default:a(()=>[t(A,null,{default:a(()=>[t(c,{name:"EyeIcon",class:"h-5 mr-3 text-gray-600"}),i(" "+u(l.$t("general.view")),1)]),_:1})]),_:2},1032,["to"])]),_:2},1024)]),_:1},8,["columns","placeholder-count"])],512),[[V,!n($)]])]),_:1})}}};export{ve as default};
+import{J as K,ah as Q,G as Y,B as b,a0 as Z,k as I,aR as ee,r as s,o as B,l as y,w as a,f as t,q as k,ag as V,u as n,m as F,i,t as u,j as te,h as x}from"./vendor.01d0adc5.js";import{u as ae}from"./invoice.b61ade7d.js";import oe from"./BaseTable.6e206ca7.js";import{u as se}from"./global.08b6a984.js";import{_ as ne}from"./MoonwalkerIcon.ab503573.js";import"./auth.4644c288.js";import"./main.75722495.js";const le=x("div",{class:"hidden w-8 h-0 mx-4 border border-gray-400 border-solid xl:block",style:{"margin-top":"1.5rem"}},null,-1),re={class:"relative table-container"},fe={setup(ce){const{t:d}=K();Q("utils"),Y();const D=b(null);let g=b(!0),m=b(!1);const P=b(["DRAFT","DUE","SENT","VIEWED","OVERDUE","COMPLETED"]),o=Z({status:"",from_date:"",to_date:"",invoice_number:""}),p=ae(),h=se();I(()=>h.currency);const j=I(()=>[{key:"invoice_date",label:d("invoices.date"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"invoice_number",label:d("invoices.number")},{key:"status",label:d("invoices.status")},{key:"paid_status",label:d("invoices.paid_status")},{key:"due_amount",label:d("dashboard.recent_invoices_card.amount_due")},{key:"actions",thClass:"text-right",tdClass:"text-right text-sm font-medium",sortable:!1}]),$=I(()=>!p.totalInvoices&&!g.value);ee(o,()=>{T()},{debounce:500});function N(){D.value.refresh()}function T(){N()}function S(){o.status="",o.from_date="",o.to_date="",o.invoice_number=""}function U(){m.value&&S(),m.value=!m.value}async function H({page:l,sort:r}){let v={status:o.status,invoice_number:o.invoice_number,from_date:o.from_date,to_date:o.to_date,orderByField:r.fieldName||"created_at",orderBy:r.order||"desc",page:l};g.value=!0;let _=await p.fetchInvoices(v,h.companySlug);return g.value=!1,{data:_.data.data,pagination:{totalPages:_.data.meta.last_page,currentPage:l,totalCount:_.data.meta.total,limit:10}}}return(l,r)=>{const v=s("BaseBreadcrumbItem"),_=s("BaseBreadcrumb"),c=s("BaseIcon"),G=s("BaseButton"),M=s("BasePageHeader"),R=s("BaseSelectInput"),f=s("BaseInputGroup"),W=s("BaseInput"),w=s("BaseDatePicker"),z=s("BaseFilterWrapper"),O=s("BaseEmptyPlaceholder"),C=s("router-link"),q=s("BaseFormatMoney"),E=s("BaseInvoiceStatusBadge"),A=s("BaseDropdownItem"),J=s("BaseDropdown"),L=s("BasePage");return B(),y(L,null,{default:a(()=>[t(M,{title:l.$t("invoices.title")},{actions:a(()=>[k(t(G,{variant:"primary-outline",onClick:U},{right:a(e=>[n(m)?(B(),y(c,{key:1,name:"XIcon",class:F(e.class)},null,8,["class"])):(B(),y(c,{key:0,name:"FilterIcon",class:F(e.class)},null,8,["class"]))]),default:a(()=>[i(u(l.$t("general.filter"))+" ",1)]),_:1},512),[[V,n(p).totalInvoices]])]),default:a(()=>[t(_,null,{default:a(()=>[t(v,{title:l.$t("general.home"),to:`/${n(h).companySlug}/customer/dashboard`},null,8,["title","to"]),t(v,{title:l.$tc("invoices.invoice",2),to:"#",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),k(t(z,{onClear:S},{default:a(()=>[t(f,{label:l.$t("invoices.status"),class:"px-3"},{default:a(()=>[t(R,{modelValue:n(o).status,"onUpdate:modelValue":r[0]||(r[0]=e=>n(o).status=e),options:P.value,searchable:"","allow-empty":!1,placeholder:l.$t("general.select_a_status")},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"]),t(f,{label:l.$t("invoices.invoice_number"),color:"black-light",class:"px-3 mt-2"},{default:a(()=>[t(W,{modelValue:n(o).invoice_number,"onUpdate:modelValue":r[1]||(r[1]=e=>n(o).invoice_number=e)},{default:a(()=>[t(c,{name:"DotsHorizontalIcon",class:"h-5 text-gray-500"}),t(c,{name:"HashtagIcon",class:"h-5 ml-3 text-gray-600"})]),_:1},8,["modelValue"])]),_:1},8,["label"]),t(f,{label:l.$t("general.from"),class:"px-3"},{default:a(()=>[t(w,{modelValue:n(o).from_date,"onUpdate:modelValue":r[2]||(r[2]=e=>n(o).from_date=e),"calendar-button":!0,"calendar-button-icon":"calendar"},null,8,["modelValue"])]),_:1},8,["label"]),le,t(f,{label:l.$t("general.to"),class:"px-3"},{default:a(()=>[t(w,{modelValue:n(o).to_date,"onUpdate:modelValue":r[3]||(r[3]=e=>n(o).to_date=e),"calendar-button":!0,"calendar-button-icon":"calendar"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},512),[[V,n(m)]]),n($)?(B(),y(O,{key:0,title:l.$t("invoices.no_invoices"),description:l.$t("invoices.list_of_invoices")},{default:a(()=>[t(ne,{class:"mt-5 mb-4"})]),_:1},8,["title","description"])):te("",!0),k(x("div",re,[t(oe,{ref:(e,X)=>{X.table=e,D.value=e},data:H,columns:n(j),"placeholder-count":n(p).totalInvoices>=20?10:5,class:"mt-10"},{"cell-invoice_date":a(({row:e})=>[i(u(e.data.formatted_invoice_date),1)]),"cell-invoice_number":a(({row:e})=>[t(C,{to:{path:`invoices/${e.data.id}/view`},class:"font-medium text-primary-500"},{default:a(()=>[i(u(e.data.invoice_number),1)]),_:2},1032,["to"])]),"cell-due_amount":a(({row:e})=>[t(q,{amount:e.data.total,currency:e.data.customer.currency},null,8,["amount","currency"])]),"cell-status":a(({row:e})=>[t(E,{status:e.data.status,class:"px-3 py-1"},{default:a(()=>[i(u(e.data.status),1)]),_:2},1032,["status"])]),"cell-paid_status":a(({row:e})=>[t(E,{status:e.data.paid_status,class:"px-3 py-1"},{default:a(()=>[i(u(e.data.paid_status),1)]),_:2},1032,["status"])]),"cell-actions":a(({row:e})=>[t(J,null,{activator:a(()=>[t(c,{name:"DotsHorizontalIcon",class:"h-5 text-gray-500"})]),default:a(()=>[t(C,{to:`invoices/${e.data.id}/view`},{default:a(()=>[t(A,null,{default:a(()=>[t(c,{name:"EyeIcon",class:"h-5 mr-3 text-gray-600"}),i(" "+u(l.$t("general.view")),1)]),_:1})]),_:2},1032,["to"])]),_:2},1024)]),_:1},8,["columns","placeholder-count"])],512),[[V,!n($)]])]),_:1})}}};export{fe as default};

--- public/build/assets/Index.a3eeb117.js ---
@@ -1 +1 @@
-import{J as j,a0 as C,B as b,I as r,k as M,C as L,D as F,r as i,o as I,e as N,h as m,f as t,w as c,u as p,i as U,t as P,U as H,l as K,m as X}from"./vendor.01d0adc5.js";import{d as W,b as z}from"./main.832b14c7.js";const Z={class:"grid gap-8 md:grid-cols-12 pt-10"},ee={class:"col-span-8 md:col-span-4"},te={class:"flex flex-col my-6 lg:space-x-3 lg:flex-row"},ae=m("div",{class:"hidden w-5 h-0 mx-4 border border-gray-400 border-solid xl:block",style:{"margin-top":"2.5rem"}},null,-1),oe={class:"col-span-8"},re=["src"],ne={setup(G){const{t:g}=j(),v=W();v.downloadReport=x;const u=C([g("dateRange.today"),g("dateRange.this_week"),g("dateRange.this_month"),g("dateRange.this_quarter"),g("dateRange.this_year"),g("dateRange.previous_week"),g("dateRange.previous_month"),g("dateRange.previous_quarter"),g("dateRange.previous_year"),g("dateRange.custom")]),$=b(["By Customer","By Item"]),o=b("By Customer"),k=b(g("dateRange.this_month"));let w=b(new Date),D=b(null),e=b(null),y=b(null),s=C({from_date:r().startOf("month").format("YYYY-MM-DD").toString(),to_date:r().endOf("month").format("YYYY-MM-DD").toString()});const O=z(),n=M(()=>D.value),d=M(()=>O.selectedCompany),V=M(()=>`${e.value}?from_date=${r(s.from_date).format("YYYY-MM-DD")}&to_date=${r(s.to_date).format("YYYY-MM-DD")}`),T=M(()=>`${y.value}?from_date=${r(s.from_date).format("YYYY-MM-DD")}&to_date=${r(s.to_date).format("YYYY-MM-DD")}`);L(w,f=>{s.from_date=r(f).startOf("year").toString(),s.to_date=r(f).endOf("year").toString()}),F(()=>{e.value=`/reports/sales/customers/${d.value.unique_hash}`,y.value=`/reports/sales/items/${d.value.unique_hash}`,l()});function _(f,Y){return r()[f](Y).format("YYYY-MM-DD")}function B(f,Y){return r().subtract(1,Y)[f](Y).format("YYYY-MM-DD")}function a(){switch(k.value){case"Today":s.from_date=r().format("YYYY-MM-DD"),s.to_date=r().format("YYYY-MM-DD");break;case"This Week":s.from_date=_("startOf","isoWeek"),s.to_date=_("endOf","isoWeek");break;case"This Month":s.from_date=_("startOf","month"),s.to_date=_("endOf","month");break;case"This Quarter":s.from_date=_("startOf","quarter"),s.to_date=_("endOf","quarter");break;case"This Year":s.from_date=_("startOf","year"),s.to_date=_("endOf","year");break;case"Previous Week":s.from_date=B("startOf","isoWeek"),s.to_date=B("endOf","isoWeek");break;case"Previous Month":s.from_date=B("startOf","month"),s.to_date=B("endOf","month");break;case"Previous Quarter":s.from_date=B("startOf","quarter"),s.to_date=B("endOf","quarter");break;case"Previous Year":s.from_date=B("startOf","year"),s.to_date=B("endOf","year");break}}async function l(){return o.value==="By Customer"?(D.value=V.value,!0):(D.value=T.value,!0)}async function S(){let f=await R();return window.open(n.value,"_blank"),f}function R(){return o.value==="By Customer"?(D.value=V.value,!0):(D.value=T.value,!0)}function x(){if(!R())return!1;window.open(n.value+"&download=true"),setTimeout(()=>o.value==="By Customer"?(D.value=V.value,!0):(D.value=T.value,!0),200)}return(f,Y)=>{const h=i("BaseMultiselect"),Q=i("BaseInputGroup"),E=i("BaseDatePicker"),J=i("BaseButton"),A=i("BaseIcon");return I(),N("div",Z,[m("div",ee,[t(Q,{label:f.$t("reports.sales.date_range"),class:"col-span-12 md:col-span-8"},{default:c(()=>[t(h,{modelValue:k.value,"onUpdate:modelValue":[Y[0]||(Y[0]=q=>k.value=q),a],options:p(u)},null,8,["modelValue","options"])]),_:1},8,["label"]),m("div",te,[t(Q,{label:f.$t("reports.sales.from_date")},{default:c(()=>[t(E,{modelValue:p(s).from_date,"onUpdate:modelValue":Y[1]||(Y[1]=q=>p(s).from_date=q)},null,8,["modelValue"])]),_:1},8,["label"]),ae,t(Q,{label:f.$t("reports.sales.to_date")},{default:c(()=>[t(E,{modelValue:p(s).to_date,"onUpdate:modelValue":Y[2]||(Y[2]=q=>p(s).to_date=q)},null,8,["modelValue"])]),_:1},8,["label"])]),t(Q,{label:f.$t("reports.sales.report_type"),class:"col-span-12 md:col-span-8"},{default:c(()=>[t(h,{modelValue:o.value,"onUpdate:modelValue":[Y[3]||(Y[3]=q=>o.value=q),l],options:$.value,placeholder:f.$t("reports.sales.report_type"),class:"mt-1"},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"]),t(J,{variant:"primary-outline",class:"content-center hidden mt-0 w-md md:flex md:mt-8",type:"submit",onClick:H(R,["prevent"])},{default:c(()=>[U(P(f.$t("reports.update_report")),1)]),_:1},8,["onClick"])]),m("div",oe,[m("iframe",{src:p(n),class:"hidden w-full h-screen h-screen-ios border-gray-100 border-solid rounded md:flex"},null,8,re),m("a",{class:"flex items-center justify-center h-10 px-5 py-1 text-sm font-medium leading-none text-center text-white rounded whitespace-nowrap md:hidden bg-primary-500",onClick:S},[t(A,{name:"DocumentTextIcon",class:"h-5 mr-2"}),m("span",null,P(f.$t("reports.view_pdf")),1)])])])}}},se={class:"grid gap-8 md:grid-cols-12 pt-10"},le={class:"col-span-8 md:col-span-4"},de={class:"flex flex-col mt-6 lg:space-x-3 lg:flex-row"},ue=m("div",{class:"hidden w-5 h-0 mx-4 border border-gray-400 border-solid xl:block",style:{"margin-top":"2.5rem"}},null,-1),ie={class:"col-span-8"},me=["src"],ce={setup(G){const g=W(),v=z(),{t:u}=j();g.downloadReport=B;const $=C([u("dateRange.today"),u("dateRange.this_week"),u("dateRange.this_month"),u("dateRange.this_quarter"),u("dateRange.this_year"),u("dateRange.previous_week"),u("dateRange.previous_month"),u("dateRange.previous_quarter"),u("dateRange.previous_year"),u("dateRange.custom")]),o=b(u("dateRange.this_month"));let k=b(new Date),w=b(null),D=b(null);const e=C({from_date:r().startOf("month").toString(),to_date:r().endOf("month").toString()}),y=M(()=>w.value),s=M(()=>v.selectedCompany),O=M(()=>`${D.value}?from_date=${r(e.from_date).format("YYYY-MM-DD")}&to_date=${r(e.to_date).format("YYYY-MM-DD")}`);F(()=>{D.value=`/reports/expenses/${s.value.unique_hash}`,w.value=O.value}),L(()=>k,a=>{e.from_date=r(a).startOf("year").toString(),e.to_date=r(a).endOf("year").toString()});function n(a,l){return r()[a](l).format("YYYY-MM-DD")}function d(a,l){return r().subtract(1,l)[a](l).format("YYYY-MM-DD")}function V(){switch(o.value){case"Today":e.from_date=r().format("YYYY-MM-DD"),e.to_date=r().format("YYYY-MM-DD");break;case"This Week":e.from_date=n("startOf","isoWeek"),e.to_date=n("endOf","isoWeek");break;case"This Month":e.from_date=n("startOf","month"),e.to_date=n("endOf","month");break;case"This Quarter":e.from_date=n("startOf","quarter"),e.to_date=n("endOf","quarter");break;case"This Year":e.from_date=n("startOf","year"),e.to_date=n("endOf","year");break;case"Previous Week":e.from_date=d("startOf","isoWeek"),e.to_date=d("endOf","isoWeek");break;case"Previous Month":e.from_date=d("startOf","month"),e.to_date=d("endOf","month");break;case"Previous Quarter":e.from_date=d("startOf","quarter"),e.to_date=d("endOf","quarter");break;case"Previous Year":e.from_date=d("startOf","year"),e.to_date=d("endOf","year");break}}async function T(){let a=await _();return window.open(y.value,"_blank"),a}function _(){return w.value=O.value,!0}function B(){!_(),window.open(y.value+"&download=true"),setTimeout(()=>{w.value=O.value},200)}return(a,l)=>{const S=i("BaseMultiselect"),R=i("BaseInputGroup"),x=i("BaseDatePicker"),f=i("BaseButton"),Y=i("BaseIcon");return I(),N("div",se,[m("div",le,[t(R,{label:a.$t("reports.sales.date_range"),class:"col-span-12 md:col-span-8"},{default:c(()=>[t(S,{modelValue:o.value,"onUpdate:modelValue":[l[0]||(l[0]=h=>o.value=h),V],options:p($)},null,8,["modelValue","options"])]),_:1},8,["label"]),m("div",de,[t(R,{label:a.$t("reports.expenses.from_date")},{default:c(()=>[t(x,{modelValue:p(e).from_date,"onUpdate:modelValue":l[1]||(l[1]=h=>p(e).from_date=h)},null,8,["modelValue"])]),_:1},8,["label"]),ue,t(R,{label:a.$t("reports.expenses.to_date")},{default:c(()=>[t(x,{modelValue:p(e).to_date,"onUpdate:modelValue":l[2]||(l[2]=h=>p(e).to_date=h)},null,8,["modelValue"])]),_:1},8,["label"])]),t(f,{variant:"primary-outline",class:"content-center hidden mt-0 w-md md:flex md:mt-8",type:"submit",onClick:H(_,["prevent"])},{default:c(()=>[U(P(a.$t("reports.update_report")),1)]),_:1},8,["onClick"])]),m("div",ie,[m("iframe",{src:p(y),class:"hidden w-full h-screen h-screen-ios border-gray-100 border-solid rounded md:flex"},null,8,me),m("a",{class:"flex items-center justify-center h-10 px-5 py-1 text-sm font-medium leading-none text-center text-white rounded whitespace-nowrap md:hidden bg-primary-500 cursor-pointer",onClick:T},[t(Y,{name:"DocumentTextIcon",class:"h-5 mr-2"}),m("span",null,P(a.$t("reports.view_pdf")),1)])])])}}},pe={class:"grid gap-8 md:grid-cols-12 pt-10"},fe={class:"col-span-8 md:col-span-4"},_e={class:"flex flex-col mt-6 lg:space-x-3 lg:flex-row"},he=m("div",{class:"hidden w-5 h-0 mx-4 border border-gray-400 border-solid xl:block",style:{"margin-top":"2.5rem"}},null,-1),ge={class:"col-span-8"},ve=["src"],Ye={setup(G){const g=W(),v=z(),{t:u}=j();g.downloadReport=B;const $=C([u("dateRange.today"),u("dateRange.this_week"),u("dateRange.this_month"),u("dateRange.this_quarter"),u("dateRange.this_year"),u("dateRange.previous_week"),u("dateRange.previous_month"),u("dateRange.previous_quarter"),u("dateRange.previous_year"),u("dateRange.custom")]),o=b(u("dateRange.this_month"));let k=b(null),w=b(null),D=b(new Date);const e=C({from_date:r().startOf("month").toString(),to_date:r().endOf("month").toString()}),y=M(()=>k.value),s=M(()=>v.selectedCompany),O=M(()=>`${w.value}?from_date=${r(e.from_date).format("YYYY-MM-DD")}&to_date=${r(e.to_date).format("YYYY-MM-DD")}`);L(D,a=>{e.from_date=r(a).startOf("year").toString(),e.to_date=r(a).endOf("year").toString()}),F(()=>{w.value=`/reports/profit-loss/${s.value.unique_hash}`,k.value=O.value});function n(a,l){return r()[a](l).format("YYYY-MM-DD")}function d(a,l){return r().subtract(1,l)[a](l).format("YYYY-MM-DD")}function V(){switch(o.value){case"Today":e.from_date=r().format("YYYY-MM-DD"),e.to_date=r().format("YYYY-MM-DD");break;case"This Week":e.from_date=n("startOf","isoWeek"),e.to_date=n("endOf","isoWeek");break;case"This Month":e.from_date=n("startOf","month"),e.to_date=n("endOf","month");break;case"This Quarter":e.from_date=n("startOf","quarter"),e.to_date=n("endOf","quarter");break;case"This Year":e.from_date=n("startOf","year"),e.to_date=n("endOf","year");break;case"Previous Week":e.from_date=d("startOf","isoWeek"),e.to_date=d("endOf","isoWeek");break;case"Previous Month":e.from_date=d("startOf","month"),e.to_date=d("endOf","month");break;case"Previous Quarter":e.from_date=d("startOf","quarter"),e.to_date=d("endOf","quarter");break;case"Previous Year":e.from_date=d("startOf","year"),e.to_date=d("endOf","year");break}}async function T(){let a=await _();return window.open(y.value,"_blank"),a}function _(){return k.value=O.value,!0}function B(){!_(),window.open(y.value+"&download=true"),setTimeout(()=>{k.value=O.value},200)}return(a,l)=>{const S=i("BaseMultiselect"),R=i("BaseInputGroup"),x=i("BaseDatePicker"),f=i("BaseButton"),Y=i("BaseIcon");return I(),N("div",pe,[m("div",fe,[t(R,{label:a.$t("reports.profit_loss.date_range"),class:"col-span-12 md:col-span-8"},{default:c(()=>[t(S,{modelValue:o.value,"onUpdate:modelValue":[l[0]||(l[0]=h=>o.value=h),V],options:p($)},null,8,["modelValue","options"])]),_:1},8,["label"]),m("div",_e,[t(R,{label:a.$t("reports.profit_loss.from_date")},{default:c(()=>[t(x,{modelValue:p(e).from_date,"onUpdate:modelValue":l[1]||(l[1]=h=>p(e).from_date=h)},null,8,["modelValue"])]),_:1},8,["label"]),he,t(R,{label:a.$t("reports.profit_loss.to_date")},{default:c(()=>[t(x,{modelValue:p(e).to_date,"onUpdate:modelValue":l[2]||(l[2]=h=>p(e).to_date=h)},null,8,["modelValue"])]),_:1},8,["label"])]),t(f,{variant:"primary-outline",class:"content-center hidden mt-0 w-md md:flex md:mt-8",type:"submit",onClick:H(_,["prevent"])},{default:c(()=>[U(P(a.$t("reports.update_report")),1)]),_:1},8,["onClick"])]),m("div",ge,[m("iframe",{src:p(y),class:"hidden w-full h-screen h-screen-ios border-gray-100 border-solid rounded md:flex"},null,8,ve),m("a",{class:"flex items-center justify-center h-10 px-5 py-1 text-sm font-medium leading-none text-center text-white rounded whitespace-nowrap md:hidden bg-primary-500",onClick:T},[t(Y,{name:"DocumentTextIcon",class:"h-5 mr-2"}),m("span",null,P(a.$t("reports.view_pdf")),1)])])])}}},be={class:"grid gap-8 md:grid-cols-12 pt-10"},ye={class:"col-span-8 md:col-span-4"},ke={class:"flex flex-col mt-6 lg:space-x-3 lg:flex-row"},De=m("div",{class:"hidden w-5 h-0 mx-4 border border-gray-400 border-solid xl:block",style:{"margin-top":"2.5rem"}},null,-1),we={class:"col-span-8"},Re=["src"],Be={setup(G){const g=W();g.downloadReport=B;const{t:v}=j(),u=C([v("dateRange.today"),v("dateRange.this_week"),v("dateRange.this_month"),v("dateRange.this_quarter"),v("dateRange.this_year"),v("dateRange.previous_week"),v("dateRange.previous_month"),v("dateRange.previous_quarter"),v("dateRange.previous_year"),v("dateRange.custom")]),$=b(v("dateRange.this_month")),o=C({from_date:r().startOf("month").format("YYYY-MM-DD").toString(),to_date:r().endOf("month").format("YYYY-MM-DD").toString()});let k=b(null);const w=M(()=>k.value),D=z(),e=M(()=>D.selectedCompany);let y=b(null);F(()=>{y.value=`/reports/tax-summary/${e.value.unique_hash}`,k.value=s.value});const s=M(()=>`${y.value}?from_date=${r(o.from_date).format("YYYY-MM-DD")}&to_date=${r(o.to_date).format("YYYY-MM-DD")}`);let O=b(new Date);L(O.value,a=>{o.from_date=r(a).startOf("year").toString(),o.to_date=r(a).endOf("year").toString()});function n(a,l){return r()[a](l).format("YYYY-MM-DD")}function d(a,l){return r().subtract(1,l)[a](l).format("YYYY-MM-DD")}function V(){switch($.value){case"Today":o.from_date=r().format("YYYY-MM-DD"),o.to_date=r().format("YYYY-MM-DD");break;case"This Week":o.from_date=n("startOf","isoWeek"),o.to_date=n("endOf","isoWeek");break;case"This Month":o.from_date=n("startOf","month"),o.to_date=n("endOf","month");break;case"This Quarter":o.from_date=n("startOf","quarter"),o.to_date=n("endOf","quarter");break;case"This Year":o.from_date=n("startOf","year"),o.to_date=n("endOf","year");break;case"Previous Week":o.from_date=d("startOf","isoWeek"),o.to_date=d("endOf","isoWeek");break;case"Previous Month":o.from_date=d("startOf","month"),o.to_date=d("endOf","month");break;case"Previous Quarter":o.from_date=d("startOf","quarter"),o.to_date=d("endOf","quarter");break;case"Previous Year":o.from_date=d("startOf","year"),o.to_date=d("endOf","year");break}}async function T(){let a=await _();return window.open(w.value,"_blank"),a}function _(){return k.value=s.value,!0}function B(){!_(),window.open(w.value+"&download=true"),setTimeout(()=>{k.value=s.value},200)}return(a,l)=>{const S=i("BaseMultiselect"),R=i("BaseInputGroup"),x=i("BaseDatePicker"),f=i("BaseButton"),Y=i("BaseIcon");return I(),N("div",be,[m("div",ye,[t(R,{label:a.$t("reports.taxes.date_range"),class:"col-span-12 md:col-span-8"},{default:c(()=>[t(S,{modelValue:$.value,"onUpdate:modelValue":[l[0]||(l[0]=h=>$.value=h),V],options:p(u)},null,8,["modelValue","options"])]),_:1},8,["label"]),m("div",ke,[t(R,{label:a.$t("reports.taxes.from_date")},{default:c(()=>[t(x,{modelValue:p(o).from_date,"onUpdate:modelValue":l[1]||(l[1]=h=>p(o).from_date=h)},null,8,["modelValue"])]),_:1},8,["label"]),De,t(R,{label:a.$t("reports.taxes.to_date")},{default:c(()=>[t(x,{modelValue:p(o).to_date,"onUpdate:modelValue":l[2]||(l[2]=h=>p(o).to_date=h)},null,8,["modelValue"])]),_:1},8,["label"])]),t(f,{variant:"primary-outline",class:"content-center hidden mt-0 w-md md:flex md:mt-8",type:"submit",onClick:H(_,["prevent"])},{default:c(()=>[U(P(a.$t("reports.update_report")),1)]),_:1},8,["onClick"])]),m("div",we,[m("iframe",{src:p(w),class:"hidden w-full h-screen h-screen-ios border-gray-100 border-solid rounded md:flex"},null,8,Re),m("a",{class:"flex items-center justify-center h-10 px-5 py-1 text-sm font-medium leading-none text-center text-white rounded whitespace-nowrap md:hidden bg-primary-500",onClick:T},[t(Y,{name:"DocumentTextIcon",class:"h-5 mr-2"}),m("span",null,P(a.$t("reports.view_pdf")),1)])])])}}},$e={setup(G){const g=W();function v(){g.downloadReport()}return(u,$)=>{const o=i("BaseBreadcrumbItem"),k=i("BaseBreadcrumb"),w=i("BaseIcon"),D=i("BaseButton"),e=i("BasePageHeader"),y=i("BaseTab"),s=i("BaseTabGroup"),O=i("BasePage");return I(),K(O,null,{default:c(()=>[t(e,{title:u.$tc("reports.report",2)},{actions:c(()=>[t(D,{variant:"primary",class:"ml-4",onClick:v},{left:c(n=>[t(w,{name:"DownloadIcon",class:X(n.class)},null,8,["class"])]),default:c(()=>[U(" "+P(u.$t("reports.download_pdf")),1)]),_:1})]),default:c(()=>[t(k,null,{default:c(()=>[t(o,{title:u.$t("general.home"),to:"/admin/dashboard"},null,8,["title"]),t(o,{title:u.$tc("reports.report",2),to:"/admin/reports",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),t(s,{class:"p-2"},{default:c(()=>[t(y,{title:u.$t("reports.sales.sales"),"tab-panel-container":"px-0 py-0"},{default:c(()=>[t(ne,{ref:(n,d)=>{d.report=n}},null,512)]),_:1},8,["title"]),t(y,{title:u.$t("reports.profit_loss.profit_loss"),"tab-panel-container":"px-0 py-0"},{default:c(()=>[t(Ye,{ref:(n,d)=>{d.report=n}},null,512)]),_:1},8,["title"]),t(y,{title:u.$t("reports.expenses.expenses"),"tab-panel-container":"px-0 py-0"},{default:c(()=>[t(ce,{ref:(n,d)=>{d.report=n}},null,512)]),_:1},8,["title"]),t(y,{title:u.$t("reports.taxes.taxes"),"tab-panel-container":"px-0 py-0"},{default:c(()=>[t(Be,{ref:(n,d)=>{d.report=n}},null,512)]),_:1},8,["title"])]),_:1})]),_:1})}}};export{$e as default};
+import{J as j,a0 as C,B as b,I as r,k as M,C as L,D as F,r as i,o as I,e as N,h as m,f as t,w as c,u as p,i as U,t as P,U as H,l as K,m as X}from"./vendor.01d0adc5.js";import{d as W,b as z}from"./main.75722495.js";const Z={class:"grid gap-8 md:grid-cols-12 pt-10"},ee={class:"col-span-8 md:col-span-4"},te={class:"flex flex-col my-6 lg:space-x-3 lg:flex-row"},ae=m("div",{class:"hidden w-5 h-0 mx-4 border border-gray-400 border-solid xl:block",style:{"margin-top":"2.5rem"}},null,-1),oe={class:"col-span-8"},re=["src"],ne={setup(G){const{t:g}=j(),v=W();v.downloadReport=x;const u=C([g("dateRange.today"),g("dateRange.this_week"),g("dateRange.this_month"),g("dateRange.this_quarter"),g("dateRange.this_year"),g("dateRange.previous_week"),g("dateRange.previous_month"),g("dateRange.previous_quarter"),g("dateRange.previous_year"),g("dateRange.custom")]),$=b(["By Customer","By Item"]),o=b("By Customer"),k=b(g("dateRange.this_month"));let w=b(new Date),D=b(null),e=b(null),y=b(null),s=C({from_date:r().startOf("month").format("YYYY-MM-DD").toString(),to_date:r().endOf("month").format("YYYY-MM-DD").toString()});const O=z(),n=M(()=>D.value),d=M(()=>O.selectedCompany),V=M(()=>`${e.value}?from_date=${r(s.from_date).format("YYYY-MM-DD")}&to_date=${r(s.to_date).format("YYYY-MM-DD")}`),T=M(()=>`${y.value}?from_date=${r(s.from_date).format("YYYY-MM-DD")}&to_date=${r(s.to_date).format("YYYY-MM-DD")}`);L(w,f=>{s.from_date=r(f).startOf("year").toString(),s.to_date=r(f).endOf("year").toString()}),F(()=>{e.value=`/reports/sales/customers/${d.value.unique_hash}`,y.value=`/reports/sales/items/${d.value.unique_hash}`,l()});function _(f,Y){return r()[f](Y).format("YYYY-MM-DD")}function B(f,Y){return r().subtract(1,Y)[f](Y).format("YYYY-MM-DD")}function a(){switch(k.value){case"Today":s.from_date=r().format("YYYY-MM-DD"),s.to_date=r().format("YYYY-MM-DD");break;case"This Week":s.from_date=_("startOf","isoWeek"),s.to_date=_("endOf","isoWeek");break;case"This Month":s.from_date=_("startOf","month"),s.to_date=_("endOf","month");break;case"This Quarter":s.from_date=_("startOf","quarter"),s.to_date=_("endOf","quarter");break;case"This Year":s.from_date=_("startOf","year"),s.to_date=_("endOf","year");break;case"Previous Week":s.from_date=B("startOf","isoWeek"),s.to_date=B("endOf","isoWeek");break;case"Previous Month":s.from_date=B("startOf","month"),s.to_date=B("endOf","month");break;case"Previous Quarter":s.from_date=B("startOf","quarter"),s.to_date=B("endOf","quarter");break;case"Previous Year":s.from_date=B("startOf","year"),s.to_date=B("endOf","year");break}}async function l(){return o.value==="By Customer"?(D.value=V.value,!0):(D.value=T.value,!0)}async function S(){let f=await R();return window.open(n.value,"_blank"),f}function R(){return o.value==="By Customer"?(D.value=V.value,!0):(D.value=T.value,!0)}function x(){if(!R())return!1;window.open(n.value+"&download=true"),setTimeout(()=>o.value==="By Customer"?(D.value=V.value,!0):(D.value=T.value,!0),200)}return(f,Y)=>{const h=i("BaseMultiselect"),Q=i("BaseInputGroup"),E=i("BaseDatePicker"),J=i("BaseButton"),A=i("BaseIcon");return I(),N("div",Z,[m("div",ee,[t(Q,{label:f.$t("reports.sales.date_range"),class:"col-span-12 md:col-span-8"},{default:c(()=>[t(h,{modelValue:k.value,"onUpdate:modelValue":[Y[0]||(Y[0]=q=>k.value=q),a],options:p(u)},null,8,["modelValue","options"])]),_:1},8,["label"]),m("div",te,[t(Q,{label:f.$t("reports.sales.from_date")},{default:c(()=>[t(E,{modelValue:p(s).from_date,"onUpdate:modelValue":Y[1]||(Y[1]=q=>p(s).from_date=q)},null,8,["modelValue"])]),_:1},8,["label"]),ae,t(Q,{label:f.$t("reports.sales.to_date")},{default:c(()=>[t(E,{modelValue:p(s).to_date,"onUpdate:modelValue":Y[2]||(Y[2]=q=>p(s).to_date=q)},null,8,["modelValue"])]),_:1},8,["label"])]),t(Q,{label:f.$t("reports.sales.report_type"),class:"col-span-12 md:col-span-8"},{default:c(()=>[t(h,{modelValue:o.value,"onUpdate:modelValue":[Y[3]||(Y[3]=q=>o.value=q),l],options:$.value,placeholder:f.$t("reports.sales.report_type"),class:"mt-1"},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"]),t(J,{variant:"primary-outline",class:"content-center hidden mt-0 w-md md:flex md:mt-8",type:"submit",onClick:H(R,["prevent"])},{default:c(()=>[U(P(f.$t("reports.update_report")),1)]),_:1},8,["onClick"])]),m("div",oe,[m("iframe",{src:p(n),class:"hidden w-full h-screen h-screen-ios border-gray-100 border-solid rounded md:flex"},null,8,re),m("a",{class:"flex items-center justify-center h-10 px-5 py-1 text-sm font-medium leading-none text-center text-white rounded whitespace-nowrap md:hidden bg-primary-500",onClick:S},[t(A,{name:"DocumentTextIcon",class:"h-5 mr-2"}),m("span",null,P(f.$t("reports.view_pdf")),1)])])])}}},se={class:"grid gap-8 md:grid-cols-12 pt-10"},le={class:"col-span-8 md:col-span-4"},de={class:"flex flex-col mt-6 lg:space-x-3 lg:flex-row"},ue=m("div",{class:"hidden w-5 h-0 mx-4 border border-gray-400 border-solid xl:block",style:{"margin-top":"2.5rem"}},null,-1),ie={class:"col-span-8"},me=["src"],ce={setup(G){const g=W(),v=z(),{t:u}=j();g.downloadReport=B;const $=C([u("dateRange.today"),u("dateRange.this_week"),u("dateRange.this_month"),u("dateRange.this_quarter"),u("dateRange.this_year"),u("dateRange.previous_week"),u("dateRange.previous_month"),u("dateRange.previous_quarter"),u("dateRange.previous_year"),u("dateRange.custom")]),o=b(u("dateRange.this_month"));let k=b(new Date),w=b(null),D=b(null);const e=C({from_date:r().startOf("month").toString(),to_date:r().endOf("month").toString()}),y=M(()=>w.value),s=M(()=>v.selectedCompany),O=M(()=>`${D.value}?from_date=${r(e.from_date).format("YYYY-MM-DD")}&to_date=${r(e.to_date).format("YYYY-MM-DD")}`);F(()=>{D.value=`/reports/expenses/${s.value.unique_hash}`,w.value=O.value}),L(()=>k,a=>{e.from_date=r(a).startOf("year").toString(),e.to_date=r(a).endOf("year").toString()});function n(a,l){return r()[a](l).format("YYYY-MM-DD")}function d(a,l){return r().subtract(1,l)[a](l).format("YYYY-MM-DD")}function V(){switch(o.value){case"Today":e.from_date=r().format("YYYY-MM-DD"),e.to_date=r().format("YYYY-MM-DD");break;case"This Week":e.from_date=n("startOf","isoWeek"),e.to_date=n("endOf","isoWeek");break;case"This Month":e.from_date=n("startOf","month"),e.to_date=n("endOf","month");break;case"This Quarter":e.from_date=n("startOf","quarter"),e.to_date=n("endOf","quarter");break;case"This Year":e.from_date=n("startOf","year"),e.to_date=n("endOf","year");break;case"Previous Week":e.from_date=d("startOf","isoWeek"),e.to_date=d("endOf","isoWeek");break;case"Previous Month":e.from_date=d("startOf","month"),e.to_date=d("endOf","month");break;case"Previous Quarter":e.from_date=d("startOf","quarter"),e.to_date=d("endOf","quarter");break;case"Previous Year":e.from_date=d("startOf","year"),e.to_date=d("endOf","year");break}}async function T(){let a=await _();return window.open(y.value,"_blank"),a}function _(){return w.value=O.value,!0}function B(){!_(),window.open(y.value+"&download=true"),setTimeout(()=>{w.value=O.value},200)}return(a,l)=>{const S=i("BaseMultiselect"),R=i("BaseInputGroup"),x=i("BaseDatePicker"),f=i("BaseButton"),Y=i("BaseIcon");return I(),N("div",se,[m("div",le,[t(R,{label:a.$t("reports.sales.date_range"),class:"col-span-12 md:col-span-8"},{default:c(()=>[t(S,{modelValue:o.value,"onUpdate:modelValue":[l[0]||(l[0]=h=>o.value=h),V],options:p($)},null,8,["modelValue","options"])]),_:1},8,["label"]),m("div",de,[t(R,{label:a.$t("reports.expenses.from_date")},{default:c(()=>[t(x,{modelValue:p(e).from_date,"onUpdate:modelValue":l[1]||(l[1]=h=>p(e).from_date=h)},null,8,["modelValue"])]),_:1},8,["label"]),ue,t(R,{label:a.$t("reports.expenses.to_date")},{default:c(()=>[t(x,{modelValue:p(e).to_date,"onUpdate:modelValue":l[2]||(l[2]=h=>p(e).to_date=h)},null,8,["modelValue"])]),_:1},8,["label"])]),t(f,{variant:"primary-outline",class:"content-center hidden mt-0 w-md md:flex md:mt-8",type:"submit",onClick:H(_,["prevent"])},{default:c(()=>[U(P(a.$t("reports.update_report")),1)]),_:1},8,["onClick"])]),m("div",ie,[m("iframe",{src:p(y),class:"hidden w-full h-screen h-screen-ios border-gray-100 border-solid rounded md:flex"},null,8,me),m("a",{class:"flex items-center justify-center h-10 px-5 py-1 text-sm font-medium leading-none text-center text-white rounded whitespace-nowrap md:hidden bg-primary-500 cursor-pointer",onClick:T},[t(Y,{name:"DocumentTextIcon",class:"h-5 mr-2"}),m("span",null,P(a.$t("reports.view_pdf")),1)])])])}}},pe={class:"grid gap-8 md:grid-cols-12 pt-10"},fe={class:"col-span-8 md:col-span-4"},_e={class:"flex flex-col mt-6 lg:space-x-3 lg:flex-row"},he=m("div",{class:"hidden w-5 h-0 mx-4 border border-gray-400 border-solid xl:block",style:{"margin-top":"2.5rem"}},null,-1),ge={class:"col-span-8"},ve=["src"],Ye={setup(G){const g=W(),v=z(),{t:u}=j();g.downloadReport=B;const $=C([u("dateRange.today"),u("dateRange.this_week"),u("dateRange.this_month"),u("dateRange.this_quarter"),u("dateRange.this_year"),u("dateRange.previous_week"),u("dateRange.previous_month"),u("dateRange.previous_quarter"),u("dateRange.previous_year"),u("dateRange.custom")]),o=b(u("dateRange.this_month"));let k=b(null),w=b(null),D=b(new Date);const e=C({from_date:r().startOf("month").toString(),to_date:r().endOf("month").toString()}),y=M(()=>k.value),s=M(()=>v.selectedCompany),O=M(()=>`${w.value}?from_date=${r(e.from_date).format("YYYY-MM-DD")}&to_date=${r(e.to_date).format("YYYY-MM-DD")}`);L(D,a=>{e.from_date=r(a).startOf("year").toString(),e.to_date=r(a).endOf("year").toString()}),F(()=>{w.value=`/reports/profit-loss/${s.value.unique_hash}`,k.value=O.value});function n(a,l){return r()[a](l).format("YYYY-MM-DD")}function d(a,l){return r().subtract(1,l)[a](l).format("YYYY-MM-DD")}function V(){switch(o.value){case"Today":e.from_date=r().format("YYYY-MM-DD"),e.to_date=r().format("YYYY-MM-DD");break;case"This Week":e.from_date=n("startOf","isoWeek"),e.to_date=n("endOf","isoWeek");break;case"This Month":e.from_date=n("startOf","month"),e.to_date=n("endOf","month");break;case"This Quarter":e.from_date=n("startOf","quarter"),e.to_date=n("endOf","quarter");break;case"This Year":e.from_date=n("startOf","year"),e.to_date=n("endOf","year");break;case"Previous Week":e.from_date=d("startOf","isoWeek"),e.to_date=d("endOf","isoWeek");break;case"Previous Month":e.from_date=d("startOf","month"),e.to_date=d("endOf","month");break;case"Previous Quarter":e.from_date=d("startOf","quarter"),e.to_date=d("endOf","quarter");break;case"Previous Year":e.from_date=d("startOf","year"),e.to_date=d("endOf","year");break}}async function T(){let a=await _();return window.open(y.value,"_blank"),a}function _(){return k.value=O.value,!0}function B(){!_(),window.open(y.value+"&download=true"),setTimeout(()=>{k.value=O.value},200)}return(a,l)=>{const S=i("BaseMultiselect"),R=i("BaseInputGroup"),x=i("BaseDatePicker"),f=i("BaseButton"),Y=i("BaseIcon");return I(),N("div",pe,[m("div",fe,[t(R,{label:a.$t("reports.profit_loss.date_range"),class:"col-span-12 md:col-span-8"},{default:c(()=>[t(S,{modelValue:o.value,"onUpdate:modelValue":[l[0]||(l[0]=h=>o.value=h),V],options:p($)},null,8,["modelValue","options"])]),_:1},8,["label"]),m("div",_e,[t(R,{label:a.$t("reports.profit_loss.from_date")},{default:c(()=>[t(x,{modelValue:p(e).from_date,"onUpdate:modelValue":l[1]||(l[1]=h=>p(e).from_date=h)},null,8,["modelValue"])]),_:1},8,["label"]),he,t(R,{label:a.$t("reports.profit_loss.to_date")},{default:c(()=>[t(x,{modelValue:p(e).to_date,"onUpdate:modelValue":l[2]||(l[2]=h=>p(e).to_date=h)},null,8,["modelValue"])]),_:1},8,["label"])]),t(f,{variant:"primary-outline",class:"content-center hidden mt-0 w-md md:flex md:mt-8",type:"submit",onClick:H(_,["prevent"])},{default:c(()=>[U(P(a.$t("reports.update_report")),1)]),_:1},8,["onClick"])]),m("div",ge,[m("iframe",{src:p(y),class:"hidden w-full h-screen h-screen-ios border-gray-100 border-solid rounded md:flex"},null,8,ve),m("a",{class:"flex items-center justify-center h-10 px-5 py-1 text-sm font-medium leading-none text-center text-white rounded whitespace-nowrap md:hidden bg-primary-500",onClick:T},[t(Y,{name:"DocumentTextIcon",class:"h-5 mr-2"}),m("span",null,P(a.$t("reports.view_pdf")),1)])])])}}},be={class:"grid gap-8 md:grid-cols-12 pt-10"},ye={class:"col-span-8 md:col-span-4"},ke={class:"flex flex-col mt-6 lg:space-x-3 lg:flex-row"},De=m("div",{class:"hidden w-5 h-0 mx-4 border border-gray-400 border-solid xl:block",style:{"margin-top":"2.5rem"}},null,-1),we={class:"col-span-8"},Re=["src"],Be={setup(G){const g=W();g.downloadReport=B;const{t:v}=j(),u=C([v("dateRange.today"),v("dateRange.this_week"),v("dateRange.this_month"),v("dateRange.this_quarter"),v("dateRange.this_year"),v("dateRange.previous_week"),v("dateRange.previous_month"),v("dateRange.previous_quarter"),v("dateRange.previous_year"),v("dateRange.custom")]),$=b(v("dateRange.this_month")),o=C({from_date:r().startOf("month").format("YYYY-MM-DD").toString(),to_date:r().endOf("month").format("YYYY-MM-DD").toString()});let k=b(null);const w=M(()=>k.value),D=z(),e=M(()=>D.selectedCompany);let y=b(null);F(()=>{y.value=`/reports/tax-summary/${e.value.unique_hash}`,k.value=s.value});const s=M(()=>`${y.value}?from_date=${r(o.from_date).format("YYYY-MM-DD")}&to_date=${r(o.to_date).format("YYYY-MM-DD")}`);let O=b(new Date);L(O.value,a=>{o.from_date=r(a).startOf("year").toString(),o.to_date=r(a).endOf("year").toString()});function n(a,l){return r()[a](l).format("YYYY-MM-DD")}function d(a,l){return r().subtract(1,l)[a](l).format("YYYY-MM-DD")}function V(){switch($.value){case"Today":o.from_date=r().format("YYYY-MM-DD"),o.to_date=r().format("YYYY-MM-DD");break;case"This Week":o.from_date=n("startOf","isoWeek"),o.to_date=n("endOf","isoWeek");break;case"This Month":o.from_date=n("startOf","month"),o.to_date=n("endOf","month");break;case"This Quarter":o.from_date=n("startOf","quarter"),o.to_date=n("endOf","quarter");break;case"This Year":o.from_date=n("startOf","year"),o.to_date=n("endOf","year");break;case"Previous Week":o.from_date=d("startOf","isoWeek"),o.to_date=d("endOf","isoWeek");break;case"Previous Month":o.from_date=d("startOf","month"),o.to_date=d("endOf","month");break;case"Previous Quarter":o.from_date=d("startOf","quarter"),o.to_date=d("endOf","quarter");break;case"Previous Year":o.from_date=d("startOf","year"),o.to_date=d("endOf","year");break}}async function T(){let a=await _();return window.open(w.value,"_blank"),a}function _(){return k.value=s.value,!0}function B(){!_(),window.open(w.value+"&download=true"),setTimeout(()=>{k.value=s.value},200)}return(a,l)=>{const S=i("BaseMultiselect"),R=i("BaseInputGroup"),x=i("BaseDatePicker"),f=i("BaseButton"),Y=i("BaseIcon");return I(),N("div",be,[m("div",ye,[t(R,{label:a.$t("reports.taxes.date_range"),class:"col-span-12 md:col-span-8"},{default:c(()=>[t(S,{modelValue:$.value,"onUpdate:modelValue":[l[0]||(l[0]=h=>$.value=h),V],options:p(u)},null,8,["modelValue","options"])]),_:1},8,["label"]),m("div",ke,[t(R,{label:a.$t("reports.taxes.from_date")},{default:c(()=>[t(x,{modelValue:p(o).from_date,"onUpdate:modelValue":l[1]||(l[1]=h=>p(o).from_date=h)},null,8,["modelValue"])]),_:1},8,["label"]),De,t(R,{label:a.$t("reports.taxes.to_date")},{default:c(()=>[t(x,{modelValue:p(o).to_date,"onUpdate:modelValue":l[2]||(l[2]=h=>p(o).to_date=h)},null,8,["modelValue"])]),_:1},8,["label"])]),t(f,{variant:"primary-outline",class:"content-center hidden mt-0 w-md md:flex md:mt-8",type:"submit",onClick:H(_,["prevent"])},{default:c(()=>[U(P(a.$t("reports.update_report")),1)]),_:1},8,["onClick"])]),m("div",we,[m("iframe",{src:p(w),class:"hidden w-full h-screen h-screen-ios border-gray-100 border-solid rounded md:flex"},null,8,Re),m("a",{class:"flex items-center justify-center h-10 px-5 py-1 text-sm font-medium leading-none text-center text-white rounded whitespace-nowrap md:hidden bg-primary-500",onClick:T},[t(Y,{name:"DocumentTextIcon",class:"h-5 mr-2"}),m("span",null,P(a.$t("reports.view_pdf")),1)])])])}}},$e={setup(G){const g=W();function v(){g.downloadReport()}return(u,$)=>{const o=i("BaseBreadcrumbItem"),k=i("BaseBreadcrumb"),w=i("BaseIcon"),D=i("BaseButton"),e=i("BasePageHeader"),y=i("BaseTab"),s=i("BaseTabGroup"),O=i("BasePage");return I(),K(O,null,{default:c(()=>[t(e,{title:u.$tc("reports.report",2)},{actions:c(()=>[t(D,{variant:"primary",class:"ml-4",onClick:v},{left:c(n=>[t(w,{name:"DownloadIcon",class:X(n.class)},null,8,["class"])]),default:c(()=>[U(" "+P(u.$t("reports.download_pdf")),1)]),_:1})]),default:c(()=>[t(k,null,{default:c(()=>[t(o,{title:u.$t("general.home"),to:"/admin/dashboard"},null,8,["title"]),t(o,{title:u.$tc("reports.report",2),to:"/admin/reports",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),t(s,{class:"p-2"},{default:c(()=>[t(y,{title:u.$t("reports.sales.sales"),"tab-panel-container":"px-0 py-0"},{default:c(()=>[t(ne,{ref:(n,d)=>{d.report=n}},null,512)]),_:1},8,["title"]),t(y,{title:u.$t("reports.profit_loss.profit_loss"),"tab-panel-container":"px-0 py-0"},{default:c(()=>[t(Ye,{ref:(n,d)=>{d.report=n}},null,512)]),_:1},8,["title"]),t(y,{title:u.$t("reports.expenses.expenses"),"tab-panel-container":"px-0 py-0"},{default:c(()=>[t(ce,{ref:(n,d)=>{d.report=n}},null,512)]),_:1},8,["title"]),t(y,{title:u.$t("reports.taxes.taxes"),"tab-panel-container":"px-0 py-0"},{default:c(()=>[t(Be,{ref:(n,d)=>{d.report=n}},null,512)]),_:1},8,["title"])]),_:1})]),_:1})}}};export{$e as default};

--- public/build/assets/Index.c0a868bd.js ---
@@ -1 +1 @@
-import{B as h,J as ce,aN as _e,a0 as pe,k as R,aR as fe,aS as be,r as n,o as b,l as E,w as s,f as a,q as C,ag as I,u as l,m as y,i as _,t as p,j as P,h as g,V as Ee,x as ge}from"./vendor.01d0adc5.js";import{k as Be,j as ve,e as he,g as f}from"./main.832b14c7.js";import{_ as ye}from"./ObservatoryIcon.1877bd3e.js";import{_ as Te}from"./EstimateIndexDropdown.5b4a2113.js";import{_ as ke}from"./SendEstimateModal.63b9a1be.js";import"./mail-driver.1b5e2a8f.js";const Ce=g("div",{class:"hidden w-8 h-0 mx-4 border border-gray-400 border-solid xl:block",style:{"margin-top":"1.5rem"}},null,-1),Ie={class:"relative table-container"},Ae={class:"relative flex items-center justify-between h-10 mt-5 list-none border-b-2 border-gray-200 border-solid"},Se={class:"flex text-sm font-medium cursor-pointer select-none text-primary-400"},De={class:"absolute items-center left-6 top-2.5 select-none"},Ve={class:"relative block"},Ne={setup($e){const u=Be(),W=ve(),T=he(),k=h(null),{t:i}=ce(),B=h(!1),G=h(["DRAFT","SENT","VIEWED","EXPIRED","ACCEPTED","REJECTED"]),A=h(!0),d=h("general.draft");_e();let o=pe({customer_id:"",status:"DRAFT",from_date:"",to_date:"",estimate_number:""});const M=R(()=>!u.totalEstimateCount&&!A.value),S=R({get:()=>u.selectedEstimates,set:t=>{u.selectEstimate(t)}}),O=R(()=>[{key:"checkbox",thClass:"extra w-10 pr-0",sortable:!1,tdClass:"font-medium text-gray-900 pr-0"},{key:"estimate_date",label:i("estimates.date"),thClass:"extra",tdClass:"font-medium text-gray-500"},{key:"estimate_number",label:i("estimates.number",2)},{key:"name",label:i("estimates.customer")},{key:"status",label:i("estimates.status")},{key:"total",label:i("estimates.total"),tdClass:"font-medium text-gray-900"},{key:"actions",tdClass:"text-right text-sm font-medium pl-0",thClass:"text-right pl-0",sortable:!1}]);fe(o,()=>{q()},{debounce:500}),be(()=>{u.selectAllField&&u.selectAllEstimates()});function H(){return T.hasAbilities([f.CREATE_ESTIMATE,f.EDIT_ESTIMATE,f.VIEW_ESTIMATE,f.SEND_ESTIMATE])}async function J(t,r){o.status="",D()}function D(){k.value&&k.value.refresh()}async function L({page:t,filter:r,sort:c}){let V={customer_id:o.customer_id,status:o.status,from_date:o.from_date,to_date:o.to_date,estimate_number:o.estimate_number,orderByField:c.fieldName||"created_at",orderBy:c.order||"desc",page:t};A.value=!0;let m=await u.fetchEstimates(V);return A.value=!1,{data:m.data.data,pagination:{totalPages:m.data.meta.last_page,currentPage:t,totalCount:m.data.meta.total,limit:10}}}function X(t){if(d.value==t.title)return!0;switch(d.value=t.title,t.title){case i("general.draft"):o.status="DRAFT";break;case i("general.sent"):o.status="SENT";break;default:o.status="";break}}function q(){u.$patch(t=>{t.selectedEstimates=[],t.selectAllField=!1}),D()}function x(){o.customer_id="",o.status="",o.from_date="",o.to_date="",o.estimate_number="",d.value=i("general.all")}function z(){B.value&&x(),B.value=!B.value}async function K(){W.openDialog({title:i("general.are_you_sure"),message:i("estimates.confirm_delete"),yesLabel:i("general.ok"),noLabel:i("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(t=>{t&&u.deleteMultipleEstimates().then(r=>{D(),r.data&&u.$patch(c=>{c.selectedEstimates=[],c.selectAllField=!1})})})}function Q(t){switch(t){case"DRAFT":d.value=i("general.draft");break;case"SENT":d.value=i("general.sent");break;case"VIEWED":d.value=i("estimates.viewed");break;case"EXPIRED":d.value=i("estimates.expired");break;case"ACCEPTED":d.value=i("estimates.accepted");break;case"REJECTED":d.value=i("estimates.rejected");break;default:d.value=i("general.all");break}}return(t,r)=>{const c=n("BaseBreadcrumbItem"),V=n("BaseBreadcrumb"),m=n("BaseIcon"),$=n("BaseButton"),N=n("router-link"),Y=n("BasePageHeader"),Z=n("BaseCustomerSelectInput"),v=n("BaseInputGroup"),ee=n("BaseMultiselect"),j=n("BaseDatePicker"),te=n("BaseInput"),ae=n("BaseFilterWrapper"),se=n("BaseEmptyPlaceholder"),F=n("BaseTab"),le=n("BaseTabGroup"),oe=n("BaseDropdownItem"),ne=n("BaseDropdown"),U=n("BaseCheckbox"),re=n("BaseText"),ie=n("BaseEstimateStatusBadge"),ue=n("BaseFormatMoney"),me=n("BaseTable"),de=n("BasePage");return b(),E(de,null,{default:s(()=>[a(ke),a(Y,{title:t.$t("estimates.title")},{actions:s(()=>[C(a($,{variant:"primary-outline",onClick:z},{right:s(e=>[B.value?(b(),E(m,{key:1,name:"XIcon",class:y(e.class)},null,8,["class"])):(b(),E(m,{key:0,class:y(e.class),name:"FilterIcon"},null,8,["class"]))]),default:s(()=>[_(p(t.$t("general.filter"))+" ",1)]),_:1},512),[[I,l(u).totalEstimateCount]]),l(T).hasAbilities(l(f).CREATE_ESTIMATE)?(b(),E(N,{key:0,to:"estimates/create"},{default:s(()=>[a($,{variant:"primary",class:"ml-4"},{left:s(e=>[a(m,{name:"PlusIcon",class:y(e.class)},null,8,["class"])]),default:s(()=>[_(" "+p(t.$t("estimates.new_estimate")),1)]),_:1})]),_:1})):P("",!0)]),default:s(()=>[a(V,null,{default:s(()=>[a(c,{title:t.$t("general.home"),to:"dashboard"},null,8,["title"]),a(c,{title:t.$tc("estimates.estimate",2),to:"#",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),C(a(ae,{"row-on-xl":!0,onClear:x},{default:s(()=>[a(v,{label:t.$tc("customers.customer",1)},{default:s(()=>[a(Z,{modelValue:l(o).customer_id,"onUpdate:modelValue":r[0]||(r[0]=e=>l(o).customer_id=e),placeholder:t.$t("customers.type_or_click"),"value-prop":"id",label:"name"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(v,{label:t.$t("estimates.status")},{default:s(()=>[a(ee,{modelValue:l(o).status,"onUpdate:modelValue":[r[1]||(r[1]=e=>l(o).status=e),Q],options:G.value,searchable:"",placeholder:t.$t("general.select_a_status"),onRemove:r[2]||(r[2]=e=>J())},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"]),a(v,{label:t.$t("general.from")},{default:s(()=>[a(j,{modelValue:l(o).from_date,"onUpdate:modelValue":r[3]||(r[3]=e=>l(o).from_date=e),"calendar-button":!0,"calendar-button-icon":"calendar"},null,8,["modelValue"])]),_:1},8,["label"]),Ce,a(v,{label:t.$t("general.to")},{default:s(()=>[a(j,{modelValue:l(o).to_date,"onUpdate:modelValue":r[4]||(r[4]=e=>l(o).to_date=e),"calendar-button":!0,"calendar-button-icon":"calendar"},null,8,["modelValue"])]),_:1},8,["label"]),a(v,{label:t.$t("estimates.estimate_number")},{default:s(()=>[a(te,{modelValue:l(o).estimate_number,"onUpdate:modelValue":r[5]||(r[5]=e=>l(o).estimate_number=e)},{left:s(e=>[a(m,{name:"HashtagIcon",class:y(e.class)},null,8,["class"])]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1},512),[[I,B.value]]),C(a(se,{title:t.$t("estimates.no_estimates"),description:t.$t("estimates.list_of_estimates")},{actions:s(()=>[l(T).hasAbilities(l(f).CREATE_ESTIMATE)?(b(),E($,{key:0,variant:"primary-outline",onClick:r[6]||(r[6]=e=>t.$router.push("/admin/estimates/create"))},{left:s(e=>[a(m,{name:"PlusIcon",class:y(e.class)},null,8,["class"])]),default:s(()=>[_(" "+p(t.$t("estimates.add_new_estimate")),1)]),_:1})):P("",!0)]),default:s(()=>[a(ye,{class:"mt-5 mb-4"})]),_:1},8,["title","description"]),[[I,l(M)]]),C(g("div",Ie,[g("div",Ae,[a(le,{class:"-mb-5",onChange:X},{default:s(()=>[a(F,{title:t.$t("general.draft"),filter:"DRAFT"},null,8,["title"]),a(F,{title:t.$t("general.sent"),filter:"SENT"},null,8,["title"]),a(F,{title:t.$t("general.all"),filter:""},null,8,["title"])]),_:1}),l(u).selectedEstimates.length&&l(T).hasAbilities(l(f).DELETE_ESTIMATE)?(b(),E(ne,{key:0,class:"absolute float-right"},{activator:s(()=>[g("span",Se,[_(p(t.$t("general.actions"))+" ",1),a(m,{name:"ChevronDownIcon"})])]),default:s(()=>[a(oe,{onClick:K},{default:s(()=>[a(m,{name:"TrashIcon",class:"mr-3 text-gray-600"}),_(" "+p(t.$t("general.delete")),1)]),_:1})]),_:1})):P("",!0)]),a(me,{ref:(e,w)=>{w.tableComponent=e,k.value=e},data:L,columns:l(O),"placeholder-count":l(u).totalEstimateCount>=20?10:5,class:"mt-10"},Ee({header:s(()=>[g("div",De,[a(U,{modelValue:l(u).selectAllField,"onUpdate:modelValue":r[7]||(r[7]=e=>l(u).selectAllField=e),variant:"primary",onChange:l(u).selectAllEstimates},null,8,["modelValue","onChange"])])]),"cell-checkbox":s(({row:e})=>[g("div",Ve,[a(U,{id:e.id,modelValue:l(S),"onUpdate:modelValue":r[8]||(r[8]=w=>ge(S)?S.value=w:null),value:e.data.id},null,8,["id","modelValue","value"])])]),"cell-estimate_date":s(({row:e})=>[_(p(e.data.formatted_estimate_date),1)]),"cell-estimate_number":s(({row:e})=>[a(N,{to:{path:`estimates/${e.data.id}/view`},class:"font-medium text-primary-500"},{default:s(()=>[_(p(e.data.estimate_number),1)]),_:2},1032,["to"])]),"cell-name":s(({row:e})=>[a(re,{text:e.data.customer.name,length:30},null,8,["text"])]),"cell-status":s(({row:e})=>[a(ie,{status:e.data.status,class:"px-3 py-1"},{default:s(()=>[_(p(e.data.status),1)]),_:2},1032,["status"])]),"cell-total":s(({row:e})=>[a(ue,{amount:e.data.total,currency:e.data.customer.currency},null,8,["amount","currency"])]),_:2},[H()?{name:"cell-actions",fn:s(({row:e})=>[a(Te,{row:e.data,table:k.value},null,8,["row","table"])])}:void 0]),1032,["columns","placeholder-count"])],512),[[I,!l(M)]])]),_:1})}}};export{Ne as default};
+import{B as h,J as ce,aN as _e,a0 as pe,k as R,aR as fe,aS as be,r as n,o as b,l as E,w as s,f as a,q as C,ag as I,u as l,m as y,i as _,t as p,j as P,h as g,V as Ee,x as ge}from"./vendor.01d0adc5.js";import{k as Be,j as ve,e as he,g as f}from"./main.75722495.js";import{_ as ye}from"./ObservatoryIcon.1877bd3e.js";import{_ as Te}from"./EstimateIndexDropdown.4eab32d4.js";import{_ as ke}from"./SendEstimateModal.a8bc3854.js";import"./mail-driver.4ea1af6b.js";const Ce=g("div",{class:"hidden w-8 h-0 mx-4 border border-gray-400 border-solid xl:block",style:{"margin-top":"1.5rem"}},null,-1),Ie={class:"relative table-container"},Ae={class:"relative flex items-center justify-between h-10 mt-5 list-none border-b-2 border-gray-200 border-solid"},Se={class:"flex text-sm font-medium cursor-pointer select-none text-primary-400"},De={class:"absolute items-center left-6 top-2.5 select-none"},Ve={class:"relative block"},Ne={setup($e){const u=Be(),W=ve(),T=he(),k=h(null),{t:i}=ce(),B=h(!1),G=h(["DRAFT","SENT","VIEWED","EXPIRED","ACCEPTED","REJECTED"]),A=h(!0),d=h("general.draft");_e();let o=pe({customer_id:"",status:"DRAFT",from_date:"",to_date:"",estimate_number:""});const M=R(()=>!u.totalEstimateCount&&!A.value),S=R({get:()=>u.selectedEstimates,set:t=>{u.selectEstimate(t)}}),O=R(()=>[{key:"checkbox",thClass:"extra w-10 pr-0",sortable:!1,tdClass:"font-medium text-gray-900 pr-0"},{key:"estimate_date",label:i("estimates.date"),thClass:"extra",tdClass:"font-medium text-gray-500"},{key:"estimate_number",label:i("estimates.number",2)},{key:"name",label:i("estimates.customer")},{key:"status",label:i("estimates.status")},{key:"total",label:i("estimates.total"),tdClass:"font-medium text-gray-900"},{key:"actions",tdClass:"text-right text-sm font-medium pl-0",thClass:"text-right pl-0",sortable:!1}]);fe(o,()=>{q()},{debounce:500}),be(()=>{u.selectAllField&&u.selectAllEstimates()});function H(){return T.hasAbilities([f.CREATE_ESTIMATE,f.EDIT_ESTIMATE,f.VIEW_ESTIMATE,f.SEND_ESTIMATE])}async function J(t,r){o.status="",D()}function D(){k.value&&k.value.refresh()}async function L({page:t,filter:r,sort:c}){let V={customer_id:o.customer_id,status:o.status,from_date:o.from_date,to_date:o.to_date,estimate_number:o.estimate_number,orderByField:c.fieldName||"created_at",orderBy:c.order||"desc",page:t};A.value=!0;let m=await u.fetchEstimates(V);return A.value=!1,{data:m.data.data,pagination:{totalPages:m.data.meta.last_page,currentPage:t,totalCount:m.data.meta.total,limit:10}}}function X(t){if(d.value==t.title)return!0;switch(d.value=t.title,t.title){case i("general.draft"):o.status="DRAFT";break;case i("general.sent"):o.status="SENT";break;default:o.status="";break}}function q(){u.$patch(t=>{t.selectedEstimates=[],t.selectAllField=!1}),D()}function x(){o.customer_id="",o.status="",o.from_date="",o.to_date="",o.estimate_number="",d.value=i("general.all")}function z(){B.value&&x(),B.value=!B.value}async function K(){W.openDialog({title:i("general.are_you_sure"),message:i("estimates.confirm_delete"),yesLabel:i("general.ok"),noLabel:i("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(t=>{t&&u.deleteMultipleEstimates().then(r=>{D(),r.data&&u.$patch(c=>{c.selectedEstimates=[],c.selectAllField=!1})})})}function Q(t){switch(t){case"DRAFT":d.value=i("general.draft");break;case"SENT":d.value=i("general.sent");break;case"VIEWED":d.value=i("estimates.viewed");break;case"EXPIRED":d.value=i("estimates.expired");break;case"ACCEPTED":d.value=i("estimates.accepted");break;case"REJECTED":d.value=i("estimates.rejected");break;default:d.value=i("general.all");break}}return(t,r)=>{const c=n("BaseBreadcrumbItem"),V=n("BaseBreadcrumb"),m=n("BaseIcon"),$=n("BaseButton"),N=n("router-link"),Y=n("BasePageHeader"),Z=n("BaseCustomerSelectInput"),v=n("BaseInputGroup"),ee=n("BaseMultiselect"),j=n("BaseDatePicker"),te=n("BaseInput"),ae=n("BaseFilterWrapper"),se=n("BaseEmptyPlaceholder"),F=n("BaseTab"),le=n("BaseTabGroup"),oe=n("BaseDropdownItem"),ne=n("BaseDropdown"),U=n("BaseCheckbox"),re=n("BaseText"),ie=n("BaseEstimateStatusBadge"),ue=n("BaseFormatMoney"),me=n("BaseTable"),de=n("BasePage");return b(),E(de,null,{default:s(()=>[a(ke),a(Y,{title:t.$t("estimates.title")},{actions:s(()=>[C(a($,{variant:"primary-outline",onClick:z},{right:s(e=>[B.value?(b(),E(m,{key:1,name:"XIcon",class:y(e.class)},null,8,["class"])):(b(),E(m,{key:0,class:y(e.class),name:"FilterIcon"},null,8,["class"]))]),default:s(()=>[_(p(t.$t("general.filter"))+" ",1)]),_:1},512),[[I,l(u).totalEstimateCount]]),l(T).hasAbilities(l(f).CREATE_ESTIMATE)?(b(),E(N,{key:0,to:"estimates/create"},{default:s(()=>[a($,{variant:"primary",class:"ml-4"},{left:s(e=>[a(m,{name:"PlusIcon",class:y(e.class)},null,8,["class"])]),default:s(()=>[_(" "+p(t.$t("estimates.new_estimate")),1)]),_:1})]),_:1})):P("",!0)]),default:s(()=>[a(V,null,{default:s(()=>[a(c,{title:t.$t("general.home"),to:"dashboard"},null,8,["title"]),a(c,{title:t.$tc("estimates.estimate",2),to:"#",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),C(a(ae,{"row-on-xl":!0,onClear:x},{default:s(()=>[a(v,{label:t.$tc("customers.customer",1)},{default:s(()=>[a(Z,{modelValue:l(o).customer_id,"onUpdate:modelValue":r[0]||(r[0]=e=>l(o).customer_id=e),placeholder:t.$t("customers.type_or_click"),"value-prop":"id",label:"name"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(v,{label:t.$t("estimates.status")},{default:s(()=>[a(ee,{modelValue:l(o).status,"onUpdate:modelValue":[r[1]||(r[1]=e=>l(o).status=e),Q],options:G.value,searchable:"",placeholder:t.$t("general.select_a_status"),onRemove:r[2]||(r[2]=e=>J())},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"]),a(v,{label:t.$t("general.from")},{default:s(()=>[a(j,{modelValue:l(o).from_date,"onUpdate:modelValue":r[3]||(r[3]=e=>l(o).from_date=e),"calendar-button":!0,"calendar-button-icon":"calendar"},null,8,["modelValue"])]),_:1},8,["label"]),Ce,a(v,{label:t.$t("general.to")},{default:s(()=>[a(j,{modelValue:l(o).to_date,"onUpdate:modelValue":r[4]||(r[4]=e=>l(o).to_date=e),"calendar-button":!0,"calendar-button-icon":"calendar"},null,8,["modelValue"])]),_:1},8,["label"]),a(v,{label:t.$t("estimates.estimate_number")},{default:s(()=>[a(te,{modelValue:l(o).estimate_number,"onUpdate:modelValue":r[5]||(r[5]=e=>l(o).estimate_number=e)},{left:s(e=>[a(m,{name:"HashtagIcon",class:y(e.class)},null,8,["class"])]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1},512),[[I,B.value]]),C(a(se,{title:t.$t("estimates.no_estimates"),description:t.$t("estimates.list_of_estimates")},{actions:s(()=>[l(T).hasAbilities(l(f).CREATE_ESTIMATE)?(b(),E($,{key:0,variant:"primary-outline",onClick:r[6]||(r[6]=e=>t.$router.push("/admin/estimates/create"))},{left:s(e=>[a(m,{name:"PlusIcon",class:y(e.class)},null,8,["class"])]),default:s(()=>[_(" "+p(t.$t("estimates.add_new_estimate")),1)]),_:1})):P("",!0)]),default:s(()=>[a(ye,{class:"mt-5 mb-4"})]),_:1},8,["title","description"]),[[I,l(M)]]),C(g("div",Ie,[g("div",Ae,[a(le,{class:"-mb-5",onChange:X},{default:s(()=>[a(F,{title:t.$t("general.draft"),filter:"DRAFT"},null,8,["title"]),a(F,{title:t.$t("general.sent"),filter:"SENT"},null,8,["title"]),a(F,{title:t.$t("general.all"),filter:""},null,8,["title"])]),_:1}),l(u).selectedEstimates.length&&l(T).hasAbilities(l(f).DELETE_ESTIMATE)?(b(),E(ne,{key:0,class:"absolute float-right"},{activator:s(()=>[g("span",Se,[_(p(t.$t("general.actions"))+" ",1),a(m,{name:"ChevronDownIcon"})])]),default:s(()=>[a(oe,{onClick:K},{default:s(()=>[a(m,{name:"TrashIcon",class:"mr-3 text-gray-600"}),_(" "+p(t.$t("general.delete")),1)]),_:1})]),_:1})):P("",!0)]),a(me,{ref:(e,w)=>{w.tableComponent=e,k.value=e},data:L,columns:l(O),"placeholder-count":l(u).totalEstimateCount>=20?10:5,class:"mt-10"},Ee({header:s(()=>[g("div",De,[a(U,{modelValue:l(u).selectAllField,"onUpdate:modelValue":r[7]||(r[7]=e=>l(u).selectAllField=e),variant:"primary",onChange:l(u).selectAllEstimates},null,8,["modelValue","onChange"])])]),"cell-checkbox":s(({row:e})=>[g("div",Ve,[a(U,{id:e.id,modelValue:l(S),"onUpdate:modelValue":r[8]||(r[8]=w=>ge(S)?S.value=w:null),value:e.data.id},null,8,["id","modelValue","value"])])]),"cell-estimate_date":s(({row:e})=>[_(p(e.data.formatted_estimate_date),1)]),"cell-estimate_number":s(({row:e})=>[a(N,{to:{path:`estimates/${e.data.id}/view`},class:"font-medium text-primary-500"},{default:s(()=>[_(p(e.data.estimate_number),1)]),_:2},1032,["to"])]),"cell-name":s(({row:e})=>[a(re,{text:e.data.customer.name,length:30},null,8,["text"])]),"cell-status":s(({row:e})=>[a(ie,{status:e.data.status,class:"px-3 py-1"},{default:s(()=>[_(p(e.data.status),1)]),_:2},1032,["status"])]),"cell-total":s(({row:e})=>[a(ue,{amount:e.data.total,currency:e.data.customer.currency},null,8,["amount","currency"])]),_:2},[H()?{name:"cell-actions",fn:s(({row:e})=>[a(Te,{row:e.data,table:k.value},null,8,["row","table"])])}:void 0]),1032,["columns","placeholder-count"])],512),[[I,!l(M)]])]),_:1})}}};export{Ne as default};

--- public/build/assets/Index.de1759af.js ---
@@ -1 +1 @@
-import{J as I,k as v,r as l,o as n,e as i,t as c,j as y,h as t,f as e,u as r,l as $,w as u,B as k,L as j,M as J,N as O,T as K,F as Q,y as W,U as X,m as Y,i as P}from"./vendor.01d0adc5.js";import{_ as Z,r as ee,d as te}from"./main.832b14c7.js";const se={key:0,class:"absolute mt-5 px-6 w-full flex justify-end"},ae={key:0,class:"bg-white bg-opacity-75 text-xs px-3 py-1 font-semibold tracking-wide rounded"},ne={key:1,class:"ml-2 bg-white bg-opacity-75 text-xs px-3 py-1 font-semibold tracking-wide rounded"},oe={key:0},le={key:1},re=["src"],ie={class:"px-6 py-5 flex flex-col bg-gray-50 flex-1 justify-between"},de={class:"text-lg sm:text-2xl font-medium whitespace-nowrap truncate text-primary-500"},ce={key:0,class:"flex items-center mt-2"},ue=["src"],me=t("span",null,"by",-1),_e={class:"ml-2 text-base font-semibold truncate"},he={class:"flex justify-between mt-4 flex-col space-y-2 sm:space-y-0 sm:flex-row"},pe={class:"text-xl md:text-2xl font-semibold whitespace-nowrap text-primary-500"},fe={props:{data:{type:Object,default:null,required:!0}},setup(a){const o=a;I();let m=v(()=>parseInt(o.data.average_rating));return(d,_)=>{const h=l("base-text"),g=l("BaseRating");return n(),i("div",{class:"relative shadow-md border-2 border-gray-200 border-opacity-60 rounded-lg cursor-pointer overflow-hidden h-100",onClick:_[0]||(_[0]=w=>d.$router.push(`/admin/modules/${a.data.slug}`))},[a.data.purchased?(n(),i("div",se,[a.data.purchased?(n(),i("label",ae,c(d.$t("modules.purchased")),1)):y("",!0),a.data.installed?(n(),i("label",ne,[a.data.update_available?(n(),i("span",oe,c(d.$t("modules.update_available")),1)):(n(),i("span",le,c(d.$t("modules.installed")),1))])):y("",!0)])):y("",!0),t("img",{class:"lg:h-64 md:h-48 w-full object-cover object-center",src:a.data.cover,alt:"cover"},null,8,re),t("div",ie,[t("span",de,c(a.data.name),1),a.data.author_avatar?(n(),i("div",ce,[t("img",{class:"hidden h-10 w-10 rounded-full sm:inline-block mr-2",src:a.data.author_avatar?a.data.author_avatar:"http://localhost:3000/img/default-avatar.jpg",alt:""},null,8,ue),me,t("span",_e,c(a.data.author_name),1)])):y("",!0),e(h,{text:a.data.short_description,class:"pt-4 text-gray-500 h-16 line-clamp-2",length:110},null,8,["text"]),t("div",he,[t("div",null,[e(g,{rating:r(m)},null,8,["rating"])]),t("div",pe," $ "+c(a.data.monthly_price?a.data.monthly_price/100:a.data.yearly_price/100),1)])])])}}},ge={},ve={class:"shadow-md border-2 border-gray-200 border-opacity-60 rounded-lg cursor-pointer overflow-hidden h-100"},be={class:"px-6 py-5 flex flex-col bg-gray-50 flex-1 justify-between"},ye={class:"flex items-center mt-2"},xe={class:"flex justify-between mt-4 flex-col space-y-2 sm:space-y-0 sm:flex-row"};function $e(a,o){const m=l("BaseContentPlaceholdersBox"),d=l("BaseContentPlaceholdersText"),_=l("BaseContentPlaceholders");return n(),$(_,null,{default:u(()=>[t("div",ve,[e(m,{class:"h-48 lg:h-64 md:h-48 w-full",rounded:""}),t("div",be,[e(d,{class:"w-32 h-8",lines:1,rounded:""}),t("div",ye,[e(m,{class:"h-10 w-10 rounded-full sm:inline-block mr-2"}),t("div",null,[e(d,{class:"w-32 h-8 ml-2",lines:1,rounded:""})])]),e(d,{class:"pt-4 w-full h-16",lines:1,rounded:""}),t("div",xe,[e(d,{class:"w-32 h-8",lines:1,rounded:""}),e(d,{class:"w-32 h-8",lines:1,rounded:""})])])])]),_:1})}var B=Z(ge,[["render",$e]]);const ke={key:0},Be={key:0,class:"grid mt-6 w-full grid-cols-1 items-start gap-6 lg:grid-cols-2 xl:grid-cols-3"},we={key:1},Te={key:0,class:"grid mt-6 w-full grid-cols-1 items-start gap-6 lg:grid-cols-2 xl:grid-cols-3"},Ce={key:1,class:"mt-24"},Se={class:"flex items-center justify-center text-gray-500"},Ie={class:"text-gray-900 text-lg font-medium"},je={class:"mt-1 text-sm text-gray-500"},Pe={class:"grid lg:grid-cols-2 mt-6"},Me=["onSubmit"],Le={class:"flex space-x-2"},Ue=["href"],Ve=P(" Sign up & Get Token "),Ae={setup(a){const o=ee(),m=te(),d=k(""),{t:_}=I();let h=k(!1),g=k(!1);const w=v(()=>({api_token:{required:j.withMessage(_("validation.required"),J),minLength:j.withMessage(_("validation.name_min_length",{count:3}),O(3))}})),M=v(()=>o.apiToken?(L(),!0):!1),p=K(w,v(()=>o.currentUser)),x=v(()=>d.value==="INSTALLED"?o.modules.filter(s=>s.installed):o.modules);async function L(){g.value=!0,await o.fetchModules().then(()=>{g.value=!1})}async function U(){if(p.value.$touch(),p.value.$invalid)return!0;h.value=!0,o.checkApiToken(o.currentUser.api_token).then(s=>{if(s.data.success){V();return}h.value=!1})}async function V(){try{await m.updateGlobalSettings({data:{settings:{api_token:o.currentUser.api_token}},message:"settings.preferences.updated_message"}).then(s=>{if(s.data.success){o.apiToken=o.currentUser.api_token;return}}),h.value=!1}catch(s){h.value=!1,console.error(s);return}}function G(s){d.value=s.filter}return(s,b)=>{const T=l("BaseBreadcrumbItem"),N=l("BaseBreadcrumb"),A=l("BasePageHeader"),C=l("BaseTab"),q=l("BaseTabGroup"),D=l("BaseInput"),F=l("BaseInputGroup"),E=l("BaseIcon"),S=l("BaseButton"),R=l("BaseCard"),H=l("BasePage");return n(),$(H,null,{default:u(()=>[e(A,{title:s.$t("modules.title")},{default:u(()=>[e(N,null,{default:u(()=>[e(T,{title:s.$t("general.home"),to:"dashboard"},null,8,["title"]),e(T,{title:s.$tc("modules.module",2),to:"#",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),r(M)&&r(o).modules?(n(),i("div",ke,[e(q,{class:"-mb-5",onChange:G},{default:u(()=>[e(C,{title:s.$t("general.all"),filter:""},null,8,["title"]),e(C,{title:s.$t("modules.installed"),filter:"INSTALLED"},null,8,["title"])]),_:1}),r(g)?(n(),i("div",Be,[e(B),e(B),e(B)])):(n(),i("div",we,[r(x)&&r(x).length?(n(),i("div",Te,[(n(!0),i(Q,null,W(r(x),(f,z)=>(n(),i("div",{key:z},[e(fe,{data:f},null,8,["data"])]))),128))])):(n(),i("div",Ce,[t("label",Se,c(s.$t("modules.no_modules_installed")),1)]))]))])):(n(),$(R,{key:1,class:"mt-6"},{default:u(()=>[t("h6",Ie,c(s.$t("modules.connect_installation")),1),t("p",je,c(s.$t("modules.api_token_description",{url:r(m).config.base_url.replace(/^http:\/\//,"")})),1),t("div",Pe,[t("form",{action:"",class:"mt-6",onSubmit:X(U,["prevent"])},[e(F,{label:s.$t("modules.api_token"),required:"",error:r(p).api_token.$error&&r(p).api_token.$errors[0].$message},{default:u(()=>[e(D,{modelValue:r(o).currentUser.api_token,"onUpdate:modelValue":b[0]||(b[0]=f=>r(o).currentUser.api_token=f),invalid:r(p).api_token.$error,onInput:b[1]||(b[1]=f=>r(p).api_token.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),t("div",Le,[e(S,{class:"mt-6",loading:r(h),type:"submit"},{left:u(f=>[e(E,{name:"SaveIcon",class:Y(f.class)},null,8,["class"])]),default:u(()=>[P(" "+c(s.$t("general.save")),1)]),_:1},8,["loading"]),t("a",{href:`${r(m).config.base_url}/auth/customer/register`,class:"mt-6 block",target:"_blank"},[e(S,{variant:"primary-outline",type:"button"},{default:u(()=>[Ve]),_:1})],8,Ue)])],40,Me)])]),_:1}))]),_:1})}}};export{Ae as default};
+import{J as I,k as v,r as l,o as n,e as i,t as c,j as y,h as t,f as e,u as r,l as $,w as u,B as k,L as j,M as J,N as O,T as K,F as Q,y as W,U as X,m as Y,i as P}from"./vendor.01d0adc5.js";import{_ as Z,r as ee,d as te}from"./main.75722495.js";const se={key:0,class:"absolute mt-5 px-6 w-full flex justify-end"},ae={key:0,class:"bg-white bg-opacity-75 text-xs px-3 py-1 font-semibold tracking-wide rounded"},ne={key:1,class:"ml-2 bg-white bg-opacity-75 text-xs px-3 py-1 font-semibold tracking-wide rounded"},oe={key:0},le={key:1},re=["src"],ie={class:"px-6 py-5 flex flex-col bg-gray-50 flex-1 justify-between"},de={class:"text-lg sm:text-2xl font-medium whitespace-nowrap truncate text-primary-500"},ce={key:0,class:"flex items-center mt-2"},ue=["src"],me=t("span",null,"by",-1),_e={class:"ml-2 text-base font-semibold truncate"},he={class:"flex justify-between mt-4 flex-col space-y-2 sm:space-y-0 sm:flex-row"},pe={class:"text-xl md:text-2xl font-semibold whitespace-nowrap text-primary-500"},fe={props:{data:{type:Object,default:null,required:!0}},setup(a){const o=a;I();let m=v(()=>parseInt(o.data.average_rating));return(d,_)=>{const h=l("base-text"),g=l("BaseRating");return n(),i("div",{class:"relative shadow-md border-2 border-gray-200 border-opacity-60 rounded-lg cursor-pointer overflow-hidden h-100",onClick:_[0]||(_[0]=w=>d.$router.push(`/admin/modules/${a.data.slug}`))},[a.data.purchased?(n(),i("div",se,[a.data.purchased?(n(),i("label",ae,c(d.$t("modules.purchased")),1)):y("",!0),a.data.installed?(n(),i("label",ne,[a.data.update_available?(n(),i("span",oe,c(d.$t("modules.update_available")),1)):(n(),i("span",le,c(d.$t("modules.installed")),1))])):y("",!0)])):y("",!0),t("img",{class:"lg:h-64 md:h-48 w-full object-cover object-center",src:a.data.cover,alt:"cover"},null,8,re),t("div",ie,[t("span",de,c(a.data.name),1),a.data.author_avatar?(n(),i("div",ce,[t("img",{class:"hidden h-10 w-10 rounded-full sm:inline-block mr-2",src:a.data.author_avatar?a.data.author_avatar:"http://localhost:3000/img/default-avatar.jpg",alt:""},null,8,ue),me,t("span",_e,c(a.data.author_name),1)])):y("",!0),e(h,{text:a.data.short_description,class:"pt-4 text-gray-500 h-16 line-clamp-2",length:110},null,8,["text"]),t("div",he,[t("div",null,[e(g,{rating:r(m)},null,8,["rating"])]),t("div",pe," $ "+c(a.data.monthly_price?a.data.monthly_price/100:a.data.yearly_price/100),1)])])])}}},ge={},ve={class:"shadow-md border-2 border-gray-200 border-opacity-60 rounded-lg cursor-pointer overflow-hidden h-100"},be={class:"px-6 py-5 flex flex-col bg-gray-50 flex-1 justify-between"},ye={class:"flex items-center mt-2"},xe={class:"flex justify-between mt-4 flex-col space-y-2 sm:space-y-0 sm:flex-row"};function $e(a,o){const m=l("BaseContentPlaceholdersBox"),d=l("BaseContentPlaceholdersText"),_=l("BaseContentPlaceholders");return n(),$(_,null,{default:u(()=>[t("div",ve,[e(m,{class:"h-48 lg:h-64 md:h-48 w-full",rounded:""}),t("div",be,[e(d,{class:"w-32 h-8",lines:1,rounded:""}),t("div",ye,[e(m,{class:"h-10 w-10 rounded-full sm:inline-block mr-2"}),t("div",null,[e(d,{class:"w-32 h-8 ml-2",lines:1,rounded:""})])]),e(d,{class:"pt-4 w-full h-16",lines:1,rounded:""}),t("div",xe,[e(d,{class:"w-32 h-8",lines:1,rounded:""}),e(d,{class:"w-32 h-8",lines:1,rounded:""})])])])]),_:1})}var B=Z(ge,[["render",$e]]);const ke={key:0},Be={key:0,class:"grid mt-6 w-full grid-cols-1 items-start gap-6 lg:grid-cols-2 xl:grid-cols-3"},we={key:1},Te={key:0,class:"grid mt-6 w-full grid-cols-1 items-start gap-6 lg:grid-cols-2 xl:grid-cols-3"},Ce={key:1,class:"mt-24"},Se={class:"flex items-center justify-center text-gray-500"},Ie={class:"text-gray-900 text-lg font-medium"},je={class:"mt-1 text-sm text-gray-500"},Pe={class:"grid lg:grid-cols-2 mt-6"},Me=["onSubmit"],Le={class:"flex space-x-2"},Ue=["href"],Ve=P(" Sign up & Get Token "),Ae={setup(a){const o=ee(),m=te(),d=k(""),{t:_}=I();let h=k(!1),g=k(!1);const w=v(()=>({api_token:{required:j.withMessage(_("validation.required"),J),minLength:j.withMessage(_("validation.name_min_length",{count:3}),O(3))}})),M=v(()=>o.apiToken?(L(),!0):!1),p=K(w,v(()=>o.currentUser)),x=v(()=>d.value==="INSTALLED"?o.modules.filter(s=>s.installed):o.modules);async function L(){g.value=!0,await o.fetchModules().then(()=>{g.value=!1})}async function U(){if(p.value.$touch(),p.value.$invalid)return!0;h.value=!0,o.checkApiToken(o.currentUser.api_token).then(s=>{if(s.data.success){V();return}h.value=!1})}async function V(){try{await m.updateGlobalSettings({data:{settings:{api_token:o.currentUser.api_token}},message:"settings.preferences.updated_message"}).then(s=>{if(s.data.success){o.apiToken=o.currentUser.api_token;return}}),h.value=!1}catch(s){h.value=!1,console.error(s);return}}function G(s){d.value=s.filter}return(s,b)=>{const T=l("BaseBreadcrumbItem"),N=l("BaseBreadcrumb"),A=l("BasePageHeader"),C=l("BaseTab"),q=l("BaseTabGroup"),D=l("BaseInput"),F=l("BaseInputGroup"),E=l("BaseIcon"),S=l("BaseButton"),R=l("BaseCard"),H=l("BasePage");return n(),$(H,null,{default:u(()=>[e(A,{title:s.$t("modules.title")},{default:u(()=>[e(N,null,{default:u(()=>[e(T,{title:s.$t("general.home"),to:"dashboard"},null,8,["title"]),e(T,{title:s.$tc("modules.module",2),to:"#",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),r(M)&&r(o).modules?(n(),i("div",ke,[e(q,{class:"-mb-5",onChange:G},{default:u(()=>[e(C,{title:s.$t("general.all"),filter:""},null,8,["title"]),e(C,{title:s.$t("modules.installed"),filter:"INSTALLED"},null,8,["title"])]),_:1}),r(g)?(n(),i("div",Be,[e(B),e(B),e(B)])):(n(),i("div",we,[r(x)&&r(x).length?(n(),i("div",Te,[(n(!0),i(Q,null,W(r(x),(f,z)=>(n(),i("div",{key:z},[e(fe,{data:f},null,8,["data"])]))),128))])):(n(),i("div",Ce,[t("label",Se,c(s.$t("modules.no_modules_installed")),1)]))]))])):(n(),$(R,{key:1,class:"mt-6"},{default:u(()=>[t("h6",Ie,c(s.$t("modules.connect_installation")),1),t("p",je,c(s.$t("modules.api_token_description",{url:r(m).config.base_url.replace(/^http:\/\//,"")})),1),t("div",Pe,[t("form",{action:"",class:"mt-6",onSubmit:X(U,["prevent"])},[e(F,{label:s.$t("modules.api_token"),required:"",error:r(p).api_token.$error&&r(p).api_token.$errors[0].$message},{default:u(()=>[e(D,{modelValue:r(o).currentUser.api_token,"onUpdate:modelValue":b[0]||(b[0]=f=>r(o).currentUser.api_token=f),invalid:r(p).api_token.$error,onInput:b[1]||(b[1]=f=>r(p).api_token.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),t("div",Le,[e(S,{class:"mt-6",loading:r(h),type:"submit"},{left:u(f=>[e(E,{name:"SaveIcon",class:Y(f.class)},null,8,["class"])]),default:u(()=>[P(" "+c(s.$t("general.save")),1)]),_:1},8,["loading"]),t("a",{href:`${r(m).config.base_url}/auth/customer/register`,class:"mt-6 block",target:"_blank"},[e(S,{variant:"primary-outline",type:"button"},{default:u(()=>[Ve]),_:1})],8,Ue)])],40,Me)])]),_:1}))]),_:1})}}};export{Ae as default};

--- public/build/assets/Index.f1fe364f.js ---
@@ -1 +1 @@
-import{B as b,J as fe,aN as pe,a0 as ge,k as R,aR as be,aS as Ie,r,o as I,l as B,w as s,f as a,q as k,ag as V,u as o,m as $,i as m,t as _,j as M,V as q,h as p,x as Be}from"./vendor.01d0adc5.js";import{t as he,l as ye,j as Ce,u as Re,e as ke,g as h}from"./main.832b14c7.js";import{_ as Ve}from"./SendInvoiceModal.35678ab1.js";import{_ as $e}from"./RecurringInvoiceIndexDropdown.c53e92ab.js";import{_ as Ee}from"./MoonwalkerIcon.ab503573.js";import"./mail-driver.1b5e2a8f.js";const Ne=p("div",{class:"hidden w-8 h-0 mx-4 border border-gray-400 border-solid xl:block",style:{"margin-top":"1.5rem"}},null,-1),Se={class:"relative table-container"},Ae={class:"relative flex items-center justify-between h-10 mt-5 list-none border-b-2 border-gray-200 border-solid"},Te={class:"flex text-sm font-medium cursor-pointer select-none text-primary-400"},we={class:"absolute items-center left-6 top-2.5 select-none"},xe={class:"relative block"},Ge={setup(De){const c=he();ye();const H=Ce(),D=Re(),E=ke(),y=b(null),{t:i}=fe(),g=b(!1),F=b(["ACTIVE","ON_HOLD","ALL"]),N=b(!0),v=b("recurring-invoices.all");pe();let l=ge({customer_id:"",status:"ACTIVE",from_date:"",to_date:""});const L=R(()=>!c.totalRecurringInvoices&&!N.value),S=R({get:()=>c.selectedRecurringInvoices,set:e=>c.selectRecurringInvoice(e)}),W=R(()=>[{key:"checkbox",thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"starts_at",label:i("recurring_invoices.starts_at"),thClass:"extra",tdClass:"font-medium"},{key:"customer",label:i("invoices.customer")},{key:"frequency",label:i("recurring_invoices.frequency.title")},{key:"status",label:i("invoices.status")},{key:"total",label:i("invoices.total")},{key:"actions",label:i("recurring_invoices.action"),tdClass:"text-right text-sm font-medium",thClass:"text-right",sortable:!1}]);be(l,()=>{Y()},{debounce:500}),Ie(()=>{c.selectAllField&&c.selectAllRecurringInvoices()});const z=R(()=>F.value.findIndex(e=>e===l.status));function J(){return E.hasAbilities([h.DELETE_RECURRING_INVOICE,h.EDIT_RECURRING_INVOICE,h.VIEW_RECURRING_INVOICE])}function X(e){const n=c.frequencies.find(u=>u.value===e);return n?n.label:`CUSTOM: ${e}`}function A(){y.value&&y.value.refresh()}async function K({page:e,filter:n,sort:u}){let f={customer_id:l.customer_id,status:l.status,from_date:l.from_date,to_date:l.to_date,orderByField:u.fieldName||"created_at",orderBy:u.order||"desc",page:e};N.value=!0;let d=await c.fetchRecurringInvoices(f);return N.value=!1,{data:d.data.data,pagination:{totalPages:d.data.meta.last_page,currentPage:e,totalCount:d.data.meta.total,limit:10}}}function Q(e){if(v.value==e.title)return!0;switch(v.value=e.title,e.title){case i("recurring_invoices.active"):l.status="ACTIVE";break;case i("recurring_invoices.on_hold"):l.status="ON_HOLD";break;case i("recurring_invoices.all"):l.status="ALL";break}}function Y(){c.$patch(e=>{e.selectedRecurringInvoices=[],e.selectAllField=!1}),A()}function O(){l.customer_id="",l.status="",l.from_date="",l.to_date="",l.invoice_number="",v.value=i("general.all")}async function Z(e=null){H.openDialog({title:i("general.are_you_sure"),message:i("invoices.confirm_delete"),yesLabel:i("general.ok"),noLabel:i("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(async n=>{n&&await c.deleteMultipleRecurringInvoices(e).then(u=>{u.data.success?(A(),c.$patch(f=>{f.selectedRecurringInvoices=[],f.selectAllField=!1}),D.showNotification({type:"success",message:i("recurring_invoices.deleted_message",2)})):u.data.error&&D.showNotification({type:"error",message:u.data.message})})})}function ee(){g.value&&O(),g.value=!g.value}async function te(e,n){l.status="",A()}function ae(e){switch(e){case"ACTIVE":v.value=i("recurring_invoices.active");break;case"ON_HOLD":v.value=i("recurring_invoices.on_hold");break;case"ALL":v.value=i("recurring_invoices.all");break}}return(e,n)=>{const u=r("BaseBreadcrumbItem"),f=r("BaseBreadcrumb"),d=r("BaseIcon"),T=r("BaseButton"),U=r("router-link"),se=r("BasePageHeader"),ne=r("BaseCustomerSelectInput"),C=r("BaseInputGroup"),le=r("BaseMultiselect"),P=r("BaseDatePicker"),oe=r("BaseFilterWrapper"),re=r("BaseEmptyPlaceholder"),w=r("BaseTab"),ie=r("BaseTabGroup"),ce=r("BaseDropdownItem"),ue=r("BaseDropdown"),j=r("BaseCheckbox"),G=r("BaseText"),de=r("BaseRecurringInvoiceStatusBadge"),me=r("BaseFormatMoney"),_e=r("BaseTable"),ve=r("BasePage");return I(),B(ve,null,{default:s(()=>[a(Ve),a(se,{title:e.$t("recurring_invoices.title")},{actions:s(()=>[k(a(T,{variant:"primary-outline",onClick:ee},{right:s(t=>[g.value?(I(),B(d,{key:1,name:"XIcon",class:$(t.class)},null,8,["class"])):(I(),B(d,{key:0,name:"FilterIcon",class:$(t.class)},null,8,["class"]))]),default:s(()=>[m(_(e.$t("general.filter"))+" ",1)]),_:1},512),[[V,o(c).totalRecurringInvoices]]),o(E).hasAbilities(o(h).CREATE_RECURRING_INVOICE)?(I(),B(U,{key:0,to:"recurring-invoices/create"},{default:s(()=>[a(T,{variant:"primary",class:"ml-4"},{left:s(t=>[a(d,{name:"PlusIcon",class:$(t.class)},null,8,["class"])]),default:s(()=>[m(" "+_(e.$t("recurring_invoices.new_invoice")),1)]),_:1})]),_:1})):M("",!0)]),default:s(()=>[a(f,null,{default:s(()=>[a(u,{title:e.$t("general.home"),to:"dashboard"},null,8,["title"]),a(u,{title:e.$tc("recurring_invoices.invoice",2),to:"#",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),k(a(oe,{onClear:O},{default:s(()=>[a(C,{label:e.$tc("customers.customer",1)},{default:s(()=>[a(ne,{modelValue:o(l).customer_id,"onUpdate:modelValue":n[0]||(n[0]=t=>o(l).customer_id=t),placeholder:e.$t("customers.type_or_click"),"value-prop":"id",label:"name"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(C,{label:e.$t("recurring_invoices.status")},{default:s(()=>[a(le,{modelValue:o(l).status,"onUpdate:modelValue":[n[1]||(n[1]=t=>o(l).status=t),ae],options:F.value,searchable:"",placeholder:e.$t("general.select_a_status"),onRemove:n[2]||(n[2]=t=>te())},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"]),a(C,{label:e.$t("general.from")},{default:s(()=>[a(P,{modelValue:o(l).from_date,"onUpdate:modelValue":n[3]||(n[3]=t=>o(l).from_date=t),"calendar-button":!0,"calendar-button-icon":"calendar"},null,8,["modelValue"])]),_:1},8,["label"]),Ne,a(C,{label:e.$t("general.to")},{default:s(()=>[a(P,{modelValue:o(l).to_date,"onUpdate:modelValue":n[4]||(n[4]=t=>o(l).to_date=t),"calendar-button":!0,"calendar-button-icon":"calendar"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},512),[[V,g.value]]),k(a(re,{title:e.$t("recurring_invoices.no_invoices"),description:e.$t("recurring_invoices.list_of_invoices")},q({default:s(()=>[a(Ee,{class:"mt-5 mb-4"})]),_:2},[o(E).hasAbilities(o(h).CREATE_RECURRING_INVOICE)?{name:"actions",fn:s(()=>[a(T,{variant:"primary-outline",onClick:n[5]||(n[5]=t=>e.$router.push("/admin/recurring-invoices/create"))},{left:s(t=>[a(d,{name:"PlusIcon",class:$(t.class)},null,8,["class"])]),default:s(()=>[m(" "+_(e.$t("recurring_invoices.add_new_invoice")),1)]),_:1})])}:void 0]),1032,["title","description"]),[[V,o(L)]]),k(p("div",Se,[p("div",Ae,[a(ie,{class:"-mb-5","default-index":o(z),onChange:Q},{default:s(()=>[a(w,{title:e.$t("recurring_invoices.active"),filter:"ACTIVE"},null,8,["title"]),a(w,{title:e.$t("recurring_invoices.on_hold"),filter:"ON_HOLD"},null,8,["title"]),a(w,{title:e.$t("recurring_invoices.all"),filter:"ALL"},null,8,["title"])]),_:1},8,["default-index"]),o(c).selectedRecurringInvoices.length?(I(),B(ue,{key:0,class:"absolute float-right"},{activator:s(()=>[p("span",Te,[m(_(e.$t("general.actions"))+" ",1),a(d,{name:"ChevronDownIcon",class:"h-5"})])]),default:s(()=>[a(ce,{onClick:n[6]||(n[6]=t=>Z())},{default:s(()=>[a(d,{name:"TrashIcon",class:"mr-3 text-gray-600"}),m(" "+_(e.$t("general.delete")),1)]),_:1})]),_:1})):M("",!0)]),a(_e,{ref:(t,x)=>{x.table=t,y.value=t},data:K,columns:o(W),"placeholder-count":o(c).totalRecurringInvoices>=20?10:5,class:"mt-10"},q({header:s(()=>[p("div",we,[a(j,{modelValue:o(c).selectAllField,"onUpdate:modelValue":n[7]||(n[7]=t=>o(c).selectAllField=t),variant:"primary",onChange:o(c).selectAllRecurringInvoices},null,8,["modelValue","onChange"])])]),"cell-checkbox":s(({row:t})=>[p("div",xe,[a(j,{id:t.id,modelValue:o(S),"onUpdate:modelValue":n[8]||(n[8]=x=>Be(S)?S.value=x:null),value:t.data.id},null,8,["id","modelValue","value"])])]),"cell-starts_at":s(({row:t})=>[m(_(t.data.formatted_starts_at),1)]),"cell-customer":s(({row:t})=>[a(U,{to:{path:`recurring-invoices/${t.data.id}/view`}},{default:s(()=>[a(G,{text:t.data.customer.name,length:30,tag:"span",class:"font-medium text-primary-500 flex flex-col"},null,8,["text"]),a(G,{text:t.data.customer.contact_name?t.data.customer.contact_name:"",length:30,tag:"span",class:"text-xs text-gray-400"},null,8,["text"])]),_:2},1032,["to"])]),"cell-frequency":s(({row:t})=>[m(_(X(t.data.frequency)),1)]),"cell-status":s(({row:t})=>[a(de,{status:t.data.status,class:"px-3 py-1"},{default:s(()=>[m(_(t.data.status),1)]),_:2},1032,["status"])]),"cell-total":s(({row:t})=>[a(me,{amount:t.data.total,currency:t.data.customer.currency},null,8,["amount","currency"])]),_:2},[J?{name:"cell-actions",fn:s(({row:t})=>[a($e,{row:t.data,table:y.value},null,8,["row","table"])])}:void 0]),1032,["columns","placeholder-count"])],512),[[V,!o(L)]])]),_:1})}}};export{Ge as default};
+import{B as b,J as fe,aN as pe,a0 as ge,k as R,aR as be,aS as Ie,r,o as I,l as B,w as s,f as a,q as k,ag as V,u as o,m as $,i as m,t as _,j as M,V as q,h as p,x as Be}from"./vendor.01d0adc5.js";import{t as he,l as ye,j as Ce,u as Re,e as ke,g as h}from"./main.75722495.js";import{_ as Ve}from"./SendInvoiceModal.89e6012d.js";import{_ as $e}from"./RecurringInvoiceIndexDropdown.37d4a992.js";import{_ as Ee}from"./MoonwalkerIcon.ab503573.js";import"./mail-driver.4ea1af6b.js";const Ne=p("div",{class:"hidden w-8 h-0 mx-4 border border-gray-400 border-solid xl:block",style:{"margin-top":"1.5rem"}},null,-1),Se={class:"relative table-container"},Ae={class:"relative flex items-center justify-between h-10 mt-5 list-none border-b-2 border-gray-200 border-solid"},Te={class:"flex text-sm font-medium cursor-pointer select-none text-primary-400"},we={class:"absolute items-center left-6 top-2.5 select-none"},xe={class:"relative block"},Ge={setup(De){const c=he();ye();const H=Ce(),D=Re(),E=ke(),y=b(null),{t:i}=fe(),g=b(!1),F=b(["ACTIVE","ON_HOLD","ALL"]),N=b(!0),v=b("recurring-invoices.all");pe();let l=ge({customer_id:"",status:"ACTIVE",from_date:"",to_date:""});const L=R(()=>!c.totalRecurringInvoices&&!N.value),S=R({get:()=>c.selectedRecurringInvoices,set:e=>c.selectRecurringInvoice(e)}),W=R(()=>[{key:"checkbox",thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"starts_at",label:i("recurring_invoices.starts_at"),thClass:"extra",tdClass:"font-medium"},{key:"customer",label:i("invoices.customer")},{key:"frequency",label:i("recurring_invoices.frequency.title")},{key:"status",label:i("invoices.status")},{key:"total",label:i("invoices.total")},{key:"actions",label:i("recurring_invoices.action"),tdClass:"text-right text-sm font-medium",thClass:"text-right",sortable:!1}]);be(l,()=>{Y()},{debounce:500}),Ie(()=>{c.selectAllField&&c.selectAllRecurringInvoices()});const z=R(()=>F.value.findIndex(e=>e===l.status));function J(){return E.hasAbilities([h.DELETE_RECURRING_INVOICE,h.EDIT_RECURRING_INVOICE,h.VIEW_RECURRING_INVOICE])}function X(e){const n=c.frequencies.find(u=>u.value===e);return n?n.label:`CUSTOM: ${e}`}function A(){y.value&&y.value.refresh()}async function K({page:e,filter:n,sort:u}){let f={customer_id:l.customer_id,status:l.status,from_date:l.from_date,to_date:l.to_date,orderByField:u.fieldName||"created_at",orderBy:u.order||"desc",page:e};N.value=!0;let d=await c.fetchRecurringInvoices(f);return N.value=!1,{data:d.data.data,pagination:{totalPages:d.data.meta.last_page,currentPage:e,totalCount:d.data.meta.total,limit:10}}}function Q(e){if(v.value==e.title)return!0;switch(v.value=e.title,e.title){case i("recurring_invoices.active"):l.status="ACTIVE";break;case i("recurring_invoices.on_hold"):l.status="ON_HOLD";break;case i("recurring_invoices.all"):l.status="ALL";break}}function Y(){c.$patch(e=>{e.selectedRecurringInvoices=[],e.selectAllField=!1}),A()}function O(){l.customer_id="",l.status="",l.from_date="",l.to_date="",l.invoice_number="",v.value=i("general.all")}async function Z(e=null){H.openDialog({title:i("general.are_you_sure"),message:i("invoices.confirm_delete"),yesLabel:i("general.ok"),noLabel:i("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(async n=>{n&&await c.deleteMultipleRecurringInvoices(e).then(u=>{u.data.success?(A(),c.$patch(f=>{f.selectedRecurringInvoices=[],f.selectAllField=!1}),D.showNotification({type:"success",message:i("recurring_invoices.deleted_message",2)})):u.data.error&&D.showNotification({type:"error",message:u.data.message})})})}function ee(){g.value&&O(),g.value=!g.value}async function te(e,n){l.status="",A()}function ae(e){switch(e){case"ACTIVE":v.value=i("recurring_invoices.active");break;case"ON_HOLD":v.value=i("recurring_invoices.on_hold");break;case"ALL":v.value=i("recurring_invoices.all");break}}return(e,n)=>{const u=r("BaseBreadcrumbItem"),f=r("BaseBreadcrumb"),d=r("BaseIcon"),T=r("BaseButton"),U=r("router-link"),se=r("BasePageHeader"),ne=r("BaseCustomerSelectInput"),C=r("BaseInputGroup"),le=r("BaseMultiselect"),P=r("BaseDatePicker"),oe=r("BaseFilterWrapper"),re=r("BaseEmptyPlaceholder"),w=r("BaseTab"),ie=r("BaseTabGroup"),ce=r("BaseDropdownItem"),ue=r("BaseDropdown"),j=r("BaseCheckbox"),G=r("BaseText"),de=r("BaseRecurringInvoiceStatusBadge"),me=r("BaseFormatMoney"),_e=r("BaseTable"),ve=r("BasePage");return I(),B(ve,null,{default:s(()=>[a(Ve),a(se,{title:e.$t("recurring_invoices.title")},{actions:s(()=>[k(a(T,{variant:"primary-outline",onClick:ee},{right:s(t=>[g.value?(I(),B(d,{key:1,name:"XIcon",class:$(t.class)},null,8,["class"])):(I(),B(d,{key:0,name:"FilterIcon",class:$(t.class)},null,8,["class"]))]),default:s(()=>[m(_(e.$t("general.filter"))+" ",1)]),_:1},512),[[V,o(c).totalRecurringInvoices]]),o(E).hasAbilities(o(h).CREATE_RECURRING_INVOICE)?(I(),B(U,{key:0,to:"recurring-invoices/create"},{default:s(()=>[a(T,{variant:"primary",class:"ml-4"},{left:s(t=>[a(d,{name:"PlusIcon",class:$(t.class)},null,8,["class"])]),default:s(()=>[m(" "+_(e.$t("recurring_invoices.new_invoice")),1)]),_:1})]),_:1})):M("",!0)]),default:s(()=>[a(f,null,{default:s(()=>[a(u,{title:e.$t("general.home"),to:"dashboard"},null,8,["title"]),a(u,{title:e.$tc("recurring_invoices.invoice",2),to:"#",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),k(a(oe,{onClear:O},{default:s(()=>[a(C,{label:e.$tc("customers.customer",1)},{default:s(()=>[a(ne,{modelValue:o(l).customer_id,"onUpdate:modelValue":n[0]||(n[0]=t=>o(l).customer_id=t),placeholder:e.$t("customers.type_or_click"),"value-prop":"id",label:"name"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(C,{label:e.$t("recurring_invoices.status")},{default:s(()=>[a(le,{modelValue:o(l).status,"onUpdate:modelValue":[n[1]||(n[1]=t=>o(l).status=t),ae],options:F.value,searchable:"",placeholder:e.$t("general.select_a_status"),onRemove:n[2]||(n[2]=t=>te())},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"]),a(C,{label:e.$t("general.from")},{default:s(()=>[a(P,{modelValue:o(l).from_date,"onUpdate:modelValue":n[3]||(n[3]=t=>o(l).from_date=t),"calendar-button":!0,"calendar-button-icon":"calendar"},null,8,["modelValue"])]),_:1},8,["label"]),Ne,a(C,{label:e.$t("general.to")},{default:s(()=>[a(P,{modelValue:o(l).to_date,"onUpdate:modelValue":n[4]||(n[4]=t=>o(l).to_date=t),"calendar-button":!0,"calendar-button-icon":"calendar"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},512),[[V,g.value]]),k(a(re,{title:e.$t("recurring_invoices.no_invoices"),description:e.$t("recurring_invoices.list_of_invoices")},q({default:s(()=>[a(Ee,{class:"mt-5 mb-4"})]),_:2},[o(E).hasAbilities(o(h).CREATE_RECURRING_INVOICE)?{name:"actions",fn:s(()=>[a(T,{variant:"primary-outline",onClick:n[5]||(n[5]=t=>e.$router.push("/admin/recurring-invoices/create"))},{left:s(t=>[a(d,{name:"PlusIcon",class:$(t.class)},null,8,["class"])]),default:s(()=>[m(" "+_(e.$t("recurring_invoices.add_new_invoice")),1)]),_:1})])}:void 0]),1032,["title","description"]),[[V,o(L)]]),k(p("div",Se,[p("div",Ae,[a(ie,{class:"-mb-5","default-index":o(z),onChange:Q},{default:s(()=>[a(w,{title:e.$t("recurring_invoices.active"),filter:"ACTIVE"},null,8,["title"]),a(w,{title:e.$t("recurring_invoices.on_hold"),filter:"ON_HOLD"},null,8,["title"]),a(w,{title:e.$t("recurring_invoices.all"),filter:"ALL"},null,8,["title"])]),_:1},8,["default-index"]),o(c).selectedRecurringInvoices.length?(I(),B(ue,{key:0,class:"absolute float-right"},{activator:s(()=>[p("span",Te,[m(_(e.$t("general.actions"))+" ",1),a(d,{name:"ChevronDownIcon",class:"h-5"})])]),default:s(()=>[a(ce,{onClick:n[6]||(n[6]=t=>Z())},{default:s(()=>[a(d,{name:"TrashIcon",class:"mr-3 text-gray-600"}),m(" "+_(e.$t("general.delete")),1)]),_:1})]),_:1})):M("",!0)]),a(_e,{ref:(t,x)=>{x.table=t,y.value=t},data:K,columns:o(W),"placeholder-count":o(c).totalRecurringInvoices>=20?10:5,class:"mt-10"},q({header:s(()=>[p("div",we,[a(j,{modelValue:o(c).selectAllField,"onUpdate:modelValue":n[7]||(n[7]=t=>o(c).selectAllField=t),variant:"primary",onChange:o(c).selectAllRecurringInvoices},null,8,["modelValue","onChange"])])]),"cell-checkbox":s(({row:t})=>[p("div",xe,[a(j,{id:t.id,modelValue:o(S),"onUpdate:modelValue":n[8]||(n[8]=x=>Be(S)?S.value=x:null),value:t.data.id},null,8,["id","modelValue","value"])])]),"cell-starts_at":s(({row:t})=>[m(_(t.data.formatted_starts_at),1)]),"cell-customer":s(({row:t})=>[a(U,{to:{path:`recurring-invoices/${t.data.id}/view`}},{default:s(()=>[a(G,{text:t.data.customer.name,length:30,tag:"span",class:"font-medium text-primary-500 flex flex-col"},null,8,["text"]),a(G,{text:t.data.customer.contact_name?t.data.customer.contact_name:"",length:30,tag:"span",class:"text-xs text-gray-400"},null,8,["text"])]),_:2},1032,["to"])]),"cell-frequency":s(({row:t})=>[m(_(X(t.data.frequency)),1)]),"cell-status":s(({row:t})=>[a(de,{status:t.data.status,class:"px-3 py-1"},{default:s(()=>[m(_(t.data.status),1)]),_:2},1032,["status"])]),"cell-total":s(({row:t})=>[a(me,{amount:t.data.total,currency:t.data.customer.currency},null,8,["amount","currency"])]),_:2},[J?{name:"cell-actions",fn:s(({row:t})=>[a($e,{row:t.data,table:y.value},null,8,["row","table"])])}:void 0]),1032,["columns","placeholder-count"])],512),[[V,!o(L)]])]),_:1})}}};export{Ge as default};

--- public/build/assets/InvoiceCreate.8ae6be7c.js ---
@@ -1 +1 @@
-var A=Object.defineProperty,K=Object.defineProperties;var Q=Object.getOwnPropertyDescriptors;var k=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var j=(t,e,i)=>e in t?A(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,q=(t,e)=>{for(var i in e||(e={}))W.call(e,i)&&j(t,i,e[i]);if(k)for(var i of k(e))X.call(e,i)&&j(t,i,e[i]);return t},L=(t,e)=>K(t,Q(e));import{r as l,o as u,e as T,f as o,u as n,w as c,J as Z,G as ee,aN as ne,B as x,k as b,L as p,M as y,S as te,O as oe,aP as ie,T as ae,C as se,l as I,j as C,h as $,t as P,m as le,i as ce,U as re,F as de}from"./vendor.01d0adc5.js";import{i as M,b as ue,m as me,r as ve}from"./main.832b14c7.js";import{_ as ge,a as pe,b as _e,c as fe,d as be,e as Ie,f as we}from"./SalesTax.da1d755f.js";import{_ as ye}from"./ExchangeRateConverter.357f31c9.js";import{_ as $e}from"./CreateCustomFields.940787b7.js";import{_ as Be}from"./TaxTypeModal.cf69664d.js";import"./DragIcon.88fb50b8.js";import"./SelectNotePopup.b35e7850.js";import"./NoteModal.a07ce50b.js";import"./payment.372edbf1.js";import"./exchange-rate.45b62b37.js";const Se={class:"grid grid-cols-12 gap-8 mt-6 mb-8"},he={props:{v:{type:Object,default:null},isLoading:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1}},setup(t){const e=M();return(i,r)=>{const B=l("BaseCustomerSelectPopup"),d=l("BaseDatePicker"),m=l("BaseInputGroup"),S=l("BaseInput"),_=l("BaseInputGrid");return u(),T("div",Se,[o(B,{modelValue:n(e).newInvoice.customer,"onUpdate:modelValue":r[0]||(r[0]=a=>n(e).newInvoice.customer=a),valid:t.v.customer_id,"content-loading":t.isLoading,type:"invoice",class:"col-span-12 lg:col-span-5 pr-0"},null,8,["modelValue","valid","content-loading"]),o(_,{class:"col-span-12 lg:col-span-7"},{default:c(()=>[o(m,{label:i.$t("invoices.invoice_date"),"content-loading":t.isLoading,required:"",error:t.v.invoice_date.$error&&t.v.invoice_date.$errors[0].$message},{default:c(()=>[o(d,{modelValue:n(e).newInvoice.invoice_date,"onUpdate:modelValue":r[1]||(r[1]=a=>n(e).newInvoice.invoice_date=a),"content-loading":t.isLoading,"calendar-button":!0,"calendar-button-icon":"calendar"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading","error"]),o(m,{label:i.$t("invoices.due_date"),"content-loading":t.isLoading},{default:c(()=>[o(d,{modelValue:n(e).newInvoice.due_date,"onUpdate:modelValue":r[2]||(r[2]=a=>n(e).newInvoice.due_date=a),"content-loading":t.isLoading,"calendar-button":!0,"calendar-button-icon":"calendar"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),o(m,{label:i.$t("invoices.invoice_number"),"content-loading":t.isLoading,error:t.v.invoice_number.$error&&t.v.invoice_number.$errors[0].$message,required:""},{default:c(()=>[o(S,{modelValue:n(e).newInvoice.invoice_number,"onUpdate:modelValue":r[3]||(r[3]=a=>n(e).newInvoice.invoice_number=a),"content-loading":t.isLoading,onInput:r[4]||(r[4]=a=>t.v.invoice_number.$touch())},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading","error"]),o(ye,{store:n(e),"store-prop":"newInvoice",v:t.v,"is-loading":t.isLoading,"is-edit":t.isEdit,"customer-currency":n(e).newInvoice.currency_id},null,8,["store","v","is-loading","is-edit","customer-currency"])]),_:1})])}}},Ce=["onSubmit"],Ve={class:"flex"},ke={class:"block mt-10 invoice-foot lg:flex lg:justify-between lg:items-start"},je={class:"relative w-full lg:w-1/2 lg:mr-4"},Re={setup(t){const e=M(),i=ue(),r=me(),B=ve(),{t:d}=Z();let m=ee(),S=ne();const _="newInvoice";let a=x(!1);const F=x(["customer","company","customerCustom","invoice","invoiceCustom"]);let f=b(()=>e.isFetchingInvoice||e.isFetchingInitialSettings),E=b(()=>v.value?d("invoices.edit_invoice"):d("invoices.new_invoice"));const N=b(()=>i.selectedCompanySettings.sales_tax_us_enabled==="YES"&&B.salesTaxUSEnabled);let v=b(()=>m.name==="invoices.edit");const U={invoice_date:{required:p.withMessage(d("validation.required"),y)},reference_number:{maxLength:p.withMessage(d("validation.price_maxlength"),te(255))},customer_id:{required:p.withMessage(d("validation.required"),y)},invoice_number:{required:p.withMessage(d("validation.required"),y)},exchange_rate:{required:oe(function(){return p.withMessage(d("validation.required"),y),e.showExchangeRate}),decimal:p.withMessage(d("validation.valid_exchange_rate"),ie)}},w=ae(U,b(()=>e.newInvoice),{$scope:_});r.resetCustomFields(),w.value.$reset,e.resetCurrentInvoice(),e.fetchInvoiceInitialSettings(v.value),se(()=>e.newInvoice.customer,s=>{s&&s.currency?e.newInvoice.selectedCurrency=s.currency:e.newInvoice.selectedCurrency=i.selectedCompanyCurrency});async function G(){if(w.value.$touch(),w.value.$invalid)return!1;a.value=!0;let s=L(q({},e.newInvoice),{sub_total:e.getSubTotal,total:e.getTotal,tax:e.getTotalTax});try{const g=await(v.value?e.updateInvoice:e.addInvoice)(s);S.push(`/admin/invoices/${g.data.data.id}/view`)}catch(h){console.error(h)}a.value=!1}return(s,h)=>{const g=l("BaseBreadcrumbItem"),D=l("BaseBreadcrumb"),V=l("BaseButton"),R=l("router-link"),H=l("BaseIcon"),O=l("BasePageHeader"),z=l("BaseScrollPane"),J=l("BasePage");return u(),T(de,null,[o(ge),o(pe),o(Be),n(N)&&(!n(f)||n(m).query.customer)?(u(),I(_e,{key:0,store:n(e),"is-edit":n(v),"store-prop":"newInvoice",customer:n(e).newInvoice.customer},null,8,["store","is-edit","customer"])):C("",!0),o(J,{class:"relative invoice-create-page"},{default:c(()=>[$("form",{onSubmit:re(G,["prevent"])},[o(O,{title:n(E)},{actions:c(()=>[s.$route.name==="invoices.edit"?(u(),I(R,{key:0,to:`/invoices/pdf/${n(e).newInvoice.unique_hash}`,target:"_blank"},{default:c(()=>[o(V,{class:"mr-3",variant:"primary-outline",type:"button"},{default:c(()=>[$("span",Ve,P(s.$t("general.view_pdf")),1)]),_:1})]),_:1},8,["to"])):C("",!0),o(V,{loading:n(a),disabled:n(a),variant:"primary",type:"submit"},{left:c(Y=>[n(a)?C("",!0):(u(),I(H,{key:0,name:"SaveIcon",class:le(Y.class)},null,8,["class"]))]),default:c(()=>[ce(" "+P(s.$t("invoices.save_invoice")),1)]),_:1},8,["loading","disabled"])]),default:c(()=>[o(D,null,{default:c(()=>[o(g,{title:s.$t("general.home"),to:"/admin/dashboard"},null,8,["title"]),o(g,{title:s.$tc("invoices.invoice",2),to:"/admin/invoices"},null,8,["title"]),s.$route.name==="invoices.edit"?(u(),I(g,{key:0,title:s.$t("invoices.edit_invoice"),to:"#",active:""},null,8,["title"])):(u(),I(g,{key:1,title:s.$t("invoices.new_invoice"),to:"#",active:""},null,8,["title"]))]),_:1})]),_:1},8,["title"]),o(he,{v:n(w),"is-loading":n(f),"is-edit":n(v)},null,8,["v","is-loading","is-edit"]),o(z,null,{default:c(()=>[o(fe,{currency:n(e).newInvoice.selectedCurrency,"is-loading":n(f),"item-validation-scope":_,store:n(e),"store-prop":"newInvoice"},null,8,["currency","is-loading","store"]),$("div",ke,[$("div",je,[o(be,{store:n(e),"store-prop":"newInvoice",fields:F.value,type:"Invoice"},null,8,["store","fields"]),o($e,{type:"Invoice","is-edit":n(v),"is-loading":n(f),store:n(e),"store-prop":"newInvoice","custom-field-scope":_,class:"mb-6"},null,8,["is-edit","is-loading","store"]),o(Ie,{store:n(e),"store-prop":"newInvoice","component-name":"InvoiceTemplate"},null,8,["store"])]),o(we,{currency:n(e).newInvoice.selectedCurrency,"is-loading":n(f),store:n(e),"store-prop":"newInvoice","tax-popup-type":"invoice"},null,8,["currency","is-loading","store"])])]),_:1})],40,Ce)]),_:1})],64)}}};export{Re as default};
+var A=Object.defineProperty,K=Object.defineProperties;var Q=Object.getOwnPropertyDescriptors;var k=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var j=(t,e,i)=>e in t?A(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,q=(t,e)=>{for(var i in e||(e={}))W.call(e,i)&&j(t,i,e[i]);if(k)for(var i of k(e))X.call(e,i)&&j(t,i,e[i]);return t},L=(t,e)=>K(t,Q(e));import{r as l,o as u,e as T,f as o,u as n,w as c,J as Z,G as ee,aN as ne,B as x,k as I,L as p,M as y,S as te,O as oe,aP as ie,T as ae,C as se,l as b,j as C,h as $,t as P,m as le,i as ce,U as re,F as de}from"./vendor.01d0adc5.js";import{i as M,b as ue,m as me,r as ve}from"./main.75722495.js";import{_ as ge,a as pe,b as fe,c as _e,d as Ie,e as be,f as we}from"./SalesTax.0ff2d954.js";import{_ as ye}from"./ExchangeRateConverter.7d8c4309.js";import{_ as $e}from"./CreateCustomFields.a3a572c4.js";import{_ as Be}from"./TaxTypeModal.bf6662b3.js";import"./DragIcon.213b1d78.js";import"./SelectNotePopup.781ad74a.js";import"./NoteModal.f6d01f84.js";import"./payment.5c57bec3.js";import"./exchange-rate.dffa79b6.js";const Se={class:"grid grid-cols-12 gap-8 mt-6 mb-8"},he={props:{v:{type:Object,default:null},isLoading:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1}},setup(t){const e=M();return(i,r)=>{const B=l("BaseCustomerSelectPopup"),d=l("BaseDatePicker"),m=l("BaseInputGroup"),S=l("BaseInput"),f=l("BaseInputGrid");return u(),T("div",Se,[o(B,{modelValue:n(e).newInvoice.customer,"onUpdate:modelValue":r[0]||(r[0]=a=>n(e).newInvoice.customer=a),valid:t.v.customer_id,"content-loading":t.isLoading,type:"invoice",class:"col-span-12 lg:col-span-5 pr-0"},null,8,["modelValue","valid","content-loading"]),o(f,{class:"col-span-12 lg:col-span-7"},{default:c(()=>[o(m,{label:i.$t("invoices.invoice_date"),"content-loading":t.isLoading,required:"",error:t.v.invoice_date.$error&&t.v.invoice_date.$errors[0].$message},{default:c(()=>[o(d,{modelValue:n(e).newInvoice.invoice_date,"onUpdate:modelValue":r[1]||(r[1]=a=>n(e).newInvoice.invoice_date=a),"content-loading":t.isLoading,"calendar-button":!0,"calendar-button-icon":"calendar"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading","error"]),o(m,{label:i.$t("invoices.due_date"),"content-loading":t.isLoading},{default:c(()=>[o(d,{modelValue:n(e).newInvoice.due_date,"onUpdate:modelValue":r[2]||(r[2]=a=>n(e).newInvoice.due_date=a),"content-loading":t.isLoading,"calendar-button":!0,"calendar-button-icon":"calendar"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),o(m,{label:i.$t("invoices.invoice_number"),"content-loading":t.isLoading,error:t.v.invoice_number.$error&&t.v.invoice_number.$errors[0].$message,required:""},{default:c(()=>[o(S,{modelValue:n(e).newInvoice.invoice_number,"onUpdate:modelValue":r[3]||(r[3]=a=>n(e).newInvoice.invoice_number=a),"content-loading":t.isLoading,onInput:r[4]||(r[4]=a=>t.v.invoice_number.$touch())},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading","error"]),o(ye,{store:n(e),"store-prop":"newInvoice",v:t.v,"is-loading":t.isLoading,"is-edit":t.isEdit,"customer-currency":n(e).newInvoice.currency_id},null,8,["store","v","is-loading","is-edit","customer-currency"])]),_:1})])}}},Ce=["onSubmit"],Ve={class:"flex"},ke={class:"block mt-10 invoice-foot lg:flex lg:justify-between lg:items-start"},je={class:"relative w-full lg:w-1/2 lg:mr-4"},Re={setup(t){const e=M(),i=ue(),r=me(),B=ve(),{t:d}=Z();let m=ee(),S=ne();const f="newInvoice";let a=x(!1);const F=x(["customer","company","customerCustom","invoice","invoiceCustom"]);let _=I(()=>e.isFetchingInvoice||e.isFetchingInitialSettings),E=I(()=>v.value?d("invoices.edit_invoice"):d("invoices.new_invoice"));const N=I(()=>i.selectedCompanySettings.sales_tax_us_enabled==="YES"&&B.salesTaxUSEnabled);let v=I(()=>m.name==="invoices.edit");const U={invoice_date:{required:p.withMessage(d("validation.required"),y)},reference_number:{maxLength:p.withMessage(d("validation.price_maxlength"),te(255))},customer_id:{required:p.withMessage(d("validation.required"),y)},invoice_number:{required:p.withMessage(d("validation.required"),y)},exchange_rate:{required:oe(function(){return p.withMessage(d("validation.required"),y),e.showExchangeRate}),decimal:p.withMessage(d("validation.valid_exchange_rate"),ie)}},w=ae(U,I(()=>e.newInvoice),{$scope:f});r.resetCustomFields(),w.value.$reset,e.resetCurrentInvoice(),e.fetchInvoiceInitialSettings(v.value),se(()=>e.newInvoice.customer,s=>{s&&s.currency?e.newInvoice.selectedCurrency=s.currency:e.newInvoice.selectedCurrency=i.selectedCompanyCurrency});async function G(){if(w.value.$touch(),w.value.$invalid)return!1;a.value=!0;let s=L(q({},e.newInvoice),{sub_total:e.getSubTotal,total:e.getTotal,tax:e.getTotalTax});try{const g=await(v.value?e.updateInvoice:e.addInvoice)(s);S.push(`/admin/invoices/${g.data.data.id}/view`)}catch(h){console.error(h)}a.value=!1}return(s,h)=>{const g=l("BaseBreadcrumbItem"),D=l("BaseBreadcrumb"),V=l("BaseButton"),R=l("router-link"),H=l("BaseIcon"),O=l("BasePageHeader"),z=l("BaseScrollPane"),J=l("BasePage");return u(),T(de,null,[o(ge),o(pe),o(Be),n(N)&&(!n(_)||n(m).query.customer)?(u(),b(fe,{key:0,store:n(e),"is-edit":n(v),"store-prop":"newInvoice",customer:n(e).newInvoice.customer},null,8,["store","is-edit","customer"])):C("",!0),o(J,{class:"relative invoice-create-page"},{default:c(()=>[$("form",{onSubmit:re(G,["prevent"])},[o(O,{title:n(E)},{actions:c(()=>[s.$route.name==="invoices.edit"?(u(),b(R,{key:0,to:`/invoices/pdf/${n(e).newInvoice.unique_hash}`,target:"_blank"},{default:c(()=>[o(V,{class:"mr-3",variant:"primary-outline",type:"button"},{default:c(()=>[$("span",Ve,P(s.$t("general.view_pdf")),1)]),_:1})]),_:1},8,["to"])):C("",!0),o(V,{loading:n(a),disabled:n(a),variant:"primary",type:"submit"},{left:c(Y=>[n(a)?C("",!0):(u(),b(H,{key:0,name:"SaveIcon",class:le(Y.class)},null,8,["class"]))]),default:c(()=>[ce(" "+P(s.$t("invoices.save_invoice")),1)]),_:1},8,["loading","disabled"])]),default:c(()=>[o(D,null,{default:c(()=>[o(g,{title:s.$t("general.home"),to:"/admin/dashboard"},null,8,["title"]),o(g,{title:s.$tc("invoices.invoice",2),to:"/admin/invoices"},null,8,["title"]),s.$route.name==="invoices.edit"?(u(),b(g,{key:0,title:s.$t("invoices.edit_invoice"),to:"#",active:""},null,8,["title"])):(u(),b(g,{key:1,title:s.$t("invoices.new_invoice"),to:"#",active:""},null,8,["title"]))]),_:1})]),_:1},8,["title"]),o(he,{v:n(w),"is-loading":n(_),"is-edit":n(v)},null,8,["v","is-loading","is-edit"]),o(z,null,{default:c(()=>[o(_e,{currency:n(e).newInvoice.selectedCurrency,"is-loading":n(_),"item-validation-scope":f,store:n(e),"store-prop":"newInvoice"},null,8,["currency","is-loading","store"]),$("div",ke,[$("div",je,[o(Ie,{store:n(e),"store-prop":"newInvoice",fields:F.value,type:"Invoice"},null,8,["store","fields"]),o($e,{type:"Invoice","is-edit":n(v),"is-loading":n(_),store:n(e),"store-prop":"newInvoice","custom-field-scope":f,class:"mb-6"},null,8,["is-edit","is-loading","store"]),o(be,{store:n(e),"store-prop":"newInvoice","component-name":"InvoiceTemplate"},null,8,["store"])]),o(we,{currency:n(e).newInvoice.selectedCurrency,"is-loading":n(_),store:n(e),"store-prop":"newInvoice","tax-popup-type":"invoice"},null,8,["currency","is-loading","store"])])]),_:1})],40,Ce)]),_:1})],64)}}};export{Re as default};

--- public/build/assets/InvoiceIndexDropdown.430bc329.js ---
@@ -1 +1 @@
-import{J as O,G as j,aN as z,ah as R,r as I,o as r,l,w as o,u as c,f as s,q as M,ag as P,i as d,t as m,j as v}from"./vendor.01d0adc5.js";import{i as F,c as U,u as q,j as H,e as W,g as y}from"./main.832b14c7.js";const K={props:{row:{type:Object,default:null},table:{type:Object,default:null},loadData:{type:Function,default:()=>{}}},setup(a){const f=a,p=F(),N=U(),$=q(),b=H(),g=W(),{t:i}=O(),w=j(),C=z(),x=R("utils");function _(e){return(e.status=="SENT"||e.status=="VIEWED")&&g.hasAbilities(y.SEND_INVOICE)}function D(e){return e.status=="DRAFT"&&w.name!=="invoices.view"&&g.hasAbilities(y.SEND_INVOICE)}async function B(e){b.openDialog({title:i("general.are_you_sure"),message:i("invoices.confirm_delete"),yesLabel:i("general.ok"),noLabel:i("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(n=>{e=e,n&&p.deleteInvoice({ids:[e]}).then(t=>{t.data.success&&(C.push("/admin/invoices"),f.table&&f.table.refresh(),p.$patch(h=>{h.selectedInvoices=[],h.selectAllField=!1}))})})}async function A(e){b.openDialog({title:i("general.are_you_sure"),message:i("invoices.confirm_clone"),yesLabel:i("general.ok"),noLabel:i("general.cancel"),variant:"primary",hideNoButton:!1,size:"lg"}).then(n=>{n&&p.cloneInvoice(e).then(t=>{C.push(`/admin/invoices/${t.data.data.id}/edit`)})})}async function T(e){b.openDialog({title:i("general.are_you_sure"),message:i("invoices.invoice_mark_as_sent"),yesLabel:i("general.ok"),noLabel:i("general.cancel"),variant:"primary",hideNoButton:!1,size:"lg"}).then(n=>{const t={id:e,status:"SENT"};n&&p.markAsSent(t).then(h=>{f.table&&f.table.refresh()})})}async function E(e){N.openModal({title:i("invoices.send_invoice"),componentName:"SendInvoiceModal",id:e.id,data:e,variant:"sm"})}function V(){let e=`${window.location.origin}/invoices/pdf/${f.row.unique_hash}`;x.copyTextToClipboard(e),$.showNotification({type:"success",message:i("general.copied_pdf_url_clipboard")})}return(e,n)=>{const t=I("BaseIcon"),h=I("BaseButton"),u=I("BaseDropdownItem"),S=I("router-link"),L=I("BaseDropdown");return r(),l(L,null,{activator:o(()=>[c(w).name==="invoices.view"?(r(),l(h,{key:0,variant:"primary"},{default:o(()=>[s(t,{name:"DotsHorizontalIcon",class:"h-5 text-white"})]),_:1})):(r(),l(t,{key:1,name:"DotsHorizontalIcon",class:"h-5 text-gray-500"}))]),default:o(()=>[c(g).hasAbilities(c(y).EDIT_INVOICE)?(r(),l(S,{key:0,to:`/admin/invoices/${a.row.id}/edit`},{default:o(()=>[M(s(u,null,{default:o(()=>[s(t,{name:"PencilIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),d(" "+m(e.$t("general.edit")),1)]),_:1},512),[[P,a.row.allow_edit]])]),_:1},8,["to"])):v("",!0),c(w).name==="invoices.view"?(r(),l(u,{key:1,onClick:V},{default:o(()=>[s(t,{name:"LinkIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),d(" "+m(e.$t("general.copy_pdf_url")),1)]),_:1})):v("",!0),c(w).name!=="invoices.view"&&c(g).hasAbilities(c(y).VIEW_INVOICE)?(r(),l(S,{key:2,to:`/admin/invoices/${a.row.id}/view`},{default:o(()=>[s(u,null,{default:o(()=>[s(t,{name:"EyeIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),d(" "+m(e.$t("general.view")),1)]),_:1})]),_:1},8,["to"])):v("",!0),D(a.row)?(r(),l(u,{key:3,onClick:n[0]||(n[0]=k=>E(a.row))},{default:o(()=>[s(t,{name:"PaperAirplaneIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),d(" "+m(e.$t("invoices.send_invoice")),1)]),_:1})):v("",!0),_(a.row)?(r(),l(u,{key:4,onClick:n[1]||(n[1]=k=>E(a.row))},{default:o(()=>[s(t,{name:"PaperAirplaneIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),d(" "+m(e.$t("invoices.resend_invoice")),1)]),_:1})):v("",!0),s(S,{to:`/admin/payments/${a.row.id}/create`},{default:o(()=>[a.row.status=="SENT"&&c(w).name!=="invoices.view"?(r(),l(u,{key:0},{default:o(()=>[s(t,{name:"CreditCardIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),d(" "+m(e.$t("invoices.record_payment")),1)]),_:1})):v("",!0)]),_:1},8,["to"]),D(a.row)?(r(),l(u,{key:5,onClick:n[2]||(n[2]=k=>T(a.row.id))},{default:o(()=>[s(t,{name:"CheckCircleIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),d(" "+m(e.$t("invoices.mark_as_sent")),1)]),_:1})):v("",!0),c(g).hasAbilities(c(y).CREATE_INVOICE)?(r(),l(u,{key:6,onClick:n[3]||(n[3]=k=>A(a.row))},{default:o(()=>[s(t,{name:"DocumentTextIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),d(" "+m(e.$t("invoices.clone_invoice")),1)]),_:1})):v("",!0),c(g).hasAbilities(c(y).DELETE_INVOICE)?(r(),l(u,{key:7,onClick:n[4]||(n[4]=k=>B(a.row.id))},{default:o(()=>[s(t,{name:"TrashIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),d(" "+m(e.$t("general.delete")),1)]),_:1})):v("",!0)]),_:1})}}};export{K as _};
+import{J as O,G as j,aN as z,ah as R,r as I,o as r,l,w as o,u as c,f as s,q as M,ag as P,i as d,t as m,j as v}from"./vendor.01d0adc5.js";import{i as F,c as U,u as q,j as H,e as W,g as y}from"./main.75722495.js";const K={props:{row:{type:Object,default:null},table:{type:Object,default:null},loadData:{type:Function,default:()=>{}}},setup(a){const f=a,p=F(),N=U(),$=q(),b=H(),g=W(),{t:i}=O(),w=j(),C=z(),x=R("utils");function _(e){return(e.status=="SENT"||e.status=="VIEWED")&&g.hasAbilities(y.SEND_INVOICE)}function D(e){return e.status=="DRAFT"&&w.name!=="invoices.view"&&g.hasAbilities(y.SEND_INVOICE)}async function B(e){b.openDialog({title:i("general.are_you_sure"),message:i("invoices.confirm_delete"),yesLabel:i("general.ok"),noLabel:i("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(n=>{e=e,n&&p.deleteInvoice({ids:[e]}).then(t=>{t.data.success&&(C.push("/admin/invoices"),f.table&&f.table.refresh(),p.$patch(h=>{h.selectedInvoices=[],h.selectAllField=!1}))})})}async function A(e){b.openDialog({title:i("general.are_you_sure"),message:i("invoices.confirm_clone"),yesLabel:i("general.ok"),noLabel:i("general.cancel"),variant:"primary",hideNoButton:!1,size:"lg"}).then(n=>{n&&p.cloneInvoice(e).then(t=>{C.push(`/admin/invoices/${t.data.data.id}/edit`)})})}async function T(e){b.openDialog({title:i("general.are_you_sure"),message:i("invoices.invoice_mark_as_sent"),yesLabel:i("general.ok"),noLabel:i("general.cancel"),variant:"primary",hideNoButton:!1,size:"lg"}).then(n=>{const t={id:e,status:"SENT"};n&&p.markAsSent(t).then(h=>{f.table&&f.table.refresh()})})}async function E(e){N.openModal({title:i("invoices.send_invoice"),componentName:"SendInvoiceModal",id:e.id,data:e,variant:"sm"})}function V(){let e=`${window.location.origin}/invoices/pdf/${f.row.unique_hash}`;x.copyTextToClipboard(e),$.showNotification({type:"success",message:i("general.copied_pdf_url_clipboard")})}return(e,n)=>{const t=I("BaseIcon"),h=I("BaseButton"),u=I("BaseDropdownItem"),S=I("router-link"),L=I("BaseDropdown");return r(),l(L,null,{activator:o(()=>[c(w).name==="invoices.view"?(r(),l(h,{key:0,variant:"primary"},{default:o(()=>[s(t,{name:"DotsHorizontalIcon",class:"h-5 text-white"})]),_:1})):(r(),l(t,{key:1,name:"DotsHorizontalIcon",class:"h-5 text-gray-500"}))]),default:o(()=>[c(g).hasAbilities(c(y).EDIT_INVOICE)?(r(),l(S,{key:0,to:`/admin/invoices/${a.row.id}/edit`},{default:o(()=>[M(s(u,null,{default:o(()=>[s(t,{name:"PencilIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),d(" "+m(e.$t("general.edit")),1)]),_:1},512),[[P,a.row.allow_edit]])]),_:1},8,["to"])):v("",!0),c(w).name==="invoices.view"?(r(),l(u,{key:1,onClick:V},{default:o(()=>[s(t,{name:"LinkIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),d(" "+m(e.$t("general.copy_pdf_url")),1)]),_:1})):v("",!0),c(w).name!=="invoices.view"&&c(g).hasAbilities(c(y).VIEW_INVOICE)?(r(),l(S,{key:2,to:`/admin/invoices/${a.row.id}/view`},{default:o(()=>[s(u,null,{default:o(()=>[s(t,{name:"EyeIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),d(" "+m(e.$t("general.view")),1)]),_:1})]),_:1},8,["to"])):v("",!0),D(a.row)?(r(),l(u,{key:3,onClick:n[0]||(n[0]=k=>E(a.row))},{default:o(()=>[s(t,{name:"PaperAirplaneIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),d(" "+m(e.$t("invoices.send_invoice")),1)]),_:1})):v("",!0),_(a.row)?(r(),l(u,{key:4,onClick:n[1]||(n[1]=k=>E(a.row))},{default:o(()=>[s(t,{name:"PaperAirplaneIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),d(" "+m(e.$t("invoices.resend_invoice")),1)]),_:1})):v("",!0),s(S,{to:`/admin/payments/${a.row.id}/create`},{default:o(()=>[a.row.status=="SENT"&&c(w).name!=="invoices.view"?(r(),l(u,{key:0},{default:o(()=>[s(t,{name:"CreditCardIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),d(" "+m(e.$t("invoices.record_payment")),1)]),_:1})):v("",!0)]),_:1},8,["to"]),D(a.row)?(r(),l(u,{key:5,onClick:n[2]||(n[2]=k=>T(a.row.id))},{default:o(()=>[s(t,{name:"CheckCircleIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),d(" "+m(e.$t("invoices.mark_as_sent")),1)]),_:1})):v("",!0),c(g).hasAbilities(c(y).CREATE_INVOICE)?(r(),l(u,{key:6,onClick:n[3]||(n[3]=k=>A(a.row))},{default:o(()=>[s(t,{name:"DocumentTextIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),d(" "+m(e.$t("invoices.clone_invoice")),1)]),_:1})):v("",!0),c(g).hasAbilities(c(y).DELETE_INVOICE)?(r(),l(u,{key:7,onClick:n[4]||(n[4]=k=>B(a.row.id))},{default:o(()=>[s(t,{name:"TrashIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),d(" "+m(e.$t("general.delete")),1)]),_:1})):v("",!0)]),_:1})}}};export{K as _};

--- public/build/assets/ItemUnitModal.01494bfb.js ---
@@ -1 +1 @@
-import{J as S,B as V,k as h,L as g,M as C,N as k,T as N,r as i,o as b,l as B,w as r,h as d,i as p,t as f,u as e,f as l,m as j,j as x,U as q}from"./vendor.01d0adc5.js";import{p as z,c as D}from"./main.832b14c7.js";const L={class:"flex justify-between w-full"},T=["onSubmit"],E={class:"p-8 sm:p-6"},G={class:"z-0 flex justify-end p-4 border-t border-gray-200 border-solid border-modal-bg"},F={setup(J){const t=z(),a=D(),{t:v}=S();let s=V(!1);const $=h(()=>({name:{required:g.withMessage(v("validation.required"),C),minLength:g.withMessage(v("validation.name_min_length",{count:3}),k(3))}})),n=N($,h(()=>t.currentItemUnit));async function U(){if(n.value.$touch(),n.value.$invalid)return!0;try{const o=t.isItemUnitEdit?t.updateItemUnit:t.addItemUnit;s.value=!0,await o(t.currentItemUnit),a.refreshData&&a.refreshData(),u(),s.value=!1}catch{return s.value=!1,!0}}function u(){a.closeModal(),setTimeout(()=>{t.currentItemUnit={id:null,name:""},a.$reset(),n.value.$reset()},300)}return(o,m)=>{const _=i("BaseIcon"),y=i("BaseInput"),w=i("BaseInputGroup"),I=i("BaseButton"),M=i("BaseModal");return b(),B(M,{show:e(a).active&&e(a).componentName==="ItemUnitModal",onClose:u},{header:r(()=>[d("div",L,[p(f(e(a).title)+" ",1),l(_,{name:"XIcon",class:"w-6 h-6 text-gray-500 cursor-pointer",onClick:u})])]),default:r(()=>[d("form",{action:"",onSubmit:q(U,["prevent"])},[d("div",E,[l(w,{label:o.$t("settings.customization.items.unit_name"),error:e(n).name.$error&&e(n).name.$errors[0].$message,variant:"horizontal",required:""},{default:r(()=>[l(y,{modelValue:e(t).currentItemUnit.name,"onUpdate:modelValue":m[0]||(m[0]=c=>e(t).currentItemUnit.name=c),invalid:e(n).name.$error,type:"text",onInput:m[1]||(m[1]=c=>e(n).name.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"])]),d("div",G,[l(I,{type:"button",variant:"primary-outline",class:"mr-3 text-sm",onClick:u},{default:r(()=>[p(f(o.$t("general.cancel")),1)]),_:1}),l(I,{loading:e(s),disabled:e(s),variant:"primary",type:"submit"},{left:r(c=>[e(s)?x("",!0):(b(),B(_,{key:0,name:"SaveIcon",class:j(c.class)},null,8,["class"]))]),default:r(()=>[p(" "+f(e(t).isItemUnitEdit?o.$t("general.update"):o.$t("general.save")),1)]),_:1},8,["loading","disabled"])])],40,T)]),_:1},8,["show"])}}};export{F as _};
+import{J as S,B as V,k as h,L as g,M as C,N as k,T as N,r as i,o as B,l as b,w as r,h as c,i as p,t as f,u as e,f as l,m as j,j as x,U as q}from"./vendor.01d0adc5.js";import{p as z,c as D}from"./main.75722495.js";const L={class:"flex justify-between w-full"},T=["onSubmit"],E={class:"p-8 sm:p-6"},G={class:"z-0 flex justify-end p-4 border-t border-gray-200 border-solid border-modal-bg"},F={setup(J){const t=z(),a=D(),{t:v}=S();let s=V(!1);const $=h(()=>({name:{required:g.withMessage(v("validation.required"),C),minLength:g.withMessage(v("validation.name_min_length",{count:3}),k(3))}})),n=N($,h(()=>t.currentItemUnit));async function U(){if(n.value.$touch(),n.value.$invalid)return!0;try{const o=t.isItemUnitEdit?t.updateItemUnit:t.addItemUnit;s.value=!0,await o(t.currentItemUnit),a.refreshData&&a.refreshData(),u(),s.value=!1}catch{return s.value=!1,!0}}function u(){a.closeModal(),setTimeout(()=>{t.currentItemUnit={id:null,name:""},a.$reset(),n.value.$reset()},300)}return(o,m)=>{const _=i("BaseIcon"),y=i("BaseInput"),w=i("BaseInputGroup"),I=i("BaseButton"),M=i("BaseModal");return B(),b(M,{show:e(a).active&&e(a).componentName==="ItemUnitModal",onClose:u},{header:r(()=>[c("div",L,[p(f(e(a).title)+" ",1),l(_,{name:"XIcon",class:"w-6 h-6 text-gray-500 cursor-pointer",onClick:u})])]),default:r(()=>[c("form",{action:"",onSubmit:q(U,["prevent"])},[c("div",E,[l(w,{label:o.$t("settings.customization.items.unit_name"),error:e(n).name.$error&&e(n).name.$errors[0].$message,variant:"horizontal",required:""},{default:r(()=>[l(y,{modelValue:e(t).currentItemUnit.name,"onUpdate:modelValue":m[0]||(m[0]=d=>e(t).currentItemUnit.name=d),invalid:e(n).name.$error,type:"text",onInput:m[1]||(m[1]=d=>e(n).name.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"])]),c("div",G,[l(I,{type:"button",variant:"primary-outline",class:"mr-3 text-sm",onClick:u},{default:r(()=>[p(f(o.$t("general.cancel")),1)]),_:1}),l(I,{loading:e(s),disabled:e(s),variant:"primary",type:"submit"},{left:r(d=>[e(s)?x("",!0):(B(),b(_,{key:0,name:"SaveIcon",class:j(d.class)},null,8,["class"]))]),default:r(()=>[p(" "+f(e(t).isItemUnitEdit?o.$t("general.update"):o.$t("general.save")),1)]),_:1},8,["loading","disabled"])])],40,T)]),_:1},8,["show"])}}};export{F as _};

--- public/build/assets/LayoutBasic.df06fd51.js ---
@@ -1 +1 @@
-import{u as V}from"./auth.77d12976.js";import{J as I,G as N,aN as z,B as F,k as b,C as G,r as p,o as n,l as c,w as a,h as t,u as e,e as u,y as v,m as x,i as d,t as l,F as w,f as r,a9 as O,b4 as E,b5 as J,ab as P,b6 as T,b7 as q,b8 as H,b9 as K,ba as Q,j as W}from"./vendor.01d0adc5.js";import{u as U}from"./global.8697213a.js";import{f as X}from"./main.832b14c7.js";import{N as Y}from"./NotificationRoot.9c69192b.js";const Z={class:"mx-auto px-8"},tt={class:"flex justify-between h-16 w-full"},et={class:"flex"},st={class:"shrink-0 flex items-center"},ot=["href"],rt=["src"],at={class:"hidden sm:-my-px sm:ml-6 sm:flex sm:space-x-8"},nt={class:"hidden sm:ml-6 sm:flex sm:items-center"},it=t("button",{type:"button",class:"bg-white p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},null,-1),lt=["src"],ct={class:"-mr-2 flex items-center sm:hidden"},ut=t("span",{class:"sr-only"},"Open main menu",-1),dt={class:"pt-2 pb-3 space-y-1"},mt={class:"pt-4 pb-3 border-t border-gray-200"},ft={class:"flex items-center px-4"},pt={class:"shrink-0"},ht=["src"],gt={class:"ml-3"},_t={class:"text-base font-medium text-gray-800"},yt={class:"text-sm font-medium text-gray-500"},bt=t("button",{type:"button",class:"ml-auto bg-white shrink-0 p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},null,-1),vt={class:"mt-3 space-y-1"},xt={setup(C){const{t:m}=I(),f=N(),o=U(),h=[{title:m("navigation.logout"),link:`/${o.companySlug}/customer/login`}],k=V(),$=z(),g=F(""),B=b(()=>o.currentUser&&o.currentUser.avatar!==0?o.currentUser.avatar:A());function A(){return new URL("/build/img/default-avatar.jpg",self.location)}G(f,i=>{g.value=i.path},{immediate:!0});const S=b(()=>window.customer_logo?window.customer_logo:!1);function _(i){return f.path.indexOf(i)>-1}function R(){k.logout(o.companySlug).then(i=>{i&&$.push({name:"customer.login"})})}return(i,D)=>{const y=p("router-link"),j=p("BaseDropdownItem"),L=p("BaseDropdown");return n(),c(e(Q),{as:"nav",class:"bg-white shadow-sm fixed top-0 left-0 z-20 w-full"},{default:a(({open:M})=>[t("div",Z,[t("div",tt,[t("div",et,[t("div",st,[t("a",{href:`/${e(o).companySlug}/customer/dashboard`,class:"float-none text-lg not-italic font-black tracking-wider text-white brand-main md:float-left font-base"},[e(S)?(n(),u("img",{key:1,src:e(S),class:"h-6"},null,8,rt)):(n(),c(X,{key:0,class:"h-6"}))],8,ot)]),t("div",at,[(n(!0),u(w,null,v(e(o).mainMenu,s=>(n(),c(y,{key:s.title,to:`/${e(o).companySlug}${s.link}`,class:x([_(s.link)?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium"])},{default:a(()=>[d(l(s.title),1)]),_:2},1032,["to","class"]))),128))])]),t("div",nt,[it,r(e(P),{as:"div",class:"ml-3 relative"},{default:a(()=>[r(L,{"width-class":"w-48"},{activator:a(()=>[r(e(O),{class:"bg-white flex text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},{default:a(()=>[t("img",{class:"h-8 w-8 rounded-full",src:e(B),alt:""},null,8,lt)]),_:1})]),default:a(()=>[r(j,{onClick:D[0]||(D[0]=s=>i.$router.push({name:"customer.profile"}))},{default:a(()=>[r(e(E),{class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),d(" "+l(i.$t("navigation.settings")),1)]),_:1}),r(j,{onClick:R},{default:a(()=>[r(e(J),{class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),d(" "+l(i.$t("navigation.logout")),1)]),_:1})]),_:1})]),_:1})]),t("div",ct,[r(e(H),{class:"bg-white inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},{default:a(()=>[ut,M?(n(),c(e(q),{key:1,class:"block h-6 w-6","aria-hidden":"true"})):(n(),c(e(T),{key:0,class:"block h-6 w-6","aria-hidden":"true"}))]),_:2},1024)])])]),r(e(K),{class:"sm:hidden"},{default:a(()=>[t("div",dt,[(n(!0),u(w,null,v(e(o).mainMenu,s=>(n(),c(y,{key:s.title,to:`/${e(o).companySlug}${s.link}`,class:x([_(s.link)?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800","block pl-3 pr-4 py-2 border-l-4 text-base font-medium"]),"aria-current":s.current?"page":void 0},{default:a(()=>[d(l(s.title),1)]),_:2},1032,["to","class","aria-current"]))),128))]),t("div",mt,[t("div",ft,[t("div",pt,[t("img",{class:"h-10 w-10 rounded-full",src:e(B),alt:""},null,8,ht)]),t("div",gt,[t("div",_t,l(e(o).currentUser.title),1),t("div",yt,l(e(o).currentUser.email),1)]),bt]),t("div",vt,[(n(),u(w,null,v(h,s=>r(y,{key:s.title,to:s.link,class:x([_(s.link)?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800","block pl-3 pr-4 py-2 border-l-4 text-base font-medium"])},{default:a(()=>[d(l(s.title),1)]),_:2},1032,["to","class"])),64))])])]),_:1})]),_:1})}}},wt={key:0,class:"h-full"},kt={class:"mt-16 pb-16 h-screen h-screen-ios overflow-y-auto min-h-0"},Nt={setup(C){const m=U(),f=N(),o=b(()=>m.isAppLoaded);h();async function h(){await m.bootstrap(f.params.company)}return(k,$)=>{const g=p("router-view");return e(o)?(n(),u("div",wt,[r(Y),r(xt),t("main",kt,[r(g)])])):W("",!0)}}};export{Nt as default};
+import{u as V}from"./auth.4644c288.js";import{J as I,G as N,aN as z,B as F,k as b,C as G,r as p,o as n,l as c,w as a,h as t,u as e,e as u,y as v,m as x,i as d,t as l,F as w,f as r,a9 as O,b4 as E,b5 as J,ab as P,b6 as T,b7 as q,b8 as H,b9 as K,ba as Q,j as W}from"./vendor.01d0adc5.js";import{u as U}from"./global.08b6a984.js";import{f as X}from"./main.75722495.js";import{N as Y}from"./NotificationRoot.a98180ab.js";const Z={class:"mx-auto px-8"},tt={class:"flex justify-between h-16 w-full"},et={class:"flex"},st={class:"shrink-0 flex items-center"},ot=["href"],rt=["src"],at={class:"hidden sm:-my-px sm:ml-6 sm:flex sm:space-x-8"},nt={class:"hidden sm:ml-6 sm:flex sm:items-center"},it=t("button",{type:"button",class:"bg-white p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},null,-1),lt=["src"],ct={class:"-mr-2 flex items-center sm:hidden"},ut=t("span",{class:"sr-only"},"Open main menu",-1),dt={class:"pt-2 pb-3 space-y-1"},mt={class:"pt-4 pb-3 border-t border-gray-200"},ft={class:"flex items-center px-4"},pt={class:"shrink-0"},ht=["src"],gt={class:"ml-3"},_t={class:"text-base font-medium text-gray-800"},yt={class:"text-sm font-medium text-gray-500"},bt=t("button",{type:"button",class:"ml-auto bg-white shrink-0 p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},null,-1),vt={class:"mt-3 space-y-1"},xt={setup(C){const{t:m}=I(),f=N(),o=U(),h=[{title:m("navigation.logout"),link:`/${o.companySlug}/customer/login`}],k=V(),$=z(),g=F(""),B=b(()=>o.currentUser&&o.currentUser.avatar!==0?o.currentUser.avatar:A());function A(){return new URL("/build/img/default-avatar.jpg",self.location)}G(f,i=>{g.value=i.path},{immediate:!0});const S=b(()=>window.customer_logo?window.customer_logo:!1);function _(i){return f.path.indexOf(i)>-1}function R(){k.logout(o.companySlug).then(i=>{i&&$.push({name:"customer.login"})})}return(i,D)=>{const y=p("router-link"),j=p("BaseDropdownItem"),L=p("BaseDropdown");return n(),c(e(Q),{as:"nav",class:"bg-white shadow-sm fixed top-0 left-0 z-20 w-full"},{default:a(({open:M})=>[t("div",Z,[t("div",tt,[t("div",et,[t("div",st,[t("a",{href:`/${e(o).companySlug}/customer/dashboard`,class:"float-none text-lg not-italic font-black tracking-wider text-white brand-main md:float-left font-base"},[e(S)?(n(),u("img",{key:1,src:e(S),class:"h-6"},null,8,rt)):(n(),c(X,{key:0,class:"h-6"}))],8,ot)]),t("div",at,[(n(!0),u(w,null,v(e(o).mainMenu,s=>(n(),c(y,{key:s.title,to:`/${e(o).companySlug}${s.link}`,class:x([_(s.link)?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium"])},{default:a(()=>[d(l(s.title),1)]),_:2},1032,["to","class"]))),128))])]),t("div",nt,[it,r(e(P),{as:"div",class:"ml-3 relative"},{default:a(()=>[r(L,{"width-class":"w-48"},{activator:a(()=>[r(e(O),{class:"bg-white flex text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},{default:a(()=>[t("img",{class:"h-8 w-8 rounded-full",src:e(B),alt:""},null,8,lt)]),_:1})]),default:a(()=>[r(j,{onClick:D[0]||(D[0]=s=>i.$router.push({name:"customer.profile"}))},{default:a(()=>[r(e(E),{class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),d(" "+l(i.$t("navigation.settings")),1)]),_:1}),r(j,{onClick:R},{default:a(()=>[r(e(J),{class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),d(" "+l(i.$t("navigation.logout")),1)]),_:1})]),_:1})]),_:1})]),t("div",ct,[r(e(H),{class:"bg-white inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},{default:a(()=>[ut,M?(n(),c(e(q),{key:1,class:"block h-6 w-6","aria-hidden":"true"})):(n(),c(e(T),{key:0,class:"block h-6 w-6","aria-hidden":"true"}))]),_:2},1024)])])]),r(e(K),{class:"sm:hidden"},{default:a(()=>[t("div",dt,[(n(!0),u(w,null,v(e(o).mainMenu,s=>(n(),c(y,{key:s.title,to:`/${e(o).companySlug}${s.link}`,class:x([_(s.link)?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800","block pl-3 pr-4 py-2 border-l-4 text-base font-medium"]),"aria-current":s.current?"page":void 0},{default:a(()=>[d(l(s.title),1)]),_:2},1032,["to","class","aria-current"]))),128))]),t("div",mt,[t("div",ft,[t("div",pt,[t("img",{class:"h-10 w-10 rounded-full",src:e(B),alt:""},null,8,ht)]),t("div",gt,[t("div",_t,l(e(o).currentUser.title),1),t("div",yt,l(e(o).currentUser.email),1)]),bt]),t("div",vt,[(n(),u(w,null,v(h,s=>r(y,{key:s.title,to:s.link,class:x([_(s.link)?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800","block pl-3 pr-4 py-2 border-l-4 text-base font-medium"])},{default:a(()=>[d(l(s.title),1)]),_:2},1032,["to","class"])),64))])])]),_:1})]),_:1})}}},wt={key:0,class:"h-full"},kt={class:"mt-16 pb-16 h-screen h-screen-ios overflow-y-auto min-h-0"},Nt={setup(C){const m=U(),f=N(),o=b(()=>m.isAppLoaded);h();async function h(){await m.bootstrap(f.params.company)}return(k,$)=>{const g=p("router-view");return e(o)?(n(),u("div",wt,[r(Y),r(xt),t("main",kt,[r(g)])])):W("",!0)}}};export{Nt as default};

--- public/build/assets/LayoutBasic.e1f34a75.js ---
@@ -1 +1 @@
-import{aN as q,J as z,B as k,a0 as _e,k as P,L as N,M as J,N as he,T as ae,r as y,o as a,l as C,w as s,h as n,i as U,t as u,u as e,f as t,e as i,m as L,j as B,U as H,G as X,C as oe,aO as se,F as V,y as R,Y as ne,A as ye,a5 as fe,a2 as K,a3 as ge,a6 as ve,aP as be,D as xe}from"./vendor.01d0adc5.js";import{b as Y,c as W,d as D,e as Q,S as we,a as $e,f as re,g as j,u as ke}from"./main.832b14c7.js";import{u as le}from"./exchange-rate.45b62b37.js";import{u as Ce}from"./users.936a04ee.js";import{N as Be}from"./NotificationRoot.9c69192b.js";import{V as Se}from"./index.esm.998a6eeb.js";const Ie={class:"flex justify-between w-full"},Me=["onSubmit"],Ue={class:"p-4 mb-16 sm:p-6 space-y-4"},Ee={key:1,class:"flex flex-col items-center"},Ve={class:"z-0 flex justify-end p-4 bg-gray-50 border-modal-bg"},Ae={setup(F){const m=q(),r=Y(),d=W(),f=D(),{t:_}=z();let g=k(!1),b=k(null),c=k(!1),l=k(null),p=k(null);const h=_e({name:null,currency:"",address:{country_id:null}}),v=P(()=>d.active&&d.componentName==="CompanyModal"),x={newCompanyForm:{name:{required:N.withMessage(_("validation.required"),J),minLength:N.withMessage(_("validation.name_min_length",{count:3}),he(3))},address:{country_id:{required:N.withMessage(_("validation.required"),J)}},currency:{required:N.withMessage(_("validation.required"),J)}}},o=ae(x,{newCompanyForm:h});async function w(){c.value=!0,await f.fetchCurrencies(),await f.fetchCountries(),h.currency=r.selectedCompanyCurrency.id,h.address.country_id=r.selectedCompany.address.country_id,c.value=!1}function S(I,M){p.value=I,l.value=M}function $(){p.value=null,l.value=null}async function E(){if(o.value.newCompanyForm.$touch(),o.value.$invalid)return!0;g.value=!0;try{const I=await r.addNewCompany(h);if(I.data.data){if(await r.setSelectedCompany(I.data.data),l&&l.value){let M=new FormData;M.append("company_logo",JSON.stringify({name:p.value,data:l.value})),await r.updateCompanyLogo(M),m.push("/admin/dashboard")}await f.setIsAppLoaded(!1),await f.bootstrap(),O()}g.value=!1}catch{g.value=!1}}function T(){h.name="",h.currency="",h.address.country_id="",o.value.$reset()}function O(){d.closeModal(),setTimeout(()=>{T(),o.value.$reset()},300)}return(I,M)=>{const Z=y("BaseIcon"),ie=y("BaseContentPlaceholdersBox"),ce=y("BaseContentPlaceholders"),de=y("BaseFileUploader"),G=y("BaseInputGroup"),ue=y("BaseInput"),ee=y("BaseMultiselect"),me=y("BaseInputGrid"),te=y("BaseButton"),pe=y("BaseModal");return a(),C(pe,{show:e(v),onClose:O,onOpen:w},{header:s(()=>[n("div",Ie,[U(u(e(d).title)+" ",1),t(Z,{name:"XIcon",class:"w-6 h-6 text-gray-500 cursor-pointer",onClick:O})])]),default:s(()=>[n("form",{action:"",onSubmit:H(E,["prevent"])},[n("div",Ue,[t(me,{layout:"one-column"},{default:s(()=>[t(G,{"content-loading":e(c),label:I.$tc("settings.company_info.company_logo")},{default:s(()=>[e(c)?(a(),C(ce,{key:0},{default:s(()=>[t(ie,{rounded:!0,class:"w-full h-24"})]),_:1})):(a(),i("div",Ee,[t(de,{"preview-image":e(b),base64:"",onRemove:$,onChange:S},null,8,["preview-image"])]))]),_:1},8,["content-loading","label"]),t(G,{label:I.$tc("settings.company_info.company_name"),error:e(o).newCompanyForm.name.$error&&e(o).newCompanyForm.name.$errors[0].$message,"content-loading":e(c),required:""},{default:s(()=>[t(ue,{modelValue:e(h).name,"onUpdate:modelValue":M[0]||(M[0]=A=>e(h).name=A),invalid:e(o).newCompanyForm.name.$error,"content-loading":e(c),onInput:M[1]||(M[1]=A=>e(o).newCompanyForm.name.$touch())},null,8,["modelValue","invalid","content-loading"])]),_:1},8,["label","error","content-loading"]),t(G,{"content-loading":e(c),label:I.$tc("settings.company_info.country"),error:e(o).newCompanyForm.address.country_id.$error&&e(o).newCompanyForm.address.country_id.$errors[0].$message,required:""},{default:s(()=>[t(ee,{modelValue:e(h).address.country_id,"onUpdate:modelValue":M[2]||(M[2]=A=>e(h).address.country_id=A),"content-loading":e(c),label:"name",invalid:e(o).newCompanyForm.address.country_id.$error,options:e(f).countries,"value-prop":"id","can-deselect":!0,"can-clear":!1,searchable:"","track-by":"name"},null,8,["modelValue","content-loading","invalid","options"])]),_:1},8,["content-loading","label","error"]),t(G,{label:I.$t("wizard.currency"),error:e(o).newCompanyForm.currency.$error&&e(o).newCompanyForm.currency.$errors[0].$message,"content-loading":e(c),"help-text":I.$t("wizard.currency_set_alert"),required:""},{default:s(()=>[t(ee,{modelValue:e(h).currency,"onUpdate:modelValue":M[3]||(M[3]=A=>e(h).currency=A),"content-loading":e(c),options:e(f).currencies,label:"name","value-prop":"id",searchable:!0,"track-by":"name",placeholder:I.$tc("settings.currencies.select_currency"),invalid:e(o).newCompanyForm.currency.$error,class:"w-full"},null,8,["modelValue","content-loading","options","placeholder","invalid"])]),_:1},8,["label","error","content-loading","help-text"])]),_:1})]),n("div",Ve,[t(te,{class:"mr-3 text-sm",variant:"primary-outline",outline:"",type:"button",onClick:O},{default:s(()=>[U(u(I.$t("general.cancel")),1)]),_:1}),t(te,{loading:e(g),disabled:e(g),variant:"primary",type:"submit"},{left:s(A=>[e(g)?B("",!0):(a(),C(Z,{key:0,name:"SaveIcon",class:L(A.class)},null,8,["class"]))]),default:s(()=>[U(" "+u(I.$t("general.save")),1)]),_:1},8,["loading","disabled"])])],40,Me)]),_:1},8,["show"])}}},Re={key:0,class:"w-16 text-sm font-medium truncate sm:w-auto"},Fe={key:0,class:"absolute right-0 mt-2 bg-white rounded-md shadow-lg"},Le={class:"overflow-y-auto scrollbar-thin scrollbar-thumb-rounded-full w-[250px] max-h-[350px] scrollbar-thumb-gray-300 scrollbar-track-gray-10 pb-4"},je={class:"px-3 py-2 text-xs font-semibold text-gray-400 mb-0.5 block uppercase"},Ne={key:0,class:"flex flex-col items-center justify-center p-2 px-3 mt-4 text-base text-gray-400"},Te={key:1},De={key:0},Oe=["onClick"],Ge={class:"flex items-center"},qe={class:"flex items-center justify-center mr-3 overflow-hidden text-base font-semibold bg-gray-200 rounded-md w-9 h-9 text-primary-500"},ze={key:0},Pe=["src"],Je={class:"flex flex-col"},Xe={class:"text-sm"},Ye={class:"font-medium"},We={setup(F){const m=Y(),r=W(),d=X(),f=q(),_=D(),{t:g}=z(),b=Q(),c=k(!1),l=k(""),p=k(null);oe(d,()=>{c.value=!1,l.value=""}),se(p,()=>{c.value=!1});function h(o){if(o)return o.split(" ")[0].charAt(0).toUpperCase()}function v(){r.openModal({title:g("company_switcher.new_company"),componentName:"CompanyModal",size:"sm"})}async function x(o){await m.setSelectedCompany(o),f.push("/admin/dashboard"),await _.setIsAppLoaded(!1),await _.bootstrap()}return(o,w)=>{const S=y("BaseIcon");return a(),i("div",{ref:($,E)=>{E.companySwitchBar=$,p.value=$},class:"relative rounded"},[t(Ae),n("div",{class:"flex items-center justify-center px-3 h-8 md:h-9 ml-2 text-sm text-white bg-white rounded cursor-pointer bg-opacity-20",onClick:w[0]||(w[0]=$=>c.value=!c.value)},[e(m).selectedCompany?(a(),i("span",Re,u(e(m).selectedCompany.name),1)):B("",!0),t(S,{name:"ChevronDownIcon",class:"h-5 ml-1 text-white"})]),t(ne,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:s(()=>[c.value?(a(),i("div",Fe,[n("div",Le,[n("label",je,u(o.$t("company_switcher.label")),1),e(m).companies.length<1?(a(),i("div",Ne,[t(S,{name:"ExclamationCircleIcon",class:"h-5 text-gray-400"}),U(" "+u(o.$t("company_switcher.no_results_found")),1)])):(a(),i("div",Te,[e(m).companies.length>0?(a(),i("div",De,[(a(!0),i(V,null,R(e(m).companies,($,E)=>(a(),i("div",{key:E,class:L(["p-2 px-3 rounded-md cursor-pointer hover:bg-gray-100 hover:text-primary-500",{"bg-gray-100 text-primary-500":e(m).selectedCompany.id===$.id}]),onClick:T=>x($)},[n("div",Ge,[n("span",qe,[$.logo?(a(),i("img",{key:1,src:$.logo,alt:"Company logo",class:"w-full h-full object-contain"},null,8,Pe)):(a(),i("span",ze,u(h($.name)),1))]),n("div",Je,[n("span",Xe,u($.name),1)])])],10,Oe))),128))])):B("",!0)]))]),e(b).currentUser.is_owner?(a(),i("div",{key:0,class:"flex items-center justify-center p-4 pl-3 border-t-2 border-gray-100 cursor-pointer text-primary-400 hover:text-primary-500",onClick:v},[t(S,{name:"PlusIcon",class:"h-5 mr-2"}),n("span",Ye,u(o.$t("company_switcher.add_new_company")),1)])):B("",!0)])):B("",!0)]),_:1})],512)}}},He={key:0,class:"scrollbar-thin scrollbar-thumb-rounded-full scrollbar-thumb-gray-300 scrollbar-track-gray-100 overflow-y-auto bg-white rounded-md mt-2 shadow-lg p-3 absolute w-[300px] h-[200px] right-0"},Ke={key:0,class:"flex items-center justify-center text-gray-400 text-base flex-col mt-4"},Qe={key:1},Ze={key:0},et={class:"text-sm text-gray-400 mb-0.5 block px-2 uppercase"},tt={class:"flex items-center justify-center w-9 h-9 mr-3 text-base font-semibold bg-gray-200 rounded-full text-primary-500"},at={class:"flex flex-col"},ot={class:"text-sm"},st={key:0,class:"text-xs text-gray-400"},nt={key:1,class:"text-xs text-gray-400"},rt={key:1,class:"mt-2"},lt={class:"text-sm text-gray-400 mb-2 block px-2 mb-0.5 uppercase"},it={class:"flex items-center justify-center w-9 h-9 mr-3 text-base font-semibold bg-gray-200 rounded-full text-primary-500"},ct={class:"flex flex-col"},dt={class:"text-sm"},ut={class:"text-xs text-gray-400"},mt={setup(F){const m=Ce(),r=k(!1),d=k(""),f=k(null),_=k(!1),g=X();oe(g,()=>{r.value=!1,d.value=""}),b=ye.exports.debounce(b,500),se(f,()=>{r.value=!1,d.value=""});function b(){let l={search:d.value};d.value&&(_.value=!0,m.searchUsers(l).then(()=>{r.value=!0}),_.value=!1),d.value===""&&(r.value=!1)}function c(l){if(l)return l.split(" ")[0].charAt(0).toUpperCase()}return(l,p)=>{const h=y("BaseIcon"),v=y("BaseInput"),x=y("router-link");return a(),i("div",{ref:(o,w)=>{w.searchBar=o,f.value=o},class:"hidden rounded md:block relative"},[n("div",null,[t(v,{modelValue:d.value,"onUpdate:modelValue":p[0]||(p[0]=o=>d.value=o),placeholder:"Search...","container-class":"!rounded",class:"h-8 md:h-9 !rounded",onInput:b},{left:s(()=>[t(h,{name:"SearchIcon",class:"text-gray-400"})]),right:s(()=>[_.value?(a(),C(we,{key:0,class:"h-5 text-primary-500"})):B("",!0)]),_:1},8,["modelValue"])]),t(ne,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:s(()=>[r.value?(a(),i("div",He,[e(m).userList.length<1&&e(m).customerList.length<1?(a(),i("div",Ke,[t(h,{name:"ExclamationCircleIcon",class:"text-gray-400"}),U(" "+u(l.$t("global_search.no_results_found")),1)])):(a(),i("div",Qe,[e(m).customerList.length>0?(a(),i("div",Ze,[n("label",et,u(l.$t("global_search.customers")),1),(a(!0),i(V,null,R(e(m).customerList,(o,w)=>(a(),i("div",{key:w,class:"p-2 hover:bg-gray-100 cursor-pointer rounded-md"},[t(x,{to:{path:`/admin/customers/${o.id}/view`},class:"flex items-center"},{default:s(()=>[n("span",tt,u(c(o.name)),1),n("div",at,[n("span",ot,u(o.name),1),o.contact_name?(a(),i("span",st,u(o.contact_name),1)):(a(),i("span",nt,u(o.email),1))])]),_:2},1032,["to"])]))),128))])):B("",!0),e(m).userList.length>0?(a(),i("div",rt,[n("label",lt,u(l.$t("global_search.users")),1),(a(!0),i(V,null,R(e(m).userList,(o,w)=>(a(),i("div",{key:w,class:"p-2 hover:bg-gray-100 cursor-pointer rounded-md"},[t(x,{to:{path:`/admin/users/${o.id}/edit`},class:"flex items-center"},{default:s(()=>[n("span",it,u(c(o.name)),1),n("div",ct,[n("span",dt,u(o.name),1),n("span",ut,u(o.email),1)])]),_:2},1032,["to"])]))),128))])):B("",!0)]))])):B("",!0)]),_:1})],512)}}},pt={class:"fixed top-0 left-0 z-20 flex items-center justify-between w-full px-4 py-3 md:h-16 md:px-8 bg-gradient-to-r from-primary-500 to-primary-400"},_t=["onClick"],ht={class:"flex float-right h-8 m-0 list-none md:h-9"},yt={key:0,class:"relative hidden float-left m-0 md:block"},ft={class:"flex items-center justify-center w-8 h-8 ml-2 text-sm text-black bg-white rounded md:h-9 md:w-9"},gt={class:"ml-2"},vt={class:"relative block float-left ml-2"},bt=["src"],xt={setup(F){const m=$e(),r=Q(),d=D(),f=q(),_=P(()=>r.currentUser&&r.currentUser.avatar!==0?r.currentUser.avatar:g());function g(){return new URL("/build/img/default-avatar.jpg",self.location)}function b(){return r.hasAbilities([j.CREATE_INVOICE,j.CREATE_ESTIMATE,j.CREATE_CUSTOMER])}async function c(){await m.logout(),f.push("/login")}function l(){d.setSidebarVisibility(!0)}return(p,h)=>{const v=y("router-link"),x=y("BaseIcon"),o=y("BaseDropdownItem"),w=y("BaseDropdown");return a(),i("header",pt,[t(v,{to:"/admin/dashboard",class:"float-none text-lg not-italic font-black tracking-wider text-white brand-main md:float-left font-base hidden md:block"},{default:s(()=>[t(re,{class:"h-6","light-color":"white","dark-color":"white"})]),_:1}),n("div",{class:L([{"is-active":e(d).isSidebarOpen},"flex float-left p-1 overflow-visible text-sm ease-linear bg-white border-0 rounded cursor-pointer md:hidden md:ml-0 hover:bg-gray-100"]),onClick:H(l,["prevent"])},[t(x,{name:"MenuIcon",class:"!w-6 !h-6 text-gray-500"})],10,_t),n("ul",ht,[b?(a(),i("li",yt,[t(w,{"width-class":"w-48"},{activator:s(()=>[n("div",ft,[t(x,{name:"PlusIcon",class:"w-5 h-5 text-gray-600"})])]),default:s(()=>[t(v,{to:"/admin/invoices/create"},{default:s(()=>[e(r).hasAbilities(e(j).CREATE_INVOICE)?(a(),C(o,{key:0},{default:s(()=>[t(x,{name:"DocumentTextIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),U(" "+u(p.$t("invoices.new_invoice")),1)]),_:1})):B("",!0)]),_:1}),t(v,{to:"/admin/estimates/create"},{default:s(()=>[e(r).hasAbilities(e(j).CREATE_ESTIMATE)?(a(),C(o,{key:0},{default:s(()=>[t(x,{name:"DocumentIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),U(" "+u(p.$t("estimates.new_estimate")),1)]),_:1})):B("",!0)]),_:1}),t(v,{to:"/admin/customers/create"},{default:s(()=>[e(r).hasAbilities(e(j).CREATE_CUSTOMER)?(a(),C(o,{key:0},{default:s(()=>[t(x,{name:"UserIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),U(" "+u(p.$t("customers.new_customer")),1)]),_:1})):B("",!0)]),_:1})]),_:1})])):B("",!0),n("li",gt,[e(r).currentUser.is_owner||e(r).hasAbilities(e(j).VIEW_CUSTOMER)?(a(),C(mt,{key:0})):B("",!0)]),n("li",null,[t(We)]),n("li",vt,[t(w,{"width-class":"w-48"},{activator:s(()=>[n("img",{src:e(_),class:"block w-8 h-8 rounded md:h-9 md:w-9"},null,8,bt)]),default:s(()=>[t(v,{to:"/admin/settings/account-settings"},{default:s(()=>[t(o,null,{default:s(()=>[t(x,{name:"CogIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),U(" "+u(p.$t("navigation.settings")),1)]),_:1})]),_:1}),t(o,{onClick:c},{default:s(()=>[t(x,{name:"LogoutIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),U(" "+u(p.$t("navigation.logout")),1)]),_:1})]),_:1})])])])}}},wt={class:"relative flex flex-col flex-1 w-full max-w-xs bg-white"},$t={class:"absolute top-0 right-0 pt-2 -mr-12"},kt=n("span",{class:"sr-only"},"Close sidebar",-1),Ct={class:"flex-1 h-0 pt-5 pb-4 overflow-y-auto"},Bt={class:"flex items-center shrink-0 px-4 mb-10"},St=n("div",{class:"shrink-0 w-14"},null,-1),It={class:"hidden w-56 h-screen h-screen-ios pb-32 overflow-y-auto bg-white border-r border-gray-200 border-solid xl:w-64 md:fixed md:flex md:flex-col md:inset-y-0 pt-16"},Mt={setup(F){const m=X(),r=D();function d(f){return m.path.indexOf(f)>-1}return(f,_)=>{const g=y("BaseIcon"),b=y("router-link");return a(),i(V,null,[t(e(ve),{as:"template",show:e(r).isSidebarOpen},{default:s(()=>[t(e(fe),{as:"div",class:"fixed inset-0 z-40 flex md:hidden",onClose:_[3]||(_[3]=c=>e(r).setSidebarVisibility(!1))},{default:s(()=>[t(e(K),{as:"template",enter:"transition-opacity ease-linear duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-linear duration-300","leave-from":"opacity-100","leave-to":"opacity-0"},{default:s(()=>[t(e(ge),{class:"fixed inset-0 bg-gray-600 bg-opacity-75"})]),_:1}),t(e(K),{as:"template",enter:"transition ease-in-out duration-300","enter-from":"-translate-x-full","enter-to":"translate-x-0",leave:"transition ease-in-out duration-300","leave-from":"translate-x-0","leave-to":"-translate-x-full"},{default:s(()=>[n("div",wt,[t(e(K),{as:"template",enter:"ease-in-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in-out duration-300","leave-from":"opacity-100","leave-to":"opacity-0"},{default:s(()=>[n("div",$t,[n("button",{class:"flex items-center justify-center w-10 h-10 ml-1 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:_[0]||(_[0]=c=>e(r).setSidebarVisibility(!1))},[kt,t(g,{name:"XIcon",class:"w-6 h-6 text-white","aria-hidden":"true"})])])]),_:1}),n("div",Ct,[n("div",Bt,[t(re,{class:"block h-auto max-w-full w-36 text-primary-400",alt:"Crater Logo"})]),(a(!0),i(V,null,R(e(r).menuGroups,c=>(a(),i("nav",{key:c,class:"mt-5 space-y-1"},[(a(!0),i(V,null,R(c,l=>(a(),C(b,{key:l.name,to:l.link,class:L([d(l.link)?"text-primary-500 border-primary-500 bg-gray-100 ":"text-black","cursor-pointer px-0 pl-4 py-3 border-transparent flex items-center border-l-4 border-solid text-sm not-italic font-medium"]),onClick:_[2]||(_[2]=p=>e(r).setSidebarVisibility(!1))},{default:s(()=>[t(g,{name:l.icon,class:L([d(l.link)?"text-primary-500 ":"text-gray-400","mr-4 shrink-0 h-5 w-5"]),onClick:_[1]||(_[1]=p=>e(r).setSidebarVisibility(!1))},null,8,["name","class"]),U(" "+u(f.$t(l.title)),1)]),_:2},1032,["to","class"]))),128))]))),128))])])]),_:1}),St]),_:1})]),_:1},8,["show"]),n("div",It,[(a(!0),i(V,null,R(e(r).menuGroups,c=>(a(),i("div",{key:c,class:"p-0 m-0 mt-6 list-none"},[(a(!0),i(V,null,R(c,l=>(a(),C(b,{key:l,to:l.link,class:L([d(l.link)?"text-primary-500 border-primary-500 bg-gray-100 ":"text-black","cursor-pointer px-0 pl-6 hover:bg-gray-50 py-3 group flex items-center border-l-4 border-solid border-transparent text-sm not-italic font-medium"])},{default:s(()=>[t(g,{name:l.icon,class:L([d(l.link)?"text-primary-500 group-hover:text-primary-500 ":"text-gray-400 group-hover:text-black","mr-4 shrink-0 h-5 w-5 "])},null,8,["name","class"]),U(" "+u(f.$t(l.title)),1)]),_:2},1032,["to","class"]))),128))]))),128))])],64)}}},Ut={class:"font-medium text-lg text-left"},Et={class:"mt-2 text-sm leading-snug text-gray-500",style:{"max-width":"680px"}},Vt=["onSubmit"],At={class:"text-gray-500 sm:text-sm"},Rt={class:"text-gray-400 text-xs mt-2 font-light"},Ft={slot:"footer",class:"z-0 flex justify-end mt-4 pt-4 border-t border-gray-200 border-solid border-modal-bg"},Lt={emits:["update"],setup(F,{emit:m}){const r=le();ke();const d=Y(),{t:f,tm:_}=z();let g=k(!1);k(!1);const b={exchange_rate:{required:N.withMessage(f("validation.required"),J),decimal:N.withMessage(f("validation.valid_exchange_rate"),be)}},c=ae();async function l(){if(c.value.$touch(),c.value.$invalid)return!0;g.value=!0;let p=r.bulkCurrencies.map(v=>({id:v.id,exchange_rate:v.exchange_rate})),h=await r.updateBulkExchangeRate({currencies:p});h.data.success&&m("update",h.data.success),g.value=!1}return(p,h)=>{const v=y("BaseInput"),x=y("BaseInputGroup"),o=y("BaseButton"),w=y("BaseCard");return a(),C(w,null,{default:s(()=>[n("h6",Ut,u(p.$t("settings.exchange_rate.title")),1),n("p",Et,u(p.$t("settings.exchange_rate.description",{currency:e(d).selectedCompanyCurrency.name})),1),n("form",{action:"",onSubmit:H(l,["prevent"])},[(a(!0),i(V,null,R(e(r).bulkCurrencies,(S,$)=>(a(),C(e(Se),{key:$,state:S,rules:b},{default:s(({v:E})=>[t(x,{class:"my-5",label:`${S.code} to ${e(d).selectedCompanyCurrency.code}`,error:E.exchange_rate.$error&&E.exchange_rate.$errors[0].$message,required:""},{default:s(()=>[t(v,{modelValue:S.exchange_rate,"onUpdate:modelValue":T=>S.exchange_rate=T,addon:`1 ${S.code} =`,invalid:E.exchange_rate.$error,onInput:T=>E.exchange_rate.$touch()},{right:s(()=>[n("span",At,u(e(d).selectedCompanyCurrency.code),1)]),_:2},1032,["modelValue","onUpdate:modelValue","addon","invalid","onInput"]),n("span",Rt,u(p.$t("settings.exchange_rate.exchange_help_text",{currency:S.code,baseCurrency:e(d).selectedCompanyCurrency.code})),1)]),_:2},1032,["label","error"])]),_:2},1032,["state"]))),128)),n("div",Ft,[t(o,{loading:e(g),variant:"primary",type:"submit"},{default:s(()=>[U(u(p.$t("general.save")),1)]),_:1},8,["loading"])])],40,Vt)]),_:1})}}},jt={setup(F){const m=W(),r=P(()=>m.active&&m.componentName==="ExchangeRateBulkUpdateModal");function d(){m.closeModal()}return(f,_)=>{const g=y("BaseModal");return a(),C(g,{show:e(r)},{default:s(()=>[t(Lt,{onUpdate:_[0]||(_[0]=b=>d())})]),_:1},8,["show"])}}},Nt={key:0,class:"h-full"},Tt={class:"pt-16 pb-16 h-screen h-screen-ios overflow-y-auto md:pl-56 xl:pl-64 min-h-0"},Jt={setup(F){const m=D(),r=X(),d=Q(),f=q(),_=W();z();const g=le(),b=Y(),c=P(()=>m.isAppLoaded);return xe(()=>{m.bootstrap().then(l=>{r.meta.ability&&!d.hasAbilities(r.meta.ability)?f.push({name:"account.settings"}):r.meta.isOwner&&!d.currentUser.is_owner&&f.push({name:"account.settings"}),l.data.current_company_settings.bulk_exchange_rate_configured==="NO"&&g.fetchBulkCurrencies().then(p=>{if(p.data.currencies.length)_.openModal({componentName:"ExchangeRateBulkUpdateModal",size:"sm"});else{let h={settings:{bulk_exchange_rate_configured:"YES"}};b.updateCompanySettings({data:h})}})})}),(l,p)=>{const h=y("router-view"),v=y("BaseGlobalLoader");return e(c)?(a(),i("div",Nt,[t(Be),t(xt),t(Mt),t(jt),n("main",Tt,[t(h)])])):(a(),C(v,{key:1}))}}};export{Jt as default};
+import{aN as q,J as z,B as k,a0 as _e,k as P,L as N,M as J,N as he,T as ae,r as y,o as a,l as C,w as s,h as n,i as U,t as u,u as e,f as t,e as i,m as L,j as B,U as H,G as X,C as oe,aO as se,F as V,y as R,Y as ne,A as ye,a5 as fe,a2 as K,a3 as ge,a6 as ve,aP as be,D as xe}from"./vendor.01d0adc5.js";import{b as Y,c as W,d as D,e as Q,S as we,a as $e,f as re,g as j,u as ke}from"./main.75722495.js";import{u as le}from"./exchange-rate.dffa79b6.js";import{u as Ce}from"./users.73a3faa4.js";import{N as Be}from"./NotificationRoot.a98180ab.js";import{V as Se}from"./index.esm.998a6eeb.js";const Ie={class:"flex justify-between w-full"},Me=["onSubmit"],Ue={class:"p-4 mb-16 sm:p-6 space-y-4"},Ee={key:1,class:"flex flex-col items-center"},Ve={class:"z-0 flex justify-end p-4 bg-gray-50 border-modal-bg"},Ae={setup(F){const m=q(),r=Y(),d=W(),f=D(),{t:_}=z();let g=k(!1),b=k(null),c=k(!1),l=k(null),p=k(null);const h=_e({name:null,currency:"",address:{country_id:null}}),v=P(()=>d.active&&d.componentName==="CompanyModal"),x={newCompanyForm:{name:{required:N.withMessage(_("validation.required"),J),minLength:N.withMessage(_("validation.name_min_length",{count:3}),he(3))},address:{country_id:{required:N.withMessage(_("validation.required"),J)}},currency:{required:N.withMessage(_("validation.required"),J)}}},o=ae(x,{newCompanyForm:h});async function w(){c.value=!0,await f.fetchCurrencies(),await f.fetchCountries(),h.currency=r.selectedCompanyCurrency.id,h.address.country_id=r.selectedCompany.address.country_id,c.value=!1}function S(I,M){p.value=I,l.value=M}function $(){p.value=null,l.value=null}async function E(){if(o.value.newCompanyForm.$touch(),o.value.$invalid)return!0;g.value=!0;try{const I=await r.addNewCompany(h);if(I.data.data){if(await r.setSelectedCompany(I.data.data),l&&l.value){let M=new FormData;M.append("company_logo",JSON.stringify({name:p.value,data:l.value})),await r.updateCompanyLogo(M),m.push("/admin/dashboard")}await f.setIsAppLoaded(!1),await f.bootstrap(),O()}g.value=!1}catch{g.value=!1}}function T(){h.name="",h.currency="",h.address.country_id="",o.value.$reset()}function O(){d.closeModal(),setTimeout(()=>{T(),o.value.$reset()},300)}return(I,M)=>{const Z=y("BaseIcon"),ie=y("BaseContentPlaceholdersBox"),ce=y("BaseContentPlaceholders"),de=y("BaseFileUploader"),G=y("BaseInputGroup"),ue=y("BaseInput"),ee=y("BaseMultiselect"),me=y("BaseInputGrid"),te=y("BaseButton"),pe=y("BaseModal");return a(),C(pe,{show:e(v),onClose:O,onOpen:w},{header:s(()=>[n("div",Ie,[U(u(e(d).title)+" ",1),t(Z,{name:"XIcon",class:"w-6 h-6 text-gray-500 cursor-pointer",onClick:O})])]),default:s(()=>[n("form",{action:"",onSubmit:H(E,["prevent"])},[n("div",Ue,[t(me,{layout:"one-column"},{default:s(()=>[t(G,{"content-loading":e(c),label:I.$tc("settings.company_info.company_logo")},{default:s(()=>[e(c)?(a(),C(ce,{key:0},{default:s(()=>[t(ie,{rounded:!0,class:"w-full h-24"})]),_:1})):(a(),i("div",Ee,[t(de,{"preview-image":e(b),base64:"",onRemove:$,onChange:S},null,8,["preview-image"])]))]),_:1},8,["content-loading","label"]),t(G,{label:I.$tc("settings.company_info.company_name"),error:e(o).newCompanyForm.name.$error&&e(o).newCompanyForm.name.$errors[0].$message,"content-loading":e(c),required:""},{default:s(()=>[t(ue,{modelValue:e(h).name,"onUpdate:modelValue":M[0]||(M[0]=A=>e(h).name=A),invalid:e(o).newCompanyForm.name.$error,"content-loading":e(c),onInput:M[1]||(M[1]=A=>e(o).newCompanyForm.name.$touch())},null,8,["modelValue","invalid","content-loading"])]),_:1},8,["label","error","content-loading"]),t(G,{"content-loading":e(c),label:I.$tc("settings.company_info.country"),error:e(o).newCompanyForm.address.country_id.$error&&e(o).newCompanyForm.address.country_id.$errors[0].$message,required:""},{default:s(()=>[t(ee,{modelValue:e(h).address.country_id,"onUpdate:modelValue":M[2]||(M[2]=A=>e(h).address.country_id=A),"content-loading":e(c),label:"name",invalid:e(o).newCompanyForm.address.country_id.$error,options:e(f).countries,"value-prop":"id","can-deselect":!0,"can-clear":!1,searchable:"","track-by":"name"},null,8,["modelValue","content-loading","invalid","options"])]),_:1},8,["content-loading","label","error"]),t(G,{label:I.$t("wizard.currency"),error:e(o).newCompanyForm.currency.$error&&e(o).newCompanyForm.currency.$errors[0].$message,"content-loading":e(c),"help-text":I.$t("wizard.currency_set_alert"),required:""},{default:s(()=>[t(ee,{modelValue:e(h).currency,"onUpdate:modelValue":M[3]||(M[3]=A=>e(h).currency=A),"content-loading":e(c),options:e(f).currencies,label:"name","value-prop":"id",searchable:!0,"track-by":"name",placeholder:I.$tc("settings.currencies.select_currency"),invalid:e(o).newCompanyForm.currency.$error,class:"w-full"},null,8,["modelValue","content-loading","options","placeholder","invalid"])]),_:1},8,["label","error","content-loading","help-text"])]),_:1})]),n("div",Ve,[t(te,{class:"mr-3 text-sm",variant:"primary-outline",outline:"",type:"button",onClick:O},{default:s(()=>[U(u(I.$t("general.cancel")),1)]),_:1}),t(te,{loading:e(g),disabled:e(g),variant:"primary",type:"submit"},{left:s(A=>[e(g)?B("",!0):(a(),C(Z,{key:0,name:"SaveIcon",class:L(A.class)},null,8,["class"]))]),default:s(()=>[U(" "+u(I.$t("general.save")),1)]),_:1},8,["loading","disabled"])])],40,Me)]),_:1},8,["show"])}}},Re={key:0,class:"w-16 text-sm font-medium truncate sm:w-auto"},Fe={key:0,class:"absolute right-0 mt-2 bg-white rounded-md shadow-lg"},Le={class:"overflow-y-auto scrollbar-thin scrollbar-thumb-rounded-full w-[250px] max-h-[350px] scrollbar-thumb-gray-300 scrollbar-track-gray-10 pb-4"},je={class:"px-3 py-2 text-xs font-semibold text-gray-400 mb-0.5 block uppercase"},Ne={key:0,class:"flex flex-col items-center justify-center p-2 px-3 mt-4 text-base text-gray-400"},Te={key:1},De={key:0},Oe=["onClick"],Ge={class:"flex items-center"},qe={class:"flex items-center justify-center mr-3 overflow-hidden text-base font-semibold bg-gray-200 rounded-md w-9 h-9 text-primary-500"},ze={key:0},Pe=["src"],Je={class:"flex flex-col"},Xe={class:"text-sm"},Ye={class:"font-medium"},We={setup(F){const m=Y(),r=W(),d=X(),f=q(),_=D(),{t:g}=z(),b=Q(),c=k(!1),l=k(""),p=k(null);oe(d,()=>{c.value=!1,l.value=""}),se(p,()=>{c.value=!1});function h(o){if(o)return o.split(" ")[0].charAt(0).toUpperCase()}function v(){r.openModal({title:g("company_switcher.new_company"),componentName:"CompanyModal",size:"sm"})}async function x(o){await m.setSelectedCompany(o),f.push("/admin/dashboard"),await _.setIsAppLoaded(!1),await _.bootstrap()}return(o,w)=>{const S=y("BaseIcon");return a(),i("div",{ref:($,E)=>{E.companySwitchBar=$,p.value=$},class:"relative rounded"},[t(Ae),n("div",{class:"flex items-center justify-center px-3 h-8 md:h-9 ml-2 text-sm text-white bg-white rounded cursor-pointer bg-opacity-20",onClick:w[0]||(w[0]=$=>c.value=!c.value)},[e(m).selectedCompany?(a(),i("span",Re,u(e(m).selectedCompany.name),1)):B("",!0),t(S,{name:"ChevronDownIcon",class:"h-5 ml-1 text-white"})]),t(ne,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:s(()=>[c.value?(a(),i("div",Fe,[n("div",Le,[n("label",je,u(o.$t("company_switcher.label")),1),e(m).companies.length<1?(a(),i("div",Ne,[t(S,{name:"ExclamationCircleIcon",class:"h-5 text-gray-400"}),U(" "+u(o.$t("company_switcher.no_results_found")),1)])):(a(),i("div",Te,[e(m).companies.length>0?(a(),i("div",De,[(a(!0),i(V,null,R(e(m).companies,($,E)=>(a(),i("div",{key:E,class:L(["p-2 px-3 rounded-md cursor-pointer hover:bg-gray-100 hover:text-primary-500",{"bg-gray-100 text-primary-500":e(m).selectedCompany.id===$.id}]),onClick:T=>x($)},[n("div",Ge,[n("span",qe,[$.logo?(a(),i("img",{key:1,src:$.logo,alt:"Company logo",class:"w-full h-full object-contain"},null,8,Pe)):(a(),i("span",ze,u(h($.name)),1))]),n("div",Je,[n("span",Xe,u($.name),1)])])],10,Oe))),128))])):B("",!0)]))]),e(b).currentUser.is_owner?(a(),i("div",{key:0,class:"flex items-center justify-center p-4 pl-3 border-t-2 border-gray-100 cursor-pointer text-primary-400 hover:text-primary-500",onClick:v},[t(S,{name:"PlusIcon",class:"h-5 mr-2"}),n("span",Ye,u(o.$t("company_switcher.add_new_company")),1)])):B("",!0)])):B("",!0)]),_:1})],512)}}},He={key:0,class:"scrollbar-thin scrollbar-thumb-rounded-full scrollbar-thumb-gray-300 scrollbar-track-gray-100 overflow-y-auto bg-white rounded-md mt-2 shadow-lg p-3 absolute w-[300px] h-[200px] right-0"},Ke={key:0,class:"flex items-center justify-center text-gray-400 text-base flex-col mt-4"},Qe={key:1},Ze={key:0},et={class:"text-sm text-gray-400 mb-0.5 block px-2 uppercase"},tt={class:"flex items-center justify-center w-9 h-9 mr-3 text-base font-semibold bg-gray-200 rounded-full text-primary-500"},at={class:"flex flex-col"},ot={class:"text-sm"},st={key:0,class:"text-xs text-gray-400"},nt={key:1,class:"text-xs text-gray-400"},rt={key:1,class:"mt-2"},lt={class:"text-sm text-gray-400 mb-2 block px-2 mb-0.5 uppercase"},it={class:"flex items-center justify-center w-9 h-9 mr-3 text-base font-semibold bg-gray-200 rounded-full text-primary-500"},ct={class:"flex flex-col"},dt={class:"text-sm"},ut={class:"text-xs text-gray-400"},mt={setup(F){const m=Ce(),r=k(!1),d=k(""),f=k(null),_=k(!1),g=X();oe(g,()=>{r.value=!1,d.value=""}),b=ye.exports.debounce(b,500),se(f,()=>{r.value=!1,d.value=""});function b(){let l={search:d.value};d.value&&(_.value=!0,m.searchUsers(l).then(()=>{r.value=!0}),_.value=!1),d.value===""&&(r.value=!1)}function c(l){if(l)return l.split(" ")[0].charAt(0).toUpperCase()}return(l,p)=>{const h=y("BaseIcon"),v=y("BaseInput"),x=y("router-link");return a(),i("div",{ref:(o,w)=>{w.searchBar=o,f.value=o},class:"hidden rounded md:block relative"},[n("div",null,[t(v,{modelValue:d.value,"onUpdate:modelValue":p[0]||(p[0]=o=>d.value=o),placeholder:"Search...","container-class":"!rounded",class:"h-8 md:h-9 !rounded",onInput:b},{left:s(()=>[t(h,{name:"SearchIcon",class:"text-gray-400"})]),right:s(()=>[_.value?(a(),C(we,{key:0,class:"h-5 text-primary-500"})):B("",!0)]),_:1},8,["modelValue"])]),t(ne,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:s(()=>[r.value?(a(),i("div",He,[e(m).userList.length<1&&e(m).customerList.length<1?(a(),i("div",Ke,[t(h,{name:"ExclamationCircleIcon",class:"text-gray-400"}),U(" "+u(l.$t("global_search.no_results_found")),1)])):(a(),i("div",Qe,[e(m).customerList.length>0?(a(),i("div",Ze,[n("label",et,u(l.$t("global_search.customers")),1),(a(!0),i(V,null,R(e(m).customerList,(o,w)=>(a(),i("div",{key:w,class:"p-2 hover:bg-gray-100 cursor-pointer rounded-md"},[t(x,{to:{path:`/admin/customers/${o.id}/view`},class:"flex items-center"},{default:s(()=>[n("span",tt,u(c(o.name)),1),n("div",at,[n("span",ot,u(o.name),1),o.contact_name?(a(),i("span",st,u(o.contact_name),1)):(a(),i("span",nt,u(o.email),1))])]),_:2},1032,["to"])]))),128))])):B("",!0),e(m).userList.length>0?(a(),i("div",rt,[n("label",lt,u(l.$t("global_search.users")),1),(a(!0),i(V,null,R(e(m).userList,(o,w)=>(a(),i("div",{key:w,class:"p-2 hover:bg-gray-100 cursor-pointer rounded-md"},[t(x,{to:{path:`/admin/users/${o.id}/edit`},class:"flex items-center"},{default:s(()=>[n("span",it,u(c(o.name)),1),n("div",ct,[n("span",dt,u(o.name),1),n("span",ut,u(o.email),1)])]),_:2},1032,["to"])]))),128))])):B("",!0)]))])):B("",!0)]),_:1})],512)}}},pt={class:"fixed top-0 left-0 z-20 flex items-center justify-between w-full px-4 py-3 md:h-16 md:px-8 bg-gradient-to-r from-primary-500 to-primary-400"},_t=["onClick"],ht={class:"flex float-right h-8 m-0 list-none md:h-9"},yt={key:0,class:"relative hidden float-left m-0 md:block"},ft={class:"flex items-center justify-center w-8 h-8 ml-2 text-sm text-black bg-white rounded md:h-9 md:w-9"},gt={class:"ml-2"},vt={class:"relative block float-left ml-2"},bt=["src"],xt={setup(F){const m=$e(),r=Q(),d=D(),f=q(),_=P(()=>r.currentUser&&r.currentUser.avatar!==0?r.currentUser.avatar:g());function g(){return new URL("/build/img/default-avatar.jpg",self.location)}function b(){return r.hasAbilities([j.CREATE_INVOICE,j.CREATE_ESTIMATE,j.CREATE_CUSTOMER])}async function c(){await m.logout(),f.push("/login")}function l(){d.setSidebarVisibility(!0)}return(p,h)=>{const v=y("router-link"),x=y("BaseIcon"),o=y("BaseDropdownItem"),w=y("BaseDropdown");return a(),i("header",pt,[t(v,{to:"/admin/dashboard",class:"float-none text-lg not-italic font-black tracking-wider text-white brand-main md:float-left font-base hidden md:block"},{default:s(()=>[t(re,{class:"h-6","light-color":"white","dark-color":"white"})]),_:1}),n("div",{class:L([{"is-active":e(d).isSidebarOpen},"flex float-left p-1 overflow-visible text-sm ease-linear bg-white border-0 rounded cursor-pointer md:hidden md:ml-0 hover:bg-gray-100"]),onClick:H(l,["prevent"])},[t(x,{name:"MenuIcon",class:"!w-6 !h-6 text-gray-500"})],10,_t),n("ul",ht,[b?(a(),i("li",yt,[t(w,{"width-class":"w-48"},{activator:s(()=>[n("div",ft,[t(x,{name:"PlusIcon",class:"w-5 h-5 text-gray-600"})])]),default:s(()=>[t(v,{to:"/admin/invoices/create"},{default:s(()=>[e(r).hasAbilities(e(j).CREATE_INVOICE)?(a(),C(o,{key:0},{default:s(()=>[t(x,{name:"DocumentTextIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),U(" "+u(p.$t("invoices.new_invoice")),1)]),_:1})):B("",!0)]),_:1}),t(v,{to:"/admin/estimates/create"},{default:s(()=>[e(r).hasAbilities(e(j).CREATE_ESTIMATE)?(a(),C(o,{key:0},{default:s(()=>[t(x,{name:"DocumentIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),U(" "+u(p.$t("estimates.new_estimate")),1)]),_:1})):B("",!0)]),_:1}),t(v,{to:"/admin/customers/create"},{default:s(()=>[e(r).hasAbilities(e(j).CREATE_CUSTOMER)?(a(),C(o,{key:0},{default:s(()=>[t(x,{name:"UserIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),U(" "+u(p.$t("customers.new_customer")),1)]),_:1})):B("",!0)]),_:1})]),_:1})])):B("",!0),n("li",gt,[e(r).currentUser.is_owner||e(r).hasAbilities(e(j).VIEW_CUSTOMER)?(a(),C(mt,{key:0})):B("",!0)]),n("li",null,[t(We)]),n("li",vt,[t(w,{"width-class":"w-48"},{activator:s(()=>[n("img",{src:e(_),class:"block w-8 h-8 rounded md:h-9 md:w-9"},null,8,bt)]),default:s(()=>[t(v,{to:"/admin/settings/account-settings"},{default:s(()=>[t(o,null,{default:s(()=>[t(x,{name:"CogIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),U(" "+u(p.$t("navigation.settings")),1)]),_:1})]),_:1}),t(o,{onClick:c},{default:s(()=>[t(x,{name:"LogoutIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),U(" "+u(p.$t("navigation.logout")),1)]),_:1})]),_:1})])])])}}},wt={class:"relative flex flex-col flex-1 w-full max-w-xs bg-white"},$t={class:"absolute top-0 right-0 pt-2 -mr-12"},kt=n("span",{class:"sr-only"},"Close sidebar",-1),Ct={class:"flex-1 h-0 pt-5 pb-4 overflow-y-auto"},Bt={class:"flex items-center shrink-0 px-4 mb-10"},St=n("div",{class:"shrink-0 w-14"},null,-1),It={class:"hidden w-56 h-screen h-screen-ios pb-32 overflow-y-auto bg-white border-r border-gray-200 border-solid xl:w-64 md:fixed md:flex md:flex-col md:inset-y-0 pt-16"},Mt={setup(F){const m=X(),r=D();function d(f){return m.path.indexOf(f)>-1}return(f,_)=>{const g=y("BaseIcon"),b=y("router-link");return a(),i(V,null,[t(e(ve),{as:"template",show:e(r).isSidebarOpen},{default:s(()=>[t(e(fe),{as:"div",class:"fixed inset-0 z-40 flex md:hidden",onClose:_[3]||(_[3]=c=>e(r).setSidebarVisibility(!1))},{default:s(()=>[t(e(K),{as:"template",enter:"transition-opacity ease-linear duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-linear duration-300","leave-from":"opacity-100","leave-to":"opacity-0"},{default:s(()=>[t(e(ge),{class:"fixed inset-0 bg-gray-600 bg-opacity-75"})]),_:1}),t(e(K),{as:"template",enter:"transition ease-in-out duration-300","enter-from":"-translate-x-full","enter-to":"translate-x-0",leave:"transition ease-in-out duration-300","leave-from":"translate-x-0","leave-to":"-translate-x-full"},{default:s(()=>[n("div",wt,[t(e(K),{as:"template",enter:"ease-in-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in-out duration-300","leave-from":"opacity-100","leave-to":"opacity-0"},{default:s(()=>[n("div",$t,[n("button",{class:"flex items-center justify-center w-10 h-10 ml-1 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:_[0]||(_[0]=c=>e(r).setSidebarVisibility(!1))},[kt,t(g,{name:"XIcon",class:"w-6 h-6 text-white","aria-hidden":"true"})])])]),_:1}),n("div",Ct,[n("div",Bt,[t(re,{class:"block h-auto max-w-full w-36 text-primary-400",alt:"Crater Logo"})]),(a(!0),i(V,null,R(e(r).menuGroups,c=>(a(),i("nav",{key:c,class:"mt-5 space-y-1"},[(a(!0),i(V,null,R(c,l=>(a(),C(b,{key:l.name,to:l.link,class:L([d(l.link)?"text-primary-500 border-primary-500 bg-gray-100 ":"text-black","cursor-pointer px-0 pl-4 py-3 border-transparent flex items-center border-l-4 border-solid text-sm not-italic font-medium"]),onClick:_[2]||(_[2]=p=>e(r).setSidebarVisibility(!1))},{default:s(()=>[t(g,{name:l.icon,class:L([d(l.link)?"text-primary-500 ":"text-gray-400","mr-4 shrink-0 h-5 w-5"]),onClick:_[1]||(_[1]=p=>e(r).setSidebarVisibility(!1))},null,8,["name","class"]),U(" "+u(f.$t(l.title)),1)]),_:2},1032,["to","class"]))),128))]))),128))])])]),_:1}),St]),_:1})]),_:1},8,["show"]),n("div",It,[(a(!0),i(V,null,R(e(r).menuGroups,c=>(a(),i("div",{key:c,class:"p-0 m-0 mt-6 list-none"},[(a(!0),i(V,null,R(c,l=>(a(),C(b,{key:l,to:l.link,class:L([d(l.link)?"text-primary-500 border-primary-500 bg-gray-100 ":"text-black","cursor-pointer px-0 pl-6 hover:bg-gray-50 py-3 group flex items-center border-l-4 border-solid border-transparent text-sm not-italic font-medium"])},{default:s(()=>[t(g,{name:l.icon,class:L([d(l.link)?"text-primary-500 group-hover:text-primary-500 ":"text-gray-400 group-hover:text-black","mr-4 shrink-0 h-5 w-5 "])},null,8,["name","class"]),U(" "+u(f.$t(l.title)),1)]),_:2},1032,["to","class"]))),128))]))),128))])],64)}}},Ut={class:"font-medium text-lg text-left"},Et={class:"mt-2 text-sm leading-snug text-gray-500",style:{"max-width":"680px"}},Vt=["onSubmit"],At={class:"text-gray-500 sm:text-sm"},Rt={class:"text-gray-400 text-xs mt-2 font-light"},Ft={slot:"footer",class:"z-0 flex justify-end mt-4 pt-4 border-t border-gray-200 border-solid border-modal-bg"},Lt={emits:["update"],setup(F,{emit:m}){const r=le();ke();const d=Y(),{t:f,tm:_}=z();let g=k(!1);k(!1);const b={exchange_rate:{required:N.withMessage(f("validation.required"),J),decimal:N.withMessage(f("validation.valid_exchange_rate"),be)}},c=ae();async function l(){if(c.value.$touch(),c.value.$invalid)return!0;g.value=!0;let p=r.bulkCurrencies.map(v=>({id:v.id,exchange_rate:v.exchange_rate})),h=await r.updateBulkExchangeRate({currencies:p});h.data.success&&m("update",h.data.success),g.value=!1}return(p,h)=>{const v=y("BaseInput"),x=y("BaseInputGroup"),o=y("BaseButton"),w=y("BaseCard");return a(),C(w,null,{default:s(()=>[n("h6",Ut,u(p.$t("settings.exchange_rate.title")),1),n("p",Et,u(p.$t("settings.exchange_rate.description",{currency:e(d).selectedCompanyCurrency.name})),1),n("form",{action:"",onSubmit:H(l,["prevent"])},[(a(!0),i(V,null,R(e(r).bulkCurrencies,(S,$)=>(a(),C(e(Se),{key:$,state:S,rules:b},{default:s(({v:E})=>[t(x,{class:"my-5",label:`${S.code} to ${e(d).selectedCompanyCurrency.code}`,error:E.exchange_rate.$error&&E.exchange_rate.$errors[0].$message,required:""},{default:s(()=>[t(v,{modelValue:S.exchange_rate,"onUpdate:modelValue":T=>S.exchange_rate=T,addon:`1 ${S.code} =`,invalid:E.exchange_rate.$error,onInput:T=>E.exchange_rate.$touch()},{right:s(()=>[n("span",At,u(e(d).selectedCompanyCurrency.code),1)]),_:2},1032,["modelValue","onUpdate:modelValue","addon","invalid","onInput"]),n("span",Rt,u(p.$t("settings.exchange_rate.exchange_help_text",{currency:S.code,baseCurrency:e(d).selectedCompanyCurrency.code})),1)]),_:2},1032,["label","error"])]),_:2},1032,["state"]))),128)),n("div",Ft,[t(o,{loading:e(g),variant:"primary",type:"submit"},{default:s(()=>[U(u(p.$t("general.save")),1)]),_:1},8,["loading"])])],40,Vt)]),_:1})}}},jt={setup(F){const m=W(),r=P(()=>m.active&&m.componentName==="ExchangeRateBulkUpdateModal");function d(){m.closeModal()}return(f,_)=>{const g=y("BaseModal");return a(),C(g,{show:e(r)},{default:s(()=>[t(Lt,{onUpdate:_[0]||(_[0]=b=>d())})]),_:1},8,["show"])}}},Nt={key:0,class:"h-full"},Tt={class:"pt-16 pb-16 h-screen h-screen-ios overflow-y-auto md:pl-56 xl:pl-64 min-h-0"},Jt={setup(F){const m=D(),r=X(),d=Q(),f=q(),_=W();z();const g=le(),b=Y(),c=P(()=>m.isAppLoaded);return xe(()=>{m.bootstrap().then(l=>{r.meta.ability&&!d.hasAbilities(r.meta.ability)?f.push({name:"account.settings"}):r.meta.isOwner&&!d.currentUser.is_owner&&f.push({name:"account.settings"}),l.data.current_company_settings.bulk_exchange_rate_configured==="NO"&&g.fetchBulkCurrencies().then(p=>{if(p.data.currencies.length)_.openModal({componentName:"ExchangeRateBulkUpdateModal",size:"sm"});else{let h={settings:{bulk_exchange_rate_configured:"YES"}};b.updateCompanySettings({data:h})}})})}),(l,p)=>{const h=y("router-view"),v=y("BaseGlobalLoader");return e(c)?(a(),i("div",Nt,[t(Be),t(xt),t(Mt),t(jt),n("main",Tt,[t(h)])])):(a(),C(v,{key:1}))}}};export{Jt as default};

--- public/build/assets/LayoutInstallation.46a8b6d2.js ---
@@ -0,0 +1 @@
+import{N as t}from"./NotificationRoot.a98180ab.js";import{r as s,o as a,e as r,f as o,h as c}from"./vendor.01d0adc5.js";import"./main.75722495.js";const n={class:"h-screen h-screen-ios overflow-y-auto text-base"},i={class:"container mx-auto px-4"},u={setup(_){return(m,p)=>{const e=s("router-view");return a(),r("div",n,[o(t),c("div",i,[o(e)])])}}};export{u as default};

--- public/build/assets/LayoutInstallation.cb149016.js ---
@@ -1 +0,0 @@
-import{N as t}from"./NotificationRoot.9c69192b.js";import{r as s,o as r,e as a,f as o,h as c}from"./vendor.01d0adc5.js";import"./main.832b14c7.js";const n={class:"h-screen h-screen-ios overflow-y-auto text-base"},i={class:"container mx-auto px-4"},u={setup(_){return(m,p)=>{const e=s("router-view");return r(),a("div",n,[o(t),c("div",i,[o(e)])])}}};export{u as default};

--- public/build/assets/LayoutLogin.96ca0d8f.js ---
@@ -1 +1 @@
-import{N as r}from"./NotificationRoot.9c69192b.js";import{f as l}from"./main.832b14c7.js";import{k as i,r as n,o,e,f as a,h as s,u as c,l as u}from"./vendor.01d0adc5.js";const d={class:"min-h-screen bg-gray-200 flex flex-col justify-center py-12 sm:px-6 lg:px-8"},p={class:"sm:mx-auto sm:w-full sm:max-w-md px-4 sm:px-0"},_=["src"],x={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md px-4 sm:px-0"},f={class:"bg-white py-8 px-4 shadow rounded-lg sm:px-10"},b={setup(w){const t=i(()=>window.customer_logo?window.customer_logo:!1);return(h,g)=>{const m=n("router-view");return o(),e("div",d,[a(r),s("div",p,[c(t)?(o(),e("img",{key:1,src:c(t),class:"block w-48 h-auto max-w-full text-primary-400 mx-auto"},null,8,_)):(o(),u(l,{key:0,class:"block w-48 h-auto max-w-full text-primary-400 mx-auto"}))]),s("div",x,[s("div",f,[a(m)])])])}}};export{b as default};
+import{N as r}from"./NotificationRoot.a98180ab.js";import{f as l}from"./main.75722495.js";import{k as i,r as n,o,e,f as a,h as s,u as c,l as u}from"./vendor.01d0adc5.js";const d={class:"min-h-screen bg-gray-200 flex flex-col justify-center py-12 sm:px-6 lg:px-8"},p={class:"sm:mx-auto sm:w-full sm:max-w-md px-4 sm:px-0"},_=["src"],x={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md px-4 sm:px-0"},f={class:"bg-white py-8 px-4 shadow rounded-lg sm:px-10"},b={setup(w){const t=i(()=>window.customer_logo?window.customer_logo:!1);return(h,g)=>{const m=n("router-view");return o(),e("div",d,[a(r),s("div",p,[c(t)?(o(),e("img",{key:1,src:c(t),class:"block w-48 h-auto max-w-full text-primary-400 mx-auto"},null,8,_)):(o(),u(l,{key:0,class:"block w-48 h-auto max-w-full text-primary-400 mx-auto"}))]),s("div",x,[s("div",f,[a(m)])])])}}};export{b as default};

--- public/build/assets/LayoutLogin.d574a04a.js ---
@@ -0,0 +1 @@
+import{N as n}from"./NotificationRoot.a98180ab.js";import{_ as r,f as p}from"./main.75722495.js";import{o as a,e,h as t,ai as d,r as h,f as l,t as C,i}from"./vendor.01d0adc5.js";const f={},_={viewBox:"0 0 1012 1023",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",class:"text-primary-500"},m=t("path",{d:"M116.21 472.5C55.1239 693.5 78.5219 837.5 114.349 1023H1030.5V-1L0 -106C147.5 21.5 172.311 269.536 116.21 472.5Z",fill:"url(#paint0_linear)"},null,-1),g=t("defs",null,[t("linearGradient",{id:"paint0_linear",x1:"515.25",y1:"-106",x2:"515.25",y2:"1023",gradientUnits:"userSpaceOnUse"},[t("stop",{"stop-color":"rgba(var(--color-primary-500), var(--tw-text-opacity))"}),t("stop",{offset:"1","stop-color":"rgba(var(--color-primary-400), var(--tw-text-opacity))"})])],-1),y=[m,g];function x(o,s){return a(),e("svg",_,y)}var w=r(f,[["render",x]]);const u={},v={width:"422",height:"290",viewBox:"0 0 422 290",fill:"none",xmlns:"http://www.w3.org/2000/svg"},b=d('<g clip-path="url(#clip0)"><path opacity="0.3" d="M220.111 290.223C341.676 290.223 440.223 191.676 440.223 70.1115C440.223 -51.4527 341.676 -150 220.111 -150C98.5473 -150 0 -51.4527 0 70.1115C0 191.676 98.5473 290.223 220.111 290.223Z" fill="white" fill-opacity="0.1"></path><path opacity="0.3" d="M220.111 246.513C317.535 246.513 396.513 167.535 396.513 70.1114C396.513 -27.3124 317.535 -106.29 220.111 -106.29C122.688 -106.29 43.71 -27.3124 43.71 70.1114C43.71 167.535 122.688 246.513 220.111 246.513Z" fill="white" fill-opacity="0.1"></path><path d="M97.0093 35.322C96.7863 35.991 96.5633 36.66 96.5633 37.3291C94.1101 46.4725 92.7721 55.6159 92.3261 64.5364C91.88 74.5718 92.7721 84.6073 94.5562 94.1968C103.477 140.137 137.374 179.387 185.545 192.991C224.794 204.141 265.159 195.444 295.712 173.143C309.538 163.107 321.358 150.172 330.278 135.231C335.854 125.864 340.314 115.606 343.436 104.678C346.335 94.6428 347.896 84.6073 348.119 74.7949C348.788 56.954 345.666 39.3362 339.422 23.2794C325.372 -12.6253 295.043 -41.8397 255.124 -52.9902C211.637 -65.2558 167.481 -53.6593 136.036 -26.452C117.749 -10.6182 103.923 10.3448 97.0093 35.322Z" fill="white" fill-opacity="0.1"></path><path d="M97.0095 35.3223C96.7865 35.9913 96.5635 36.6603 96.5635 37.3294L347.896 74.7952C348.565 56.9543 345.443 39.3365 339.199 23.2797L136.036 -26.4517C117.749 -10.6179 103.923 10.3451 97.0095 35.3223Z" fill="white" fill-opacity="0.05"></path><path d="M92.3261 64.7598C91.88 74.7952 92.7721 84.8307 94.5562 94.4202L295.489 173.366C309.315 163.33 321.135 150.396 330.055 135.454L92.3261 64.7598Z" fill="white" fill-opacity="0.05"></path><path d="M153.431 11.9056C151.424 19.265 152.316 26.8473 155.661 33.0916C159.229 39.7819 165.473 45.1342 173.279 47.3643C188.443 51.6015 204.5 42.6811 208.737 27.5163C209.853 23.9482 210.076 20.157 209.629 16.5888C208.514 5.21529 200.486 -4.82018 188.889 -7.94233C173.502 -12.1795 157.668 -3.25911 153.431 11.9056Z" class="fill-primary-700" fill-opacity="0.8"></path><path d="M156.553 22.3869C155.438 25.9551 155.215 29.7462 155.661 33.3144C159.229 40.0047 165.473 45.357 173.279 47.5871C188.443 51.8243 204.5 42.9039 208.737 27.7391C209.852 24.171 210.075 20.3798 209.629 16.8116C206.061 10.1213 199.817 4.76908 192.011 2.53897C176.624 -1.92124 160.79 6.99919 156.553 22.3869Z" class="fill-primary-500" fill-opacity="0.5"></path><path d="M270.735 95.5343C267.613 100.887 266.944 106.685 268.282 112.26C269.62 118.058 273.411 123.411 278.986 126.533C289.914 132.777 303.74 128.986 309.985 118.281C311.546 115.605 312.438 112.929 312.884 110.03C314.222 101.11 309.985 91.9661 301.733 87.0599C290.806 81.0386 276.979 84.8298 270.735 95.5343Z" class="fill-primary-700" fill-opacity="0.8"></path><path d="M270.958 104.232C269.397 106.908 268.505 109.584 268.059 112.483C269.397 118.281 273.188 123.634 278.764 126.756C289.691 133 303.518 129.209 309.762 118.504C311.323 115.828 312.215 113.152 312.661 110.253C311.323 104.455 307.532 99.1025 301.957 95.9804C291.252 89.5131 277.426 93.3043 270.958 104.232Z" class="fill-primary-500" fill-opacity="0.5"></path><path d="M250.663 130.771C247.54 133.001 245.533 136.123 244.864 139.468C243.972 143.036 244.641 147.051 247.094 150.396C251.555 156.863 260.252 158.647 266.942 154.187C268.503 153.072 269.842 151.734 270.734 150.396C273.856 145.712 274.079 139.468 270.734 134.562C265.827 127.872 257.13 126.311 250.663 130.771Z" class="fill-primary-700" fill-opacity="0.8"></path><path d="M248.433 135.677C246.872 136.792 245.534 138.13 244.642 139.468C243.75 143.036 244.419 147.051 246.872 150.396C251.332 156.863 260.03 158.647 266.72 154.187C268.281 153.072 269.619 151.734 270.511 150.396C271.403 146.828 270.734 142.813 268.281 139.468C263.821 132.778 254.901 131.217 248.433 135.677Z" class="fill-primary-500" fill-opacity="0.5"></path><path d="M215.651 14.8049C214.759 18.15 215.205 21.4952 216.543 24.1713C218.104 27.0704 220.78 29.5236 224.348 30.4156C231.038 32.4227 238.175 28.4085 240.182 21.4952C240.628 19.9341 240.851 18.15 240.628 16.5889C240.182 11.4597 236.614 6.99951 231.484 5.66145C224.571 4.10037 217.435 8.11456 215.651 14.8049Z" class="fill-primary-700" fill-opacity="0.8"></path><path d="M216.989 19.4876C216.543 21.0487 216.32 22.8328 216.543 24.3939C218.104 27.293 220.78 29.7461 224.348 30.6382C231.039 32.6453 238.175 28.6311 240.182 21.7177C240.628 20.1567 240.851 18.3726 240.628 16.8115C239.067 13.9124 236.391 11.4593 232.823 10.5672C225.91 8.78313 218.773 12.5743 216.989 19.4876Z" class="fill-primary-500"></path><path d="M122.209 124.526C121.763 125.864 121.986 127.202 122.655 128.54C123.324 129.878 124.439 130.77 126.001 131.216C128.9 132.108 131.799 130.324 132.468 127.648C132.691 126.979 132.691 126.31 132.691 125.641C132.468 123.634 130.907 121.627 128.9 121.181C126.001 120.066 123.101 121.85 122.209 124.526Z" class="fill-primary-700" fill-opacity="0.8"></path><path d="M122.878 126.533C122.655 127.202 122.655 127.871 122.655 128.54C123.324 129.878 124.439 130.77 126 131.216C128.899 132.108 131.798 130.324 132.468 127.648C132.691 126.979 132.691 126.31 132.691 125.641C132.021 124.303 130.906 123.411 129.345 122.965C126.446 122.073 123.547 123.634 122.878 126.533Z" class="fill-primary-500" fill-opacity="0.5"></path><path d="M169.487 123.188C168.149 123.411 166.811 124.08 166.142 125.195C165.25 126.31 164.804 127.648 165.027 129.209C165.473 132.108 168.149 134.116 171.048 133.67C171.717 133.67 172.386 133.224 172.832 133C174.617 131.885 175.732 129.878 175.286 127.648C175.063 124.749 172.386 122.742 169.487 123.188Z" class="fill-primary-700" fill-opacity="0.8"></path><path d="M167.926 124.526C167.257 124.526 166.588 124.972 166.142 125.195C165.25 126.31 164.804 127.648 165.027 129.209C165.473 132.108 168.149 134.115 171.048 133.669C171.717 133.669 172.386 133.223 172.832 133C173.724 131.885 174.17 130.547 173.947 128.986C173.501 126.087 170.825 124.08 167.926 124.526Z" class="fill-primary-500" fill-opacity="0.5"></path></g><defs><clipPath id="clip0"><rect width="440" height="440" fill="white" transform="translate(0 -150)"></rect></clipPath></defs>',2),$=[b];function M(o,s){return a(),e("svg",v,$)}var Z=r(u,[["render",M]]);const L={},B={viewBox:"0 0 1170 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},k=t("path",{d:"M690 4.08004C518 -9.91998 231 4.08004 -6 176.361L231 197.08L1170 219.08C1113.33 175.747 909.275 21.928 690 4.08004Z",fill:"white","fill-opacity":"0.1"},null,-1),N=[k];function V(o,s){return a(),e("svg",B,N)}var S=r(L,[["render",V]]);const j={},I={width:"1122",height:"1017",viewBox:"0 0 1122 1017",preserveAspectRatio:"none",fill:"none",xmlns:"http://www.w3.org/2000/svg"},R=t("path",{d:"M226.002 466.5C164.935 687.5 188.326 831.5 224.141 1017H1140V-7L0 -109.5C142.5 -7.5 282.085 263.536 226.002 466.5Z",fill:"url(#paint0_linear)","fill-opacity":"0.1"},null,-1),U=t("defs",null,[t("linearGradient",{id:"paint0_linear",x1:"649.5",y1:"-7",x2:"649.5",y2:"1017",gradientUnits:"userSpaceOnUse"},[t("stop",{"stop-color":"rgba(var(--color-primary-500), var(--tw-text-opacity))"}),t("stop",{offset:"1","stop-color":"rgba(var(--color-primary-400), var(--tw-text-opacity))"})])],-1),z=[R,U];function O(o,s){return a(),e("svg",I,z)}var P=r(j,[["render",O]]);const A={class:"grid h-screen h-screen-ios grid-cols-12 overflow-y-hidden bg-gray-100"},D={class:"flex items-center justify-center w-full max-w-sm col-span-12 p-4 mx-auto text-gray-900 md:p-8 md:col-span-6 lg:col-span-4 flex-2 md:pb-48 md:pt-40"},G={class:"w-full"},H={class:"pt-24 mt-0 text-sm not-italic font-medium leading-relaxed text-left text-gray-400 md:pt-40"},E={class:"mb-3"},F={class:"relative flex-col items-center justify-center hidden w-full h-full pl-10 bg-no-repeat bg-cover md:col-span-6 lg:col-span-8 md:flex content-box overflow-hidden"},T=t("div",{class:"pl-20 xl:pl-0 relative z-50"},[t("h1",{class:"hidden mb-3 text-3xl leading-normal text-left text-white xl:text-5xl xl:leading-tight md:none lg:block"},[t("b",{class:"font-bold"},"Simple Invoicing"),i(),t("br"),i(" for Individuals & "),t("br"),i(" Small Businesses "),t("br")]),t("p",{class:"hidden text-sm not-italic font-normal leading-normal text-left text-gray-100 xl:text-base xl:leading-6 md:none lg:block"},[i(" Crater helps you track expenses, record payments & generate beautiful "),t("br"),i(" invoices & estimates. "),t("br")])],-1),Q={setup(o){return(s,Y)=>{const c=h("router-view");return a(),e("div",A,[l(n),t("div",D,[t("div",G,[l(p,{class:"block w-48 h-auto max-w-full mb-32 text-primary-500"}),l(c),t("div",H,[t("p",E," Copyright @ Crater Invoice, Inc. "+C(new Date().getFullYear()),1)])])]),t("div",F,[l(w,{class:"absolute h-full w-full"}),l(Z,{class:"absolute z-10 top-0 right-0 h-[300px] w-[420px]"}),l(P,{class:"absolute h-full w-full right-[7.5%]"}),T,l(S,{class:"absolute z-50 w-full bg-no-repeat content-bottom h-[15vw] lg:h-[22vw] right-[32%] bottom-0"})])])}}};export{Q as default};

--- public/build/assets/LayoutLogin.ff8102a9.js ---
@@ -1 +0,0 @@
-import{N as n}from"./NotificationRoot.9c69192b.js";import{_ as r,f as p}from"./main.832b14c7.js";import{o as e,e as a,h as t,ai as d,r as h,f as l,t as C,i}from"./vendor.01d0adc5.js";const f={},_={viewBox:"0 0 1012 1023",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",class:"text-primary-500"},m=t("path",{d:"M116.21 472.5C55.1239 693.5 78.5219 837.5 114.349 1023H1030.5V-1L0 -106C147.5 21.5 172.311 269.536 116.21 472.5Z",fill:"url(#paint0_linear)"},null,-1),g=t("defs",null,[t("linearGradient",{id:"paint0_linear",x1:"515.25",y1:"-106",x2:"515.25",y2:"1023",gradientUnits:"userSpaceOnUse"},[t("stop",{"stop-color":"rgba(var(--color-primary-500), var(--tw-text-opacity))"}),t("stop",{offset:"1","stop-color":"rgba(var(--color-primary-400), var(--tw-text-opacity))"})])],-1),y=[m,g];function x(o,s){return e(),a("svg",_,y)}var w=r(f,[["render",x]]);const u={},v={width:"422",height:"290",viewBox:"0 0 422 290",fill:"none",xmlns:"http://www.w3.org/2000/svg"},b=d('<g clip-path="url(#clip0)"><path opacity="0.3" d="M220.111 290.223C341.676 290.223 440.223 191.676 440.223 70.1115C440.223 -51.4527 341.676 -150 220.111 -150C98.5473 -150 0 -51.4527 0 70.1115C0 191.676 98.5473 290.223 220.111 290.223Z" fill="white" fill-opacity="0.1"></path><path opacity="0.3" d="M220.111 246.513C317.535 246.513 396.513 167.535 396.513 70.1114C396.513 -27.3124 317.535 -106.29 220.111 -106.29C122.688 -106.29 43.71 -27.3124 43.71 70.1114C43.71 167.535 122.688 246.513 220.111 246.513Z" fill="white" fill-opacity="0.1"></path><path d="M97.0093 35.322C96.7863 35.991 96.5633 36.66 96.5633 37.3291C94.1101 46.4725 92.7721 55.6159 92.3261 64.5364C91.88 74.5718 92.7721 84.6073 94.5562 94.1968C103.477 140.137 137.374 179.387 185.545 192.991C224.794 204.141 265.159 195.444 295.712 173.143C309.538 163.107 321.358 150.172 330.278 135.231C335.854 125.864 340.314 115.606 343.436 104.678C346.335 94.6428 347.896 84.6073 348.119 74.7949C348.788 56.954 345.666 39.3362 339.422 23.2794C325.372 -12.6253 295.043 -41.8397 255.124 -52.9902C211.637 -65.2558 167.481 -53.6593 136.036 -26.452C117.749 -10.6182 103.923 10.3448 97.0093 35.322Z" fill="white" fill-opacity="0.1"></path><path d="M97.0095 35.3223C96.7865 35.9913 96.5635 36.6603 96.5635 37.3294L347.896 74.7952C348.565 56.9543 345.443 39.3365 339.199 23.2797L136.036 -26.4517C117.749 -10.6179 103.923 10.3451 97.0095 35.3223Z" fill="white" fill-opacity="0.05"></path><path d="M92.3261 64.7598C91.88 74.7952 92.7721 84.8307 94.5562 94.4202L295.489 173.366C309.315 163.33 321.135 150.396 330.055 135.454L92.3261 64.7598Z" fill="white" fill-opacity="0.05"></path><path d="M153.431 11.9056C151.424 19.265 152.316 26.8473 155.661 33.0916C159.229 39.7819 165.473 45.1342 173.279 47.3643C188.443 51.6015 204.5 42.6811 208.737 27.5163C209.853 23.9482 210.076 20.157 209.629 16.5888C208.514 5.21529 200.486 -4.82018 188.889 -7.94233C173.502 -12.1795 157.668 -3.25911 153.431 11.9056Z" class="fill-primary-700" fill-opacity="0.8"></path><path d="M156.553 22.3869C155.438 25.9551 155.215 29.7462 155.661 33.3144C159.229 40.0047 165.473 45.357 173.279 47.5871C188.443 51.8243 204.5 42.9039 208.737 27.7391C209.852 24.171 210.075 20.3798 209.629 16.8116C206.061 10.1213 199.817 4.76908 192.011 2.53897C176.624 -1.92124 160.79 6.99919 156.553 22.3869Z" class="fill-primary-500" fill-opacity="0.5"></path><path d="M270.735 95.5343C267.613 100.887 266.944 106.685 268.282 112.26C269.62 118.058 273.411 123.411 278.986 126.533C289.914 132.777 303.74 128.986 309.985 118.281C311.546 115.605 312.438 112.929 312.884 110.03C314.222 101.11 309.985 91.9661 301.733 87.0599C290.806 81.0386 276.979 84.8298 270.735 95.5343Z" class="fill-primary-700" fill-opacity="0.8"></path><path d="M270.958 104.232C269.397 106.908 268.505 109.584 268.059 112.483C269.397 118.281 273.188 123.634 278.764 126.756C289.691 133 303.518 129.209 309.762 118.504C311.323 115.828 312.215 113.152 312.661 110.253C311.323 104.455 307.532 99.1025 301.957 95.9804C291.252 89.5131 277.426 93.3043 270.958 104.232Z" class="fill-primary-500" fill-opacity="0.5"></path><path d="M250.663 130.771C247.54 133.001 245.533 136.123 244.864 139.468C243.972 143.036 244.641 147.051 247.094 150.396C251.555 156.863 260.252 158.647 266.942 154.187C268.503 153.072 269.842 151.734 270.734 150.396C273.856 145.712 274.079 139.468 270.734 134.562C265.827 127.872 257.13 126.311 250.663 130.771Z" class="fill-primary-700" fill-opacity="0.8"></path><path d="M248.433 135.677C246.872 136.792 245.534 138.13 244.642 139.468C243.75 143.036 244.419 147.051 246.872 150.396C251.332 156.863 260.03 158.647 266.72 154.187C268.281 153.072 269.619 151.734 270.511 150.396C271.403 146.828 270.734 142.813 268.281 139.468C263.821 132.778 254.901 131.217 248.433 135.677Z" class="fill-primary-500" fill-opacity="0.5"></path><path d="M215.651 14.8049C214.759 18.15 215.205 21.4952 216.543 24.1713C218.104 27.0704 220.78 29.5236 224.348 30.4156C231.038 32.4227 238.175 28.4085 240.182 21.4952C240.628 19.9341 240.851 18.15 240.628 16.5889C240.182 11.4597 236.614 6.99951 231.484 5.66145C224.571 4.10037 217.435 8.11456 215.651 14.8049Z" class="fill-primary-700" fill-opacity="0.8"></path><path d="M216.989 19.4876C216.543 21.0487 216.32 22.8328 216.543 24.3939C218.104 27.293 220.78 29.7461 224.348 30.6382C231.039 32.6453 238.175 28.6311 240.182 21.7177C240.628 20.1567 240.851 18.3726 240.628 16.8115C239.067 13.9124 236.391 11.4593 232.823 10.5672C225.91 8.78313 218.773 12.5743 216.989 19.4876Z" class="fill-primary-500"></path><path d="M122.209 124.526C121.763 125.864 121.986 127.202 122.655 128.54C123.324 129.878 124.439 130.77 126.001 131.216C128.9 132.108 131.799 130.324 132.468 127.648C132.691 126.979 132.691 126.31 132.691 125.641C132.468 123.634 130.907 121.627 128.9 121.181C126.001 120.066 123.101 121.85 122.209 124.526Z" class="fill-primary-700" fill-opacity="0.8"></path><path d="M122.878 126.533C122.655 127.202 122.655 127.871 122.655 128.54C123.324 129.878 124.439 130.77 126 131.216C128.899 132.108 131.798 130.324 132.468 127.648C132.691 126.979 132.691 126.31 132.691 125.641C132.021 124.303 130.906 123.411 129.345 122.965C126.446 122.073 123.547 123.634 122.878 126.533Z" class="fill-primary-500" fill-opacity="0.5"></path><path d="M169.487 123.188C168.149 123.411 166.811 124.08 166.142 125.195C165.25 126.31 164.804 127.648 165.027 129.209C165.473 132.108 168.149 134.116 171.048 133.67C171.717 133.67 172.386 133.224 172.832 133C174.617 131.885 175.732 129.878 175.286 127.648C175.063 124.749 172.386 122.742 169.487 123.188Z" class="fill-primary-700" fill-opacity="0.8"></path><path d="M167.926 124.526C167.257 124.526 166.588 124.972 166.142 125.195C165.25 126.31 164.804 127.648 165.027 129.209C165.473 132.108 168.149 134.115 171.048 133.669C171.717 133.669 172.386 133.223 172.832 133C173.724 131.885 174.17 130.547 173.947 128.986C173.501 126.087 170.825 124.08 167.926 124.526Z" class="fill-primary-500" fill-opacity="0.5"></path></g><defs><clipPath id="clip0"><rect width="440" height="440" fill="white" transform="translate(0 -150)"></rect></clipPath></defs>',2),$=[b];function M(o,s){return e(),a("svg",v,$)}var Z=r(u,[["render",M]]);const L={},B={viewBox:"0 0 1170 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},k=t("path",{d:"M690 4.08004C518 -9.91998 231 4.08004 -6 176.361L231 197.08L1170 219.08C1113.33 175.747 909.275 21.928 690 4.08004Z",fill:"white","fill-opacity":"0.1"},null,-1),N=[k];function V(o,s){return e(),a("svg",B,N)}var S=r(L,[["render",V]]);const j={},I={width:"1122",height:"1017",viewBox:"0 0 1122 1017",preserveAspectRatio:"none",fill:"none",xmlns:"http://www.w3.org/2000/svg"},R=t("path",{d:"M226.002 466.5C164.935 687.5 188.326 831.5 224.141 1017H1140V-7L0 -109.5C142.5 -7.5 282.085 263.536 226.002 466.5Z",fill:"url(#paint0_linear)","fill-opacity":"0.1"},null,-1),U=t("defs",null,[t("linearGradient",{id:"paint0_linear",x1:"649.5",y1:"-7",x2:"649.5",y2:"1017",gradientUnits:"userSpaceOnUse"},[t("stop",{"stop-color":"rgba(var(--color-primary-500), var(--tw-text-opacity))"}),t("stop",{offset:"1","stop-color":"rgba(var(--color-primary-400), var(--tw-text-opacity))"})])],-1),z=[R,U];function O(o,s){return e(),a("svg",I,z)}var P=r(j,[["render",O]]);const A={class:"grid h-screen h-screen-ios grid-cols-12 overflow-y-hidden bg-gray-100"},D={class:"flex items-center justify-center w-full max-w-sm col-span-12 p-4 mx-auto text-gray-900 md:p-8 md:col-span-6 lg:col-span-4 flex-2 md:pb-48 md:pt-40"},G={class:"w-full"},H={class:"pt-24 mt-0 text-sm not-italic font-medium leading-relaxed text-left text-gray-400 md:pt-40"},E={class:"mb-3"},F={class:"relative flex-col items-center justify-center hidden w-full h-full pl-10 bg-no-repeat bg-cover md:col-span-6 lg:col-span-8 md:flex content-box overflow-hidden"},T=t("div",{class:"pl-20 xl:pl-0 relative z-50"},[t("h1",{class:"hidden mb-3 text-3xl leading-normal text-left text-white xl:text-5xl xl:leading-tight md:none lg:block"},[t("b",{class:"font-bold"},"Simple Invoicing"),i(),t("br"),i(" for Individuals & "),t("br"),i(" Small Businesses "),t("br")]),t("p",{class:"hidden text-sm not-italic font-normal leading-normal text-left text-gray-100 xl:text-base xl:leading-6 md:none lg:block"},[i(" Crater helps you track expenses, record payments & generate beautiful "),t("br"),i(" invoices & estimates. "),t("br")])],-1),Q={setup(o){return(s,Y)=>{const c=h("router-view");return e(),a("div",A,[l(n),t("div",D,[t("div",G,[l(p,{class:"block w-48 h-auto max-w-full mb-32 text-primary-500"}),l(c),t("div",H,[t("p",E," Copyright @ Crater Invoice, Inc. "+C(new Date().getFullYear()),1)])])]),t("div",F,[l(w,{class:"absolute h-full w-full"}),l(Z,{class:"absolute z-10 top-0 right-0 h-[300px] w-[420px]"}),l(P,{class:"absolute h-full w-full right-[7.5%]"}),T,l(S,{class:"absolute z-50 w-full bg-no-repeat content-bottom h-[15vw] lg:h-[22vw] right-[32%] bottom-0"})])])}}};export{Q as default};

--- public/build/assets/LineChart.a92f3bea.js ---
@@ -1,4 +1,4 @@
-import{aQ as Zi,ah as Ji,B as Qi,k as eo,a7 as to,D as ro,a0 as ea,o as ao,e as no,h as io}from"./vendor.01d0adc5.js";import{b as oo}from"./main.832b14c7.js";var ta={exports:{}};/*!
+import{aQ as Zi,ah as Ji,B as Qi,k as eo,a7 as to,D as ro,a0 as ea,o as ao,e as no,h as io}from"./vendor.01d0adc5.js";import{b as oo}from"./main.75722495.js";var ta={exports:{}};/*!
  * Chart.js v2.9.4
  * https://www.chartjs.org
  * (c) 2020 Chart.js Contributors

--- public/build/assets/LoadingIcon.44a6304d.js ---
@@ -1 +1 @@
-import{_ as c}from"./main.832b14c7.js";import{o as e,e as s,h as o}from"./vendor.01d0adc5.js";const t={},r={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},n=o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),a=o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),l=[n,a];function i(_,d){return e(),s("svg",r,l)}var p=c(t,[["render",i]]);export{p as L};
+import{_ as e}from"./main.75722495.js";import{o as c,e as s,h as o}from"./vendor.01d0adc5.js";const t={},r={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},n=o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),a=o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),l=[n,a];function i(_,d){return c(),s("svg",r,l)}var p=e(t,[["render",i]]);export{p as L};

--- public/build/assets/Login.9abd1acb.js ---
@@ -1 +1 @@
-import{J as C,aN as M,B as w,L as p,M as $,Q as E,T as L,k as y,r as l,o as c,e as T,f as n,w as u,u as e,l as B,x as _,h as b,i as h,t as I,U,a as j}from"./vendor.01d0adc5.js";import{u as G,a as R}from"./main.832b14c7.js";const A=["onSubmit"],F={class:"mt-5 mb-8"},J={class:"mb-4"},z={setup(O){const k=G(),s=R(),{t:m}=C(),V=M(),d=w(!1);let o=w(!1);const x={email:{required:p.withMessage(m("validation.required"),$),email:p.withMessage(m("validation.email_incorrect"),E)},password:{required:p.withMessage(m("validation.required"),$)}},t=L(x,y(()=>s.loginData)),S=y(()=>o.value?"text":"password");async function q(){if(j.defaults.withCredentials=!0,t.value.$touch(),t.value.$invalid)return!0;d.value=!0;try{d.value=!0,await s.login(s.loginData),V.push("/admin/dashboard"),k.showNotification({type:"success",message:"Logged in successfully."})}catch{d.value=!1}}return(i,a)=>{const g=l("BaseInput"),f=l("BaseInputGroup"),v=l("BaseIcon"),D=l("router-link"),N=l("BaseButton");return c(),T("form",{id:"loginForm",class:"mt-12 text-left",onSubmit:U(q,["prevent"])},[n(f,{error:e(t).email.$error&&e(t).email.$errors[0].$message,label:i.$t("login.email"),class:"mb-4",required:""},{default:u(()=>[n(g,{modelValue:e(s).loginData.email,"onUpdate:modelValue":a[0]||(a[0]=r=>e(s).loginData.email=r),invalid:e(t).email.$error,focus:"",type:"email",name:"email",onInput:a[1]||(a[1]=r=>e(t).email.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["error","label"]),n(f,{error:e(t).password.$error&&e(t).password.$errors[0].$message,label:i.$t("login.password"),class:"mb-4",required:""},{default:u(()=>[n(g,{modelValue:e(s).loginData.password,"onUpdate:modelValue":a[4]||(a[4]=r=>e(s).loginData.password=r),invalid:e(t).password.$error,type:e(S),name:"password",onInput:a[5]||(a[5]=r=>e(t).password.$touch())},{right:u(()=>[e(o)?(c(),B(v,{key:0,name:"EyeOffIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:a[2]||(a[2]=r=>_(o)?o.value=!e(o):o=!e(o))})):(c(),B(v,{key:1,name:"EyeIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:a[3]||(a[3]=r=>_(o)?o.value=!e(o):o=!e(o))}))]),_:1},8,["modelValue","invalid","type"])]),_:1},8,["error","label"]),b("div",F,[b("div",J,[n(D,{to:"forgot-password",class:"text-sm text-primary-400 hover:text-gray-700"},{default:u(()=>[h(I(i.$t("login.forgot_password")),1)]),_:1})])]),n(N,{loading:d.value,type:"submit"},{default:u(()=>[h(I(i.$t("login.login")),1)]),_:1},8,["loading"])],40,A)}}};export{z as default};
+import{J as C,aN as M,B as w,L as p,M as $,Q as E,T as L,k as y,r as l,o as c,e as T,f as n,w as u,u as e,l as B,x as _,h as b,i as h,t as I,U,a as j}from"./vendor.01d0adc5.js";import{u as G,a as R}from"./main.75722495.js";const A=["onSubmit"],F={class:"mt-5 mb-8"},J={class:"mb-4"},z={setup(O){const k=G(),s=R(),{t:m}=C(),V=M(),d=w(!1);let o=w(!1);const x={email:{required:p.withMessage(m("validation.required"),$),email:p.withMessage(m("validation.email_incorrect"),E)},password:{required:p.withMessage(m("validation.required"),$)}},t=L(x,y(()=>s.loginData)),S=y(()=>o.value?"text":"password");async function q(){if(j.defaults.withCredentials=!0,t.value.$touch(),t.value.$invalid)return!0;d.value=!0;try{d.value=!0,await s.login(s.loginData),V.push("/admin/dashboard"),k.showNotification({type:"success",message:"Logged in successfully."})}catch{d.value=!1}}return(i,a)=>{const g=l("BaseInput"),f=l("BaseInputGroup"),v=l("BaseIcon"),D=l("router-link"),N=l("BaseButton");return c(),T("form",{id:"loginForm",class:"mt-12 text-left",onSubmit:U(q,["prevent"])},[n(f,{error:e(t).email.$error&&e(t).email.$errors[0].$message,label:i.$t("login.email"),class:"mb-4",required:""},{default:u(()=>[n(g,{modelValue:e(s).loginData.email,"onUpdate:modelValue":a[0]||(a[0]=r=>e(s).loginData.email=r),invalid:e(t).email.$error,focus:"",type:"email",name:"email",onInput:a[1]||(a[1]=r=>e(t).email.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["error","label"]),n(f,{error:e(t).password.$error&&e(t).password.$errors[0].$message,label:i.$t("login.password"),class:"mb-4",required:""},{default:u(()=>[n(g,{modelValue:e(s).loginData.password,"onUpdate:modelValue":a[4]||(a[4]=r=>e(s).loginData.password=r),invalid:e(t).password.$error,type:e(S),name:"password",onInput:a[5]||(a[5]=r=>e(t).password.$touch())},{right:u(()=>[e(o)?(c(),B(v,{key:0,name:"EyeOffIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:a[2]||(a[2]=r=>_(o)?o.value=!e(o):o=!e(o))})):(c(),B(v,{key:1,name:"EyeIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:a[3]||(a[3]=r=>_(o)?o.value=!e(o):o=!e(o))}))]),_:1},8,["modelValue","invalid","type"])]),_:1},8,["error","label"]),b("div",F,[b("div",J,[n(D,{to:"forgot-password",class:"text-sm text-primary-400 hover:text-gray-700"},{default:u(()=>[h(I(i.$t("login.forgot_password")),1)]),_:1})])]),n(N,{loading:d.value,type:"submit"},{default:u(()=>[h(I(i.$t("login.login")),1)]),_:1},8,["loading"])],40,A)}}};export{z as default};

--- public/build/assets/Login.e5a5b4de.js ---
@@ -1 +1 @@
-var E=Object.defineProperty,G=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var B=(s,a,t)=>a in s?E(s,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[a]=t,b=(s,a)=>{for(var t in a||(a={}))U.call(a,t)&&B(s,t,a[t]);if(D)for(var t of D(a))O.call(a,t)&&B(s,t,a[t]);return s},I=(s,a)=>G(s,L(a));import{aN as P,G as R,J as z,B as _,k as h,L as f,M as k,Q as A,T as F,r as c,o as w,e as J,f as i,w as m,u as e,l as V,h as S,i as q,t as x,m as Q,U as H}from"./vendor.01d0adc5.js";import{u as K}from"./auth.77d12976.js";import"./main.832b14c7.js";const W=["onSubmit"],X={class:"flex items-center justify-between"},oe={setup(s){const a=P(),t=R(),l=K(),{t:g}=z();let p=_(!1);const u=_(!1),C=h(()=>u.value?"text":"password"),j=h(()=>({loginData:{email:{required:f.withMessage(g("validation.required"),k),email:f.withMessage(g("validation.email_incorrect"),A)},password:{required:f.withMessage(g("validation.required"),k)}}})),r=F(j,l);async function M(){if(r.value.loginData.$touch(),r.value.loginData.$invalid)return!0;p.value=!0;let d=I(b({},l.loginData),{company:t.params.company});try{return await l.login(d),p.value=!1,a.push({name:"customer.dashboard"});l.$reset()}catch{p.value=!1}}return(d,o)=>{const $=c("BaseInput"),y=c("BaseInputGroup"),v=c("BaseIcon"),N=c("router-link"),T=c("BaseButton");return w(),J("form",{id:"loginForm",class:"space-y-6",action:"#",method:"POST",onSubmit:H(M,["prevent"])},[i(y,{error:e(r).loginData.email.$error&&e(r).loginData.email.$errors[0].$message,label:d.$t("login.email"),class:"mb-4",required:""},{default:m(()=>[i($,{modelValue:e(l).loginData.email,"onUpdate:modelValue":o[0]||(o[0]=n=>e(l).loginData.email=n),type:"email",invalid:e(r).loginData.email.$error,onInput:o[1]||(o[1]=n=>e(r).loginData.email.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["error","label"]),i(y,{error:e(r).loginData.password.$error&&e(r).loginData.password.$errors[0].$message,label:d.$t("login.password"),class:"mb-4",required:""},{default:m(()=>[i($,{modelValue:e(l).loginData.password,"onUpdate:modelValue":o[4]||(o[4]=n=>e(l).loginData.password=n),type:e(C),invalid:e(r).loginData.password.$error,onInput:o[5]||(o[5]=n=>e(r).loginData.password.$touch())},{right:m(()=>[u.value?(w(),V(v,{key:0,name:"EyeOffIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:o[2]||(o[2]=n=>u.value=!u.value)})):(w(),V(v,{key:1,name:"EyeIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:o[3]||(o[3]=n=>u.value=!u.value)}))]),_:1},8,["modelValue","type","invalid"])]),_:1},8,["error","label"]),S("div",X,[i(N,{to:{name:"customer.forgot-password"},class:"text-sm text-primary-600 hover:text-gray-500"},{default:m(()=>[q(x(d.$t("login.forgot_password")),1)]),_:1},8,["to"])]),S("div",null,[i(T,{loading:e(p),disabled:e(p),type:"submit",class:"w-full justify-center"},{left:m(n=>[i(v,{name:"LockClosedIcon",class:Q(n.class)},null,8,["class"])]),default:m(()=>[q(" "+x(d.$t("login.login")),1)]),_:1},8,["loading","disabled"])])],40,W)}}};export{oe as default};
+var E=Object.defineProperty,G=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var B=(s,a,t)=>a in s?E(s,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[a]=t,b=(s,a)=>{for(var t in a||(a={}))U.call(a,t)&&B(s,t,a[t]);if(D)for(var t of D(a))O.call(a,t)&&B(s,t,a[t]);return s},I=(s,a)=>G(s,L(a));import{aN as P,G as R,J as z,B as _,k as h,L as f,M as k,Q as A,T as F,r as c,o as w,e as J,f as i,w as m,u as e,l as V,h as S,i as q,t as x,m as Q,U as H}from"./vendor.01d0adc5.js";import{u as K}from"./auth.4644c288.js";import"./main.75722495.js";const W=["onSubmit"],X={class:"flex items-center justify-between"},oe={setup(s){const a=P(),t=R(),l=K(),{t:g}=z();let p=_(!1);const u=_(!1),C=h(()=>u.value?"text":"password"),j=h(()=>({loginData:{email:{required:f.withMessage(g("validation.required"),k),email:f.withMessage(g("validation.email_incorrect"),A)},password:{required:f.withMessage(g("validation.required"),k)}}})),r=F(j,l);async function M(){if(r.value.loginData.$touch(),r.value.loginData.$invalid)return!0;p.value=!0;let d=I(b({},l.loginData),{company:t.params.company});try{return await l.login(d),p.value=!1,a.push({name:"customer.dashboard"});l.$reset()}catch{p.value=!1}}return(d,o)=>{const $=c("BaseInput"),y=c("BaseInputGroup"),v=c("BaseIcon"),N=c("router-link"),T=c("BaseButton");return w(),J("form",{id:"loginForm",class:"space-y-6",action:"#",method:"POST",onSubmit:H(M,["prevent"])},[i(y,{error:e(r).loginData.email.$error&&e(r).loginData.email.$errors[0].$message,label:d.$t("login.email"),class:"mb-4",required:""},{default:m(()=>[i($,{modelValue:e(l).loginData.email,"onUpdate:modelValue":o[0]||(o[0]=n=>e(l).loginData.email=n),type:"email",invalid:e(r).loginData.email.$error,onInput:o[1]||(o[1]=n=>e(r).loginData.email.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["error","label"]),i(y,{error:e(r).loginData.password.$error&&e(r).loginData.password.$errors[0].$message,label:d.$t("login.password"),class:"mb-4",required:""},{default:m(()=>[i($,{modelValue:e(l).loginData.password,"onUpdate:modelValue":o[4]||(o[4]=n=>e(l).loginData.password=n),type:e(C),invalid:e(r).loginData.password.$error,onInput:o[5]||(o[5]=n=>e(r).loginData.password.$touch())},{right:m(()=>[u.value?(w(),V(v,{key:0,name:"EyeOffIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:o[2]||(o[2]=n=>u.value=!u.value)})):(w(),V(v,{key:1,name:"EyeIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:o[3]||(o[3]=n=>u.value=!u.value)}))]),_:1},8,["modelValue","type","invalid"])]),_:1},8,["error","label"]),S("div",X,[i(N,{to:{name:"customer.forgot-password"},class:"text-sm text-primary-600 hover:text-gray-500"},{default:m(()=>[q(x(d.$t("login.forgot_password")),1)]),_:1},8,["to"])]),S("div",null,[i(T,{loading:e(p),disabled:e(p),type:"submit",class:"w-full justify-center"},{left:m(n=>[i(v,{name:"LockClosedIcon",class:Q(n.class)},null,8,["class"])]),default:m(()=>[q(" "+x(d.$t("login.login")),1)]),_:1},8,["loading","disabled"])])],40,W)}}};export{oe as default};

--- public/build/assets/MailConfigSetting.91f66b99.js ---
@@ -1 +1 @@
-import{J as j,B as G,a0 as Q,k as B,L as f,M as C,aT as R,Q as A,T as P,D as L,r as c,o as q,e as O,f as l,w as s,u as e,l as V,x as T,h as F,m as z,j as E,i as S,t as k,g as J,U as N,S as X,aj as Z,F as ee}from"./vendor.01d0adc5.js";import{u as x}from"./mail-driver.1b5e2a8f.js";import{c as H}from"./main.832b14c7.js";const ie=["onSubmit"],ne={class:"flex my-10"},K={props:{configData:{type:Object,require:!0,default:Object},isSaving:{type:Boolean,require:!0,default:!1},isFetchingInitialData:{type:Boolean,require:!0,default:!1},mailDrivers:{type:Array,require:!0,default:Array}},emits:["submit-data","on-change-driver"],setup(a,{emit:D}){const $=a,i=x(),{t:u}=j();let m=G(!1);const b=Q(["tls","ssl","starttls"]),w=B(()=>m.value?"text":"password"),t=B(()=>({smtpConfig:{mail_driver:{required:f.withMessage(u("validation.required"),C)},mail_host:{required:f.withMessage(u("validation.required"),C)},mail_port:{required:f.withMessage(u("validation.required"),C),numeric:f.withMessage(u("validation.numbers_only"),R)},mail_encryption:{required:f.withMessage(u("validation.required"),C)},from_mail:{required:f.withMessage(u("validation.required"),C),email:f.withMessage(u("validation.email_incorrect"),A)},from_name:{required:f.withMessage(u("validation.required"),C)}}})),d=P(t,B(()=>i));L(()=>{for(const o in i.smtpConfig)$.configData.hasOwnProperty(o)&&(i.smtpConfig[o]=$.configData[o])});async function I(){return d.value.smtpConfig.$touch(),d.value.smtpConfig.$invalid||D("submit-data",i.smtpConfig),!1}function g(){d.value.smtpConfig.mail_driver.$touch(),D("on-change-driver",i.smtpConfig.mail_driver)}return(o,n)=>{const M=c("BaseMultiselect"),v=c("BaseInputGroup"),y=c("BaseInput"),_=c("BaseIcon"),U=c("BaseInputGrid"),p=c("BaseButton");return q(),O("form",{onSubmit:N(I,["prevent"])},[l(U,null,{default:s(()=>[l(v,{label:o.$t("settings.mail.driver"),"content-loading":a.isFetchingInitialData,error:e(d).smtpConfig.mail_driver.$error&&e(d).smtpConfig.mail_driver.$errors[0].$message,required:""},{default:s(()=>[l(M,{modelValue:e(i).smtpConfig.mail_driver,"onUpdate:modelValue":[n[0]||(n[0]=r=>e(i).smtpConfig.mail_driver=r),g],"content-loading":a.isFetchingInitialData,options:a.mailDrivers,"can-deselect":!1,invalid:e(d).smtpConfig.mail_driver.$error},null,8,["modelValue","content-loading","options","invalid"])]),_:1},8,["label","content-loading","error"]),l(v,{label:o.$t("settings.mail.host"),"content-loading":a.isFetchingInitialData,error:e(d).smtpConfig.mail_host.$error&&e(d).smtpConfig.mail_host.$errors[0].$message,required:""},{default:s(()=>[l(y,{modelValue:e(i).smtpConfig.mail_host,"onUpdate:modelValue":n[1]||(n[1]=r=>e(i).smtpConfig.mail_host=r),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,type:"text",name:"mail_host",invalid:e(d).smtpConfig.mail_host.$error,onInput:n[2]||(n[2]=r=>e(d).smtpConfig.mail_host.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),l(v,{"content-loading":a.isFetchingInitialData,label:o.$t("settings.mail.username")},{default:s(()=>[l(y,{modelValue:e(i).smtpConfig.mail_username,"onUpdate:modelValue":n[3]||(n[3]=r=>e(i).smtpConfig.mail_username=r),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,type:"text",name:"db_name"},null,8,["modelValue","content-loading"])]),_:1},8,["content-loading","label"]),l(v,{"content-loading":a.isFetchingInitialData,label:o.$t("settings.mail.password")},{default:s(()=>[l(y,{modelValue:e(i).smtpConfig.mail_password,"onUpdate:modelValue":n[6]||(n[6]=r=>e(i).smtpConfig.mail_password=r),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,type:e(w),name:"password"},{right:s(()=>[e(m)?(q(),V(_,{key:0,class:"mr-1 text-gray-500 cursor-pointer",name:"EyeOffIcon",onClick:n[4]||(n[4]=r=>T(m)?m.value=!e(m):m=!e(m))})):(q(),V(_,{key:1,class:"mr-1 text-gray-500 cursor-pointer",name:"EyeIcon",onClick:n[5]||(n[5]=r=>T(m)?m.value=!e(m):m=!e(m))}))]),_:1},8,["modelValue","content-loading","type"])]),_:1},8,["content-loading","label"]),l(v,{label:o.$t("settings.mail.port"),"content-loading":a.isFetchingInitialData,error:e(d).smtpConfig.mail_port.$error&&e(d).smtpConfig.mail_port.$errors[0].$message,required:""},{default:s(()=>[l(y,{modelValue:e(i).smtpConfig.mail_port,"onUpdate:modelValue":n[7]||(n[7]=r=>e(i).smtpConfig.mail_port=r),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,type:"text",name:"mail_port",invalid:e(d).smtpConfig.mail_port.$error,onInput:n[8]||(n[8]=r=>e(d).smtpConfig.mail_port.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),l(v,{label:o.$t("settings.mail.encryption"),"content-loading":a.isFetchingInitialData,error:e(d).smtpConfig.mail_encryption.$error&&e(d).smtpConfig.mail_encryption.$errors[0].$message,required:""},{default:s(()=>[l(M,{modelValue:e(i).smtpConfig.mail_encryption,"onUpdate:modelValue":n[9]||(n[9]=r=>e(i).smtpConfig.mail_encryption=r),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,options:e(b),searchable:!0,"show-labels":!1,placeholder:"Select option",invalid:e(d).smtpConfig.mail_encryption.$error,onInput:n[10]||(n[10]=r=>e(d).smtpConfig.mail_encryption.$touch())},null,8,["modelValue","content-loading","options","invalid"])]),_:1},8,["label","content-loading","error"]),l(v,{label:o.$t("settings.mail.from_mail"),"content-loading":a.isFetchingInitialData,error:e(d).smtpConfig.from_mail.$error&&e(d).smtpConfig.from_mail.$errors[0].$message,required:""},{default:s(()=>[l(y,{modelValue:e(i).smtpConfig.from_mail,"onUpdate:modelValue":n[11]||(n[11]=r=>e(i).smtpConfig.from_mail=r),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,type:"text",name:"from_mail",invalid:e(d).smtpConfig.from_mail.$error,onInput:n[12]||(n[12]=r=>e(d).smtpConfig.from_mail.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),l(v,{label:o.$t("settings.mail.from_name"),"content-loading":a.isFetchingInitialData,error:e(d).smtpConfig.from_name.$error&&e(d).smtpConfig.from_name.$errors[0].$message,required:""},{default:s(()=>[l(y,{modelValue:e(i).smtpConfig.from_name,"onUpdate:modelValue":n[13]||(n[13]=r=>e(i).smtpConfig.from_name=r),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,type:"text",name:"from_name",invalid:e(d).smtpConfig.from_name.$error,onInput:n[14]||(n[14]=r=>e(d).smtpConfig.from_name.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"])]),_:1}),F("div",ne,[l(p,{disabled:a.isSaving,"content-loading":a.isFetchingInitialData,loading:a.isSaving,type:"submit",variant:"primary"},{left:s(r=>[a.isSaving?E("",!0):(q(),V(_,{key:0,name:"SaveIcon",class:z(r.class)},null,8,["class"]))]),default:s(()=>[S(" "+k(o.$t("general.save")),1)]),_:1},8,["disabled","content-loading","loading"]),J(o.$slots,"default")])],40,ie)}}},te=["onSubmit"],ae={class:"flex my-10"},oe={props:{configData:{type:Object,require:!0,default:Object},isSaving:{type:Boolean,require:!0,default:!1},isFetchingInitialData:{type:Boolean,require:!0,default:!1},mailDrivers:{type:Array,require:!0,default:Array}},emits:["submit-data","on-change-driver"],setup(a,{emit:D}){const $=a,i=x(),{t:u}=j();let m=G(!1);const b=B(()=>m.value?"text":"password"),w=B(()=>({mailgunConfig:{mail_driver:{required:f.withMessage(u("validation.required"),C)},mail_mailgun_domain:{required:f.withMessage(u("validation.required"),C)},mail_mailgun_endpoint:{required:f.withMessage(u("validation.required"),C)},mail_mailgun_secret:{required:f.withMessage(u("validation.required"),C)},from_mail:{required:f.withMessage(u("validation.required"),C),email:A},from_name:{required:f.withMessage(u("validation.required"),C)}}})),t=P(w,B(()=>i));L(()=>{for(const g in i.mailgunConfig)$.configData.hasOwnProperty(g)&&(i.mailgunConfig[g]=$.configData[g])});async function d(){return t.value.mailgunConfig.$touch(),t.value.mailgunConfig.$invalid||D("submit-data",i.mailgunConfig),!1}function I(){t.value.mailgunConfig.mail_driver.$touch(),D("on-change-driver",i.mailgunConfig.mail_driver)}return(g,o)=>{const n=c("BaseMultiselect"),M=c("BaseInputGroup"),v=c("BaseInput"),y=c("BaseIcon"),_=c("BaseInputGrid"),U=c("BaseButton");return q(),O("form",{onSubmit:N(d,["prevent"])},[l(_,null,{default:s(()=>[l(M,{label:g.$t("settings.mail.driver"),"content-loading":a.isFetchingInitialData,error:e(t).mailgunConfig.mail_driver.$error&&e(t).mailgunConfig.mail_driver.$errors[0].$message,required:""},{default:s(()=>[l(n,{modelValue:e(i).mailgunConfig.mail_driver,"onUpdate:modelValue":[o[0]||(o[0]=p=>e(i).mailgunConfig.mail_driver=p),I],"content-loading":a.isFetchingInitialData,options:a.mailDrivers,"can-deselect":!1,invalid:e(t).mailgunConfig.mail_driver.$error},null,8,["modelValue","content-loading","options","invalid"])]),_:1},8,["label","content-loading","error"]),l(M,{label:g.$t("settings.mail.mailgun_domain"),"content-loading":a.isFetchingInitialData,error:e(t).mailgunConfig.mail_mailgun_domain.$error&&e(t).mailgunConfig.mail_mailgun_domain.$errors[0].$message,required:""},{default:s(()=>[l(v,{modelValue:e(i).mailgunConfig.mail_mailgun_domain,"onUpdate:modelValue":o[1]||(o[1]=p=>e(i).mailgunConfig.mail_mailgun_domain=p),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,type:"text",name:"mailgun_domain",invalid:e(t).mailgunConfig.mail_mailgun_domain.$error,onInput:o[2]||(o[2]=p=>e(t).mailgunConfig.mail_mailgun_domain.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),l(M,{label:g.$t("settings.mail.mailgun_secret"),"content-loading":a.isFetchingInitialData,error:e(t).mailgunConfig.mail_mailgun_secret.$error&&e(t).mailgunConfig.mail_mailgun_secret.$errors[0].$message,required:""},{default:s(()=>[l(v,{modelValue:e(i).mailgunConfig.mail_mailgun_secret,"onUpdate:modelValue":o[5]||(o[5]=p=>e(i).mailgunConfig.mail_mailgun_secret=p),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,type:e(b),name:"mailgun_secret",autocomplete:"off",invalid:e(t).mailgunConfig.mail_mailgun_secret.$error,onInput:o[6]||(o[6]=p=>e(t).mailgunConfig.mail_mailgun_secret.$touch())},{right:s(()=>[e(m)?(q(),V(y,{key:0,class:"mr-1 text-gray-500 cursor-pointer",name:"EyeOffIcon",onClick:o[3]||(o[3]=p=>T(m)?m.value=!e(m):m=!e(m))})):(q(),V(y,{key:1,class:"mr-1 text-gray-500 cursor-pointer",name:"EyeIcon",onClick:o[4]||(o[4]=p=>T(m)?m.value=!e(m):m=!e(m))}))]),_:1},8,["modelValue","content-loading","type","invalid"])]),_:1},8,["label","content-loading","error"]),l(M,{label:g.$t("settings.mail.mailgun_endpoint"),"content-loading":a.isFetchingInitialData,error:e(t).mailgunConfig.mail_mailgun_endpoint.$error&&e(t).mailgunConfig.mail_mailgun_endpoint.$errors[0].$message,required:""},{default:s(()=>[l(v,{modelValue:e(i).mailgunConfig.mail_mailgun_endpoint,"onUpdate:modelValue":o[7]||(o[7]=p=>e(i).mailgunConfig.mail_mailgun_endpoint=p),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,type:"text",name:"mailgun_endpoint",invalid:e(t).mailgunConfig.mail_mailgun_endpoint.$error,onInput:o[8]||(o[8]=p=>e(t).mailgunConfig.mail_mailgun_endpoint.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),l(M,{label:g.$t("settings.mail.from_mail"),"content-loading":a.isFetchingInitialData,error:e(t).mailgunConfig.from_mail.$error&&e(t).mailgunConfig.from_mail.$errors[0].$message,required:""},{default:s(()=>[l(v,{modelValue:e(i).mailgunConfig.from_mail,"onUpdate:modelValue":o[9]||(o[9]=p=>e(i).mailgunConfig.from_mail=p),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,type:"text",name:"from_mail",invalid:e(t).mailgunConfig.from_mail.$error,onInput:o[10]||(o[10]=p=>e(t).mailgunConfig.from_mail.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),l(M,{label:g.$t("settings.mail.from_name"),"content-loading":a.isFetchingInitialData,error:e(t).mailgunConfig.from_name.$error&&e(t).mailgunConfig.from_name.$errors[0].$message,required:""},{default:s(()=>[l(v,{modelValue:e(i).mailgunConfig.from_name,"onUpdate:modelValue":o[11]||(o[11]=p=>e(i).mailgunConfig.from_name=p),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,type:"text",name:"from_name",invalid:e(t).mailgunConfig.from_name.$error,onInput:o[12]||(o[12]=p=>e(t).mailgunConfig.from_name.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"])]),_:1}),F("div",ae,[l(U,{disabled:a.isSaving,"content-loading":a.isFetchingInitialData,loading:a.isSaving,variant:"primary",type:"submit"},{left:s(p=>[a.isSaving?E("",!0):(q(),V(y,{key:0,name:"SaveIcon",class:z(p.class)},null,8,["class"]))]),default:s(()=>[S(" "+k(g.$t("general.save")),1)]),_:1},8,["disabled","content-loading","loading"]),J(g.$slots,"default")])],40,te)}}},le=["onSubmit"],re={class:"flex my-10"},se={props:{configData:{type:Object,require:!0,default:Object},isSaving:{type:Boolean,require:!0,default:!1},isFetchingInitialData:{type:Boolean,require:!0,default:!1},mailDrivers:{type:Array,require:!0,default:Array}},emits:["submit-data","on-change-driver"],setup(a,{emit:D}){const $=a,i=x(),{t:u}=j();let m=G(!1);const b=Q(["tls","ssl","starttls"]),w=B(()=>({sesConfig:{mail_driver:{required:f.withMessage(u("validation.required"),C)},mail_host:{required:f.withMessage(u("validation.required"),C)},mail_port:{required:f.withMessage(u("validation.required"),C),numeric:R},mail_ses_key:{required:f.withMessage(u("validation.required"),C)},mail_ses_secret:{required:f.withMessage(u("validation.required"),C)},mail_encryption:{required:f.withMessage(u("validation.required"),C)},from_mail:{required:f.withMessage(u("validation.required"),C),email:f.withMessage(u("validation.email_incorrect"),A)},from_name:{required:f.withMessage(u("validation.required"),C)}}})),t=P(w,B(()=>i)),d=B(()=>m.value?"text":"password");L(()=>{for(const o in i.sesConfig)$.configData.hasOwnProperty(o)&&(i.sesConfig[o]=$.configData[o])});async function I(){return t.value.sesConfig.$touch(),t.value.sesConfig.$invalid||D("submit-data",i.sesConfig),!1}function g(){t.value.sesConfig.mail_driver.$touch(),D("on-change-driver",i.sesConfig.mail_driver)}return(o,n)=>{const M=c("BaseMultiselect"),v=c("BaseInputGroup"),y=c("BaseInput"),_=c("BaseIcon"),U=c("BaseInputGrid"),p=c("BaseButton");return q(),O("form",{onSubmit:N(I,["prevent"])},[l(U,null,{default:s(()=>[l(v,{label:o.$t("settings.mail.driver"),"content-loading":a.isFetchingInitialData,error:e(t).sesConfig.mail_driver.$error&&e(t).sesConfig.mail_driver.$errors[0].$message,required:""},{default:s(()=>[l(M,{modelValue:e(i).sesConfig.mail_driver,"onUpdate:modelValue":[n[0]||(n[0]=r=>e(i).sesConfig.mail_driver=r),g],"content-loading":a.isFetchingInitialData,options:a.mailDrivers,"can-deselect":!1,invalid:e(t).sesConfig.mail_driver.$error},null,8,["modelValue","content-loading","options","invalid"])]),_:1},8,["label","content-loading","error"]),l(v,{label:o.$t("settings.mail.host"),"content-loading":a.isFetchingInitialData,error:e(t).sesConfig.mail_host.$error&&e(t).sesConfig.mail_host.$errors[0].$message,required:""},{default:s(()=>[l(y,{modelValue:e(i).sesConfig.mail_host,"onUpdate:modelValue":n[1]||(n[1]=r=>e(i).sesConfig.mail_host=r),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,type:"text",name:"mail_host",invalid:e(t).sesConfig.mail_host.$error,onInput:n[2]||(n[2]=r=>e(t).sesConfig.mail_host.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),l(v,{label:o.$t("settings.mail.port"),"content-loading":a.isFetchingInitialData,error:e(t).sesConfig.mail_port.$error&&e(t).sesConfig.mail_port.$errors[0].$message,required:""},{default:s(()=>[l(y,{modelValue:e(i).sesConfig.mail_port,"onUpdate:modelValue":n[3]||(n[3]=r=>e(i).sesConfig.mail_port=r),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,type:"text",name:"mail_port",invalid:e(t).sesConfig.mail_port.$error,onInput:n[4]||(n[4]=r=>e(t).sesConfig.mail_port.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),l(v,{label:o.$t("settings.mail.encryption"),"content-loading":a.isFetchingInitialData,error:e(t).sesConfig.mail_encryption.$error&&e(t).sesConfig.mail_encryption.$errors[0].$message,required:""},{default:s(()=>[l(M,{modelValue:e(i).sesConfig.mail_encryption,"onUpdate:modelValue":n[5]||(n[5]=r=>e(i).sesConfig.mail_encryption=r),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,options:e(b),invalid:e(t).sesConfig.mail_encryption.$error,placeholder:"Select option",onInput:n[6]||(n[6]=r=>e(t).sesConfig.mail_encryption.$touch())},null,8,["modelValue","content-loading","options","invalid"])]),_:1},8,["label","content-loading","error"]),l(v,{label:o.$t("settings.mail.from_mail"),"content-loading":a.isFetchingInitialData,error:e(t).sesConfig.from_mail.$error&&e(t).sesConfig.from_mail.$errors[0].$message,required:""},{default:s(()=>[l(y,{modelValue:e(i).sesConfig.from_mail,"onUpdate:modelValue":n[7]||(n[7]=r=>e(i).sesConfig.from_mail=r),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,type:"text",name:"from_mail",invalid:e(t).sesConfig.from_mail.$error,onInput:n[8]||(n[8]=r=>e(t).sesConfig.from_mail.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),l(v,{label:o.$t("settings.mail.from_name"),"content-loading":a.isFetchingInitialData,error:e(t).sesConfig.from_name.$error&&e(t).sesConfig.from_name.$errors[0].$message,required:""},{default:s(()=>[l(y,{modelValue:e(i).sesConfig.from_name,"onUpdate:modelValue":n[9]||(n[9]=r=>e(i).sesConfig.from_name=r),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,type:"text",name:"name",invalid:e(t).sesConfig.from_name.$error,onInput:n[10]||(n[10]=r=>e(t).sesConfig.from_name.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),l(v,{label:o.$t("settings.mail.ses_key"),"content-loading":a.isFetchingInitialData,error:e(t).sesConfig.mail_ses_key.$error&&e(t).sesConfig.mail_ses_key.$errors[0].$message,required:""},{default:s(()=>[l(y,{modelValue:e(i).sesConfig.mail_ses_key,"onUpdate:modelValue":n[11]||(n[11]=r=>e(i).sesConfig.mail_ses_key=r),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,type:"text",name:"mail_ses_key",invalid:e(t).sesConfig.mail_ses_key.$error,onInput:n[12]||(n[12]=r=>e(t).sesConfig.mail_ses_key.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),l(v,{label:o.$t("settings.mail.ses_secret"),"content-loading":a.isFetchingInitialData,error:e(t).sesConfig.mail_ses_secret.$error&&e(t).mail_ses_secret.$errors[0].$message,required:""},{default:s(()=>[l(y,{modelValue:e(i).sesConfig.mail_ses_secret,"onUpdate:modelValue":n[15]||(n[15]=r=>e(i).sesConfig.mail_ses_secret=r),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,type:e(d),name:"mail_ses_secret",autocomplete:"off",invalid:e(t).sesConfig.mail_ses_secret.$error,onInput:n[16]||(n[16]=r=>e(t).sesConfig.mail_ses_secret.$touch())},{right:s(()=>[e(m)?(q(),V(_,{key:0,class:"mr-1 text-gray-500 cursor-pointer",name:"EyeOffIcon",onClick:n[13]||(n[13]=r=>T(m)?m.value=!e(m):m=!e(m))})):(q(),V(_,{key:1,class:"mr-1 text-gray-500 cursor-pointer",name:"EyeIcon",onClick:n[14]||(n[14]=r=>T(m)?m.value=!e(m):m=!e(m))}))]),_:1},8,["modelValue","content-loading","type","invalid"])]),_:1},8,["label","content-loading","error"])]),_:1}),F("div",re,[l(p,{disabled:a.isSaving,"content-loading":a.isFetchingInitialData,loading:a.isSaving,variant:"primary",type:"submit"},{left:s(r=>[a.isSaving?E("",!0):(q(),V(_,{key:0,name:"SaveIcon",class:z(r.class)},null,8,["class"]))]),default:s(()=>[S(" "+k(o.$t("general.save")),1)]),_:1},8,["disabled","content-loading","loading"]),J(o.$slots,"default")])],40,le)}}},me=["onSubmit"],de={class:"flex mt-8"},W={props:{configData:{type:Object,require:!0,default:Object},isSaving:{type:Boolean,require:!0,default:!1},isFetchingInitialData:{type:Boolean,require:!0,default:!1},mailDrivers:{type:Array,require:!0,default:Array}},emits:["submit-data","on-change-driver"],setup(a,{emit:D}){const $=a,i=x(),{t:u}=j(),m=B(()=>({basicMailConfig:{mail_driver:{required:f.withMessage(u("validation.required"),C)},from_mail:{required:f.withMessage(u("validation.required"),C),email:f.withMessage(u("validation.email_incorrect"),A)},from_name:{required:f.withMessage(u("validation.required"),C)}}})),b=P(m,B(()=>i));L(()=>{for(const d in i.basicMailConfig)$.configData.hasOwnProperty(d)&&i.$patch(I=>{I.basicMailConfig[d]=$.configData[d]})});async function w(){return b.value.basicMailConfig.$touch(),b.value.basicMailConfig.$invalid||D("submit-data",i.basicMailConfig),!1}function t(){b.value.basicMailConfig.mail_driver.$touch(),D("on-change-driver",i.basicMailConfig.mail_driver)}return(d,I)=>{const g=c("BaseMultiselect"),o=c("BaseInputGroup"),n=c("BaseInput"),M=c("BaseInputGrid"),v=c("BaseIcon"),y=c("BaseButton");return q(),O("form",{onSubmit:N(w,["prevent"])},[l(M,null,{default:s(()=>[l(o,{label:d.$t("settings.mail.driver"),"content-loading":a.isFetchingInitialData,error:e(b).basicMailConfig.mail_driver.$error&&e(b).basicMailConfig.mail_driver.$errors[0].$message,required:""},{default:s(()=>[l(g,{modelValue:e(i).basicMailConfig.mail_driver,"onUpdate:modelValue":[I[0]||(I[0]=_=>e(i).basicMailConfig.mail_driver=_),t],"content-loading":a.isFetchingInitialData,options:a.mailDrivers,"can-deselect":!1,invalid:e(b).basicMailConfig.mail_driver.$error},null,8,["modelValue","content-loading","options","invalid"])]),_:1},8,["label","content-loading","error"]),l(o,{label:d.$t("settings.mail.from_mail"),"content-loading":a.isFetchingInitialData,error:e(b).basicMailConfig.from_mail.$error&&e(b).basicMailConfig.from_mail.$errors[0].$message,required:""},{default:s(()=>[l(n,{modelValue:e(i).basicMailConfig.from_mail,"onUpdate:modelValue":I[1]||(I[1]=_=>e(i).basicMailConfig.from_mail=_),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,type:"text",name:"from_mail",invalid:e(b).basicMailConfig.from_mail.$error,onInput:I[2]||(I[2]=_=>e(b).basicMailConfig.from_mail.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),l(o,{label:d.$t("settings.mail.from_name"),"content-loading":a.isFetchingInitialData,error:e(b).basicMailConfig.from_name.$error&&e(b).basicMailConfig.from_name.$errors[0].$message,required:""},{default:s(()=>[l(n,{modelValue:e(i).basicMailConfig.from_name,"onUpdate:modelValue":I[3]||(I[3]=_=>e(i).basicMailConfig.from_name=_),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,type:"text",name:"name",invalid:e(b).basicMailConfig.from_name.$error,onInput:I[4]||(I[4]=_=>e(b).basicMailConfig.from_name.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"])]),_:1}),F("div",de,[l(y,{"content-loading":a.isFetchingInitialData,disabled:a.isSaving,loading:a.isSaving,variant:"primary",type:"submit"},{left:s(_=>[a.isSaving?E("",!0):(q(),V(v,{key:0,class:z(_.class),name:"SaveIcon"},null,8,["class"]))]),default:s(()=>[S(" "+k(d.$t("general.save")),1)]),_:1},8,["content-loading","disabled","loading"]),J(d.$slots,"default")])],40,me)}}},ue={class:"flex justify-between w-full"},ge=["onSubmit"],fe={class:"p-4 md:p-8"},ce={class:"z-0 flex justify-end p-4 border-t border-gray-200 border-solid"},ve={setup(a){let D=G(!1),$=Q({to:"",subject:"",message:""});const i=H(),u=x(),{t:m}=j(),b=B(()=>i.active&&i.componentName==="MailTestModal"),w={formData:{to:{required:f.withMessage(m("validation.required"),C),email:f.withMessage(m("validation.email_incorrect"),A)},subject:{required:f.withMessage(m("validation.required"),C),maxLength:f.withMessage(m("validation.subject_maxlength"),X(100))},message:{required:f.withMessage(m("validation.required"),C),maxLength:f.withMessage(m("validation.message_maxlength"),X(255))}}},t=P(w,{formData:$});function d(){$.id="",$.to="",$.subject="",$.message="",t.value.$reset()}async function I(){if(t.value.formData.$touch(),t.value.$invalid)return!0;D.value=!0,(await u.sendTestMail($)).data&&(g(),D.value=!1)}function g(){i.closeModal(),setTimeout(()=>{i.resetModalData(),d()},300)}return(o,n)=>{const M=c("BaseIcon"),v=c("BaseInput"),y=c("BaseInputGroup"),_=c("BaseTextarea"),U=c("BaseInputGrid"),p=c("BaseButton"),r=c("BaseModal");return q(),V(r,{show:e(b),onClose:g},{header:s(()=>[F("div",ue,[S(k(e(i).title)+" ",1),l(M,{name:"XIcon",class:"w-6 h-6 text-gray-500 cursor-pointer",onClick:g})])]),default:s(()=>[F("form",{action:"",onSubmit:N(I,["prevent"])},[F("div",fe,[l(U,{layout:"one-column"},{default:s(()=>[l(y,{label:o.$t("general.to"),error:e(t).formData.to.$error&&e(t).formData.to.$errors[0].$message,variant:"horizontal",required:""},{default:s(()=>[l(v,{ref:(h,Y)=>{Y.to=h},modelValue:e($).to,"onUpdate:modelValue":n[0]||(n[0]=h=>e($).to=h),type:"text",invalid:e(t).formData.to.$error,onInput:n[1]||(n[1]=h=>e(t).formData.to.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),l(y,{label:o.$t("general.subject"),error:e(t).formData.subject.$error&&e(t).formData.subject.$errors[0].$message,variant:"horizontal",required:""},{default:s(()=>[l(v,{modelValue:e($).subject,"onUpdate:modelValue":n[2]||(n[2]=h=>e($).subject=h),type:"text",invalid:e(t).formData.subject.$error,onInput:n[3]||(n[3]=h=>e(t).formData.subject.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),l(y,{label:o.$t("general.message"),error:e(t).formData.message.$error&&e(t).formData.message.$errors[0].$message,variant:"horizontal",required:""},{default:s(()=>[l(_,{modelValue:e($).message,"onUpdate:modelValue":n[4]||(n[4]=h=>e($).message=h),rows:"4",cols:"50",invalid:e(t).formData.message.$error,onInput:n[5]||(n[5]=h=>e(t).formData.message.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"])]),_:1})]),F("div",ce,[l(p,{variant:"primary-outline",type:"button",class:"mr-3",onClick:n[6]||(n[6]=h=>g())},{default:s(()=>[S(k(o.$t("general.cancel")),1)]),_:1}),l(p,{loading:e(D),variant:"primary",type:"submit"},{left:s(h=>[e(D)?E("",!0):(q(),V(M,{key:0,name:"PaperAirplaneIcon",class:z(h.class)},null,8,["class"]))]),default:s(()=>[S(" "+k(o.$t("general.send")),1)]),_:1},8,["loading"])])],40,ge)]),_:1},8,["show"])}}},$e={key:0,class:"mt-14"},ye={setup(a){let D=G(!1),$=G(!1);const i=x(),u=H(),{t:m}=j();w();function b(g){i.mail_driver=g,i.mailConfigData.mail_driver=g}async function w(){$.value=!0,Promise.all([await i.fetchMailDrivers(),await i.fetchMailConfig()]).then(([g])=>{$.value=!1})}const t=B(()=>i.mail_driver=="smtp"?K:i.mail_driver=="mailgun"?oe:i.mail_driver=="sendmail"?W:i.mail_driver=="ses"?se:i.mail_driver=="mail"?W:K);async function d(g){try{return D.value=!0,await i.updateMailConfig(g),D.value=!1,!0}catch(o){console.error(o)}}function I(){u.openModal({title:m("general.test_mail_conf"),componentName:"MailTestModal",size:"sm"})}return(g,o)=>{const n=c("BaseButton"),M=c("BaseSettingCard");return q(),O(ee,null,[l(ve),l(M,{title:g.$t("settings.mail.mail_config"),description:g.$t("settings.mail.mail_config_desc")},{default:s(()=>[e(i)&&e(i).mailConfigData?(q(),O("div",$e,[(q(),V(Z(e(t)),{"config-data":e(i).mailConfigData,"is-saving":e(D),"mail-drivers":e(i).mail_drivers,"is-fetching-initial-data":e($),onOnChangeDriver:o[0]||(o[0]=v=>b(v)),onSubmitData:d},{default:s(()=>[l(n,{variant:"primary-outline",type:"button",class:"ml-2","content-loading":e($),onClick:I},{default:s(()=>[S(k(g.$t("general.test_mail_conf")),1)]),_:1},8,["content-loading"])]),_:1},8,["config-data","is-saving","mail-drivers","is-fetching-initial-data"]))])):E("",!0)]),_:1},8,["title","description"])],64)}}};export{ye as default};
+import{J as j,B as G,a0 as Q,k as B,L as f,M as C,aT as R,Q as A,T as P,D as L,r as c,o as q,e as O,f as l,w as s,u as e,l as V,x as T,h as F,m as z,j as E,i as S,t as k,g as J,U as N,S as X,aj as Z,F as ee}from"./vendor.01d0adc5.js";import{u as x}from"./mail-driver.4ea1af6b.js";import{c as H}from"./main.75722495.js";const ie=["onSubmit"],ne={class:"flex my-10"},K={props:{configData:{type:Object,require:!0,default:Object},isSaving:{type:Boolean,require:!0,default:!1},isFetchingInitialData:{type:Boolean,require:!0,default:!1},mailDrivers:{type:Array,require:!0,default:Array}},emits:["submit-data","on-change-driver"],setup(a,{emit:D}){const $=a,i=x(),{t:u}=j();let m=G(!1);const b=Q(["tls","ssl","starttls"]),w=B(()=>m.value?"text":"password"),t=B(()=>({smtpConfig:{mail_driver:{required:f.withMessage(u("validation.required"),C)},mail_host:{required:f.withMessage(u("validation.required"),C)},mail_port:{required:f.withMessage(u("validation.required"),C),numeric:f.withMessage(u("validation.numbers_only"),R)},mail_encryption:{required:f.withMessage(u("validation.required"),C)},from_mail:{required:f.withMessage(u("validation.required"),C),email:f.withMessage(u("validation.email_incorrect"),A)},from_name:{required:f.withMessage(u("validation.required"),C)}}})),d=P(t,B(()=>i));L(()=>{for(const o in i.smtpConfig)$.configData.hasOwnProperty(o)&&(i.smtpConfig[o]=$.configData[o])});async function I(){return d.value.smtpConfig.$touch(),d.value.smtpConfig.$invalid||D("submit-data",i.smtpConfig),!1}function g(){d.value.smtpConfig.mail_driver.$touch(),D("on-change-driver",i.smtpConfig.mail_driver)}return(o,n)=>{const M=c("BaseMultiselect"),v=c("BaseInputGroup"),y=c("BaseInput"),_=c("BaseIcon"),U=c("BaseInputGrid"),p=c("BaseButton");return q(),O("form",{onSubmit:N(I,["prevent"])},[l(U,null,{default:s(()=>[l(v,{label:o.$t("settings.mail.driver"),"content-loading":a.isFetchingInitialData,error:e(d).smtpConfig.mail_driver.$error&&e(d).smtpConfig.mail_driver.$errors[0].$message,required:""},{default:s(()=>[l(M,{modelValue:e(i).smtpConfig.mail_driver,"onUpdate:modelValue":[n[0]||(n[0]=r=>e(i).smtpConfig.mail_driver=r),g],"content-loading":a.isFetchingInitialData,options:a.mailDrivers,"can-deselect":!1,invalid:e(d).smtpConfig.mail_driver.$error},null,8,["modelValue","content-loading","options","invalid"])]),_:1},8,["label","content-loading","error"]),l(v,{label:o.$t("settings.mail.host"),"content-loading":a.isFetchingInitialData,error:e(d).smtpConfig.mail_host.$error&&e(d).smtpConfig.mail_host.$errors[0].$message,required:""},{default:s(()=>[l(y,{modelValue:e(i).smtpConfig.mail_host,"onUpdate:modelValue":n[1]||(n[1]=r=>e(i).smtpConfig.mail_host=r),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,type:"text",name:"mail_host",invalid:e(d).smtpConfig.mail_host.$error,onInput:n[2]||(n[2]=r=>e(d).smtpConfig.mail_host.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),l(v,{"content-loading":a.isFetchingInitialData,label:o.$t("settings.mail.username")},{default:s(()=>[l(y,{modelValue:e(i).smtpConfig.mail_username,"onUpdate:modelValue":n[3]||(n[3]=r=>e(i).smtpConfig.mail_username=r),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,type:"text",name:"db_name"},null,8,["modelValue","content-loading"])]),_:1},8,["content-loading","label"]),l(v,{"content-loading":a.isFetchingInitialData,label:o.$t("settings.mail.password")},{default:s(()=>[l(y,{modelValue:e(i).smtpConfig.mail_password,"onUpdate:modelValue":n[6]||(n[6]=r=>e(i).smtpConfig.mail_password=r),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,type:e(w),name:"password"},{right:s(()=>[e(m)?(q(),V(_,{key:0,class:"mr-1 text-gray-500 cursor-pointer",name:"EyeOffIcon",onClick:n[4]||(n[4]=r=>T(m)?m.value=!e(m):m=!e(m))})):(q(),V(_,{key:1,class:"mr-1 text-gray-500 cursor-pointer",name:"EyeIcon",onClick:n[5]||(n[5]=r=>T(m)?m.value=!e(m):m=!e(m))}))]),_:1},8,["modelValue","content-loading","type"])]),_:1},8,["content-loading","label"]),l(v,{label:o.$t("settings.mail.port"),"content-loading":a.isFetchingInitialData,error:e(d).smtpConfig.mail_port.$error&&e(d).smtpConfig.mail_port.$errors[0].$message,required:""},{default:s(()=>[l(y,{modelValue:e(i).smtpConfig.mail_port,"onUpdate:modelValue":n[7]||(n[7]=r=>e(i).smtpConfig.mail_port=r),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,type:"text",name:"mail_port",invalid:e(d).smtpConfig.mail_port.$error,onInput:n[8]||(n[8]=r=>e(d).smtpConfig.mail_port.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),l(v,{label:o.$t("settings.mail.encryption"),"content-loading":a.isFetchingInitialData,error:e(d).smtpConfig.mail_encryption.$error&&e(d).smtpConfig.mail_encryption.$errors[0].$message,required:""},{default:s(()=>[l(M,{modelValue:e(i).smtpConfig.mail_encryption,"onUpdate:modelValue":n[9]||(n[9]=r=>e(i).smtpConfig.mail_encryption=r),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,options:e(b),searchable:!0,"show-labels":!1,placeholder:"Select option",invalid:e(d).smtpConfig.mail_encryption.$error,onInput:n[10]||(n[10]=r=>e(d).smtpConfig.mail_encryption.$touch())},null,8,["modelValue","content-loading","options","invalid"])]),_:1},8,["label","content-loading","error"]),l(v,{label:o.$t("settings.mail.from_mail"),"content-loading":a.isFetchingInitialData,error:e(d).smtpConfig.from_mail.$error&&e(d).smtpConfig.from_mail.$errors[0].$message,required:""},{default:s(()=>[l(y,{modelValue:e(i).smtpConfig.from_mail,"onUpdate:modelValue":n[11]||(n[11]=r=>e(i).smtpConfig.from_mail=r),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,type:"text",name:"from_mail",invalid:e(d).smtpConfig.from_mail.$error,onInput:n[12]||(n[12]=r=>e(d).smtpConfig.from_mail.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),l(v,{label:o.$t("settings.mail.from_name"),"content-loading":a.isFetchingInitialData,error:e(d).smtpConfig.from_name.$error&&e(d).smtpConfig.from_name.$errors[0].$message,required:""},{default:s(()=>[l(y,{modelValue:e(i).smtpConfig.from_name,"onUpdate:modelValue":n[13]||(n[13]=r=>e(i).smtpConfig.from_name=r),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,type:"text",name:"from_name",invalid:e(d).smtpConfig.from_name.$error,onInput:n[14]||(n[14]=r=>e(d).smtpConfig.from_name.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"])]),_:1}),F("div",ne,[l(p,{disabled:a.isSaving,"content-loading":a.isFetchingInitialData,loading:a.isSaving,type:"submit",variant:"primary"},{left:s(r=>[a.isSaving?E("",!0):(q(),V(_,{key:0,name:"SaveIcon",class:z(r.class)},null,8,["class"]))]),default:s(()=>[S(" "+k(o.$t("general.save")),1)]),_:1},8,["disabled","content-loading","loading"]),J(o.$slots,"default")])],40,ie)}}},te=["onSubmit"],ae={class:"flex my-10"},oe={props:{configData:{type:Object,require:!0,default:Object},isSaving:{type:Boolean,require:!0,default:!1},isFetchingInitialData:{type:Boolean,require:!0,default:!1},mailDrivers:{type:Array,require:!0,default:Array}},emits:["submit-data","on-change-driver"],setup(a,{emit:D}){const $=a,i=x(),{t:u}=j();let m=G(!1);const b=B(()=>m.value?"text":"password"),w=B(()=>({mailgunConfig:{mail_driver:{required:f.withMessage(u("validation.required"),C)},mail_mailgun_domain:{required:f.withMessage(u("validation.required"),C)},mail_mailgun_endpoint:{required:f.withMessage(u("validation.required"),C)},mail_mailgun_secret:{required:f.withMessage(u("validation.required"),C)},from_mail:{required:f.withMessage(u("validation.required"),C),email:A},from_name:{required:f.withMessage(u("validation.required"),C)}}})),t=P(w,B(()=>i));L(()=>{for(const g in i.mailgunConfig)$.configData.hasOwnProperty(g)&&(i.mailgunConfig[g]=$.configData[g])});async function d(){return t.value.mailgunConfig.$touch(),t.value.mailgunConfig.$invalid||D("submit-data",i.mailgunConfig),!1}function I(){t.value.mailgunConfig.mail_driver.$touch(),D("on-change-driver",i.mailgunConfig.mail_driver)}return(g,o)=>{const n=c("BaseMultiselect"),M=c("BaseInputGroup"),v=c("BaseInput"),y=c("BaseIcon"),_=c("BaseInputGrid"),U=c("BaseButton");return q(),O("form",{onSubmit:N(d,["prevent"])},[l(_,null,{default:s(()=>[l(M,{label:g.$t("settings.mail.driver"),"content-loading":a.isFetchingInitialData,error:e(t).mailgunConfig.mail_driver.$error&&e(t).mailgunConfig.mail_driver.$errors[0].$message,required:""},{default:s(()=>[l(n,{modelValue:e(i).mailgunConfig.mail_driver,"onUpdate:modelValue":[o[0]||(o[0]=p=>e(i).mailgunConfig.mail_driver=p),I],"content-loading":a.isFetchingInitialData,options:a.mailDrivers,"can-deselect":!1,invalid:e(t).mailgunConfig.mail_driver.$error},null,8,["modelValue","content-loading","options","invalid"])]),_:1},8,["label","content-loading","error"]),l(M,{label:g.$t("settings.mail.mailgun_domain"),"content-loading":a.isFetchingInitialData,error:e(t).mailgunConfig.mail_mailgun_domain.$error&&e(t).mailgunConfig.mail_mailgun_domain.$errors[0].$message,required:""},{default:s(()=>[l(v,{modelValue:e(i).mailgunConfig.mail_mailgun_domain,"onUpdate:modelValue":o[1]||(o[1]=p=>e(i).mailgunConfig.mail_mailgun_domain=p),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,type:"text",name:"mailgun_domain",invalid:e(t).mailgunConfig.mail_mailgun_domain.$error,onInput:o[2]||(o[2]=p=>e(t).mailgunConfig.mail_mailgun_domain.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),l(M,{label:g.$t("settings.mail.mailgun_secret"),"content-loading":a.isFetchingInitialData,error:e(t).mailgunConfig.mail_mailgun_secret.$error&&e(t).mailgunConfig.mail_mailgun_secret.$errors[0].$message,required:""},{default:s(()=>[l(v,{modelValue:e(i).mailgunConfig.mail_mailgun_secret,"onUpdate:modelValue":o[5]||(o[5]=p=>e(i).mailgunConfig.mail_mailgun_secret=p),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,type:e(b),name:"mailgun_secret",autocomplete:"off",invalid:e(t).mailgunConfig.mail_mailgun_secret.$error,onInput:o[6]||(o[6]=p=>e(t).mailgunConfig.mail_mailgun_secret.$touch())},{right:s(()=>[e(m)?(q(),V(y,{key:0,class:"mr-1 text-gray-500 cursor-pointer",name:"EyeOffIcon",onClick:o[3]||(o[3]=p=>T(m)?m.value=!e(m):m=!e(m))})):(q(),V(y,{key:1,class:"mr-1 text-gray-500 cursor-pointer",name:"EyeIcon",onClick:o[4]||(o[4]=p=>T(m)?m.value=!e(m):m=!e(m))}))]),_:1},8,["modelValue","content-loading","type","invalid"])]),_:1},8,["label","content-loading","error"]),l(M,{label:g.$t("settings.mail.mailgun_endpoint"),"content-loading":a.isFetchingInitialData,error:e(t).mailgunConfig.mail_mailgun_endpoint.$error&&e(t).mailgunConfig.mail_mailgun_endpoint.$errors[0].$message,required:""},{default:s(()=>[l(v,{modelValue:e(i).mailgunConfig.mail_mailgun_endpoint,"onUpdate:modelValue":o[7]||(o[7]=p=>e(i).mailgunConfig.mail_mailgun_endpoint=p),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,type:"text",name:"mailgun_endpoint",invalid:e(t).mailgunConfig.mail_mailgun_endpoint.$error,onInput:o[8]||(o[8]=p=>e(t).mailgunConfig.mail_mailgun_endpoint.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),l(M,{label:g.$t("settings.mail.from_mail"),"content-loading":a.isFetchingInitialData,error:e(t).mailgunConfig.from_mail.$error&&e(t).mailgunConfig.from_mail.$errors[0].$message,required:""},{default:s(()=>[l(v,{modelValue:e(i).mailgunConfig.from_mail,"onUpdate:modelValue":o[9]||(o[9]=p=>e(i).mailgunConfig.from_mail=p),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,type:"text",name:"from_mail",invalid:e(t).mailgunConfig.from_mail.$error,onInput:o[10]||(o[10]=p=>e(t).mailgunConfig.from_mail.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),l(M,{label:g.$t("settings.mail.from_name"),"content-loading":a.isFetchingInitialData,error:e(t).mailgunConfig.from_name.$error&&e(t).mailgunConfig.from_name.$errors[0].$message,required:""},{default:s(()=>[l(v,{modelValue:e(i).mailgunConfig.from_name,"onUpdate:modelValue":o[11]||(o[11]=p=>e(i).mailgunConfig.from_name=p),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,type:"text",name:"from_name",invalid:e(t).mailgunConfig.from_name.$error,onInput:o[12]||(o[12]=p=>e(t).mailgunConfig.from_name.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"])]),_:1}),F("div",ae,[l(U,{disabled:a.isSaving,"content-loading":a.isFetchingInitialData,loading:a.isSaving,variant:"primary",type:"submit"},{left:s(p=>[a.isSaving?E("",!0):(q(),V(y,{key:0,name:"SaveIcon",class:z(p.class)},null,8,["class"]))]),default:s(()=>[S(" "+k(g.$t("general.save")),1)]),_:1},8,["disabled","content-loading","loading"]),J(g.$slots,"default")])],40,te)}}},le=["onSubmit"],re={class:"flex my-10"},se={props:{configData:{type:Object,require:!0,default:Object},isSaving:{type:Boolean,require:!0,default:!1},isFetchingInitialData:{type:Boolean,require:!0,default:!1},mailDrivers:{type:Array,require:!0,default:Array}},emits:["submit-data","on-change-driver"],setup(a,{emit:D}){const $=a,i=x(),{t:u}=j();let m=G(!1);const b=Q(["tls","ssl","starttls"]),w=B(()=>({sesConfig:{mail_driver:{required:f.withMessage(u("validation.required"),C)},mail_host:{required:f.withMessage(u("validation.required"),C)},mail_port:{required:f.withMessage(u("validation.required"),C),numeric:R},mail_ses_key:{required:f.withMessage(u("validation.required"),C)},mail_ses_secret:{required:f.withMessage(u("validation.required"),C)},mail_encryption:{required:f.withMessage(u("validation.required"),C)},from_mail:{required:f.withMessage(u("validation.required"),C),email:f.withMessage(u("validation.email_incorrect"),A)},from_name:{required:f.withMessage(u("validation.required"),C)}}})),t=P(w,B(()=>i)),d=B(()=>m.value?"text":"password");L(()=>{for(const o in i.sesConfig)$.configData.hasOwnProperty(o)&&(i.sesConfig[o]=$.configData[o])});async function I(){return t.value.sesConfig.$touch(),t.value.sesConfig.$invalid||D("submit-data",i.sesConfig),!1}function g(){t.value.sesConfig.mail_driver.$touch(),D("on-change-driver",i.sesConfig.mail_driver)}return(o,n)=>{const M=c("BaseMultiselect"),v=c("BaseInputGroup"),y=c("BaseInput"),_=c("BaseIcon"),U=c("BaseInputGrid"),p=c("BaseButton");return q(),O("form",{onSubmit:N(I,["prevent"])},[l(U,null,{default:s(()=>[l(v,{label:o.$t("settings.mail.driver"),"content-loading":a.isFetchingInitialData,error:e(t).sesConfig.mail_driver.$error&&e(t).sesConfig.mail_driver.$errors[0].$message,required:""},{default:s(()=>[l(M,{modelValue:e(i).sesConfig.mail_driver,"onUpdate:modelValue":[n[0]||(n[0]=r=>e(i).sesConfig.mail_driver=r),g],"content-loading":a.isFetchingInitialData,options:a.mailDrivers,"can-deselect":!1,invalid:e(t).sesConfig.mail_driver.$error},null,8,["modelValue","content-loading","options","invalid"])]),_:1},8,["label","content-loading","error"]),l(v,{label:o.$t("settings.mail.host"),"content-loading":a.isFetchingInitialData,error:e(t).sesConfig.mail_host.$error&&e(t).sesConfig.mail_host.$errors[0].$message,required:""},{default:s(()=>[l(y,{modelValue:e(i).sesConfig.mail_host,"onUpdate:modelValue":n[1]||(n[1]=r=>e(i).sesConfig.mail_host=r),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,type:"text",name:"mail_host",invalid:e(t).sesConfig.mail_host.$error,onInput:n[2]||(n[2]=r=>e(t).sesConfig.mail_host.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),l(v,{label:o.$t("settings.mail.port"),"content-loading":a.isFetchingInitialData,error:e(t).sesConfig.mail_port.$error&&e(t).sesConfig.mail_port.$errors[0].$message,required:""},{default:s(()=>[l(y,{modelValue:e(i).sesConfig.mail_port,"onUpdate:modelValue":n[3]||(n[3]=r=>e(i).sesConfig.mail_port=r),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,type:"text",name:"mail_port",invalid:e(t).sesConfig.mail_port.$error,onInput:n[4]||(n[4]=r=>e(t).sesConfig.mail_port.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),l(v,{label:o.$t("settings.mail.encryption"),"content-loading":a.isFetchingInitialData,error:e(t).sesConfig.mail_encryption.$error&&e(t).sesConfig.mail_encryption.$errors[0].$message,required:""},{default:s(()=>[l(M,{modelValue:e(i).sesConfig.mail_encryption,"onUpdate:modelValue":n[5]||(n[5]=r=>e(i).sesConfig.mail_encryption=r),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,options:e(b),invalid:e(t).sesConfig.mail_encryption.$error,placeholder:"Select option",onInput:n[6]||(n[6]=r=>e(t).sesConfig.mail_encryption.$touch())},null,8,["modelValue","content-loading","options","invalid"])]),_:1},8,["label","content-loading","error"]),l(v,{label:o.$t("settings.mail.from_mail"),"content-loading":a.isFetchingInitialData,error:e(t).sesConfig.from_mail.$error&&e(t).sesConfig.from_mail.$errors[0].$message,required:""},{default:s(()=>[l(y,{modelValue:e(i).sesConfig.from_mail,"onUpdate:modelValue":n[7]||(n[7]=r=>e(i).sesConfig.from_mail=r),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,type:"text",name:"from_mail",invalid:e(t).sesConfig.from_mail.$error,onInput:n[8]||(n[8]=r=>e(t).sesConfig.from_mail.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),l(v,{label:o.$t("settings.mail.from_name"),"content-loading":a.isFetchingInitialData,error:e(t).sesConfig.from_name.$error&&e(t).sesConfig.from_name.$errors[0].$message,required:""},{default:s(()=>[l(y,{modelValue:e(i).sesConfig.from_name,"onUpdate:modelValue":n[9]||(n[9]=r=>e(i).sesConfig.from_name=r),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,type:"text",name:"name",invalid:e(t).sesConfig.from_name.$error,onInput:n[10]||(n[10]=r=>e(t).sesConfig.from_name.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),l(v,{label:o.$t("settings.mail.ses_key"),"content-loading":a.isFetchingInitialData,error:e(t).sesConfig.mail_ses_key.$error&&e(t).sesConfig.mail_ses_key.$errors[0].$message,required:""},{default:s(()=>[l(y,{modelValue:e(i).sesConfig.mail_ses_key,"onUpdate:modelValue":n[11]||(n[11]=r=>e(i).sesConfig.mail_ses_key=r),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,type:"text",name:"mail_ses_key",invalid:e(t).sesConfig.mail_ses_key.$error,onInput:n[12]||(n[12]=r=>e(t).sesConfig.mail_ses_key.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),l(v,{label:o.$t("settings.mail.ses_secret"),"content-loading":a.isFetchingInitialData,error:e(t).sesConfig.mail_ses_secret.$error&&e(t).mail_ses_secret.$errors[0].$message,required:""},{default:s(()=>[l(y,{modelValue:e(i).sesConfig.mail_ses_secret,"onUpdate:modelValue":n[15]||(n[15]=r=>e(i).sesConfig.mail_ses_secret=r),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,type:e(d),name:"mail_ses_secret",autocomplete:"off",invalid:e(t).sesConfig.mail_ses_secret.$error,onInput:n[16]||(n[16]=r=>e(t).sesConfig.mail_ses_secret.$touch())},{right:s(()=>[e(m)?(q(),V(_,{key:0,class:"mr-1 text-gray-500 cursor-pointer",name:"EyeOffIcon",onClick:n[13]||(n[13]=r=>T(m)?m.value=!e(m):m=!e(m))})):(q(),V(_,{key:1,class:"mr-1 text-gray-500 cursor-pointer",name:"EyeIcon",onClick:n[14]||(n[14]=r=>T(m)?m.value=!e(m):m=!e(m))}))]),_:1},8,["modelValue","content-loading","type","invalid"])]),_:1},8,["label","content-loading","error"])]),_:1}),F("div",re,[l(p,{disabled:a.isSaving,"content-loading":a.isFetchingInitialData,loading:a.isSaving,variant:"primary",type:"submit"},{left:s(r=>[a.isSaving?E("",!0):(q(),V(_,{key:0,name:"SaveIcon",class:z(r.class)},null,8,["class"]))]),default:s(()=>[S(" "+k(o.$t("general.save")),1)]),_:1},8,["disabled","content-loading","loading"]),J(o.$slots,"default")])],40,le)}}},me=["onSubmit"],de={class:"flex mt-8"},W={props:{configData:{type:Object,require:!0,default:Object},isSaving:{type:Boolean,require:!0,default:!1},isFetchingInitialData:{type:Boolean,require:!0,default:!1},mailDrivers:{type:Array,require:!0,default:Array}},emits:["submit-data","on-change-driver"],setup(a,{emit:D}){const $=a,i=x(),{t:u}=j(),m=B(()=>({basicMailConfig:{mail_driver:{required:f.withMessage(u("validation.required"),C)},from_mail:{required:f.withMessage(u("validation.required"),C),email:f.withMessage(u("validation.email_incorrect"),A)},from_name:{required:f.withMessage(u("validation.required"),C)}}})),b=P(m,B(()=>i));L(()=>{for(const d in i.basicMailConfig)$.configData.hasOwnProperty(d)&&i.$patch(I=>{I.basicMailConfig[d]=$.configData[d]})});async function w(){return b.value.basicMailConfig.$touch(),b.value.basicMailConfig.$invalid||D("submit-data",i.basicMailConfig),!1}function t(){b.value.basicMailConfig.mail_driver.$touch(),D("on-change-driver",i.basicMailConfig.mail_driver)}return(d,I)=>{const g=c("BaseMultiselect"),o=c("BaseInputGroup"),n=c("BaseInput"),M=c("BaseInputGrid"),v=c("BaseIcon"),y=c("BaseButton");return q(),O("form",{onSubmit:N(w,["prevent"])},[l(M,null,{default:s(()=>[l(o,{label:d.$t("settings.mail.driver"),"content-loading":a.isFetchingInitialData,error:e(b).basicMailConfig.mail_driver.$error&&e(b).basicMailConfig.mail_driver.$errors[0].$message,required:""},{default:s(()=>[l(g,{modelValue:e(i).basicMailConfig.mail_driver,"onUpdate:modelValue":[I[0]||(I[0]=_=>e(i).basicMailConfig.mail_driver=_),t],"content-loading":a.isFetchingInitialData,options:a.mailDrivers,"can-deselect":!1,invalid:e(b).basicMailConfig.mail_driver.$error},null,8,["modelValue","content-loading","options","invalid"])]),_:1},8,["label","content-loading","error"]),l(o,{label:d.$t("settings.mail.from_mail"),"content-loading":a.isFetchingInitialData,error:e(b).basicMailConfig.from_mail.$error&&e(b).basicMailConfig.from_mail.$errors[0].$message,required:""},{default:s(()=>[l(n,{modelValue:e(i).basicMailConfig.from_mail,"onUpdate:modelValue":I[1]||(I[1]=_=>e(i).basicMailConfig.from_mail=_),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,type:"text",name:"from_mail",invalid:e(b).basicMailConfig.from_mail.$error,onInput:I[2]||(I[2]=_=>e(b).basicMailConfig.from_mail.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),l(o,{label:d.$t("settings.mail.from_name"),"content-loading":a.isFetchingInitialData,error:e(b).basicMailConfig.from_name.$error&&e(b).basicMailConfig.from_name.$errors[0].$message,required:""},{default:s(()=>[l(n,{modelValue:e(i).basicMailConfig.from_name,"onUpdate:modelValue":I[3]||(I[3]=_=>e(i).basicMailConfig.from_name=_),modelModifiers:{trim:!0},"content-loading":a.isFetchingInitialData,type:"text",name:"name",invalid:e(b).basicMailConfig.from_name.$error,onInput:I[4]||(I[4]=_=>e(b).basicMailConfig.from_name.$touch())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"])]),_:1}),F("div",de,[l(y,{"content-loading":a.isFetchingInitialData,disabled:a.isSaving,loading:a.isSaving,variant:"primary",type:"submit"},{left:s(_=>[a.isSaving?E("",!0):(q(),V(v,{key:0,class:z(_.class),name:"SaveIcon"},null,8,["class"]))]),default:s(()=>[S(" "+k(d.$t("general.save")),1)]),_:1},8,["content-loading","disabled","loading"]),J(d.$slots,"default")])],40,me)}}},ue={class:"flex justify-between w-full"},ge=["onSubmit"],fe={class:"p-4 md:p-8"},ce={class:"z-0 flex justify-end p-4 border-t border-gray-200 border-solid"},ve={setup(a){let D=G(!1),$=Q({to:"",subject:"",message:""});const i=H(),u=x(),{t:m}=j(),b=B(()=>i.active&&i.componentName==="MailTestModal"),w={formData:{to:{required:f.withMessage(m("validation.required"),C),email:f.withMessage(m("validation.email_incorrect"),A)},subject:{required:f.withMessage(m("validation.required"),C),maxLength:f.withMessage(m("validation.subject_maxlength"),X(100))},message:{required:f.withMessage(m("validation.required"),C),maxLength:f.withMessage(m("validation.message_maxlength"),X(255))}}},t=P(w,{formData:$});function d(){$.id="",$.to="",$.subject="",$.message="",t.value.$reset()}async function I(){if(t.value.formData.$touch(),t.value.$invalid)return!0;D.value=!0,(await u.sendTestMail($)).data&&(g(),D.value=!1)}function g(){i.closeModal(),setTimeout(()=>{i.resetModalData(),d()},300)}return(o,n)=>{const M=c("BaseIcon"),v=c("BaseInput"),y=c("BaseInputGroup"),_=c("BaseTextarea"),U=c("BaseInputGrid"),p=c("BaseButton"),r=c("BaseModal");return q(),V(r,{show:e(b),onClose:g},{header:s(()=>[F("div",ue,[S(k(e(i).title)+" ",1),l(M,{name:"XIcon",class:"w-6 h-6 text-gray-500 cursor-pointer",onClick:g})])]),default:s(()=>[F("form",{action:"",onSubmit:N(I,["prevent"])},[F("div",fe,[l(U,{layout:"one-column"},{default:s(()=>[l(y,{label:o.$t("general.to"),error:e(t).formData.to.$error&&e(t).formData.to.$errors[0].$message,variant:"horizontal",required:""},{default:s(()=>[l(v,{ref:(h,Y)=>{Y.to=h},modelValue:e($).to,"onUpdate:modelValue":n[0]||(n[0]=h=>e($).to=h),type:"text",invalid:e(t).formData.to.$error,onInput:n[1]||(n[1]=h=>e(t).formData.to.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),l(y,{label:o.$t("general.subject"),error:e(t).formData.subject.$error&&e(t).formData.subject.$errors[0].$message,variant:"horizontal",required:""},{default:s(()=>[l(v,{modelValue:e($).subject,"onUpdate:modelValue":n[2]||(n[2]=h=>e($).subject=h),type:"text",invalid:e(t).formData.subject.$error,onInput:n[3]||(n[3]=h=>e(t).formData.subject.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),l(y,{label:o.$t("general.message"),error:e(t).formData.message.$error&&e(t).formData.message.$errors[0].$message,variant:"horizontal",required:""},{default:s(()=>[l(_,{modelValue:e($).message,"onUpdate:modelValue":n[4]||(n[4]=h=>e($).message=h),rows:"4",cols:"50",invalid:e(t).formData.message.$error,onInput:n[5]||(n[5]=h=>e(t).formData.message.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"])]),_:1})]),F("div",ce,[l(p,{variant:"primary-outline",type:"button",class:"mr-3",onClick:n[6]||(n[6]=h=>g())},{default:s(()=>[S(k(o.$t("general.cancel")),1)]),_:1}),l(p,{loading:e(D),variant:"primary",type:"submit"},{left:s(h=>[e(D)?E("",!0):(q(),V(M,{key:0,name:"PaperAirplaneIcon",class:z(h.class)},null,8,["class"]))]),default:s(()=>[S(" "+k(o.$t("general.send")),1)]),_:1},8,["loading"])])],40,ge)]),_:1},8,["show"])}}},$e={key:0,class:"mt-14"},ye={setup(a){let D=G(!1),$=G(!1);const i=x(),u=H(),{t:m}=j();w();function b(g){i.mail_driver=g,i.mailConfigData.mail_driver=g}async function w(){$.value=!0,Promise.all([await i.fetchMailDrivers(),await i.fetchMailConfig()]).then(([g])=>{$.value=!1})}const t=B(()=>i.mail_driver=="smtp"?K:i.mail_driver=="mailgun"?oe:i.mail_driver=="sendmail"?W:i.mail_driver=="ses"?se:i.mail_driver=="mail"?W:K);async function d(g){try{return D.value=!0,await i.updateMailConfig(g),D.value=!1,!0}catch(o){console.error(o)}}function I(){u.openModal({title:m("general.test_mail_conf"),componentName:"MailTestModal",size:"sm"})}return(g,o)=>{const n=c("BaseButton"),M=c("BaseSettingCard");return q(),O(ee,null,[l(ve),l(M,{title:g.$t("settings.mail.mail_config"),description:g.$t("settings.mail.mail_config_desc")},{default:s(()=>[e(i)&&e(i).mailConfigData?(q(),O("div",$e,[(q(),V(Z(e(t)),{"config-data":e(i).mailConfigData,"is-saving":e(D),"mail-drivers":e(i).mail_drivers,"is-fetching-initial-data":e($),onOnChangeDriver:o[0]||(o[0]=v=>b(v)),onSubmitData:d},{default:s(()=>[l(n,{variant:"primary-outline",type:"button",class:"ml-2","content-loading":e($),onClick:I},{default:s(()=>[S(k(g.$t("general.test_mail_conf")),1)]),_:1},8,["content-loading"])]),_:1},8,["config-data","is-saving","mail-drivers","is-fetching-initial-data"]))])):E("",!0)]),_:1},8,["title","description"])],64)}}};export{ye as default};

--- public/build/assets/NoteModal.f6d01f84.js ---
@@ -1 +1 @@
-var O=Object.defineProperty;var E=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var x=(d,s,a)=>s in d?O(d,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):d[s]=a,z=(d,s)=>{for(var a in s||(s={}))R.call(s,a)&&x(d,a,s[a]);if(E)for(var a of E(s))X.call(s,a)&&x(d,a,s[a]);return d};import{a as g,d as H,G as K,J as Q,B as k,a0 as W,k as S,L as w,M as b,N as Y,T as Z,C as ee,D as te,r as f,o as ae,l as oe,w as p,h as I,i as C,t as M,u as o,f as c,m as ne,U as se}from"./vendor.01d0adc5.js";import{h as $,c as re,u as ie,i as ue,k as le}from"./main.832b14c7.js";import{u as ce}from"./payment.372edbf1.js";const de=(d=!1)=>(d?window.pinia.defineStore:H)({id:"notes",state:()=>({notes:[],currentNote:{id:null,type:"",name:"",notes:""}}),getters:{isEdit:a=>!!a.currentNote.id},actions:{resetCurrentNote(){this.currentNote={type:"",name:"",notes:""}},fetchNotes(a){return new Promise((e,l)=>{g.get("/api/v1/notes",{params:a}).then(t=>{this.notes=t.data.data,e(t)}).catch(t=>{$(t),l(t)})})},fetchNote(a){return new Promise((e,l)=>{g.get(`/api/v1/notes/${a}`).then(t=>{this.currentNote=t.data.data,e(t)}).catch(t=>{$(t),l(t)})})},addNote(a){return new Promise((e,l)=>{g.post("/api/v1/notes",a).then(t=>{this.notes.push(t.data),e(t)}).catch(t=>{$(t),l(t)})})},updateNote(a){return new Promise((e,l)=>{g.put(`/api/v1/notes/${a.id}`,a).then(t=>{if(t.data){let y=this.notes.findIndex(u=>u.id===t.data.data.id);this.notes[y]=a.notes}e(t)}).catch(t=>{$(t),l(t)})})},deleteNote(a){return new Promise((e,l)=>{g.delete(`/api/v1/notes/${a}`).then(t=>{let y=this.notes.findIndex(u=>u.id===a);this.notes.splice(y,1),e(t)}).catch(t=>{$(t),l(t)})})}}})();const me={class:"flex justify-between w-full"},pe=["onSubmit"],fe={class:"px-8 py-8 sm:p-6"},ve={class:"z-0 flex justify-end px-4 py-4 border-t border-solid border-gray-light"},ge={setup(d){const s=re(),a=ie(),e=de(),l=ue(),t=ce(),y=le(),u=K(),{t:N}=Q();let v=k(!1);const D=W(["Invoice","Estimate","Payment"]);let h=k(["customer","customerCustom"]);const j=S(()=>s.active&&s.componentName==="NoteModal"),G=S(()=>({currentNote:{name:{required:w.withMessage(N("validation.required"),b),minLength:w.withMessage(N("validation.name_min_length",{count:3}),Y(3))},notes:{required:w.withMessage(N("validation.required"),b)},type:{required:w.withMessage(N("validation.required"),b)}}})),r=Z(G,S(()=>e));ee(()=>e.currentNote.type,n=>{V()}),te(()=>{u.name==="estimates.create"?e.currentNote.type="Estimate":u.name==="invoices.create"?e.currentNote.type="Invoice":e.currentNote.type="Payment"});function V(){h.value=["customer","customerCustom"],e.currentNote.type=="Invoice"&&h.value.push("invoice","invoiceCustom"),e.currentNote.type=="Estimate"&&h.value.push("estimate","estimateCustom"),e.currentNote.type=="Payment"&&h.value.push("payment","paymentCustom")}async function U(){if(r.value.currentNote.$touch(),r.value.currentNote.$invalid)return!0;if(v.value=!0,e.isEdit){let n=z({id:e.currentNote.id},e.currentNote);await e.updateNote(n).then(i=>{v.value=!1,i.data&&(a.showNotification({type:"success",message:N("settings.customization.notes.note_updated")}),s.refreshData&&s.refreshData(),_())}).catch(i=>{v.value=!1})}else await e.addNote(e.currentNote).then(n=>{v.value=!1,n.data&&(a.showNotification({type:"success",message:N("settings.customization.notes.note_added")}),(u.name==="invoices.create"&&n.data.data.type==="Invoice"||u.name==="invoices.edit"&&n.data.data.type==="Invoice")&&l.selectNote(n.data.data),(u.name==="estimates.create"&&n.data.data.type==="Estimate"||u.name==="estimates.edit"&&n.data.data.type==="Estimate")&&y.selectNote(n.data.data),(u.name==="payments.create"&&n.data.data.type==="Payment"||u.name==="payments.edit"&&n.data.data.type==="Payment")&&t.selectNote(n.data.data)),s.refreshData&&s.refreshData(),_()}).catch(n=>{v.value=!1})}function _(){s.closeModal(),setTimeout(()=>{e.resetCurrentNote(),r.value.$reset()},300)}return(n,i)=>{const P=f("BaseIcon"),F=f("BaseInput"),B=f("BaseInputGroup"),L=f("BaseMultiselect"),T=f("BaseCustomInput"),A=f("BaseInputGrid"),q=f("BaseButton"),J=f("BaseModal");return ae(),oe(J,{show:o(j),onClose:_,onOpen:V},{header:p(()=>[I("div",me,[C(M(o(s).title)+" ",1),c(P,{name:"XIcon",class:"h-6 w-6 text-gray-500 cursor-pointer",onClick:_})])]),default:p(()=>[I("form",{action:"",onSubmit:se(U,["prevent"])},[I("div",fe,[c(A,{layout:"one-column"},{default:p(()=>[c(B,{label:n.$t("settings.customization.notes.name"),variant:"vertical",error:o(r).currentNote.name.$error&&o(r).currentNote.name.$errors[0].$message,required:""},{default:p(()=>[c(F,{modelValue:o(e).currentNote.name,"onUpdate:modelValue":i[0]||(i[0]=m=>o(e).currentNote.name=m),invalid:o(r).currentNote.name.$error,type:"text",onInput:i[1]||(i[1]=m=>o(r).currentNote.name.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),c(B,{label:n.$t("settings.customization.notes.type"),error:o(r).currentNote.type.$error&&o(r).currentNote.type.$errors[0].$message,required:""},{default:p(()=>[c(L,{modelValue:o(e).currentNote.type,"onUpdate:modelValue":i[2]||(i[2]=m=>o(e).currentNote.type=m),options:o(D),"value-prop":"type",class:"mt-2"},null,8,["modelValue","options"])]),_:1},8,["label","error"]),c(B,{label:n.$t("settings.customization.notes.notes"),error:o(r).currentNote.notes.$error&&o(r).currentNote.notes.$errors[0].$message,required:""},{default:p(()=>[c(T,{modelValue:o(e).currentNote.notes,"onUpdate:modelValue":i[3]||(i[3]=m=>o(e).currentNote.notes=m),invalid:o(r).currentNote.notes.$error,fields:o(h),onInput:i[4]||(i[4]=m=>o(r).currentNote.notes.$touch())},null,8,["modelValue","invalid","fields"])]),_:1},8,["label","error"])]),_:1})]),I("div",ve,[c(q,{class:"mr-2",variant:"primary-outline",type:"button",onClick:_},{default:p(()=>[C(M(n.$t("general.cancel")),1)]),_:1}),c(q,{loading:o(v),disabled:o(v),variant:"primary",type:"submit"},{left:p(m=>[c(P,{name:"SaveIcon",class:ne(m.class)},null,8,["class"])]),default:p(()=>[C(" "+M(o(e).isEdit?n.$t("general.update"):n.$t("general.save")),1)]),_:1},8,["loading","disabled"])])],40,pe)]),_:1},8,["show"])}}};export{ge as _,de as u};
+var O=Object.defineProperty;var E=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var x=(d,s,a)=>s in d?O(d,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):d[s]=a,z=(d,s)=>{for(var a in s||(s={}))R.call(s,a)&&x(d,a,s[a]);if(E)for(var a of E(s))X.call(s,a)&&x(d,a,s[a]);return d};import{a as g,d as H,G as K,J as Q,B as k,a0 as W,k as S,L as w,M as b,N as Y,T as Z,C as ee,D as te,r as f,o as ae,l as oe,w as p,h as I,i as C,t as M,u as o,f as c,m as ne,U as se}from"./vendor.01d0adc5.js";import{h as $,c as re,u as ie,i as ue,k as le}from"./main.75722495.js";import{u as ce}from"./payment.5c57bec3.js";const de=(d=!1)=>(d?window.pinia.defineStore:H)({id:"notes",state:()=>({notes:[],currentNote:{id:null,type:"",name:"",notes:""}}),getters:{isEdit:a=>!!a.currentNote.id},actions:{resetCurrentNote(){this.currentNote={type:"",name:"",notes:""}},fetchNotes(a){return new Promise((e,l)=>{g.get("/api/v1/notes",{params:a}).then(t=>{this.notes=t.data.data,e(t)}).catch(t=>{$(t),l(t)})})},fetchNote(a){return new Promise((e,l)=>{g.get(`/api/v1/notes/${a}`).then(t=>{this.currentNote=t.data.data,e(t)}).catch(t=>{$(t),l(t)})})},addNote(a){return new Promise((e,l)=>{g.post("/api/v1/notes",a).then(t=>{this.notes.push(t.data),e(t)}).catch(t=>{$(t),l(t)})})},updateNote(a){return new Promise((e,l)=>{g.put(`/api/v1/notes/${a.id}`,a).then(t=>{if(t.data){let y=this.notes.findIndex(u=>u.id===t.data.data.id);this.notes[y]=a.notes}e(t)}).catch(t=>{$(t),l(t)})})},deleteNote(a){return new Promise((e,l)=>{g.delete(`/api/v1/notes/${a}`).then(t=>{let y=this.notes.findIndex(u=>u.id===a);this.notes.splice(y,1),e(t)}).catch(t=>{$(t),l(t)})})}}})();const me={class:"flex justify-between w-full"},pe=["onSubmit"],fe={class:"px-8 py-8 sm:p-6"},ve={class:"z-0 flex justify-end px-4 py-4 border-t border-solid border-gray-light"},ge={setup(d){const s=re(),a=ie(),e=de(),l=ue(),t=ce(),y=le(),u=K(),{t:N}=Q();let v=k(!1);const D=W(["Invoice","Estimate","Payment"]);let h=k(["customer","customerCustom"]);const j=S(()=>s.active&&s.componentName==="NoteModal"),G=S(()=>({currentNote:{name:{required:w.withMessage(N("validation.required"),b),minLength:w.withMessage(N("validation.name_min_length",{count:3}),Y(3))},notes:{required:w.withMessage(N("validation.required"),b)},type:{required:w.withMessage(N("validation.required"),b)}}})),r=Z(G,S(()=>e));ee(()=>e.currentNote.type,n=>{V()}),te(()=>{u.name==="estimates.create"?e.currentNote.type="Estimate":u.name==="invoices.create"?e.currentNote.type="Invoice":e.currentNote.type="Payment"});function V(){h.value=["customer","customerCustom"],e.currentNote.type=="Invoice"&&h.value.push("invoice","invoiceCustom"),e.currentNote.type=="Estimate"&&h.value.push("estimate","estimateCustom"),e.currentNote.type=="Payment"&&h.value.push("payment","paymentCustom")}async function U(){if(r.value.currentNote.$touch(),r.value.currentNote.$invalid)return!0;if(v.value=!0,e.isEdit){let n=z({id:e.currentNote.id},e.currentNote);await e.updateNote(n).then(i=>{v.value=!1,i.data&&(a.showNotification({type:"success",message:N("settings.customization.notes.note_updated")}),s.refreshData&&s.refreshData(),_())}).catch(i=>{v.value=!1})}else await e.addNote(e.currentNote).then(n=>{v.value=!1,n.data&&(a.showNotification({type:"success",message:N("settings.customization.notes.note_added")}),(u.name==="invoices.create"&&n.data.data.type==="Invoice"||u.name==="invoices.edit"&&n.data.data.type==="Invoice")&&l.selectNote(n.data.data),(u.name==="estimates.create"&&n.data.data.type==="Estimate"||u.name==="estimates.edit"&&n.data.data.type==="Estimate")&&y.selectNote(n.data.data),(u.name==="payments.create"&&n.data.data.type==="Payment"||u.name==="payments.edit"&&n.data.data.type==="Payment")&&t.selectNote(n.data.data)),s.refreshData&&s.refreshData(),_()}).catch(n=>{v.value=!1})}function _(){s.closeModal(),setTimeout(()=>{e.resetCurrentNote(),r.value.$reset()},300)}return(n,i)=>{const P=f("BaseIcon"),F=f("BaseInput"),B=f("BaseInputGroup"),L=f("BaseMultiselect"),T=f("BaseCustomInput"),A=f("BaseInputGrid"),q=f("BaseButton"),J=f("BaseModal");return ae(),oe(J,{show:o(j),onClose:_,onOpen:V},{header:p(()=>[I("div",me,[C(M(o(s).title)+" ",1),c(P,{name:"XIcon",class:"h-6 w-6 text-gray-500 cursor-pointer",onClick:_})])]),default:p(()=>[I("form",{action:"",onSubmit:se(U,["prevent"])},[I("div",fe,[c(A,{layout:"one-column"},{default:p(()=>[c(B,{label:n.$t("settings.customization.notes.name"),variant:"vertical",error:o(r).currentNote.name.$error&&o(r).currentNote.name.$errors[0].$message,required:""},{default:p(()=>[c(F,{modelValue:o(e).currentNote.name,"onUpdate:modelValue":i[0]||(i[0]=m=>o(e).currentNote.name=m),invalid:o(r).currentNote.name.$error,type:"text",onInput:i[1]||(i[1]=m=>o(r).currentNote.name.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),c(B,{label:n.$t("settings.customization.notes.type"),error:o(r).currentNote.type.$error&&o(r).currentNote.type.$errors[0].$message,required:""},{default:p(()=>[c(L,{modelValue:o(e).currentNote.type,"onUpdate:modelValue":i[2]||(i[2]=m=>o(e).currentNote.type=m),options:o(D),"value-prop":"type",class:"mt-2"},null,8,["modelValue","options"])]),_:1},8,["label","error"]),c(B,{label:n.$t("settings.customization.notes.notes"),error:o(r).currentNote.notes.$error&&o(r).currentNote.notes.$errors[0].$message,required:""},{default:p(()=>[c(T,{modelValue:o(e).currentNote.notes,"onUpdate:modelValue":i[3]||(i[3]=m=>o(e).currentNote.notes=m),invalid:o(r).currentNote.notes.$error,fields:o(h),onInput:i[4]||(i[4]=m=>o(r).currentNote.notes.$touch())},null,8,["modelValue","invalid","fields"])]),_:1},8,["label","error"])]),_:1})]),I("div",ve,[c(q,{class:"mr-2",variant:"primary-outline",type:"button",onClick:_},{default:p(()=>[C(M(n.$t("general.cancel")),1)]),_:1}),c(q,{loading:o(v),disabled:o(v),variant:"primary",type:"submit"},{left:p(m=>[c(P,{name:"SaveIcon",class:ne(m.class)},null,8,["class"])]),default:p(()=>[C(" "+M(o(e).isEdit?n.$t("general.update"):n.$t("general.save")),1)]),_:1},8,["loading","disabled"])])],40,pe)]),_:1},8,["show"])}}};export{ge as _,de as u};

--- public/build/assets/NotesSetting.2f08acf1.js ---
@@ -1 +1 @@
-import{J as k,G as $,ah as T,r,o as p,l as f,w as t,u as c,f as u,i as S,t as z,j as C,B as E,k as O,e as F,m as G,F as P,a0 as V}from"./vendor.01d0adc5.js";import{j as x,u as I,e as M,c as j,g as D}from"./main.832b14c7.js";import{u as A,_ as H}from"./NoteModal.a07ce50b.js";import"./payment.372edbf1.js";const L={props:{row:{type:Object,default:null},table:{type:Object,default:null},loadData:{type:Function,default:null}},setup(g){const d=g,h=x(),_=I(),{t:a}=k(),o=A(),N=$(),y=M(),b=j();T("utils");function w(n){o.fetchNote(n),b.openModal({title:a("settings.customization.notes.edit_note"),componentName:"NoteModal",size:"md",refreshData:d.loadData})}function s(n){h.openDialog({title:a("general.are_you_sure"),message:a("settings.customization.notes.note_confirm_delete"),yesLabel:a("general.yes"),noLabel:a("general.no"),variant:"danger",hideNoButton:!1,size:"lg"}).then(async()=>{(await o.deleteNote(n)).data.success?_.showNotification({type:"success",message:a("settings.customization.notes.deleted_message")}):_.showNotification({type:"error",message:a("settings.customization.notes.already_in_use")}),d.loadData&&d.loadData()})}return(n,e)=>{const i=r("BaseIcon"),m=r("BaseButton"),B=r("BaseDropdownItem"),l=r("BaseDropdown");return p(),f(l,null,{activator:t(()=>[c(N).name==="notes.view"?(p(),f(m,{key:0,variant:"primary"},{default:t(()=>[u(i,{name:"DotsHorizontalIcon",class:"h-5 text-white"})]),_:1})):(p(),f(i,{key:1,name:"DotsHorizontalIcon",class:"h-5 text-gray-500"}))]),default:t(()=>[c(y).hasAbilities(c(D).MANAGE_NOTE)?(p(),f(B,{key:0,onClick:e[0]||(e[0]=v=>w(g.row.id))},{default:t(()=>[u(i,{name:"PencilIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),S(" "+z(n.$t("general.edit")),1)]),_:1})):C("",!0),c(y).hasAbilities(c(D).MANAGE_NOTE)?(p(),f(B,{key:1,onClick:e[1]||(e[1]=v=>s(g.row.id))},{default:t(()=>[u(i,{name:"TrashIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),S(" "+z(n.$t("general.delete")),1)]),_:1})):C("",!0)]),_:1})}}},K={setup(g){const{t:d}=k(),h=j();x();const _=A();I();const a=M(),o=E(""),N=O(()=>[{key:"name",label:d("settings.customization.notes.name"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"type",label:d("settings.customization.notes.type"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"actions",label:"",tdClass:"text-right text-sm font-medium",sortable:!1}]);async function y({page:s,filter:n,sort:e}){let i=V({orderByField:e.fieldName||"created_at",orderBy:e.order||"desc",page:s}),m=await _.fetchNotes(i);return{data:m.data.data,pagination:{totalPages:m.data.meta.last_page,currentPage:s,totalCount:m.data.meta.total,limit:5}}}async function b(){await h.openModal({title:d("settings.customization.notes.add_note"),componentName:"NoteModal",size:"md",refreshData:o.value&&o.value.refresh})}async function w(){o.value&&o.value.refresh()}return(s,n)=>{const e=r("BaseIcon"),i=r("BaseButton"),m=r("BaseTable"),B=r("BaseSettingCard");return p(),F(P,null,[u(H),u(B,{title:s.$t("settings.customization.notes.title"),description:s.$t("settings.customization.notes.description")},{action:t(()=>[c(a).hasAbilities(c(D).MANAGE_NOTE)?(p(),f(i,{key:0,variant:"primary-outline",onClick:b},{left:t(l=>[u(e,{class:G(l.class),name:"PlusIcon"},null,8,["class"])]),default:t(()=>[S(" "+z(s.$t("settings.customization.notes.add_note")),1)]),_:1})):C("",!0)]),default:t(()=>[u(m,{ref:(l,v)=>{v.table=l,o.value=l},data:y,columns:c(N),class:"mt-14"},{"cell-actions":t(({row:l})=>[u(L,{row:l.data,table:o.value,"load-data":w},null,8,["row","table"])]),_:1},8,["columns"])]),_:1},8,["title","description"])],64)}}};export{K as default};
+import{J as k,G as $,ah as T,r,o as p,l as f,w as t,u as c,f as u,i as S,t as z,j as C,B as E,k as O,e as F,m as G,F as P,a0 as V}from"./vendor.01d0adc5.js";import{j as x,u as I,e as M,c as j,g as D}from"./main.75722495.js";import{u as A,_ as H}from"./NoteModal.f6d01f84.js";import"./payment.5c57bec3.js";const L={props:{row:{type:Object,default:null},table:{type:Object,default:null},loadData:{type:Function,default:null}},setup(g){const d=g,h=x(),_=I(),{t:a}=k(),o=A(),N=$(),y=M(),b=j();T("utils");function w(n){o.fetchNote(n),b.openModal({title:a("settings.customization.notes.edit_note"),componentName:"NoteModal",size:"md",refreshData:d.loadData})}function s(n){h.openDialog({title:a("general.are_you_sure"),message:a("settings.customization.notes.note_confirm_delete"),yesLabel:a("general.yes"),noLabel:a("general.no"),variant:"danger",hideNoButton:!1,size:"lg"}).then(async()=>{(await o.deleteNote(n)).data.success?_.showNotification({type:"success",message:a("settings.customization.notes.deleted_message")}):_.showNotification({type:"error",message:a("settings.customization.notes.already_in_use")}),d.loadData&&d.loadData()})}return(n,e)=>{const i=r("BaseIcon"),m=r("BaseButton"),B=r("BaseDropdownItem"),l=r("BaseDropdown");return p(),f(l,null,{activator:t(()=>[c(N).name==="notes.view"?(p(),f(m,{key:0,variant:"primary"},{default:t(()=>[u(i,{name:"DotsHorizontalIcon",class:"h-5 text-white"})]),_:1})):(p(),f(i,{key:1,name:"DotsHorizontalIcon",class:"h-5 text-gray-500"}))]),default:t(()=>[c(y).hasAbilities(c(D).MANAGE_NOTE)?(p(),f(B,{key:0,onClick:e[0]||(e[0]=v=>w(g.row.id))},{default:t(()=>[u(i,{name:"PencilIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),S(" "+z(n.$t("general.edit")),1)]),_:1})):C("",!0),c(y).hasAbilities(c(D).MANAGE_NOTE)?(p(),f(B,{key:1,onClick:e[1]||(e[1]=v=>s(g.row.id))},{default:t(()=>[u(i,{name:"TrashIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),S(" "+z(n.$t("general.delete")),1)]),_:1})):C("",!0)]),_:1})}}},K={setup(g){const{t:d}=k(),h=j();x();const _=A();I();const a=M(),o=E(""),N=O(()=>[{key:"name",label:d("settings.customization.notes.name"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"type",label:d("settings.customization.notes.type"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"actions",label:"",tdClass:"text-right text-sm font-medium",sortable:!1}]);async function y({page:s,filter:n,sort:e}){let i=V({orderByField:e.fieldName||"created_at",orderBy:e.order||"desc",page:s}),m=await _.fetchNotes(i);return{data:m.data.data,pagination:{totalPages:m.data.meta.last_page,currentPage:s,totalCount:m.data.meta.total,limit:5}}}async function b(){await h.openModal({title:d("settings.customization.notes.add_note"),componentName:"NoteModal",size:"md",refreshData:o.value&&o.value.refresh})}async function w(){o.value&&o.value.refresh()}return(s,n)=>{const e=r("BaseIcon"),i=r("BaseButton"),m=r("BaseTable"),B=r("BaseSettingCard");return p(),F(P,null,[u(H),u(B,{title:s.$t("settings.customization.notes.title"),description:s.$t("settings.customization.notes.description")},{action:t(()=>[c(a).hasAbilities(c(D).MANAGE_NOTE)?(p(),f(i,{key:0,variant:"primary-outline",onClick:b},{left:t(l=>[u(e,{class:G(l.class),name:"PlusIcon"},null,8,["class"])]),default:t(()=>[S(" "+z(s.$t("settings.customization.notes.add_note")),1)]),_:1})):C("",!0)]),default:t(()=>[u(m,{ref:(l,v)=>{v.table=l,o.value=l},data:y,columns:c(N),class:"mt-14"},{"cell-actions":t(({row:l})=>[u(L,{row:l.data,table:o.value,"load-data":w},null,8,["row","table"])]),_:1},8,["columns"])]),_:1},8,["title","description"])],64)}}};export{K as default};

--- public/build/assets/NotificationRoot.a98180ab.js ---
@@ -1 +1 @@
-import{B as w,k as d,D as g,o as a,e as c,h as t,u as e,j as m,m as u,t as p,U as y,r as k,f as N,w as C,F as M,y as z,l as B,aM as L}from"./vendor.01d0adc5.js";import{u as v,_ as b}from"./main.832b14c7.js";const S=["onClick"],$={class:"overflow-hidden rounded-lg shadow-xs"},j={class:"p-4"},T={class:"flex items-start"},O={class:"shrink-0"},V={key:0,class:"w-6 h-6 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},I=t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),D=[I],E={key:1,class:"w-6 h-6 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},F=t("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"},null,-1),A=[F],G={key:2,class:"w-6 h-6 text-red-400",fill:"currentColor",viewBox:"0 0 24 24"},R=t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"},null,-1),U=[R],q={class:"flex-1 w-0 ml-3 text-left"},H={class:"flex shrink-0"},J=t("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),K=[J],P={props:{notification:{type:Object,default:null}},setup(o){const i=o,f=v();let l=w("");const s=d(()=>i.notification.type=="success"),h=d(()=>i.notification.type=="error"),n=d(()=>i.notification.type=="info");function r(){f.hideNotification(i.notification)}function x(){clearTimeout(l)}function _(){l=setTimeout(()=>{f.hideNotification(i.notification)},i.notification.time||5e3)}return g(()=>{_()}),(Y,Z)=>(a(),c("div",{class:u([e(s)||e(n)?"bg-white":"bg-red-50","max-w-sm mb-3 rounded-lg shadow-lg cursor-pointer pointer-events-auto w-full md:w-96"]),onClick:y(r,["stop"]),onMouseenter:x,onMouseleave:_},[t("div",$,[t("div",j,[t("div",T,[t("div",O,[e(s)?(a(),c("svg",V,D)):m("",!0),e(n)?(a(),c("svg",E,A)):m("",!0),e(h)?(a(),c("svg",G,U)):m("",!0)]),t("div",q,[t("p",{class:u(`text-sm leading-5 font-medium ${e(s)||e(n)?"text-gray-900":"text-red-800"}`)},p(o.notification.title?o.notification.title:e(s)?"Success!":"Error"),3),t("p",{class:u(`mt-1 text-sm leading-5 ${e(s)||e(n)?"text-gray-500":"text-red-700"}`)},p(o.notification.message?o.notification.message:e(s)?"Successful":"Somthing went wrong"),3)]),t("div",H,[t("button",{class:u([e(s)||e(n)?" text-gray-400 focus:text-gray-500":"text-red-400 focus:text-red-500","inline-flex w-5 h-5 transition duration-150 ease-in-out focus:outline-none"]),onClick:r},K,2)])])])])],42,S))}},Q={components:{NotificationItem:P},setup(){const o=v();return{notifications:d(()=>o.notifications)}}},W={class:"fixed inset-0 z-50 flex flex-col items-end justify-start w-full px-4 py-6 pointer-events-none sm:p-6"};function X(o,i,f,l,s,h){const n=k("NotificationItem");return a(),c("div",W,[N(L,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2","enter-to-class":"translate-y-0 opacity-100 sm:translate-x-0","leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:C(()=>[(a(!0),c(M,null,z(l.notifications,r=>(a(),B(n,{key:r.id,notification:r},null,8,["notification"]))),128))]),_:1})])}var ot=b(Q,[["render",X]]);export{ot as N};
+import{B as w,k as d,D as g,o as a,e as c,h as t,u as e,j as m,m as u,t as p,U as y,r as k,f as N,w as C,F as M,y as z,l as B,aM as L}from"./vendor.01d0adc5.js";import{u as v,_ as S}from"./main.75722495.js";const $=["onClick"],b={class:"overflow-hidden rounded-lg shadow-xs"},j={class:"p-4"},T={class:"flex items-start"},O={class:"shrink-0"},V={key:0,class:"w-6 h-6 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},I=t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),D=[I],E={key:1,class:"w-6 h-6 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},F=t("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"},null,-1),A=[F],G={key:2,class:"w-6 h-6 text-red-400",fill:"currentColor",viewBox:"0 0 24 24"},R=t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"},null,-1),U=[R],q={class:"flex-1 w-0 ml-3 text-left"},H={class:"flex shrink-0"},J=t("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),K=[J],P={props:{notification:{type:Object,default:null}},setup(o){const i=o,f=v();let l=w("");const s=d(()=>i.notification.type=="success"),h=d(()=>i.notification.type=="error"),n=d(()=>i.notification.type=="info");function r(){f.hideNotification(i.notification)}function x(){clearTimeout(l)}function _(){l=setTimeout(()=>{f.hideNotification(i.notification)},i.notification.time||5e3)}return g(()=>{_()}),(Y,Z)=>(a(),c("div",{class:u([e(s)||e(n)?"bg-white":"bg-red-50","max-w-sm mb-3 rounded-lg shadow-lg cursor-pointer pointer-events-auto w-full md:w-96"]),onClick:y(r,["stop"]),onMouseenter:x,onMouseleave:_},[t("div",b,[t("div",j,[t("div",T,[t("div",O,[e(s)?(a(),c("svg",V,D)):m("",!0),e(n)?(a(),c("svg",E,A)):m("",!0),e(h)?(a(),c("svg",G,U)):m("",!0)]),t("div",q,[t("p",{class:u(`text-sm leading-5 font-medium ${e(s)||e(n)?"text-gray-900":"text-red-800"}`)},p(o.notification.title?o.notification.title:e(s)?"Success!":"Error"),3),t("p",{class:u(`mt-1 text-sm leading-5 ${e(s)||e(n)?"text-gray-500":"text-red-700"}`)},p(o.notification.message?o.notification.message:e(s)?"Successful":"Somthing went wrong"),3)]),t("div",H,[t("button",{class:u([e(s)||e(n)?" text-gray-400 focus:text-gray-500":"text-red-400 focus:text-red-500","inline-flex w-5 h-5 transition duration-150 ease-in-out focus:outline-none"]),onClick:r},K,2)])])])])],42,$))}},Q={components:{NotificationItem:P},setup(){const o=v();return{notifications:d(()=>o.notifications)}}},W={class:"fixed inset-0 z-50 flex flex-col items-end justify-start w-full px-4 py-6 pointer-events-none sm:p-6"};function X(o,i,f,l,s,h){const n=k("NotificationItem");return a(),c("div",W,[N(L,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2","enter-to-class":"translate-y-0 opacity-100 sm:translate-x-0","leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:C(()=>[(a(!0),c(M,null,z(l.notifications,r=>(a(),B(n,{key:r.id,notification:r},null,8,["notification"]))),128))]),_:1})])}var ot=S(Q,[["render",X]]);export{ot as N};

--- public/build/assets/NotificationsSetting.90090d1e.js ---
@@ -1 +1 @@
-import{B as M,J as k,a0 as q,k as m,L as y,M as E,Q as F,T as U,r as o,o as w,l as S,w as u,h as v,f as d,u as i,m as Y,j,i as D,t as G,U as O,x as B}from"./vendor.01d0adc5.js";import{b as T}from"./main.832b14c7.js";const z=["onSubmit"],J={class:"grid-cols-2 col-span-1 mt-14"},L={class:"divide-y divide-gray-200"},H={setup(Q){const s=T();let r=M(!1);const{t:f}=k(),n=q({notify_invoice_viewed:s.selectedCompanySettings.notify_invoice_viewed,notify_estimate_viewed:s.selectedCompanySettings.notify_estimate_viewed,notification_email:s.selectedCompanySettings.notification_email}),$=m(()=>({notification_email:{required:y.withMessage(f("validation.required"),E),email:y.withMessage(f("validation.email_incorrect"),F)}})),l=U($,m(()=>n)),_=m({get:()=>n.notify_invoice_viewed==="YES",set:async e=>{const t=e?"YES":"NO";let c={settings:{notify_invoice_viewed:t}};n.notify_invoice_viewed=t,await s.updateCompanySettings({data:c,message:"general.setting_updated"})}}),p=m({get:()=>n.notify_estimate_viewed==="YES",set:async e=>{const t=e?"YES":"NO";let c={settings:{notify_estimate_viewed:t}};n.notify_estimate_viewed=t,await s.updateCompanySettings({data:c,message:"general.setting_updated"})}});async function V(){if(l.value.$touch(),l.value.$invalid)return!0;r.value=!0;const e={settings:{notification_email:n.notification_email}};await s.updateCompanySettings({data:e,message:"settings.notification.email_save_message"}),r.value=!1}return(e,t)=>{const c=o("BaseInput"),C=o("BaseInputGroup"),b=o("BaseIcon"),I=o("BaseButton"),N=o("BaseDivider"),g=o("BaseSwitchSection"),h=o("BaseSettingCard");return w(),S(h,{title:e.$t("settings.notification.title"),description:e.$t("settings.notification.description")},{default:u(()=>[v("form",{action:"",onSubmit:O(V,["prevent"])},[v("div",J,[d(C,{error:i(l).notification_email.$error&&i(l).notification_email.$errors[0].$message,label:e.$t("settings.notification.email"),class:"my-2",required:""},{default:u(()=>[d(c,{modelValue:i(n).notification_email,"onUpdate:modelValue":t[0]||(t[0]=a=>i(n).notification_email=a),modelModifiers:{trim:!0},invalid:i(l).notification_email.$error,type:"email",onInput:t[1]||(t[1]=a=>i(l).notification_email.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["error","label"]),d(I,{disabled:i(r),loading:i(r),variant:"primary",type:"submit",class:"mt-6"},{left:u(a=>[i(r)?j("",!0):(w(),S(b,{key:0,class:Y(a.class),name:"SaveIcon"},null,8,["class"]))]),default:u(()=>[D(" "+G(e.$tc("settings.notification.save")),1)]),_:1},8,["disabled","loading"])])],40,z),d(N,{class:"mt-6 mb-2"}),v("ul",L,[d(g,{modelValue:i(_),"onUpdate:modelValue":t[2]||(t[2]=a=>B(_)?_.value=a:null),title:e.$t("settings.notification.invoice_viewed"),description:e.$t("settings.notification.invoice_viewed_desc")},null,8,["modelValue","title","description"]),d(g,{modelValue:i(p),"onUpdate:modelValue":t[3]||(t[3]=a=>B(p)?p.value=a:null),title:e.$t("settings.notification.estimate_viewed"),description:e.$t("settings.notification.estimate_viewed_desc")},null,8,["modelValue","title","description"])])]),_:1},8,["title","description"])}}};export{H as default};
+import{B as M,J as k,a0 as q,k as m,L as y,M as E,Q as F,T as U,r as o,o as w,l as S,w as u,h as v,f as d,u as i,m as Y,j,i as D,t as G,U as O,x as B}from"./vendor.01d0adc5.js";import{b as T}from"./main.75722495.js";const z=["onSubmit"],J={class:"grid-cols-2 col-span-1 mt-14"},L={class:"divide-y divide-gray-200"},H={setup(Q){const s=T();let r=M(!1);const{t:f}=k(),n=q({notify_invoice_viewed:s.selectedCompanySettings.notify_invoice_viewed,notify_estimate_viewed:s.selectedCompanySettings.notify_estimate_viewed,notification_email:s.selectedCompanySettings.notification_email}),$=m(()=>({notification_email:{required:y.withMessage(f("validation.required"),E),email:y.withMessage(f("validation.email_incorrect"),F)}})),l=U($,m(()=>n)),_=m({get:()=>n.notify_invoice_viewed==="YES",set:async e=>{const t=e?"YES":"NO";let c={settings:{notify_invoice_viewed:t}};n.notify_invoice_viewed=t,await s.updateCompanySettings({data:c,message:"general.setting_updated"})}}),p=m({get:()=>n.notify_estimate_viewed==="YES",set:async e=>{const t=e?"YES":"NO";let c={settings:{notify_estimate_viewed:t}};n.notify_estimate_viewed=t,await s.updateCompanySettings({data:c,message:"general.setting_updated"})}});async function V(){if(l.value.$touch(),l.value.$invalid)return!0;r.value=!0;const e={settings:{notification_email:n.notification_email}};await s.updateCompanySettings({data:e,message:"settings.notification.email_save_message"}),r.value=!1}return(e,t)=>{const c=o("BaseInput"),C=o("BaseInputGroup"),b=o("BaseIcon"),I=o("BaseButton"),N=o("BaseDivider"),g=o("BaseSwitchSection"),h=o("BaseSettingCard");return w(),S(h,{title:e.$t("settings.notification.title"),description:e.$t("settings.notification.description")},{default:u(()=>[v("form",{action:"",onSubmit:O(V,["prevent"])},[v("div",J,[d(C,{error:i(l).notification_email.$error&&i(l).notification_email.$errors[0].$message,label:e.$t("settings.notification.email"),class:"my-2",required:""},{default:u(()=>[d(c,{modelValue:i(n).notification_email,"onUpdate:modelValue":t[0]||(t[0]=a=>i(n).notification_email=a),modelModifiers:{trim:!0},invalid:i(l).notification_email.$error,type:"email",onInput:t[1]||(t[1]=a=>i(l).notification_email.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["error","label"]),d(I,{disabled:i(r),loading:i(r),variant:"primary",type:"submit",class:"mt-6"},{left:u(a=>[i(r)?j("",!0):(w(),S(b,{key:0,class:Y(a.class),name:"SaveIcon"},null,8,["class"]))]),default:u(()=>[D(" "+G(e.$tc("settings.notification.save")),1)]),_:1},8,["disabled","loading"])])],40,z),d(N,{class:"mt-6 mb-2"}),v("ul",L,[d(g,{modelValue:i(_),"onUpdate:modelValue":t[2]||(t[2]=a=>B(_)?_.value=a:null),title:e.$t("settings.notification.invoice_viewed"),description:e.$t("settings.notification.invoice_viewed_desc")},null,8,["modelValue","title","description"]),d(g,{modelValue:i(p),"onUpdate:modelValue":t[3]||(t[3]=a=>B(p)?p.value=a:null),title:e.$t("settings.notification.estimate_viewed"),description:e.$t("settings.notification.estimate_viewed_desc")},null,8,["modelValue","title","description"])])]),_:1},8,["title","description"])}}};export{H as default};

--- public/build/assets/PaymentModeModal.9b5fc610.js ---
@@ -1 +1 @@
-import{J as I,B as S,k as p,L as P,M as V,N as C,T as j,r as u,o as k,l as N,w as r,h as c,i as y,t as f,u as t,f as s,m as q,U as x}from"./vendor.01d0adc5.js";import{u as D}from"./payment.372edbf1.js";import{c as L}from"./main.832b14c7.js";const T={class:"flex justify-between w-full"},z=["onSubmit"],G={class:"p-4 sm:p-6"},U={class:"z-0 flex justify-end p-4 border-t border-gray-200 border-solid"},F={setup(A){const o=L(),e=D(),{t:v}=I(),l=S(!1),h=p(()=>({currentPaymentMode:{name:{required:P.withMessage(v("validation.required"),V),minLength:P.withMessage(v("validation.name_min_length",{count:3}),C(3))}}})),a=j(h,p(()=>e)),g=p(()=>o.active&&o.componentName==="PaymentModeModal");async function B(){if(a.value.currentPaymentMode.$touch(),a.value.currentPaymentMode.$invalid)return!0;try{const n=e.currentPaymentMode.id?e.updatePaymentMode:e.addPaymentMode;l.value=!0,await n(e.currentPaymentMode),l.value=!1,o.refreshData&&o.refreshData(),d()}catch{return l.value=!1,!0}}function d(){o.closeModal(),setTimeout(()=>{a.value.$reset(),e.currentPaymentMode={id:"",name:null}})}return(n,m)=>{const M=u("BaseIcon"),b=u("BaseInput"),$=u("BaseInputGroup"),_=u("BaseButton"),w=u("BaseModal");return k(),N(w,{show:t(g),onClose:d},{header:r(()=>[c("div",T,[y(f(t(o).title)+" ",1),s(M,{name:"XIcon",class:"w-6 h-6 text-gray-500 cursor-pointer",onClick:d})])]),default:r(()=>[c("form",{action:"",onSubmit:x(B,["prevent"])},[c("div",G,[s($,{label:n.$t("settings.payment_modes.mode_name"),error:t(a).currentPaymentMode.name.$error&&t(a).currentPaymentMode.name.$errors[0].$message,required:""},{default:r(()=>[s(b,{modelValue:t(e).currentPaymentMode.name,"onUpdate:modelValue":m[0]||(m[0]=i=>t(e).currentPaymentMode.name=i),invalid:t(a).currentPaymentMode.name.$error,onInput:m[1]||(m[1]=i=>t(a).currentPaymentMode.name.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"])]),c("div",U,[s(_,{variant:"primary-outline",class:"mr-3",type:"button",onClick:d},{default:r(()=>[y(f(n.$t("general.cancel")),1)]),_:1}),s(_,{loading:l.value,disabled:l.value,variant:"primary",type:"submit"},{left:r(i=>[s(M,{name:"SaveIcon",class:q(i.class)},null,8,["class"])]),default:r(()=>[y(" "+f(t(e).currentPaymentMode.id?n.$t("general.update"):n.$t("general.save")),1)]),_:1},8,["loading","disabled"])])],40,z)]),_:1},8,["show"])}}};export{F as _};
+import{J as I,B as S,k as p,L as P,M as V,N as C,T as j,r as u,o as k,l as N,w as r,h as c,i as y,t as v,u as t,f as s,m as q,U as x}from"./vendor.01d0adc5.js";import{u as D}from"./payment.5c57bec3.js";import{c as L}from"./main.75722495.js";const T={class:"flex justify-between w-full"},z=["onSubmit"],G={class:"p-4 sm:p-6"},U={class:"z-0 flex justify-end p-4 border-t border-gray-200 border-solid"},F={setup(A){const o=L(),e=D(),{t:M}=I(),l=S(!1),h=p(()=>({currentPaymentMode:{name:{required:P.withMessage(M("validation.required"),V),minLength:P.withMessage(M("validation.name_min_length",{count:3}),C(3))}}})),a=j(h,p(()=>e)),g=p(()=>o.active&&o.componentName==="PaymentModeModal");async function B(){if(a.value.currentPaymentMode.$touch(),a.value.currentPaymentMode.$invalid)return!0;try{const n=e.currentPaymentMode.id?e.updatePaymentMode:e.addPaymentMode;l.value=!0,await n(e.currentPaymentMode),l.value=!1,o.refreshData&&o.refreshData(),d()}catch{return l.value=!1,!0}}function d(){o.closeModal(),setTimeout(()=>{a.value.$reset(),e.currentPaymentMode={id:"",name:null}})}return(n,m)=>{const f=u("BaseIcon"),b=u("BaseInput"),$=u("BaseInputGroup"),_=u("BaseButton"),w=u("BaseModal");return k(),N(w,{show:t(g),onClose:d},{header:r(()=>[c("div",T,[y(v(t(o).title)+" ",1),s(f,{name:"XIcon",class:"w-6 h-6 text-gray-500 cursor-pointer",onClick:d})])]),default:r(()=>[c("form",{action:"",onSubmit:x(B,["prevent"])},[c("div",G,[s($,{label:n.$t("settings.payment_modes.mode_name"),error:t(a).currentPaymentMode.name.$error&&t(a).currentPaymentMode.name.$errors[0].$message,required:""},{default:r(()=>[s(b,{modelValue:t(e).currentPaymentMode.name,"onUpdate:modelValue":m[0]||(m[0]=i=>t(e).currentPaymentMode.name=i),invalid:t(a).currentPaymentMode.name.$error,onInput:m[1]||(m[1]=i=>t(a).currentPaymentMode.name.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"])]),c("div",U,[s(_,{variant:"primary-outline",class:"mr-3",type:"button",onClick:d},{default:r(()=>[y(v(n.$t("general.cancel")),1)]),_:1}),s(_,{loading:l.value,disabled:l.value,variant:"primary",type:"submit"},{left:r(i=>[s(f,{name:"SaveIcon",class:q(i.class)},null,8,["class"])]),default:r(()=>[y(" "+v(t(e).currentPaymentMode.id?n.$t("general.update"):n.$t("general.save")),1)]),_:1},8,["loading","disabled"])])],40,z)]),_:1},8,["show"])}}};export{F as _};

--- public/build/assets/PaymentsModeSetting.963d7ca9.js ---
@@ -1 +1 @@
-import{J as D,G as I,ah as x,r as d,o as p,l as b,w as a,u as M,f as t,i as v,t as w,B as $,k as j,e as N,m as z,F as T}from"./vendor.01d0adc5.js";import{u as P}from"./payment.372edbf1.js";import{j as C,u as F,e as H,c as S}from"./main.832b14c7.js";import{_ as L}from"./PaymentModeModal.c3a19345.js";const O={props:{row:{type:Object,default:null},table:{type:Object,default:null},loadData:{type:Function,default:null}},setup(u){const c=u,y=C();F();const{t:s}=D(),o=P(),f=I();H();const _=S();x("utils");function g(e){o.fetchPaymentMode(e),_.openModal({title:s("settings.payment_modes.edit_payment_mode"),componentName:"PaymentModeModal",refreshData:c.loadData&&c.loadData,size:"sm"})}function B(e){y.openDialog({title:s("general.are_you_sure"),message:s("settings.payment_modes.payment_mode_confirm_delete"),yesLabel:s("general.ok"),noLabel:s("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(async l=>{l&&(await o.deletePaymentMode(e),c.loadData&&c.loadData())})}return(e,l)=>{const n=d("BaseIcon"),i=d("BaseButton"),r=d("BaseDropdownItem"),h=d("BaseDropdown");return p(),b(h,null,{activator:a(()=>[M(f).name==="paymentModes.view"?(p(),b(i,{key:0,variant:"primary"},{default:a(()=>[t(n,{name:"DotsHorizontalIcon",class:"h-5 text-white"})]),_:1})):(p(),b(n,{key:1,name:"DotsHorizontalIcon",class:"h-5 text-gray-500"}))]),default:a(()=>[t(r,{onClick:l[0]||(l[0]=m=>g(u.row.id))},{default:a(()=>[t(n,{name:"PencilIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),v(" "+w(e.$t("general.edit")),1)]),_:1}),t(r,{onClick:l[1]||(l[1]=m=>B(u.row.id))},{default:a(()=>[t(n,{name:"TrashIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),v(" "+w(e.$t("general.delete")),1)]),_:1})]),_:1})}}},R={setup(u){const c=S();C();const y=P(),{t:s}=D(),o=$(null),f=j(()=>[{key:"name",label:s("settings.payment_modes.mode_name"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"actions",label:"",tdClass:"text-right text-sm font-medium",sortable:!1}]);async function _(){o.value&&o.value.refresh()}async function g({page:e,filter:l,sort:n}){let i={orderByField:n.fieldName||"created_at",orderBy:n.order||"desc",page:e},r=await y.fetchPaymentModes(i);return{data:r.data.data,pagination:{totalPages:r.data.meta.last_page,currentPage:e,totalCount:r.data.meta.total,limit:5}}}function B(){c.openModal({title:s("settings.payment_modes.add_payment_mode"),componentName:"PaymentModeModal",refreshData:o.value&&o.value.refresh,size:"sm"})}return(e,l)=>{const n=d("BaseIcon"),i=d("BaseButton"),r=d("BaseTable"),h=d("BaseSettingCard");return p(),N(T,null,[t(L),t(h,{title:e.$t("settings.payment_modes.title"),description:e.$t("settings.payment_modes.description")},{action:a(()=>[t(i,{type:"submit",variant:"primary-outline",onClick:B},{left:a(m=>[t(n,{class:z(m.class),name:"PlusIcon"},null,8,["class"])]),default:a(()=>[v(" "+w(e.$t("settings.payment_modes.add_payment_mode")),1)]),_:1})]),default:a(()=>[t(r,{ref:(m,k)=>{k.table=m,o.value=m},data:g,columns:M(f),class:"mt-16"},{"cell-actions":a(({row:m})=>[t(O,{row:m.data,table:o.value,"load-data":_},null,8,["row","table"])]),_:1},8,["columns"])]),_:1},8,["title","description"])],64)}}};export{R as default};
+import{J as D,G as I,ah as x,r as d,o as p,l as b,w as a,u as M,f as t,i as v,t as w,B as $,k as j,e as N,m as z,F as T}from"./vendor.01d0adc5.js";import{u as P}from"./payment.5c57bec3.js";import{j as C,u as F,e as H,c as S}from"./main.75722495.js";import{_ as L}from"./PaymentModeModal.9b5fc610.js";const O={props:{row:{type:Object,default:null},table:{type:Object,default:null},loadData:{type:Function,default:null}},setup(u){const c=u,y=C();F();const{t:s}=D(),o=P(),f=I();H();const _=S();x("utils");function g(e){o.fetchPaymentMode(e),_.openModal({title:s("settings.payment_modes.edit_payment_mode"),componentName:"PaymentModeModal",refreshData:c.loadData&&c.loadData,size:"sm"})}function B(e){y.openDialog({title:s("general.are_you_sure"),message:s("settings.payment_modes.payment_mode_confirm_delete"),yesLabel:s("general.ok"),noLabel:s("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(async l=>{l&&(await o.deletePaymentMode(e),c.loadData&&c.loadData())})}return(e,l)=>{const n=d("BaseIcon"),i=d("BaseButton"),r=d("BaseDropdownItem"),h=d("BaseDropdown");return p(),b(h,null,{activator:a(()=>[M(f).name==="paymentModes.view"?(p(),b(i,{key:0,variant:"primary"},{default:a(()=>[t(n,{name:"DotsHorizontalIcon",class:"h-5 text-white"})]),_:1})):(p(),b(n,{key:1,name:"DotsHorizontalIcon",class:"h-5 text-gray-500"}))]),default:a(()=>[t(r,{onClick:l[0]||(l[0]=m=>g(u.row.id))},{default:a(()=>[t(n,{name:"PencilIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),v(" "+w(e.$t("general.edit")),1)]),_:1}),t(r,{onClick:l[1]||(l[1]=m=>B(u.row.id))},{default:a(()=>[t(n,{name:"TrashIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),v(" "+w(e.$t("general.delete")),1)]),_:1})]),_:1})}}},R={setup(u){const c=S();C();const y=P(),{t:s}=D(),o=$(null),f=j(()=>[{key:"name",label:s("settings.payment_modes.mode_name"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"actions",label:"",tdClass:"text-right text-sm font-medium",sortable:!1}]);async function _(){o.value&&o.value.refresh()}async function g({page:e,filter:l,sort:n}){let i={orderByField:n.fieldName||"created_at",orderBy:n.order||"desc",page:e},r=await y.fetchPaymentModes(i);return{data:r.data.data,pagination:{totalPages:r.data.meta.last_page,currentPage:e,totalCount:r.data.meta.total,limit:5}}}function B(){c.openModal({title:s("settings.payment_modes.add_payment_mode"),componentName:"PaymentModeModal",refreshData:o.value&&o.value.refresh,size:"sm"})}return(e,l)=>{const n=d("BaseIcon"),i=d("BaseButton"),r=d("BaseTable"),h=d("BaseSettingCard");return p(),N(T,null,[t(L),t(h,{title:e.$t("settings.payment_modes.title"),description:e.$t("settings.payment_modes.description")},{action:a(()=>[t(i,{type:"submit",variant:"primary-outline",onClick:B},{left:a(m=>[t(n,{class:z(m.class),name:"PlusIcon"},null,8,["class"])]),default:a(()=>[v(" "+w(e.$t("settings.payment_modes.add_payment_mode")),1)]),_:1})]),default:a(()=>[t(r,{ref:(m,k)=>{k.table=m,o.value=m},data:g,columns:M(f),class:"mt-16"},{"cell-actions":a(({row:m})=>[t(O,{row:m.data,table:o.value,"load-data":_},null,8,["row","table"])]),_:1},8,["columns"])]),_:1},8,["title","description"])],64)}}};export{R as default};

--- public/build/assets/PreferencesSetting.abc39a72.js ---
@@ -1 +1 @@
-var J=Object.defineProperty;var C=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var M=(p,d,l)=>d in p?J(p,d,{enumerable:!0,configurable:!0,writable:!0,value:l}):p[d]=l,S=(p,d)=>{for(var l in d||(d={}))L.call(d,l)&&M(p,l,d[l]);if(C)for(var l of C(d))R.call(d,l)&&M(p,l,d[l]);return p};import{J as A,B,a0 as H,k as y,C as K,L as f,M as b,T as Q,r as m,o as D,e as W,f as s,w as u,u as e,m as U,i as z,t as F,h as N,U as x,x as E,l as X,j as ee}from"./vendor.01d0adc5.js";import{b as te,d as ae}from"./main.832b14c7.js";const ne=["onSubmit"],le=["onSubmit"],de={setup(p){const d=te(),l=ae(),{t:g,tm:se}=A();let v=B(!1),$=B(!1),i=B(!1);const a=H(S({},d.selectedCompanySettings));y(()=>l.config.retrospective_edits.map(t=>(t.title=g(t.key),t))),K(()=>a.carbon_date_format,t=>{if(t){const n=l.dateFormats.find(c=>c.carbon_format_value===t);a.moment_date_format=n.moment_format_value}});const k=y({get:()=>a.discount_per_item==="YES",set:async t=>{const n=t?"YES":"NO";let c={settings:{discount_per_item:n}};a.discount_per_item=n,await d.updateCompanySettings({data:c,message:"general.setting_updated"})}}),V=y({get:()=>a.automatically_expire_public_links==="YES",set:async t=>{const n=t?"YES":"NO";a.automatically_expire_public_links=n}}),G=y(()=>({currency:{required:f.withMessage(g("validation.required"),b)},language:{required:f.withMessage(g("validation.required"),b)},carbon_date_format:{required:f.withMessage(g("validation.required"),b)},moment_date_format:{required:f.withMessage(g("validation.required"),b)},time_zone:{required:f.withMessage(g("validation.required"),b)},fiscal_year:{required:f.withMessage(g("validation.required"),b)}})),r=Q(G,y(()=>a));j();async function j(){i.value=!0,Promise.all([l.fetchCurrencies(),l.fetchDateFormats(),l.fetchTimeZones()]).then(([t])=>{i.value=!1})}async function O(){if(r.value.$touch(),r.value.$invalid)return;let t={settings:S({},a)};v.value=!0,delete t.settings.link_expiry_days,await d.updateCompanySettings({data:t,message:"settings.preferences.updated_message"}),v.value=!1}async function P(){$.value=!0,await d.updateCompanySettings({data:{settings:{link_expiry_days:a.link_expiry_days,automatically_expire_public_links:a.automatically_expire_public_links}},message:"settings.preferences.updated_message"}),$.value=!1}return(t,n)=>{const c=m("BaseMultiselect"),_=m("BaseInputGroup"),Y=m("BaseInputGrid"),w=m("BaseIcon"),q=m("BaseButton"),I=m("BaseDivider"),h=m("BaseSwitchSection"),T=m("BaseInput"),Z=m("BaseSettingCard");return D(),W("form",{action:"",class:"relative",onSubmit:x(O,["prevent"])},[s(Z,{title:t.$t("settings.menu_title.preferences"),description:t.$t("settings.preferences.general_settings")},{default:u(()=>[s(Y,{class:"mt-5"},{default:u(()=>[s(_,{"content-loading":e(i),label:t.$tc("settings.preferences.currency"),"help-text":t.$t("settings.preferences.company_currency_unchangeable"),error:e(r).currency.$error&&e(r).currency.$errors[0].$message,required:""},{default:u(()=>[s(c,{modelValue:e(a).currency,"onUpdate:modelValue":n[0]||(n[0]=o=>e(a).currency=o),"content-loading":e(i),options:e(l).currencies,label:"name","value-prop":"id",searchable:!0,"track-by":"name",invalid:e(r).currency.$error,disabled:"",class:"w-full"},null,8,["modelValue","content-loading","options","invalid"])]),_:1},8,["content-loading","label","help-text","error"]),s(_,{label:t.$tc("settings.preferences.default_language"),"content-loading":e(i),error:e(r).language.$error&&e(r).language.$errors[0].$message,required:""},{default:u(()=>[s(c,{modelValue:e(a).language,"onUpdate:modelValue":n[1]||(n[1]=o=>e(a).language=o),"content-loading":e(i),options:e(l).config.languages,label:"name","value-prop":"code",class:"w-full","track-by":"code",searchable:!0,invalid:e(r).language.$error},null,8,["modelValue","content-loading","options","invalid"])]),_:1},8,["label","content-loading","error"]),s(_,{label:t.$tc("settings.preferences.time_zone"),"content-loading":e(i),error:e(r).time_zone.$error&&e(r).time_zone.$errors[0].$message,required:""},{default:u(()=>[s(c,{modelValue:e(a).time_zone,"onUpdate:modelValue":n[2]||(n[2]=o=>e(a).time_zone=o),"content-loading":e(i),options:e(l).timeZones,label:"key","value-prop":"value","track-by":"key",searchable:!0,invalid:e(r).time_zone.$error},null,8,["modelValue","content-loading","options","invalid"])]),_:1},8,["label","content-loading","error"]),s(_,{label:t.$tc("settings.preferences.date_format"),"content-loading":e(i),error:e(r).carbon_date_format.$error&&e(r).carbon_date_format.$errors[0].$message,required:""},{default:u(()=>[s(c,{modelValue:e(a).carbon_date_format,"onUpdate:modelValue":n[3]||(n[3]=o=>e(a).carbon_date_format=o),"content-loading":e(i),options:e(l).dateFormats,label:"display_date","value-prop":"carbon_format_value","track-by":"carbon_format_value",searchable:"",invalid:e(r).carbon_date_format.$error,class:"w-full"},null,8,["modelValue","content-loading","options","invalid"])]),_:1},8,["label","content-loading","error"]),s(_,{"content-loading":e(i),error:e(r).fiscal_year.$error&&e(r).fiscal_year.$errors[0].$message,label:t.$tc("settings.preferences.fiscal_year"),required:""},{default:u(()=>[s(c,{modelValue:e(a).fiscal_year,"onUpdate:modelValue":n[4]||(n[4]=o=>e(a).fiscal_year=o),"content-loading":e(i),options:e(l).config.fiscal_years,label:"key","value-prop":"value",invalid:e(r).fiscal_year.$error,"track-by":"key",searchable:!0,class:"w-full"},null,8,["modelValue","content-loading","options","invalid"])]),_:1},8,["content-loading","error","label"])]),_:1}),s(q,{"content-loading":e(i),disabled:e(v),loading:e(v),type:"submit",class:"mt-6"},{left:u(o=>[s(w,{name:"SaveIcon",class:U(o.class)},null,8,["class"])]),default:u(()=>[z(" "+F(t.$tc("settings.company_info.save")),1)]),_:1},8,["content-loading","disabled","loading"]),s(I,{class:"mt-6 mb-2"}),N("ul",null,[N("form",{onSubmit:x(P,["prevent"])},[s(h,{modelValue:e(V),"onUpdate:modelValue":n[5]||(n[5]=o=>E(V)?V.value=o:null),title:t.$t("settings.preferences.expire_public_links"),description:t.$t("settings.preferences.expire_setting_description")},null,8,["modelValue","title","description"]),e(V)?(D(),X(_,{key:0,"content-loading":e(i),label:t.$t("settings.preferences.expire_public_links"),class:"mt-2 mb-4"},{default:u(()=>[s(T,{modelValue:e(a).link_expiry_days,"onUpdate:modelValue":n[6]||(n[6]=o=>e(a).link_expiry_days=o),disabled:e(a).automatically_expire_public_links==="NO","content-loading":e(i),type:"number"},null,8,["modelValue","disabled","content-loading"])]),_:1},8,["content-loading","label"])):ee("",!0),s(q,{"content-loading":e(i),disabled:e($),loading:e($),type:"submit",class:"mt-6"},{left:u(o=>[s(w,{name:"SaveIcon",class:U(o.class)},null,8,["class"])]),default:u(()=>[z(" "+F(t.$tc("general.save")),1)]),_:1},8,["content-loading","disabled","loading"])],40,le),s(I,{class:"mt-6 mb-2"}),s(h,{modelValue:e(k),"onUpdate:modelValue":n[7]||(n[7]=o=>E(k)?k.value=o:null),title:t.$t("settings.preferences.discount_per_item"),description:t.$t("settings.preferences.discount_setting_description")},null,8,["modelValue","title","description"])])]),_:1},8,["title","description"])],40,ne)}}};export{de as default};
+var J=Object.defineProperty;var C=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var M=(p,d,l)=>d in p?J(p,d,{enumerable:!0,configurable:!0,writable:!0,value:l}):p[d]=l,S=(p,d)=>{for(var l in d||(d={}))L.call(d,l)&&M(p,l,d[l]);if(C)for(var l of C(d))R.call(d,l)&&M(p,l,d[l]);return p};import{J as A,B,a0 as H,k as y,C as K,L as f,M as b,T as Q,r as m,o as D,e as W,f as s,w as u,u as e,m as U,i as z,t as F,h as N,U as x,x as E,l as X,j as ee}from"./vendor.01d0adc5.js";import{b as te,d as ae}from"./main.75722495.js";const ne=["onSubmit"],le=["onSubmit"],de={setup(p){const d=te(),l=ae(),{t:g,tm:se}=A();let v=B(!1),$=B(!1),i=B(!1);const a=H(S({},d.selectedCompanySettings));y(()=>l.config.retrospective_edits.map(t=>(t.title=g(t.key),t))),K(()=>a.carbon_date_format,t=>{if(t){const n=l.dateFormats.find(c=>c.carbon_format_value===t);a.moment_date_format=n.moment_format_value}});const k=y({get:()=>a.discount_per_item==="YES",set:async t=>{const n=t?"YES":"NO";let c={settings:{discount_per_item:n}};a.discount_per_item=n,await d.updateCompanySettings({data:c,message:"general.setting_updated"})}}),V=y({get:()=>a.automatically_expire_public_links==="YES",set:async t=>{const n=t?"YES":"NO";a.automatically_expire_public_links=n}}),G=y(()=>({currency:{required:f.withMessage(g("validation.required"),b)},language:{required:f.withMessage(g("validation.required"),b)},carbon_date_format:{required:f.withMessage(g("validation.required"),b)},moment_date_format:{required:f.withMessage(g("validation.required"),b)},time_zone:{required:f.withMessage(g("validation.required"),b)},fiscal_year:{required:f.withMessage(g("validation.required"),b)}})),r=Q(G,y(()=>a));j();async function j(){i.value=!0,Promise.all([l.fetchCurrencies(),l.fetchDateFormats(),l.fetchTimeZones()]).then(([t])=>{i.value=!1})}async function O(){if(r.value.$touch(),r.value.$invalid)return;let t={settings:S({},a)};v.value=!0,delete t.settings.link_expiry_days,await d.updateCompanySettings({data:t,message:"settings.preferences.updated_message"}),v.value=!1}async function P(){$.value=!0,await d.updateCompanySettings({data:{settings:{link_expiry_days:a.link_expiry_days,automatically_expire_public_links:a.automatically_expire_public_links}},message:"settings.preferences.updated_message"}),$.value=!1}return(t,n)=>{const c=m("BaseMultiselect"),_=m("BaseInputGroup"),Y=m("BaseInputGrid"),w=m("BaseIcon"),q=m("BaseButton"),I=m("BaseDivider"),h=m("BaseSwitchSection"),T=m("BaseInput"),Z=m("BaseSettingCard");return D(),W("form",{action:"",class:"relative",onSubmit:x(O,["prevent"])},[s(Z,{title:t.$t("settings.menu_title.preferences"),description:t.$t("settings.preferences.general_settings")},{default:u(()=>[s(Y,{class:"mt-5"},{default:u(()=>[s(_,{"content-loading":e(i),label:t.$tc("settings.preferences.currency"),"help-text":t.$t("settings.preferences.company_currency_unchangeable"),error:e(r).currency.$error&&e(r).currency.$errors[0].$message,required:""},{default:u(()=>[s(c,{modelValue:e(a).currency,"onUpdate:modelValue":n[0]||(n[0]=o=>e(a).currency=o),"content-loading":e(i),options:e(l).currencies,label:"name","value-prop":"id",searchable:!0,"track-by":"name",invalid:e(r).currency.$error,disabled:"",class:"w-full"},null,8,["modelValue","content-loading","options","invalid"])]),_:1},8,["content-loading","label","help-text","error"]),s(_,{label:t.$tc("settings.preferences.default_language"),"content-loading":e(i),error:e(r).language.$error&&e(r).language.$errors[0].$message,required:""},{default:u(()=>[s(c,{modelValue:e(a).language,"onUpdate:modelValue":n[1]||(n[1]=o=>e(a).language=o),"content-loading":e(i),options:e(l).config.languages,label:"name","value-prop":"code",class:"w-full","track-by":"code",searchable:!0,invalid:e(r).language.$error},null,8,["modelValue","content-loading","options","invalid"])]),_:1},8,["label","content-loading","error"]),s(_,{label:t.$tc("settings.preferences.time_zone"),"content-loading":e(i),error:e(r).time_zone.$error&&e(r).time_zone.$errors[0].$message,required:""},{default:u(()=>[s(c,{modelValue:e(a).time_zone,"onUpdate:modelValue":n[2]||(n[2]=o=>e(a).time_zone=o),"content-loading":e(i),options:e(l).timeZones,label:"key","value-prop":"value","track-by":"key",searchable:!0,invalid:e(r).time_zone.$error},null,8,["modelValue","content-loading","options","invalid"])]),_:1},8,["label","content-loading","error"]),s(_,{label:t.$tc("settings.preferences.date_format"),"content-loading":e(i),error:e(r).carbon_date_format.$error&&e(r).carbon_date_format.$errors[0].$message,required:""},{default:u(()=>[s(c,{modelValue:e(a).carbon_date_format,"onUpdate:modelValue":n[3]||(n[3]=o=>e(a).carbon_date_format=o),"content-loading":e(i),options:e(l).dateFormats,label:"display_date","value-prop":"carbon_format_value","track-by":"carbon_format_value",searchable:"",invalid:e(r).carbon_date_format.$error,class:"w-full"},null,8,["modelValue","content-loading","options","invalid"])]),_:1},8,["label","content-loading","error"]),s(_,{"content-loading":e(i),error:e(r).fiscal_year.$error&&e(r).fiscal_year.$errors[0].$message,label:t.$tc("settings.preferences.fiscal_year"),required:""},{default:u(()=>[s(c,{modelValue:e(a).fiscal_year,"onUpdate:modelValue":n[4]||(n[4]=o=>e(a).fiscal_year=o),"content-loading":e(i),options:e(l).config.fiscal_years,label:"key","value-prop":"value",invalid:e(r).fiscal_year.$error,"track-by":"key",searchable:!0,class:"w-full"},null,8,["modelValue","content-loading","options","invalid"])]),_:1},8,["content-loading","error","label"])]),_:1}),s(q,{"content-loading":e(i),disabled:e(v),loading:e(v),type:"submit",class:"mt-6"},{left:u(o=>[s(w,{name:"SaveIcon",class:U(o.class)},null,8,["class"])]),default:u(()=>[z(" "+F(t.$tc("settings.company_info.save")),1)]),_:1},8,["content-loading","disabled","loading"]),s(I,{class:"mt-6 mb-2"}),N("ul",null,[N("form",{onSubmit:x(P,["prevent"])},[s(h,{modelValue:e(V),"onUpdate:modelValue":n[5]||(n[5]=o=>E(V)?V.value=o:null),title:t.$t("settings.preferences.expire_public_links"),description:t.$t("settings.preferences.expire_setting_description")},null,8,["modelValue","title","description"]),e(V)?(D(),X(_,{key:0,"content-loading":e(i),label:t.$t("settings.preferences.expire_public_links"),class:"mt-2 mb-4"},{default:u(()=>[s(T,{modelValue:e(a).link_expiry_days,"onUpdate:modelValue":n[6]||(n[6]=o=>e(a).link_expiry_days=o),disabled:e(a).automatically_expire_public_links==="NO","content-loading":e(i),type:"number"},null,8,["modelValue","disabled","content-loading"])]),_:1},8,["content-loading","label"])):ee("",!0),s(q,{"content-loading":e(i),disabled:e($),loading:e($),type:"submit",class:"mt-6"},{left:u(o=>[s(w,{name:"SaveIcon",class:U(o.class)},null,8,["class"])]),default:u(()=>[z(" "+F(t.$tc("general.save")),1)]),_:1},8,["content-loading","disabled","loading"])],40,le),s(I,{class:"mt-6 mb-2"}),s(h,{modelValue:e(k),"onUpdate:modelValue":n[7]||(n[7]=o=>E(k)?k.value=o:null),title:t.$t("settings.preferences.discount_per_item"),description:t.$t("settings.preferences.discount_setting_description")},null,8,["modelValue","title","description"])])]),_:1},8,["title","description"])],40,ne)}}};export{de as default};

--- public/build/assets/RecurringInvoiceCreate.e076e6ab.js ---
@@ -1 +1 @@
-var Z=Object.defineProperty,ee=Object.defineProperties;var ne=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var ie=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable;var j=(e,i,u)=>i in e?Z(e,i,{enumerable:!0,configurable:!0,writable:!0,value:u}):e[i]=u,D=(e,i)=>{for(var u in i||(i={}))ie.call(i,u)&&j(e,u,i[u]);if(N)for(var u of N(i))te.call(i,u)&&j(e,u,i[u]);return e},E=(e,i)=>ee(e,ne(i));import{G as P,B as k,a0 as re,k as q,C as O,D as ae,r as g,o as y,e as A,h as v,f as r,u as n,t as L,w as c,l as _,j as B,F as G,$ as oe,J as le,aN as se,L as I,M as p,O as U,aP as ce,T as ue,m as de,i as ge,U as ve}from"./vendor.01d0adc5.js";import{_ as me,a as fe,b as be,c as ye,d as Ie,e as $e,f as we}from"./SalesTax.da1d755f.js";import{t as H,d as _e,b as Re,m as qe,r as pe}from"./main.832b14c7.js";import{_ as Be}from"./ExchangeRateConverter.357f31c9.js";import{_ as he}from"./CreateCustomFields.940787b7.js";import{_ as Se}from"./TaxTypeModal.cf69664d.js";import"./DragIcon.88fb50b8.js";import"./SelectNotePopup.b35e7850.js";import"./NoteModal.a07ce50b.js";import"./payment.372edbf1.js";import"./exchange-rate.45b62b37.js";const Ve={class:"col-span-5 pr-0"},Ce={class:"flex mt-7"},Fe={class:"relative w-20 mt-8"},Le={class:"ml-2"},Te={class:"p-0 mb-1 leading-snug text-left text-black"},Me={class:"p-0 m-0 text-xs leading-tight text-left text-gray-500",style:{"max-width":"480px"}},ke={class:"grid grid-cols-1 col-span-7 gap-4 mt-8 lg:gap-6 lg:mt-0 lg:grid-cols-2"},Ue={props:{v:{type:Object,default:null},isLoading:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1}},setup(e){const i=e,u=P(),t=H(),V=_e(),$=k(!1),d=re([{label:"None",value:"NONE"},{label:"Date",value:"DATE"},{label:"Count",value:"COUNT"}]),m=q(()=>t.newRecurringInvoice.selectedFrequency&&t.newRecurringInvoice.selectedFrequency.value==="CUSTOM"),T=q(()=>i.isEdit?V.config.recurring_invoice_status.update_status:V.config.recurring_invoice_status.create_status);O(()=>t.newRecurringInvoice.selectedFrequency,l=>{t.isFetchingInitialSettings||(l&&l.value!=="CUSTOM"?t.newRecurringInvoice.frequency=l.value:t.newRecurringInvoice.frequency=null)}),ae(()=>{u.params.id||f()});function R(l){return t.newRecurringInvoice.limit_by===l}const C=oe(()=>{f()},500);async function f(){const l=t.newRecurringInvoice.frequency;if(!l)return;$.value=!0;let a={starts_at:t.newRecurringInvoice.starts_at,frequency:l};try{await t.fetchRecurringInvoiceFrequencyDate(a)}catch(h){console.error(h),$.value=!1}$.value=!1}return(l,a)=>{const h=g("BaseCustomerSelectPopup"),M=g("BaseSwitch"),w=g("BaseDatePicker"),b=g("BaseInputGroup"),S=g("BaseMultiselect"),s=g("BaseInput");return y(),A(G,null,[v("div",Ve,[r(h,{modelValue:n(t).newRecurringInvoice.customer,"onUpdate:modelValue":a[0]||(a[0]=o=>n(t).newRecurringInvoice.customer=o),valid:e.v.customer_id,"content-loading":e.isLoading,type:"recurring-invoice"},null,8,["modelValue","valid","content-loading"]),v("div",Ce,[v("div",Fe,[r(M,{modelValue:n(t).newRecurringInvoice.send_automatically,"onUpdate:modelValue":a[1]||(a[1]=o=>n(t).newRecurringInvoice.send_automatically=o),class:"absolute -top-4"},null,8,["modelValue"])]),v("div",Le,[v("p",Te,L(l.$t("recurring_invoices.send_automatically")),1),v("p",Me,L(l.$t("recurring_invoices.send_automatically_desc")),1)])])]),v("div",ke,[r(b,{label:l.$t("recurring_invoices.starts_at"),"content-loading":e.isLoading,required:"",error:e.v.starts_at.$error&&e.v.starts_at.$errors[0].$message},{default:c(()=>[r(w,{modelValue:n(t).newRecurringInvoice.starts_at,"onUpdate:modelValue":a[2]||(a[2]=o=>n(t).newRecurringInvoice.starts_at=o),"content-loading":e.isLoading,"calendar-button":!0,"calendar-button-icon":"calendar",invalid:e.v.starts_at.$error,onChange:a[3]||(a[3]=o=>f())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),r(b,{label:l.$t("recurring_invoices.next_invoice_date"),"content-loading":e.isLoading,required:""},{default:c(()=>[r(w,{modelValue:n(t).newRecurringInvoice.next_invoice_at,"onUpdate:modelValue":a[4]||(a[4]=o=>n(t).newRecurringInvoice.next_invoice_at=o),"content-loading":e.isLoading,"calendar-button":!0,disabled:!0,loading:$.value,"calendar-button-icon":"calendar"},null,8,["modelValue","content-loading","loading"])]),_:1},8,["label","content-loading"]),r(b,{label:l.$t("recurring_invoices.limit_by"),"content-loading":e.isLoading,class:"lg:mt-0",required:"",error:e.v.limit_by.$error&&e.v.limit_by.$errors[0].$message},{default:c(()=>[r(S,{modelValue:n(t).newRecurringInvoice.limit_by,"onUpdate:modelValue":a[5]||(a[5]=o=>n(t).newRecurringInvoice.limit_by=o),"content-loading":e.isLoading,options:n(d),label:"label",invalid:e.v.limit_by.$error,"value-prop":"value"},null,8,["modelValue","content-loading","options","invalid"])]),_:1},8,["label","content-loading","error"]),R("DATE")?(y(),_(b,{key:0,label:l.$t("recurring_invoices.limit_date"),"content-loading":e.isLoading,required:R("DATE"),error:e.v.limit_date.$error&&e.v.limit_date.$errors[0].$message},{default:c(()=>[r(w,{modelValue:n(t).newRecurringInvoice.limit_date,"onUpdate:modelValue":a[6]||(a[6]=o=>n(t).newRecurringInvoice.limit_date=o),"content-loading":e.isLoading,invalid:e.v.limit_date.$error,"calendar-button-icon":"calendar"},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","required","error"])):B("",!0),R("COUNT")?(y(),_(b,{key:1,label:l.$t("recurring_invoices.count"),"content-loading":e.isLoading,required:R("COUNT"),error:e.v.limit_count.$error&&e.v.limit_count.$errors[0].$message},{default:c(()=>[r(s,{modelValue:n(t).newRecurringInvoice.limit_count,"onUpdate:modelValue":a[7]||(a[7]=o=>n(t).newRecurringInvoice.limit_count=o),"content-loading":e.isLoading,invalid:e.v.limit_count.$error,type:"number"},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","required","error"])):B("",!0),r(b,{label:l.$t("recurring_invoices.status"),required:"","content-loading":e.isLoading,error:e.v.status.$error&&e.v.status.$errors[0].$message},{default:c(()=>[r(S,{modelValue:n(t).newRecurringInvoice.status,"onUpdate:modelValue":a[8]||(a[8]=o=>n(t).newRecurringInvoice.status=o),options:n(T),"content-loading":e.isLoading,invalid:e.v.status.$error,placeholder:l.$t("recurring_invoices.select_a_status"),"value-prop":"value",label:"value"},null,8,["modelValue","options","content-loading","invalid","placeholder"])]),_:1},8,["label","content-loading","error"]),r(b,{label:l.$t("recurring_invoices.frequency.select_frequency"),required:"","content-loading":e.isLoading,error:e.v.selectedFrequency.$error&&e.v.selectedFrequency.$errors[0].$message},{default:c(()=>[r(S,{modelValue:n(t).newRecurringInvoice.selectedFrequency,"onUpdate:modelValue":a[9]||(a[9]=o=>n(t).newRecurringInvoice.selectedFrequency=o),"content-loading":e.isLoading,options:n(t).frequencies,label:"label",invalid:e.v.selectedFrequency.$error,object:"",onChange:f},null,8,["modelValue","content-loading","options","invalid"])]),_:1},8,["label","content-loading","error"]),n(m)?(y(),_(b,{key:2,label:l.$t("recurring_invoices.frequency.title"),"content-loading":e.isLoading,required:"",error:e.v.frequency.$error&&e.v.frequency.$errors[0].$message},{default:c(()=>[r(s,{modelValue:n(t).newRecurringInvoice.frequency,"onUpdate:modelValue":[a[10]||(a[10]=o=>n(t).newRecurringInvoice.frequency=o),n(C)],"content-loading":e.isLoading,disabled:!n(m),invalid:e.v.frequency.$error,loading:$.value},null,8,["modelValue","content-loading","disabled","invalid","loading","onUpdate:modelValue"])]),_:1},8,["label","content-loading","error"])):B("",!0),r(Be,{store:n(t),"store-prop":"newRecurringInvoice",v:e.v,"is-loading":e.isLoading,"is-edit":e.isEdit,"customer-currency":n(t).newRecurringInvoice.currency_id},null,8,["store","v","is-loading","is-edit","customer-currency"])])],64)}}},xe=["onSubmit"],Ne={class:"flex"},je={class:"grid-cols-12 gap-8 mt-6 mb-8 lg:grid"},De={class:"block mt-10 invoice-foot lg:flex lg:justify-between lg:items-start"},Ee={class:"w-full relative lg:w-1/2"},Ze={setup(e){const i=H(),u=Re(),t=qe(),V=pe(),$="newRecurringInvoice",{t:d}=le();let m=k(!1);const T=k(["customer","company","customerCustom","invoice","invoiceCustom"]);let R=P(),C=se(),f=q(()=>i.isFetchingInvoice||i.isFetchingInitialSettings),l=q(()=>a.value?d("recurring_invoices.edit_invoice"):d("recurring_invoices.new_invoice")),a=q(()=>R.name==="recurring-invoices.edit");const h=q(()=>u.selectedCompanySettings.sales_tax_us_enabled==="YES"&&V.salesTaxUSEnabled),M={starts_at:{required:I.withMessage(d("validation.required"),p)},status:{required:I.withMessage(d("validation.required"),p)},frequency:{required:I.withMessage(d("validation.required"),p)},limit_by:{required:I.withMessage(d("validation.required"),p)},limit_date:{required:I.withMessage(d("validation.required"),U(function(){return i.newRecurringInvoice.limit_by==="DATE"}))},limit_count:{required:I.withMessage(d("validation.required"),U(function(){return i.newRecurringInvoice.limit_by==="COUNT"}))},selectedFrequency:{required:I.withMessage(d("validation.required"),p)},customer_id:{required:I.withMessage(d("validation.required"),p)},exchange_rate:{required:U(function(){return I.withMessage(d("validation.required"),p),i.showExchangeRate}),decimal:I.withMessage(d("validation.valid_exchange_rate"),ce)}},w=ue(M,q(()=>i.newRecurringInvoice),{$scope:$});i.resetCurrentRecurringInvoice(),i.fetchRecurringInvoiceInitialSettings(a.value),t.resetCustomFields(),w.value.$reset,O(()=>i.newRecurringInvoice.customer,s=>{s&&s.currency?i.newRecurringInvoice.currency=s.currency:i.newRecurringInvoice.currency=u.selectedCompanyCurrency});async function b(){if(w.value.$touch(),w.value.$invalid)return!1;m.value=!0;let s=E(D({},i.newRecurringInvoice),{sub_total:i.getSubTotal,total:i.getTotal,tax:i.getTotalTax});R.params.id?i.updateRecurringInvoice(s).then(o=>{o.data.data&&C.push(`/admin/recurring-invoices/${o.data.data.id}/view`),m.value=!1}).catch(o=>{m.value=!1}):S(s)}function S(s){i.addRecurringInvoice(s).then(o=>{o.data.data&&C.push(`/admin/recurring-invoices/${o.data.data.id}/view`),m.value=!1}).catch(o=>{m.value=!1})}return(s,o)=>{const F=g("BaseBreadcrumbItem"),z=g("BaseBreadcrumb"),x=g("BaseButton"),J=g("router-link"),Y=g("BaseIcon"),K=g("BasePageHeader"),Q=g("BaseScrollPane"),W=g("BasePage");return y(),A(G,null,[r(me),r(fe),r(Se),n(h)&&!n(f)?(y(),_(be,{key:0,store:n(i),"store-prop":"newRecurringInvoice","is-edit":n(a),customer:n(i).newRecurringInvoice.customer},null,8,["store","is-edit","customer"])):B("",!0),r(W,{class:"relative invoice-create-page"},{default:c(()=>[v("form",{onSubmit:ve(b,["prevent"])},[r(K,{title:n(l)},{actions:c(()=>[r(J,{to:`/invoices/pdf/${n(i).newRecurringInvoice.unique_hash}`},{default:c(()=>[s.$route.name==="invoices.edit"?(y(),_(x,{key:0,target:"_blank",class:"mr-3",variant:"primary-outline",type:"button"},{default:c(()=>[v("span",Ne,L(s.$t("general.view_pdf")),1)]),_:1})):B("",!0)]),_:1},8,["to"]),r(x,{loading:n(m),disabled:n(m),variant:"primary",type:"submit"},{left:c(X=>[n(m)?B("",!0):(y(),_(Y,{key:0,name:"SaveIcon",class:de(X.class)},null,8,["class"]))]),default:c(()=>[ge(" "+L(s.$t("recurring_invoices.save_invoice")),1)]),_:1},8,["loading","disabled"])]),default:c(()=>[r(z,null,{default:c(()=>[r(F,{title:s.$t("general.home"),to:"/admin/dashboard"},null,8,["title"]),r(F,{title:s.$t("recurring_invoices.title",2),to:"/admin/recurring-invoices"},null,8,["title"]),s.$route.name==="invoices.edit"?(y(),_(F,{key:0,title:s.$t("recurring_invoices.edit_invoice"),to:"#",active:""},null,8,["title"])):(y(),_(F,{key:1,title:n(l),to:"#",active:""},null,8,["title"]))]),_:1})]),_:1},8,["title"]),v("div",je,[r(Ue,{v:n(w),"is-loading":n(f),"is-edit":n(a)},null,8,["v","is-loading","is-edit"])]),r(Q,null,{default:c(()=>[r(ye,{currency:n(i).newRecurringInvoice.currency,"is-loading":n(f),"item-validation-scope":$,store:n(i),"store-prop":"newRecurringInvoice"},null,8,["currency","is-loading","store"]),v("div",De,[v("div",Ee,[r(Ie,{store:n(i),"store-prop":"newRecurringInvoice",fields:T.value,type:"Invoice"},null,8,["store","fields"]),r(he,{type:"Invoice","is-edit":n(a),"is-loading":n(f),store:n(i),"store-prop":"newRecurringInvoice","custom-field-scope":$,class:"mb-6"},null,8,["is-edit","is-loading","store"]),r($e,{store:n(i),"store-prop":"newRecurringInvoice"},null,8,["store"])]),r(we,{currency:n(i).newRecurringInvoice.currency,"is-loading":n(f),store:n(i),"store-prop":"newRecurringInvoice","tax-popup-type":"invoice"},null,8,["currency","is-loading","store"])])]),_:1})],40,xe)]),_:1})],64)}}};export{Ze as default};
+var Z=Object.defineProperty,ee=Object.defineProperties;var ne=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var ie=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable;var j=(e,i,u)=>i in e?Z(e,i,{enumerable:!0,configurable:!0,writable:!0,value:u}):e[i]=u,D=(e,i)=>{for(var u in i||(i={}))ie.call(i,u)&&j(e,u,i[u]);if(N)for(var u of N(i))te.call(i,u)&&j(e,u,i[u]);return e},E=(e,i)=>ee(e,ne(i));import{G as P,B as k,a0 as re,k as q,C as O,D as ae,r as g,o as b,e as A,h as v,f as r,u as n,t as L,w as c,l as _,j as B,F as G,$ as oe,J as le,aN as se,L as I,M as p,O as U,aP as ce,T as ue,m as de,i as ge,U as ve}from"./vendor.01d0adc5.js";import{_ as me,a as fe,b as ye,c as be,d as Ie,e as $e,f as we}from"./SalesTax.0ff2d954.js";import{t as H,d as _e,b as Re,m as qe,r as pe}from"./main.75722495.js";import{_ as Be}from"./ExchangeRateConverter.7d8c4309.js";import{_ as he}from"./CreateCustomFields.a3a572c4.js";import{_ as Se}from"./TaxTypeModal.bf6662b3.js";import"./DragIcon.213b1d78.js";import"./SelectNotePopup.781ad74a.js";import"./NoteModal.f6d01f84.js";import"./payment.5c57bec3.js";import"./exchange-rate.dffa79b6.js";const Ve={class:"col-span-5 pr-0"},Ce={class:"flex mt-7"},Fe={class:"relative w-20 mt-8"},Le={class:"ml-2"},Te={class:"p-0 mb-1 leading-snug text-left text-black"},Me={class:"p-0 m-0 text-xs leading-tight text-left text-gray-500",style:{"max-width":"480px"}},ke={class:"grid grid-cols-1 col-span-7 gap-4 mt-8 lg:gap-6 lg:mt-0 lg:grid-cols-2"},Ue={props:{v:{type:Object,default:null},isLoading:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1}},setup(e){const i=e,u=P(),t=H(),V=_e(),$=k(!1),d=re([{label:"None",value:"NONE"},{label:"Date",value:"DATE"},{label:"Count",value:"COUNT"}]),m=q(()=>t.newRecurringInvoice.selectedFrequency&&t.newRecurringInvoice.selectedFrequency.value==="CUSTOM"),T=q(()=>i.isEdit?V.config.recurring_invoice_status.update_status:V.config.recurring_invoice_status.create_status);O(()=>t.newRecurringInvoice.selectedFrequency,l=>{t.isFetchingInitialSettings||(l&&l.value!=="CUSTOM"?t.newRecurringInvoice.frequency=l.value:t.newRecurringInvoice.frequency=null)}),ae(()=>{u.params.id||f()});function R(l){return t.newRecurringInvoice.limit_by===l}const C=oe(()=>{f()},500);async function f(){const l=t.newRecurringInvoice.frequency;if(!l)return;$.value=!0;let a={starts_at:t.newRecurringInvoice.starts_at,frequency:l};try{await t.fetchRecurringInvoiceFrequencyDate(a)}catch(h){console.error(h),$.value=!1}$.value=!1}return(l,a)=>{const h=g("BaseCustomerSelectPopup"),M=g("BaseSwitch"),w=g("BaseDatePicker"),y=g("BaseInputGroup"),S=g("BaseMultiselect"),s=g("BaseInput");return b(),A(G,null,[v("div",Ve,[r(h,{modelValue:n(t).newRecurringInvoice.customer,"onUpdate:modelValue":a[0]||(a[0]=o=>n(t).newRecurringInvoice.customer=o),valid:e.v.customer_id,"content-loading":e.isLoading,type:"recurring-invoice"},null,8,["modelValue","valid","content-loading"]),v("div",Ce,[v("div",Fe,[r(M,{modelValue:n(t).newRecurringInvoice.send_automatically,"onUpdate:modelValue":a[1]||(a[1]=o=>n(t).newRecurringInvoice.send_automatically=o),class:"absolute -top-4"},null,8,["modelValue"])]),v("div",Le,[v("p",Te,L(l.$t("recurring_invoices.send_automatically")),1),v("p",Me,L(l.$t("recurring_invoices.send_automatically_desc")),1)])])]),v("div",ke,[r(y,{label:l.$t("recurring_invoices.starts_at"),"content-loading":e.isLoading,required:"",error:e.v.starts_at.$error&&e.v.starts_at.$errors[0].$message},{default:c(()=>[r(w,{modelValue:n(t).newRecurringInvoice.starts_at,"onUpdate:modelValue":a[2]||(a[2]=o=>n(t).newRecurringInvoice.starts_at=o),"content-loading":e.isLoading,"calendar-button":!0,"calendar-button-icon":"calendar",invalid:e.v.starts_at.$error,onChange:a[3]||(a[3]=o=>f())},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),r(y,{label:l.$t("recurring_invoices.next_invoice_date"),"content-loading":e.isLoading,required:""},{default:c(()=>[r(w,{modelValue:n(t).newRecurringInvoice.next_invoice_at,"onUpdate:modelValue":a[4]||(a[4]=o=>n(t).newRecurringInvoice.next_invoice_at=o),"content-loading":e.isLoading,"calendar-button":!0,disabled:!0,loading:$.value,"calendar-button-icon":"calendar"},null,8,["modelValue","content-loading","loading"])]),_:1},8,["label","content-loading"]),r(y,{label:l.$t("recurring_invoices.limit_by"),"content-loading":e.isLoading,class:"lg:mt-0",required:"",error:e.v.limit_by.$error&&e.v.limit_by.$errors[0].$message},{default:c(()=>[r(S,{modelValue:n(t).newRecurringInvoice.limit_by,"onUpdate:modelValue":a[5]||(a[5]=o=>n(t).newRecurringInvoice.limit_by=o),"content-loading":e.isLoading,options:n(d),label:"label",invalid:e.v.limit_by.$error,"value-prop":"value"},null,8,["modelValue","content-loading","options","invalid"])]),_:1},8,["label","content-loading","error"]),R("DATE")?(b(),_(y,{key:0,label:l.$t("recurring_invoices.limit_date"),"content-loading":e.isLoading,required:R("DATE"),error:e.v.limit_date.$error&&e.v.limit_date.$errors[0].$message},{default:c(()=>[r(w,{modelValue:n(t).newRecurringInvoice.limit_date,"onUpdate:modelValue":a[6]||(a[6]=o=>n(t).newRecurringInvoice.limit_date=o),"content-loading":e.isLoading,invalid:e.v.limit_date.$error,"calendar-button-icon":"calendar"},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","required","error"])):B("",!0),R("COUNT")?(b(),_(y,{key:1,label:l.$t("recurring_invoices.count"),"content-loading":e.isLoading,required:R("COUNT"),error:e.v.limit_count.$error&&e.v.limit_count.$errors[0].$message},{default:c(()=>[r(s,{modelValue:n(t).newRecurringInvoice.limit_count,"onUpdate:modelValue":a[7]||(a[7]=o=>n(t).newRecurringInvoice.limit_count=o),"content-loading":e.isLoading,invalid:e.v.limit_count.$error,type:"number"},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","required","error"])):B("",!0),r(y,{label:l.$t("recurring_invoices.status"),required:"","content-loading":e.isLoading,error:e.v.status.$error&&e.v.status.$errors[0].$message},{default:c(()=>[r(S,{modelValue:n(t).newRecurringInvoice.status,"onUpdate:modelValue":a[8]||(a[8]=o=>n(t).newRecurringInvoice.status=o),options:n(T),"content-loading":e.isLoading,invalid:e.v.status.$error,placeholder:l.$t("recurring_invoices.select_a_status"),"value-prop":"value",label:"value"},null,8,["modelValue","options","content-loading","invalid","placeholder"])]),_:1},8,["label","content-loading","error"]),r(y,{label:l.$t("recurring_invoices.frequency.select_frequency"),required:"","content-loading":e.isLoading,error:e.v.selectedFrequency.$error&&e.v.selectedFrequency.$errors[0].$message},{default:c(()=>[r(S,{modelValue:n(t).newRecurringInvoice.selectedFrequency,"onUpdate:modelValue":a[9]||(a[9]=o=>n(t).newRecurringInvoice.selectedFrequency=o),"content-loading":e.isLoading,options:n(t).frequencies,label:"label",invalid:e.v.selectedFrequency.$error,object:"",onChange:f},null,8,["modelValue","content-loading","options","invalid"])]),_:1},8,["label","content-loading","error"]),n(m)?(b(),_(y,{key:2,label:l.$t("recurring_invoices.frequency.title"),"content-loading":e.isLoading,required:"",error:e.v.frequency.$error&&e.v.frequency.$errors[0].$message},{default:c(()=>[r(s,{modelValue:n(t).newRecurringInvoice.frequency,"onUpdate:modelValue":[a[10]||(a[10]=o=>n(t).newRecurringInvoice.frequency=o),n(C)],"content-loading":e.isLoading,disabled:!n(m),invalid:e.v.frequency.$error,loading:$.value},null,8,["modelValue","content-loading","disabled","invalid","loading","onUpdate:modelValue"])]),_:1},8,["label","content-loading","error"])):B("",!0),r(Be,{store:n(t),"store-prop":"newRecurringInvoice",v:e.v,"is-loading":e.isLoading,"is-edit":e.isEdit,"customer-currency":n(t).newRecurringInvoice.currency_id},null,8,["store","v","is-loading","is-edit","customer-currency"])])],64)}}},xe=["onSubmit"],Ne={class:"flex"},je={class:"grid-cols-12 gap-8 mt-6 mb-8 lg:grid"},De={class:"block mt-10 invoice-foot lg:flex lg:justify-between lg:items-start"},Ee={class:"w-full relative lg:w-1/2"},Ze={setup(e){const i=H(),u=Re(),t=qe(),V=pe(),$="newRecurringInvoice",{t:d}=le();let m=k(!1);const T=k(["customer","company","customerCustom","invoice","invoiceCustom"]);let R=P(),C=se(),f=q(()=>i.isFetchingInvoice||i.isFetchingInitialSettings),l=q(()=>a.value?d("recurring_invoices.edit_invoice"):d("recurring_invoices.new_invoice")),a=q(()=>R.name==="recurring-invoices.edit");const h=q(()=>u.selectedCompanySettings.sales_tax_us_enabled==="YES"&&V.salesTaxUSEnabled),M={starts_at:{required:I.withMessage(d("validation.required"),p)},status:{required:I.withMessage(d("validation.required"),p)},frequency:{required:I.withMessage(d("validation.required"),p)},limit_by:{required:I.withMessage(d("validation.required"),p)},limit_date:{required:I.withMessage(d("validation.required"),U(function(){return i.newRecurringInvoice.limit_by==="DATE"}))},limit_count:{required:I.withMessage(d("validation.required"),U(function(){return i.newRecurringInvoice.limit_by==="COUNT"}))},selectedFrequency:{required:I.withMessage(d("validation.required"),p)},customer_id:{required:I.withMessage(d("validation.required"),p)},exchange_rate:{required:U(function(){return I.withMessage(d("validation.required"),p),i.showExchangeRate}),decimal:I.withMessage(d("validation.valid_exchange_rate"),ce)}},w=ue(M,q(()=>i.newRecurringInvoice),{$scope:$});i.resetCurrentRecurringInvoice(),i.fetchRecurringInvoiceInitialSettings(a.value),t.resetCustomFields(),w.value.$reset,O(()=>i.newRecurringInvoice.customer,s=>{s&&s.currency?i.newRecurringInvoice.currency=s.currency:i.newRecurringInvoice.currency=u.selectedCompanyCurrency});async function y(){if(w.value.$touch(),w.value.$invalid)return!1;m.value=!0;let s=E(D({},i.newRecurringInvoice),{sub_total:i.getSubTotal,total:i.getTotal,tax:i.getTotalTax});R.params.id?i.updateRecurringInvoice(s).then(o=>{o.data.data&&C.push(`/admin/recurring-invoices/${o.data.data.id}/view`),m.value=!1}).catch(o=>{m.value=!1}):S(s)}function S(s){i.addRecurringInvoice(s).then(o=>{o.data.data&&C.push(`/admin/recurring-invoices/${o.data.data.id}/view`),m.value=!1}).catch(o=>{m.value=!1})}return(s,o)=>{const F=g("BaseBreadcrumbItem"),z=g("BaseBreadcrumb"),x=g("BaseButton"),J=g("router-link"),Y=g("BaseIcon"),K=g("BasePageHeader"),Q=g("BaseScrollPane"),W=g("BasePage");return b(),A(G,null,[r(me),r(fe),r(Se),n(h)&&!n(f)?(b(),_(ye,{key:0,store:n(i),"store-prop":"newRecurringInvoice","is-edit":n(a),customer:n(i).newRecurringInvoice.customer},null,8,["store","is-edit","customer"])):B("",!0),r(W,{class:"relative invoice-create-page"},{default:c(()=>[v("form",{onSubmit:ve(y,["prevent"])},[r(K,{title:n(l)},{actions:c(()=>[r(J,{to:`/invoices/pdf/${n(i).newRecurringInvoice.unique_hash}`},{default:c(()=>[s.$route.name==="invoices.edit"?(b(),_(x,{key:0,target:"_blank",class:"mr-3",variant:"primary-outline",type:"button"},{default:c(()=>[v("span",Ne,L(s.$t("general.view_pdf")),1)]),_:1})):B("",!0)]),_:1},8,["to"]),r(x,{loading:n(m),disabled:n(m),variant:"primary",type:"submit"},{left:c(X=>[n(m)?B("",!0):(b(),_(Y,{key:0,name:"SaveIcon",class:de(X.class)},null,8,["class"]))]),default:c(()=>[ge(" "+L(s.$t("recurring_invoices.save_invoice")),1)]),_:1},8,["loading","disabled"])]),default:c(()=>[r(z,null,{default:c(()=>[r(F,{title:s.$t("general.home"),to:"/admin/dashboard"},null,8,["title"]),r(F,{title:s.$t("recurring_invoices.title",2),to:"/admin/recurring-invoices"},null,8,["title"]),s.$route.name==="invoices.edit"?(b(),_(F,{key:0,title:s.$t("recurring_invoices.edit_invoice"),to:"#",active:""},null,8,["title"])):(b(),_(F,{key:1,title:n(l),to:"#",active:""},null,8,["title"]))]),_:1})]),_:1},8,["title"]),v("div",je,[r(Ue,{v:n(w),"is-loading":n(f),"is-edit":n(a)},null,8,["v","is-loading","is-edit"])]),r(Q,null,{default:c(()=>[r(be,{currency:n(i).newRecurringInvoice.currency,"is-loading":n(f),"item-validation-scope":$,store:n(i),"store-prop":"newRecurringInvoice"},null,8,["currency","is-loading","store"]),v("div",De,[v("div",Ee,[r(Ie,{store:n(i),"store-prop":"newRecurringInvoice",fields:T.value,type:"Invoice"},null,8,["store","fields"]),r(he,{type:"Invoice","is-edit":n(a),"is-loading":n(f),store:n(i),"store-prop":"newRecurringInvoice","custom-field-scope":$,class:"mb-6"},null,8,["is-edit","is-loading","store"]),r($e,{store:n(i),"store-prop":"newRecurringInvoice"},null,8,["store"])]),r(we,{currency:n(i).newRecurringInvoice.currency,"is-loading":n(f),store:n(i),"store-prop":"newRecurringInvoice","tax-popup-type":"invoice"},null,8,["currency","is-loading","store"])])]),_:1})],40,xe)]),_:1})],64)}}};export{Ze as default};

--- public/build/assets/RecurringInvoiceIndexDropdown.37d4a992.js ---
@@ -1 +1 @@
-import{J as b,G as E,aN as k,ah as C,r as c,o as a,l as n,w as o,u as t,f as r,i as p,t as I,j as v}from"./vendor.01d0adc5.js";import{t as x,u as S,j as V,e as j,g as y}from"./main.832b14c7.js";const G={props:{row:{type:Object,default:null},table:{type:Object,default:null},loadData:{type:Function,default:()=>{}}},setup(l){const _=l,g=x(),h=S(),N=V(),m=j(),{t:s}=b(),w=E();k(),C("utils");async function B(i=null){N.openDialog({title:s("general.are_you_sure"),message:s("invoices.confirm_delete"),yesLabel:s("general.ok"),noLabel:s("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(async u=>{u&&await g.deleteMultipleRecurringInvoices(i).then(e=>{e.data.success?(_.table&&_.table.refresh(),g.$patch(d=>{d.selectedRecurringInvoices=[],d.selectAllField=!1}),h.showNotification({type:"success",message:s("recurring_invoices.deleted_message",2)})):e.data.error&&h.showNotification({type:"error",message:e.data.message})})})}return(i,u)=>{const e=c("BaseIcon"),d=c("BaseButton"),f=c("BaseDropdownItem"),R=c("router-link"),D=c("BaseDropdown");return a(),n(D,{"content-loading":t(g).isFetchingViewData},{activator:o(()=>[t(w).name==="recurring-invoices.view"?(a(),n(d,{key:0,variant:"primary"},{default:o(()=>[r(e,{name:"DotsHorizontalIcon",class:"h-5 text-white"})]),_:1})):(a(),n(e,{key:1,name:"DotsHorizontalIcon",class:"h-5 text-gray-500"}))]),default:o(()=>[t(m).hasAbilities(t(y).EDIT_RECURRING_INVOICE)?(a(),n(R,{key:0,to:`/admin/recurring-invoices/${l.row.id}/edit`},{default:o(()=>[r(f,null,{default:o(()=>[r(e,{name:"PencilIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),p(" "+I(i.$t("general.edit")),1)]),_:1})]),_:1},8,["to"])):v("",!0),t(w).name!=="recurring-invoices.view"&&t(m).hasAbilities(t(y).VIEW_RECURRING_INVOICE)?(a(),n(R,{key:1,to:`recurring-invoices/${l.row.id}/view`},{default:o(()=>[r(f,null,{default:o(()=>[r(e,{name:"EyeIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),p(" "+I(i.$t("general.view")),1)]),_:1})]),_:1},8,["to"])):v("",!0),t(m).hasAbilities(t(y).DELETE_RECURRING_INVOICE)?(a(),n(f,{key:2,onClick:u[0]||(u[0]=$=>B(l.row.id))},{default:o(()=>[r(e,{name:"TrashIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),p(" "+I(i.$t("general.delete")),1)]),_:1})):v("",!0)]),_:1},8,["content-loading"])}}};export{G as _};
+import{J as E,G as b,aN as k,ah as C,r as c,o as a,l as n,w as o,u as t,f as r,i as p,t as I,j as v}from"./vendor.01d0adc5.js";import{t as x,u as S,j as V,e as j,g as y}from"./main.75722495.js";const G={props:{row:{type:Object,default:null},table:{type:Object,default:null},loadData:{type:Function,default:()=>{}}},setup(l){const _=l,g=x(),h=S(),N=V(),m=j(),{t:s}=E(),w=b();k(),C("utils");async function B(i=null){N.openDialog({title:s("general.are_you_sure"),message:s("invoices.confirm_delete"),yesLabel:s("general.ok"),noLabel:s("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(async u=>{u&&await g.deleteMultipleRecurringInvoices(i).then(e=>{e.data.success?(_.table&&_.table.refresh(),g.$patch(d=>{d.selectedRecurringInvoices=[],d.selectAllField=!1}),h.showNotification({type:"success",message:s("recurring_invoices.deleted_message",2)})):e.data.error&&h.showNotification({type:"error",message:e.data.message})})})}return(i,u)=>{const e=c("BaseIcon"),d=c("BaseButton"),f=c("BaseDropdownItem"),R=c("router-link"),D=c("BaseDropdown");return a(),n(D,{"content-loading":t(g).isFetchingViewData},{activator:o(()=>[t(w).name==="recurring-invoices.view"?(a(),n(d,{key:0,variant:"primary"},{default:o(()=>[r(e,{name:"DotsHorizontalIcon",class:"h-5 text-white"})]),_:1})):(a(),n(e,{key:1,name:"DotsHorizontalIcon",class:"h-5 text-gray-500"}))]),default:o(()=>[t(m).hasAbilities(t(y).EDIT_RECURRING_INVOICE)?(a(),n(R,{key:0,to:`/admin/recurring-invoices/${l.row.id}/edit`},{default:o(()=>[r(f,null,{default:o(()=>[r(e,{name:"PencilIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),p(" "+I(i.$t("general.edit")),1)]),_:1})]),_:1},8,["to"])):v("",!0),t(w).name!=="recurring-invoices.view"&&t(m).hasAbilities(t(y).VIEW_RECURRING_INVOICE)?(a(),n(R,{key:1,to:`recurring-invoices/${l.row.id}/view`},{default:o(()=>[r(f,null,{default:o(()=>[r(e,{name:"EyeIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),p(" "+I(i.$t("general.view")),1)]),_:1})]),_:1},8,["to"])):v("",!0),t(m).hasAbilities(t(y).DELETE_RECURRING_INVOICE)?(a(),n(f,{key:2,onClick:u[0]||(u[0]=$=>B(l.row.id))},{default:o(()=>[r(e,{name:"TrashIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),p(" "+I(i.$t("general.delete")),1)]),_:1})):v("",!0)]),_:1},8,["content-loading"])}}};export{G as _};

--- public/build/assets/ResetPassword.485b38b4.js ---
@@ -1 +1 @@
-import{G as S,aN as M,J as E,a0 as j,B as $,k as x,L as m,M as g,Q as C,N as G,P as L,T as N,r as u,o as c,e as P,f as n,w as p,u as e,l as _,x as y,i as U,t as A,U as R}from"./vendor.01d0adc5.js";import{u as D}from"./global.8697213a.js";import{u as O}from"./auth.77d12976.js";import"./main.832b14c7.js";const T=["onSubmit"],K={setup(F){const f=S(),b=M(),B=O(),{t:i}=E(),r=j({email:"",password:"",password_confirmation:""});D();let a=$(!1),v=$(!1);const I=x(()=>({email:{required:m.withMessage(i("validation.required"),g),email:m.withMessage(i("validation.email_incorrect"),C)},password:{required:m.withMessage(i("validation.required"),g),minLength:m.withMessage(i("validation.password_min_length",{count:8}),G(8))},password_confirmation:{sameAsPassword:m.withMessage(i("validation.password_incorrect"),L(r.password))}})),s=N(I,r);async function V(l){if(s.value.$touch(),!s.value.$invalid){let o={email:r.email,password:r.password,password_confirmation:r.password_confirmation,token:f.params.token};v.value=!0;let d=B.resetPassword(o,f.params.company);v.value=!1,d.data&&b.push({name:"customer.login"})}}return(l,o)=>{const d=u("BaseInput"),w=u("BaseInputGroup"),k=u("EyeOffIcon"),h=u("EyeIcon"),q=u("BaseButton");return c(),P("form",{id:"loginForm",onSubmit:R(V,["prevent"])},[n(w,{error:e(s).email.$error&&e(s).email.$errors[0].$message,label:l.$t("login.email"),class:"mb-4",required:""},{default:p(()=>[n(d,{modelValue:e(r).email,"onUpdate:modelValue":o[0]||(o[0]=t=>e(r).email=t),type:"email",name:"email",invalid:e(s).email.$error,onInput:o[1]||(o[1]=t=>e(s).email.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["error","label"]),n(w,{error:e(s).password.$error&&e(s).password.$errors[0].$message,label:l.$t("login.password"),class:"mb-4",required:""},{default:p(()=>[n(d,{modelValue:e(r).password,"onUpdate:modelValue":o[4]||(o[4]=t=>e(r).password=t),type:e(a)?"text":"password",name:"password",invalid:e(s).password.$error,onInput:o[5]||(o[5]=t=>e(s).password.$touch())},{right:p(()=>[e(a)?(c(),_(k,{key:0,class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:o[2]||(o[2]=t=>y(a)?a.value=!e(a):a=!e(a))})):(c(),_(h,{key:1,class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:o[3]||(o[3]=t=>y(a)?a.value=!e(a):a=!e(a))}))]),_:1},8,["modelValue","type","invalid"])]),_:1},8,["error","label"]),n(w,{error:e(s).password_confirmation.$error&&e(s).password_confirmation.$errors[0].$message,label:l.$t("login.retype_password"),class:"mb-4",required:""},{default:p(()=>[n(d,{modelValue:e(r).password_confirmation,"onUpdate:modelValue":o[6]||(o[6]=t=>e(r).password_confirmation=t),type:"password",name:"password",invalid:e(s).password_confirmation.$error,onInput:o[7]||(o[7]=t=>e(s).password_confirmation.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["error","label"]),n(q,{type:"submit",variant:"primary"},{default:p(()=>[U(A(l.$t("login.reset_password")),1)]),_:1})],40,T)}}};export{K as default};
+import{G as S,aN as M,J as E,a0 as j,B as $,k as x,L as m,M as g,Q as C,N as G,P as L,T as N,r as u,o as c,e as P,f as n,w as p,u as e,l as _,x as y,i as U,t as A,U as R}from"./vendor.01d0adc5.js";import{u as D}from"./global.08b6a984.js";import{u as O}from"./auth.4644c288.js";import"./main.75722495.js";const T=["onSubmit"],K={setup(F){const f=S(),b=M(),B=O(),{t:i}=E(),r=j({email:"",password:"",password_confirmation:""});D();let a=$(!1),v=$(!1);const I=x(()=>({email:{required:m.withMessage(i("validation.required"),g),email:m.withMessage(i("validation.email_incorrect"),C)},password:{required:m.withMessage(i("validation.required"),g),minLength:m.withMessage(i("validation.password_min_length",{count:8}),G(8))},password_confirmation:{sameAsPassword:m.withMessage(i("validation.password_incorrect"),L(r.password))}})),s=N(I,r);async function V(l){if(s.value.$touch(),!s.value.$invalid){let o={email:r.email,password:r.password,password_confirmation:r.password_confirmation,token:f.params.token};v.value=!0;let d=B.resetPassword(o,f.params.company);v.value=!1,d.data&&b.push({name:"customer.login"})}}return(l,o)=>{const d=u("BaseInput"),w=u("BaseInputGroup"),k=u("EyeOffIcon"),h=u("EyeIcon"),q=u("BaseButton");return c(),P("form",{id:"loginForm",onSubmit:R(V,["prevent"])},[n(w,{error:e(s).email.$error&&e(s).email.$errors[0].$message,label:l.$t("login.email"),class:"mb-4",required:""},{default:p(()=>[n(d,{modelValue:e(r).email,"onUpdate:modelValue":o[0]||(o[0]=t=>e(r).email=t),type:"email",name:"email",invalid:e(s).email.$error,onInput:o[1]||(o[1]=t=>e(s).email.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["error","label"]),n(w,{error:e(s).password.$error&&e(s).password.$errors[0].$message,label:l.$t("login.password"),class:"mb-4",required:""},{default:p(()=>[n(d,{modelValue:e(r).password,"onUpdate:modelValue":o[4]||(o[4]=t=>e(r).password=t),type:e(a)?"text":"password",name:"password",invalid:e(s).password.$error,onInput:o[5]||(o[5]=t=>e(s).password.$touch())},{right:p(()=>[e(a)?(c(),_(k,{key:0,class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:o[2]||(o[2]=t=>y(a)?a.value=!e(a):a=!e(a))})):(c(),_(h,{key:1,class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:o[3]||(o[3]=t=>y(a)?a.value=!e(a):a=!e(a))}))]),_:1},8,["modelValue","type","invalid"])]),_:1},8,["error","label"]),n(w,{error:e(s).password_confirmation.$error&&e(s).password_confirmation.$errors[0].$message,label:l.$t("login.retype_password"),class:"mb-4",required:""},{default:p(()=>[n(d,{modelValue:e(r).password_confirmation,"onUpdate:modelValue":o[6]||(o[6]=t=>e(r).password_confirmation=t),type:"password",name:"password",invalid:e(s).password_confirmation.$error,onInput:o[7]||(o[7]=t=>e(s).password_confirmation.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["error","label"]),n(q,{type:"submit",variant:"primary"},{default:p(()=>[U(A(l.$t("login.reset_password")),1)]),_:1})],40,T)}}};export{K as default};


--- ChangeLog ---
@@ -1,6 +1,13 @@
 ChangeLog for SDoP
 ------------------
 
+Version 1.11 (25-June-2024)
+---------------------------
+
+1. If a revisionflag attribute was given very long value, stack smashing could
+occur (the only valid value for revisionflag is "changed").
+
+
 Version 1.10 (29-April-2023)
 ----------------------------
 

--- src/read.c ---
@@ -3,7 +3,7 @@
 *************************************************/
 
 /* Copyright (c) Philip Hazel, 2023 */
-/* Created in 2006; last modified: March 2023 */
+/* Created in 2006; last modified: June 2024 */
 
 /* This module contains functions for reading a source file and parsing it into
 a sequence of chained item blocks. Chapters and sections are numbered as we
@@ -93,8 +93,8 @@ for (param = new->p.param; param != NULL; param = param->next)
   if (Ustrcmp(param->name, "revisionflag") == 0)
     {
     if (Ustrcmp(param->value, "changed") == 0) continue;
-    (void)sprintf(CS buffer, "+%s=%s:%s", param->name, param->value,
-      new->name);
+    (void)sprintf(CS buffer, "+%s=%.*s:%s", param->name, 256 - 2*DBNAMESIZE - 3,
+      param->value, new->name);
     }
 
   /* See if this attribute is listed as supported unless the first item

--- src/sdop.h ---
@@ -2,16 +2,16 @@
 *          sdop - Simple DocBook Processor       *
 *************************************************/
 
-/* Copyright (c) Philip Hazel, 2023 */
-/* Created in 2006; last modified: April 2023 */
+/* Copyright (c) Philip Hazel, 2024 */
+/* Created in 2006; last modified: June 2024 */
 
 /* Main SDoP header file, included by all modules. */
 
 #ifndef INCLUDED_SDOP_H
 #define INCLUDED_SDOP_H
 
-#define SDOP_VERSION "1.10"
-#define SDOP_DATE    "29-April-2023"
+#define SDOP_VERSION "1.11"
+#define SDOP_DATE    "25-June-2024"
 
 /* Standard C headers */
 


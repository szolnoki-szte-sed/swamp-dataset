--- config/bootstrap.php ---
@@ -173,6 +173,14 @@
 Log::setConfig(Configure::consume('Log'));
 Security::setSalt(Configure::consume('Security.salt'));
 
+Configure::write('Session', [
+    'defaults' => 'php',
+    'ini' => [
+        'session.cookie_httponly' => true,
+        'session.cookie_secure' => true,
+    ]
+]);
+
 /*
  * Setup detectors for mobile and tablet.
  */

--- config/routes.php ---
@@ -49,6 +49,7 @@
     // Register scoped middleware for in scopes.
     $builder->registerMiddleware('csrf', new CsrfProtectionMiddleware([
         'httponly' => true,
+        'secure' => true,
     ]));
     /*
      * Apply a middleware to the current route scope.


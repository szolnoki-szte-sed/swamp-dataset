--- cypress/e2e/matchImageSnapshot.cy.ts ---
@@ -11,6 +11,11 @@ it('name and selector', () => {
   cy.get('body').matchImageSnapshot('with custom name')
 })
 
+it('file name should ignore directories', () => {
+  cy.get('h1').matchImageSnapshot('../../../ignore-relative-dirs')
+  cy.get('h1').matchImageSnapshot('ignore/folders/image')
+})
+
 // next two tests use blackout to change
 // the snapshot image. Also validates options
 it('name and options', () => {

--- cypress/e2e/nested/test/matchImageSnapshot.cy.ts ---
@@ -6,3 +6,7 @@ beforeEach(() => {
 it('takes a snapshot of the page', () => {
   cy.matchImageSnapshot()
 })
+
+it('file name should ignore directories', () => {
+  cy.get('h1').matchImageSnapshot('../../../ignore-relative-dirs')
+})

--- src/plugin.ts ---
@@ -55,8 +55,7 @@ const runImageDiffAfterScreenshot = async (
     return {path: screenshotPath}
   }
 
-  // name of the screenshot without the Cypress suffixes for test failures
-  const snapshotName = screenshotConfig.name.replace(/ \(attempt [0-9]+\)/, '')
+  const snapshotName = path.basename(screenshotConfig.path, '.png')
 
   const receivedImageBuffer = await fs.readFile(screenshotPath)
   await fs.rm(screenshotPath)


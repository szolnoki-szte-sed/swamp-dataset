--- ajax/map.php ---
@@ -48,7 +48,7 @@
     ];
 } else {
     $itemtype = $_POST['itemtype'];
-    $params   = $_POST['params'];
+    $params = $_POST['params'];
 
     $data = Search::prepareDatasForSearch($itemtype, $params);
     Search::constructSQL($data);

--- src/Search.php ---
@@ -537,6 +537,8 @@ public static function prepareDatasForSearch($itemtype, array $params, array $fo
             $p['start'] = 0;
         }
 
+        $p = self::cleanParams($p);
+
         $data             = [];
         $data['search']   = $p;
         $data['itemtype'] = $itemtype;
@@ -8033,6 +8035,11 @@ public static function manageParams(
             }
         }
 
+        return self::cleanParams($params);
+    }
+
+    public static function cleanParams(array $params): array
+    {
         $int_params = [
             'sort'
         ];


--- dao/adicionar_cargo.php ---
@@ -1,19 +1,25 @@
 <?php
 require_once 'Conexao.php';
+require_once '../html/permissao/permissao.php';
 
-$cargo = trim($_POST["cargo"]);
+//Verifica se um usuário está logado e possui as permissões necessárias
+session_start();
+permissao($_SESSION['id_pessoa'], 11, 3);
+
+$cargo = trim(filter_input(INPUT_POST, 'cargo', FILTER_SANITIZE_STRING));
 
 if(!$cargo || empty($cargo)){
 	http_response_code(400);
 	exit('Erro, a descrição fornecida para o cargo não pode ser vazia.');
 }
 
 try {
-	$sql = "INSERT into cargo(cargo) values(:cargo)";
+	$sql = "INSERT INTO cargo(cargo) VALUES (:cargo)";
 	$pdo = Conexao::connect();
 	$stmt = $pdo->prepare($sql);
 	$stmt->bindParam(':cargo', $cargo);
 	$stmt->execute();
 } catch (PDOException $e) {
+	http_response_code(500);
 	echo 'Erro ao adicionar novo cargo: '.$e->getMessage();
 }
\ No newline at end of file

--- dao/exibir_cargo.php ---
@@ -5,14 +5,14 @@
 
 	$sql = 'SELECT * FROM cargo';
 	$stmt = $pdo->query($sql);
-	$cargos = array();
 	$resultado = $stmt->fetchAll(PDO::FETCH_ASSOC);
-	if ($resultado) {
-		$resultado['cargo'] = htmlspecialchars($resultado['cargo']);
-		$cargos = $resultado;
+	
+	foreach($resultado as $index => $cargo){
+		$resultado[$index]['cargo'] = htmlspecialchars($cargo['cargo']);
 	}
 
-	echo json_encode($cargos);
+	echo json_encode($resultado);
 } catch (PDOException $e) {
+	http_response_code(500);
 	echo 'Erro ao exibir cargos: '.$e->getMessage();
 }

--- html/geral/editar_permissoes.php ---
@@ -230,7 +230,7 @@
                                                             while($row = $cargo->fetch_array(MYSQLI_NUM))
                                                             {
 															 if($row[0] != 2)
-                                                             echo "<option value=".$row[0].">".$row[1]."</option>";
+                                                             echo "<option value=".$row[0].">". htmlspecialchars($row[1])."</option>";
                                                             }             
                                                         ?>
 													</select>


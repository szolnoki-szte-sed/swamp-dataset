--- CHANGELOG.md ---
@@ -1,3 +1,29 @@
+# 5.0.9 #
+7/13/2015
+* General Changelog / Developer Notes:
+  * Important security updates
+  * "Post to Activity Feed" flow action changes:
+    * New "User" option determines the owner of the feed to which the post will be added. This allows for the creation of social posts.
+    * New post "Visibility" option
+  * Fixed bug which prevented  "My Actions" widget from remaining hidden after clicking the close button
+  * Fixed bug which prevented products and quotes details from displaying in the Inline Relationships Widget
+  * Web lead form submit button now disabled after form submission, preventing duplicate submissions
+  * SMTP authentication failure now halts campaign
+  * Invalid email addresses in X2Flow action menus now trigger validation warnings upon saving or triggering flows
+  * Fixed Email module bug which caused forwarded email attachments to be corrupted
+  * Fixed Reports bug which prevented column sort order from being saved
+  * Fixed Reports bug which caused an error to occur upon report generation if the column "Action Description" of the Actions module was selected
+  * Date function attributes and attributes of related records now display properly in emailed, exported, and printed reports
+  * Fixed custom module bug which prevented users with "Assigned Only" access from updating and deleting custom module records to which they were assigned
+  * The "Transactional View" has been renamed "List View"
+  * Updated PHPMailer to version 5.2.10
+* Tracked Bug Fixes:  
+  * [2458](http://x2software.com/index.php/bugReports/2458): Undefined offset: 0  
+  * [2611](http://x2software.com/index.php/bugReports/2611): Trying to get property of non-object  
+  * [2653](http://x2software.com/index.php/bugReports/2653): Trying to get property of non-object  
+  * [2656](http://x2software.com/index.php/bugReports/2656): Undefined offset: 0  
+  * [2672](http://x2software.com/index.php/bugReports/2672): Undefined offset: 2  
+
 # 5.0.8 #
 6/2/2015
 

--- README.md ---
@@ -1,20 +1,28 @@
-# 5.0.8 #
-6/2/2015
-
+# 5.0.9 #
+7/13/2015
 * General Changelog / Developer Notes:
-  * Fixed issue which caused incorrect naming of uploaded media files
-  * New exporter option to include merged duplicate records in export, disabled by default
-  * Numerous bug fixes to global import/export tool
-  * name field of related contacts created on record import will now be generated automatically from firstName and lastName fields
-  * Flows now triggered when records are updated via the REST API
-  * Fixed bug in X2Flow Designer which would cause flow action configuration menus to load incorrectly when quickly switching between them
-  * Fixed REST API bug which would cause pagination to be disabled if max page size was set to 0
-  * Placeholder values no longer submitted with X2Touch forms
-  * Fixed bug in email client which prevented email conversation from being automatically appended to new email when replying
+  * Important security updates
+  * "Post to Activity Feed" flow action changes:
+    * New "User" option determines the owner of the feed to which the post will be added. This allows for the creation of social posts.
+    * New post "Visibility" option
+  * Fixed bug which prevented  "My Actions" widget from remaining hidden after clicking the close button
+  * Fixed bug which prevented products and quotes details from displaying in the Inline Relationships Widget
+  * Web lead form submit button now disabled after form submission, preventing duplicate submissions
+  * SMTP authentication failure now halts campaign
+  * Invalid email addresses in X2Flow action menus now trigger validation warnings upon saving or triggering flows
+  * Fixed Email module bug which caused forwarded email attachments to be corrupted
+  * Fixed Reports bug which prevented column sort order from being saved
+  * Fixed Reports bug which caused an error to occur upon report generation if the column "Action Description" of the Actions module was selected
+  * Date function attributes and attributes of related records now display properly in emailed, exported, and printed reports
+  * Fixed custom module bug which prevented users with "Assigned Only" access from updating and deleting custom module records to which they were assigned
+  * The "Transactional View" has been renamed "List View"
+  * Updated PHPMailer to version 5.2.10
 * Tracked Bug Fixes:  
-  * [2422](http://x2software.com/index.php/bugReports/2422): User invitation redirects to login screen  
   * [2458](http://x2software.com/index.php/bugReports/2458): Undefined offset: 0  
-  * [2530](http://x2software.com/index.php/bugReports/2530): Undefined property "Services.contactIdModel".  
+  * [2611](http://x2software.com/index.php/bugReports/2611): Trying to get property of non-object  
+  * [2653](http://x2software.com/index.php/bugReports/2653): Trying to get property of non-object  
+  * [2656](http://x2software.com/index.php/bugReports/2656): Undefined offset: 0  
+  * [2672](http://x2software.com/index.php/bugReports/2672): Undefined offset: 2  
 
 
 

--- RELEASE-NOTES.md ---
@@ -1,3 +1,14 @@
+# 5.0.9 #
+7/13/2015
+
+* Email addresses in To, Cc, and Bcc lists in X2Flow email actions now validate
+  when flows are saved or triggered. Invalid email addresses in any of these
+  fields will prevent the flow from being saved (displaying a warning in the
+  UI). For existing flows, X2Flow Email actions with invalid email addresses
+  will be skipped (with a validation error message written to the trigger log).
+* The old "User" option of the "Post to Activity Feed" flow action has been
+  relabelled "Author".
+
 # 4.2b #
 8/7/2014
 

--- x2engine/compass/css/lib/_colors.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 
 /***********************************************************************

--- x2engine/compass/css/lib/_font-awesome.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 /************************************************
 * This File is a pseudo-class translation of all 

--- x2engine/compass/css/lib/_fonts.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 /***************************************************
 * This file is where new fonts should be included,

--- x2engine/compass/css/lib/_icons.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 /************************************************
 * This file mantains several important mixins for 

--- x2engine/compass/css/lib/_standards.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 /***************************************
 * This file is responsible for mantaining

--- x2engine/compass/css/lib/forms.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 @import "colors.scss";
 

--- x2engine/compass/protected/modules/calendar/assets/css/calendarLayout.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 table.page-title {
     background: #CECECE !important;

--- x2engine/compass/protected/modules/marketing/assets/css/emailProgressControl.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 #emailProgressControl-title {
   margin-left: 5px;
 }

--- x2engine/compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 /* narrow header */
 
 .ui-content {

--- x2engine/compass/protected/modules/mobile/assets/css/main.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 /*
 login page
 */

--- x2engine/compass/protected/modules/quotes/assets/css/inlineQuotes.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 .product-select-button {
     padding: 0 0 0 0!important;

--- x2engine/compass/protected/modules/quotes/assets/css/lineItemsMain.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 /*
 center cells in the quotes table
 */

--- x2engine/compass/protected/modules/quotes/assets/css/lineItemsMini.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 /**
  * Hides the comments and adjustments columns and removes the add global adjustments button.
  * This gets used for the products action UI in both the publisher and the inline action edit/view 

--- x2engine/compass/protected/modules/quotes/assets/css/lineItemsRead.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 /* line 23, ../../../../../compass/sass/protected/modules/quotes/assets/css/lineItemsRead.scss */
 /* line 24, ../../../../../compass/sass/protected/modules/quotes/assets/css/lineItemsRead.scss */
 

--- x2engine/compass/protected/modules/quotes/assets/css/lineItemsWrite.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 @import "standards";
 

--- x2engine/compass/protected/modules/quotes/assets/css/productTable.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 @import "colors";
 @import "standards";
 

--- x2engine/compass/protected/modules/reports/assets/css/printChart.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 // Iterated chart container
 .chart {

--- x2engine/compass/protected/modules/reports/assets/css/reports.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 @import "standards";
 @import "colors";

--- x2engine/compass/protected/modules/workflow/assets/css/dragAndDrop.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 /***********************************************************************
 * top scroll bar 
 ***********************************************************************/

--- x2engine/compass/protected/modules/workflow/assets/css/responsiveDetailView.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 /* responsive title bar behaves differently on this page from how it does on others. these 
 lines compensate for that. */
 @media (max-width: 657px) {

--- x2engine/compass/protected/modules/workflow/assets/css/view.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 /* line 22, ../../../../../compass/sass/protected/modules/workflow/assets/css/view.scss */
 
 #per-stage-view-container-first {

--- x2engine/compass/themes/x2engine/css/about-page.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 #about-intro {
   margin: 10px 0;

--- x2engine/compass/themes/x2engine/css/activityFeed.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 @import "colors";
 @import "standards";

--- x2engine/compass/themes/x2engine/css/androidLayout.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 body.disable-mobile-layout {
   #header {

--- x2engine/compass/themes/x2engine/css/auxlib.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 .auxlib-error-box-msg {
   color: red;

--- x2engine/compass/themes/x2engine/css/comboBox.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 @import "colors";
 @import "standards";

--- x2engine/compass/themes/x2engine/css/components/clockWidget.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 @import "colors.scss";
 @import "standards.scss";

--- x2engine/compass/themes/x2engine/css/components/leftWidgets/profileInfo.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 @import "colors";
 

--- x2engine/compass/themes/x2engine/css/components/smallCalendar.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 @import "colors.scss";
 @import "standards.scss";

--- x2engine/compass/themes/x2engine/css/components/sortableWidget/SortableWidget.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 .sortable-widget-container .create-button {
     box-sizing: border-box;

--- x2engine/compass/themes/x2engine/css/components/sortableWidget/recordViewWidgets/TransactionalViewWidget.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 .connected-sortable-widget-container { 
     .transactional-view-widget {

--- x2engine/compass/themes/x2engine/css/components/sortableWidget/views/gridViewWidget.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 @import "standards";
 @import "colors";

--- x2engine/compass/themes/x2engine/css/components/sortableWidget/views/inlineRelationshipsWidget.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 @import "colors.scss";
 

--- x2engine/compass/themes/x2engine/css/components/sortableWidget/views/twitterFeedWidget.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 @import "colors.scss";
 

--- x2engine/compass/themes/x2engine/css/components/views/layoutEditor.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 @import "colors";
 @import "standards";

--- x2engine/compass/themes/x2engine/css/components/views/recordAliasesWidget.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 @import "colors.scss";
 

--- x2engine/compass/themes/x2engine/css/createWebForm.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 @import "standards";
 @import "colors";

--- x2engine/compass/themes/x2engine/css/details.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 div {
   &.record {

--- x2engine/compass/themes/x2engine/css/form.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 
 

--- x2engine/compass/themes/x2engine/css/gridview/responsiveStyles.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 @import "standards";
 

--- x2engine/compass/themes/x2engine/css/gridview/styles.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
  @import "colors";
  @import "standards";

--- x2engine/compass/themes/x2engine/css/importexport.scss ---
@@ -0,0 +1,52 @@
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
+
+@import "standards";
+@import "colors";
+@import "fonts";
+
+#exportSeparator label, #importSeparator label {
+    float: left;
+    padding-top: 0.5em;
+    width: 80px;
+}
+
+#form-error-box, #failures-box { color: red; }
+
+#status-text, #status-box, #prep-status-box { color: green; }
+
+.clean-link{
+    text-decoration:none;
+}

--- x2engine/compass/themes/x2engine/css/install.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 body {
   background: #fff;

--- x2engine/compass/themes/x2engine/css/ipadLayout.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 #header {
   position: static !important;

--- x2engine/compass/themes/x2engine/css/layout.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
  
 @import "standards";
 @import "font-awesome";

--- x2engine/compass/themes/x2engine/css/listview/styles.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 .list-view-loading {
   background: url(loading.gif) no-repeat;

--- x2engine/compass/themes/x2engine/css/login.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 
 @import "standards";

--- x2engine/compass/themes/x2engine/css/main.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 // Import mixins + colors
 @import "standards";

--- x2engine/compass/themes/x2engine/css/partials/_dropdown.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 .dropdown {
     position: relative;

--- x2engine/compass/themes/x2engine/css/partials/_main-menu.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
  
 
 

--- x2engine/compass/themes/x2engine/css/partials/_page-title.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 .page-title, 
 .section-title {

--- x2engine/compass/themes/x2engine/css/partials/_rightWidgets.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 #widget_MessageBox .portlet-content {
     text-align: center;

--- x2engine/compass/themes/x2engine/css/printPage.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 @import "standards";
 @import "colors";

--- x2engine/compass/themes/x2engine/css/printableRecord.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 @import "standards";
 @import "colors";

--- x2engine/compass/themes/x2engine/css/profile.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 @import "colors";
 @import "standards";
@@ -140,14 +151,7 @@
     display: block;
 }
 
-/* x2prostart */
-#create-profile-widget-dialog #chart-name-container {
-    select {
-        margin-right: 5px;
-        margin-left: 5px;
-    }
-}
-/* x2proend */
+
 
 
 /***********************************************************************

--- x2engine/compass/themes/x2engine/css/profile/themeSelector.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 /* line 22, ../../compass/sass/css/profile/themeSelector.scss */
 
 @import "colors";

--- x2engine/compass/themes/x2engine/css/profileCombined.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 /*
 file used to fix IE8 max 31 css file references issue

--- x2engine/compass/themes/x2engine/css/publisher.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 @import "icons";
 

--- x2engine/compass/themes/x2engine/css/recordEdit.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 div.save-button-row {
     padding-bottom: 1px;

--- x2engine/compass/themes/x2engine/css/recordView.scss ---
@@ -1,27 +1,38 @@
 
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 $recordViewSingleColumnThreshold: 1406px;
 $recordViewSingleColumnThresholdNoWidgets: 1129px;

--- x2engine/compass/themes/x2engine/css/responsiveActivityFeed.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 @media (max-width: 829px) {
   #second-row-buttons-container {

--- x2engine/compass/themes/x2engine/css/responsiveCombined.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 /*
 file used to fix IE8 max 31 css file references issue

--- x2engine/compass/themes/x2engine/css/responsiveLayout.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 /*
 Step between full title bar and mobile title bar. Search bar minimizes and expands to make

--- x2engine/compass/themes/x2engine/css/responsiveRecordView.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 #content {
   margin-top: -1px !important;

--- x2engine/compass/themes/x2engine/css/responsiveUIElements.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 @media (max-width: 657px) {
   .x2-button, select.x2-select {

--- x2engine/compass/themes/x2engine/css/responsiveX2Forms.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 /*
 shift detail/form layouts to single column

--- x2engine/compass/themes/x2engine/css/screen.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 /* -----------------------------------------------------------------------
 

--- x2engine/compass/themes/x2engine/css/sortableWidgets.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 @import "colors.scss";
 

--- x2engine/compass/themes/x2engine/css/twitter.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 #twitter_container {
   padding-bottom: 10px;

--- x2engine/compass/themes/x2engine/css/ui-elements.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 @import "colors";
 @import "standards";

--- x2engine/compass/themes/x2engine/css/viewChangelog.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 @import "colors.scss";
 

--- x2engine/compass/themes/x2engine/css/whatsNew.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 /*
 override attachments widget style

--- x2engine/compass/themes/x2engine/css/widgetListCombined.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 /*
 file used to fix IE8 max 31 css file references issue

--- x2engine/compass/themes/x2engine/css/workflowFunnel.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 div {
   &.workflow-funnel-box {

--- x2engine/compass/themes/x2engine/css/x2chart.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 
 .chart-container {
     border: none !important;

--- x2engine/compass/themes/x2engine/css/x2forms.scss ---
@@ -1,26 +1,37 @@
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 @import "standards";
 
 h2 .x2-button {

--- x2engine/css/lib/forms.css ---
@@ -32,29 +32,40 @@
  * technical reasons, the Appropriate Legal Notices must display the words
  * "Powered by X2Engine".
  *****************************************************************************************/
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 /***********************************************************************
 * Grays 
 ***********************************************************************/

--- x2engine/install.php ---
@@ -473,11 +473,7 @@ function testDB() {
                                     echo "		<option value=\"$code\"$selected>$languageName</option>\n"; // list all available languages
                                 }
                             }
-
-                            // flag images are public domain from http://www.famfamfam.com/lab/icons/flags
-                            $flagUrl = file_exists("images/flags/$lang.png") ? "images/flags/$lang.png" : "images/flags/us.png";
-
-                            echo '</select> <img src="'.$flagUrl.'">';
+                            echo '</select>';
                             ?></div>
 
                     <div class="row"><label for="currency"><?php echo installer_t('Currency'); ?></label>

--- x2engine/js/X2GridView/NewListFromSelection.js ---
@@ -90,7 +90,7 @@ NewListFromSelection.prototype.getExecuteParams = function () {
  */
 NewListFromSelection.prototype.convertToAddToList = function (listId, dialogState) {
     var that = this;
-    var addToList = this.massActionsManager.massActionObjects['addToList'];
+    var addToList = this.massActionsManager.massActionObjects['MassAddToList'];
     var newListName = this.dialogElem$.find ('.new-list-name');
     var listName = $(newListName).val ();
     addToList.addListOption (listId, listName);

--- x2engine/js/X2Tags/TagCreationContainer.js ---
@@ -149,7 +149,7 @@ TagCreationContainer.prototype._tagInputEnd = function (event, span, textfield)
     } else { // create new tag
         var value = textfield.val();
         value = value.replace(/#/g, ''); // strip illegal chars
-        value = '#' + encodeURIComponent(value); // format into a tag
+        value = '#' + value; // format into a tag
 
         that._afterCreateNewTag (textfield, value, span);
 
@@ -182,7 +182,7 @@ TagCreationContainer.prototype._convertInputToTag = function(textfield, value, s
     var that = this; 
 
     var link = $('<a>', {
-        'html': value
+        'text': value
     });
     textfield.remove();
     span.find ('.delete-tag').remove ();
@@ -204,7 +204,7 @@ TagCreationContainer.prototype._resizeTag = function(textfield) {
 
     x2.DEBUG && console.log ('_resizeTag');
     $(textfield).each(function() {
-        that.textsize.html(encodeURIComponent($(this).val()));
+        that.textsize.text ($(this).val());
         x2.DEBUG && console.log ('that.textsize.width = ' + that.textsize.width ());
         $(this).css('width', (that.textsize.width() + 10) + 'px');
     });

--- x2engine/js/activityFeed.js ---
@@ -1151,6 +1151,7 @@ ActivityFeed.prototype.updateEventList = function  () {
                 'myProfileId':x2.activityFeed.myProfileId
             },
             success:function(data){
+                if (data === 'failure') return;
                 lastEventId=data[0];
                 if(data[1]){
                     var text=data[1];

--- x2engine/js/sortableWidgets/RecordViewWidgetManager.js ---
@@ -174,7 +174,7 @@ RecordViewWidgetManager.prototype._deactivate = function () {
 };
 
 RecordViewWidgetManager.prototype._init = function () {
-    this._hiddenWidgetsMenuSelector = '#x2-hidden-widgets-menu';
+    this._hiddenWidgetsMenuSelector = '#x2-hidden-recordView-widgets-menu';
     this._hiddenWidgetsMenuItemSelector = 
         '.x2-hidden-widgets-menu-item.' + this.widgetType + '-widget';
     this._setUpRecordViewTypeToggleBehavior ();

--- x2engine/js/widgets.js ---
@@ -142,31 +142,6 @@ function removeChartWidget () {
     }*/
 };
 
-$.fn.hideWidget = function() {
-    $(this).each(function() {
-        var widget = $(this);
-
-        // slice of the "x2widget_" from the id to get widget name
-        var widgetName = $(this).attr('id').slice(9); 
-
-        // console.log ('widgetName = ' + widgetName);
-        $.post(yii.scriptUrl+'/site/hideWidget', {name: widgetName}, function(response) {
-            widget.slideUp(function() {
-                widget.remove();
-                if (widgetName === 'RecordViewChart') removeChartWidget ();
-                $('#x2-hidden-widgets-menu').replaceWith(response);
-        //        $('.x2-widget-menu-item').draggable({revert: 'invalid', helper:'clone', revertDuration:200, appendTo:'#x2-hidden-widgets-menu',iframeFix:true});
-                $('.x2-hidden-widgets-menu-item').click(function() {
-                    return handleWidgetMenuItemClick($(this));
-                });
-                $('.x2-hidden-widgets-menu-item.widget-right').click(function() {
-                    return handleWidgetRightMenuItemClick($(this));
-                });
-            });
-        });
-    });
-};
-
 // adds a widget to the right side widget bar
 function handleWidgetRightMenuItemClick(menuItem) {
     $.post(yii.scriptUrl+'/site/showWidget', {
@@ -192,7 +167,10 @@ $.fn.hideWidgetRight = function() {
         var widgetName = $(this).attr('id').slice(7); 
         $.post(
             yii.scriptUrl+'/site/hideWidget', 
-            {name: widgetName}, 
+            {
+                name: widgetName,
+                position: 'right'
+            }, 
             function(response) {
 
                 widget.slideUp(function() {
@@ -281,4 +259,4 @@ $.fn.addConfigMenu = function(options, callback) {
 
     return dropdown;
 
-};
\ No newline at end of file
+};

--- x2engine/protected/components/ApplicationConfigBehavior.php ---
@@ -181,6 +181,7 @@ public function getJSGlobalsSetupScript ($profile=null) {
                 x2 = {};
             }
             x2.DEBUG = '.(YII_DEBUG ? 'true' : 'false').';
+            x2.UNIT_TESTING = '.(YII_UNIT_TESTING ? 'true' : 'false').';
             x2.notifUpdateInterval = '.$this->settings->chatPollTime.';
             x2.isAndroid = '.(IS_ANDROID ? 'true' : 'false').';
             x2.isIPad = '.(IS_IPAD ? 'true' : 'false').';

--- x2engine/protected/components/EmailDeliveryBehavior.php ---
@@ -217,7 +217,34 @@ public function deliverEmail($addresses, $subject, $message, $attachments = arra
             return $this->status = $this->getDebugStatus();
         }
 
-        $phpMail = $this->mailer;
+        try {
+            $phpMail = $this->mailer;
+        }catch (phpmailerException $e){
+            // escalate error to force campaigns to halt
+            $escalated = new phpmailerException (
+                $e->getMessage (), PHPMailer::STOP_CRITICAL);
+            $this->status['code'] = '500';
+            $this->status['exception'] = $escalated;
+            $this->status['message'] = $e->getMessage ();
+            return $this->status;
+        }
+
+        // attempt smpt connect before attempting to send so that we can escalate exception 
+        // severity if connection fails. Ideally we would be able to detect exactly the type of
+        // exception that PHPMailer throws but unfortunately the only way at the time of this
+        // writing would be to use its translated exception messages (brittle).
+        if ($this->credentials) {
+            try {
+                $phpMail->smtpConnect ();
+            } catch (phpmailerException $e) {
+                $escalated = new phpmailerException (
+                    $e->getMessage (), PHPMailer::STOP_CRITICAL);
+                $this->status['code'] = '500';
+                $this->status['exception'] = $escalated;
+                $this->status['message'] = $phpMail->ErrorInfo." ".$e->getFile()." L".$e->getLine();
+                return $this->status;
+            }
+        }
 
         try{
             $this->addEmailAddresses($phpMail, $addresses);
@@ -360,7 +387,7 @@ public function getFrom(){
     public function getMailer(){
         if(!isset($this->_mailer)){
             require_once(
-                realpath(Yii::app()->basePath.'/components/phpMailer/class.phpmailer.php'));
+                realpath(Yii::app()->basePath.'/components/phpMailer/PHPMailerAutoload.php'));
 
             // the true param means it will throw exceptions on errors, which we need to catch
             $phpMail = new PHPMailer(true); 
@@ -467,8 +494,8 @@ public function setUserProfile(Profile $profile){
     }
 
     public function testUserCredentials($email, $password, $server, $port, $security) {
-        require_once(realpath(Yii::app()->basePath.'/components/phpMailer/class.phpmailer.php'));
-        require_once(realpath(Yii::app()->basePath.'/components/phpMailer/class.smtp.php'));
+        require_once(
+            realpath(Yii::app()->basePath.'/components/phpMailer/PHPMailerAutoload.php'));
         $phpMail = new PHPMailer(true);
 
         $phpMail->isSMTP();

--- x2engine/protected/components/ImportExportBehavior.php ---
@@ -63,10 +63,10 @@ public function sendFile($file, $deleteAfterSend=false){
      */
     public function safePath($filename = 'data.csv'){
         return implode(DIRECTORY_SEPARATOR, array(
-                    Yii::app()->basePath,
-                    'data',
-                    $filename
-                ));
+            Yii::app()->basePath,
+            'data',
+            $filename
+        ));
     }
 
 }

--- x2engine/protected/components/InlineEmailAction.php ---
@@ -166,6 +166,7 @@ public function run(){
 			// Populate response data:
 			$modelHasErrors = $model->hasErrors();
 			$failed = $failed || $modelHasErrors;
+            $model->attachments = array (); // prevent response json encoding failures
 			$response = array(
 				'scenario' => $scenario,
 				'sendStatus' => $sendStatus,

--- x2engine/protected/components/RecordViewLayoutManager.php ---
@@ -112,7 +112,7 @@ public static function getViewActionMenuListItem ($modelId) {
                             array (
                                 'class' => 'transactional-view-checkbox',
                             )).CHtml::label (
-                                Yii::t('app', 'Transactional View'), 'transactionalView'),
+                                Yii::t('app', 'List View'), 'transactionalView'),
                     ),
                 ),
             );

--- x2engine/protected/components/TagBehavior.php ---
@@ -42,6 +42,11 @@
  */
 class TagBehavior extends CActiveRecordBehavior {
 
+    /**
+     * @var bool $disableTagScanning
+     */
+    public $disableTagScanning = false; 
+
     /**
      * @var a cache of all tags associated with the owner model
      */
@@ -79,9 +84,9 @@ public function afterSave($event) {
         $newTags = array();
 
         foreach ($this->scanForTags() as $tag) {
-            if (!in_array($tag, $oldTags)) { // don't add duplicates if there are already tags
+            if (!$this->hasTag ($tag, $oldTags)) { // don't add duplicates if there are already tags
                 $tagModel = new Tags;
-                $tagModel->tag = $tag;  // includes the #
+                $tagModel->tag = $tag;  
                 $tagModel->type = get_class($this->getOwner());
                 $tagModel->itemId = $this->getOwner()->id;
                 $tagModel->itemName = $this->getOwner()->name;
@@ -117,6 +122,7 @@ public function afterDelete($event) {
      * @return array an array of tags
      */
     public function scanForTags() {
+        if ($this->disableTagScanning) return array ();
         $tags = array();
 
         $profile = Yii::app()->params->profile;
@@ -138,13 +144,17 @@ public function scanForTags() {
             $text = $this->owner->$fieldName;
 
             $matches = $this->matchTags ($text);
-            $tags = array_merge($matches[1], $tags);
+            $tags = array_merge($matches, $tags);
         }
         $tags = array_unique($tags);
         return $tags;
     }
 
-    // Finds all tag matches
+    /**
+     * Finds all tag matches in text
+     * @param string $text
+     * @return array
+     */
     public function matchTags($text) {
 
         // Array of excludes such as style tags, href attributes, etc
@@ -159,29 +169,24 @@ public function matchTags($text) {
         }
 
         // Primary expression to filter out tags
-        $exp = '/(?:^|\s|\.)(#\w+[-\w]+\w+|#\w+)(?:$|[^\'"])/u';
+        $exp = '/(?:^|\s)(#(?:\w+|\w[-\w]+\w))(?:$|\s)/u';
 
         $matches = array();
         preg_match_all($exp, $text, $matches);
 
-        return $matches;
+        return $matches[1];
     }
 
     /**
-     * Looks up the tags associated with the owner model.
-     * Uses {@link $tags} as a cache to prevent repeated queries.
-     *
-     * @return array an array of tags
+     * @param string $tag 
+     * @param array|null $oldTags 
+     * @return true if record has tag already, false otherwise
      */
-    public function getTags($refreshCache = false) {
-        if ($this->_tags === null || $refreshCache) {
-            $this->_tags = Yii::app()->db->createCommand()
-                    ->select('tag')
-                    ->from(CActiveRecord::model('Tags')->tableName())
-                    ->where('type=:type AND itemId=:itemId', array(':type' => get_class($this->getOwner()), ':itemId' => $this->getOwner()->id))
-                    ->queryColumn();
-        }
-        return $this->_tags;
+    public function hasTag ($tag, array $oldTags=null, $refresh=false) {
+        $oldTags = $oldTags === null ? $this->getTags ($refresh) : $oldTags;
+        return in_array (strtolower (Tags::normalizeTag ($tag)), array_map (function ($tag) {
+            return strtolower ($tag); 
+        }, $oldTags));
     }
 
     /**
@@ -200,6 +205,27 @@ public function hasTags($tags, $mode = 'OR') {
             return count($matches) > 0;  // at least one tag must be present
     }
 
+    /**
+     * Looks up the tags associated with the owner model.
+     * Uses {@link $tags} as a cache to prevent repeated queries.
+     *
+     * @return array an array of tags
+     */
+    public function getTags($refreshCache = false) {
+        if ($this->_tags === null || $refreshCache) {
+            $this->_tags = Yii::app()->db->createCommand()
+                ->select('tag')
+                ->from(CActiveRecord::model('Tags')->tableName())
+                ->where(
+                    'type=:type AND itemId=:itemId', 
+                    array(
+                        ':type' => get_class($this->getOwner()), 
+                        ':itemId' => $this->getOwner()->id))
+                ->queryColumn();
+        }
+        return $this->_tags;
+    }
+
     /**
      * Adds the specified tag(s) to the owner model, but not
      * if the tag has already been added.
@@ -213,9 +239,9 @@ public function addTags($tags) {
         foreach ((array) $tags as $tagName) {
             if (empty($tagName))
                 continue;
-            if (!in_array($tagName, $this->getTags())) { // check for duplicate tag
+            if (!$this->hasTag ($tagName)) { // check for duplicate tag
                 $tag = new Tags;
-                $tag->tag = '#' . ltrim($tagName, '#');
+                $tag->tag = Tags::normalizeTag ($tagName);
                 $tag->itemId = $this->getOwner()->id;
                 $tag->type = get_class($this->getOwner());
                 $tag->taggedBy = Yii::app()->getSuName();
@@ -227,7 +253,8 @@ public function addTags($tags) {
                     $addedTags[] = $tagName;
                     $result = true;
                 } else {
-                    throw new CHttpException(422, 'Failed saving tag due to errors: ' . json_encode($tag->errors));
+                    throw new CHttpException(
+                        422, 'Failed saving tag due to errors: ' . json_encode($tag->errors));
                 }
             }
         }
@@ -259,8 +286,8 @@ public function removeTags($tags) {
                 'itemId' => $this->getOwner()->id,
                 'tag' => $tag
             );
-            if (in_array($tag, $this->getTags()) &&
-                    CActiveRecord::model('Tags')->deleteAllByAttributes($attributes) > 0) {
+            if ($this->hasTag ($tag) &&
+                CActiveRecord::model('Tags')->deleteAllByAttributes($attributes) > 0) {
 
                 if (false !== $offset = array_search($tag, $this->_tags))
                     unset($this->_tags[$offset]); // update tag cache
@@ -285,8 +312,8 @@ public function clearTags() {
         $this->_tags = array(); // clear tag cache
 
         return (bool) CActiveRecord::model('Tags')->deleteAllByAttributes(array(
-                    'type' => get_class($this->getOwner()),
-                    'itemId' => $this->getOwner()->id)
+            'type' => get_class($this->getOwner()),
+            'itemId' => $this->getOwner()->id)
         );
     }
 

--- x2engine/protected/components/TranslationManager.php ---
@@ -119,7 +119,8 @@ function encodeQuotes($str) {
 ';
 
 	foreach(array_keys($messages) as $langPack) {
-		$file = fopen($messagePath.'/'.$langPack.'/'.$_POST['file'],'w');	// open all files to be rewritten
+        // open all files to be rewritten
+		$file = fopen($messagePath.'/'.$langPack.'/'.$_POST['file'],'w');	
 
 		fwrite($file,$fileHeader);
 
@@ -141,7 +142,11 @@ function encodeQuotes($str) {
 						fwrite($file,"'".addcslashes(decodeQuotes($line),'\'')."'=>'',\n");
 				} else{
                     if(isset($_POST['data'][$langPack][$index])){
-                        fwrite($file,"'".addcslashes(decodeQuotes($line),'\'')."'=>'". addcslashes(decodeQuotes($_POST['data'][$langPack][$index]),'\'') ."',\n");
+                        fwrite(
+                            $file,
+                            "'".addcslashes(decodeQuotes($line),'\'')."'=>'". 
+                                addcslashes(decodeQuotes($_POST['data'][$langPack][$index]),'\'') .
+                                "',\n");
                     }else{
                         fwrite($file,"'".addcslashes(decodeQuotes($line),'\'')."'=>'". '' ."',\n");
                     }
@@ -315,7 +320,7 @@ function removeLine(object) {
 			$active = ($fileName == $targetFile);
 			?>
 			<tr<?php if($active) echo ' class="active"'; ?>>
-				<td><?php echo $active? $fileName : '<a href="translationManager?file='.$fileName.'">'.$fileName.'</a>'; ?></td>
+				<td><?php echo $active ? CHtml::encode ($fileName) : '<a href="translationManager?file='.CHtml::encode ($fileName).'">'.CHtml::encode ($fileName).'</a>'; ?></td>
 				<td><?php echo $lines; ?></td>
 			</tr>
 			<?php
@@ -380,7 +385,10 @@ function removeLine(object) {
 <div class="content-container">
 <div class="content">
 <form method="POST" action="<?php echo Yii::app()->controller->createAbsoluteUrl('/admin/translationManager',array('file'=>$targetFile)); ?>" id="translationForm">
-<input type="hidden" name="file" value="<?php echo $_GET['file']; ?>">
+<?php
+echo X2Html::csrfToken ();
+?>
+<input type="hidden" name="file" value="<?php echo CHtml::encode ($_GET['file']); ?>">
 <table class="rounded" style="table-layout:fixed;">
 	<tr>
 		<th width="50%" height="15" style="height:16px;">Message</th>

--- x2engine/protected/components/WebFormAction.php ---
@@ -45,6 +45,7 @@ public static function sanitizeGetParams () {
         $_GET = array_intersect_key($_GET, array_flip($whitelist));
         //restrict param values, alphanumeric, # for color vals, comma for tag list, . for decimals
         $_GET = preg_replace('/[^a-zA-Z0-9#,.]/', '', $_GET);
+        return $_GET;
     }
 
     private static function addTags ($model) {
@@ -111,9 +112,8 @@ private function handleWebleadFormSubmission (X2Model $model, $extractedParams)
 
             if (empty ($model->visibility)) $model->visibility = 1;
 
-            $model->validate ();
+            $model->validate (null, false);
             if(!$model->hasErrors()){
-
                 $duplicates = array ();
                 if(!empty($model->email)){
 
@@ -265,11 +265,14 @@ private function handleWebleadFormSubmission (X2Model $model, $extractedParams)
             }
         } 
 
-        self::sanitizeGetParams ();
+        $sanitizedGetParams = self::sanitizeGetParams ();
 
         
             $this->controller->renderPartial(
-                'application.components.views.webForm', array('type' => 'weblead'));
+                'application.components.views.webForm', 
+                array_merge (array(
+                    'type' => 'weblead'
+                ), $sanitizedGetParams));
         
 
     }
@@ -493,12 +496,14 @@ private function handleServiceFormSubmission ($model, $extractedParams) {
             }
         }
 
-        self::sanitizeGetParams ();
+        $sanitizedGetParams = self::sanitizeGetParams ();
 
         
             $this->controller->renderPartial (
                 'application.components.views.webForm',
-                array('model' => $model, 'type' => 'service'));
+                array_merge (array(
+                    'model' => $model, 'type' => 'service'
+                ), $sanitizedGetParams));
         
     }
 

--- x2engine/protected/components/X2ClientScript.php ---
@@ -711,6 +711,51 @@ private function registerAuxLibTranslationsScript () {
         ", CClientScript::POS_END);
     }
 
+    private function registerTestingScripts () {
+        if (YII_UNIT_TESTING) {
+//            $this->registerScriptFile (
+//                $baseUrl.'/js/qunit/qunit-1.15.0.js', CClientScript::POS_HEAD);
+//            $this->registerCssFile ($baseUrl.'/js/qunit/qunit-1.15.0.css');
+            Yii::app()->clientScript->registerScript('unitTestingErrorHandler',"
+            ;(function () {
+                if (typeof x2 === 'undefined') return;
+                if (x2.UNIT_TESTING) {
+                    var oldErrorHandler = window.onerror;
+                    window.onerror = function (errorMessage, url, lineNumber) {
+                        $('body').attr (
+                            'x2-js-error', 'Javascript Error: ' + url + ': ' + lineNumber + ': ' +
+                                errorMessage);
+
+                        if (oldErrorHandler) return oldErrorHandler (errorMessage, url, lineNumber);
+                        return false;
+                    };
+                }
+            }) ();
+            ", self::POS_HEAD);
+        }
+    }
+
+    private function registerDebuggingScripts () {
+        if (YII_DEBUG) {
+            Yii::app()->clientScript->registerScript('debuggingErrorHandler',"
+            ;(function () {
+                if (typeof x2 === 'undefined') return;
+                if (x2.DEBUG) {
+                    var oldErrorHandler = window.onerror;
+                    window.onerror = function (errorMessage, url, lineNumber) {
+//                        alert (
+//                            'JavaScript Error: ' + url + ': ' + lineNumber + ': ' + errorMessage +
+//                            '.\\nTo turn these messages off, set YII_DEBUG to false.');
+                        if (oldErrorHandler) return oldErrorHandler (errorMessage, url, lineNumber);
+                        return false;
+                    };
+                }
+            }) ();
+            ", self::POS_HEAD);
+        }
+    }
+
+
     /**
      * Performs all the necessary JavaScript/CSS initializations for most parts of the app.
      */
@@ -776,11 +821,8 @@ public function registerMain(){
             ->registerScriptFile($baseUrl.'/js/jQueryOverrides.js', CCLientScript::POS_END)
             ->registerScriptFile($baseUrl.'/js/checklistDropdown/jquery.multiselect.js');
 
-//        if (YII_UNIT_TESTING) {
-//            $this->registerScriptFile (
-//                $baseUrl.'/js/qunit/qunit-1.15.0.js', CClientScript::POS_HEAD);
-//            $this->registerCssFile ($baseUrl.'/js/qunit/qunit-1.15.0.css');
-//        }
+        $this->registerTestingScripts ();
+        $this->registerDebuggingScripts ();
 
         if(IS_IPAD){
             $this->registerScriptFile($baseUrl.'/js/jquery.mobile.custom.js');

--- x2engine/protected/components/X2GridView.php ---
@@ -239,7 +239,7 @@ protected function createDefaultStyleColumn ($columnName, $width) {
             $newColumn['id'] = $this->namespacePrefix.'C_'.'tags';
             $newColumn['header'] = Yii::t('app','Tags');
             $newColumn['headerHtmlOptions'] = array('style'=>'width:'.$width.'px;');
-            $newColumn['value'] = 'Tags::getTagLinks("'.$this->modelName.'",$data->id,2)';
+            $newColumn['value'] = 'Tags::getTagLinks("'.$this->modelName.'",$data->id)';
             $newColumn['type'] = 'raw';
             $newColumn['filter'] = CHtml::textField(
                 'tagField',isset($_GET['tagField'])? $_GET['tagField'] : '');

--- x2engine/protected/components/X2GridView/X2GridViewFieldFormatter.php ---
@@ -38,8 +38,13 @@ class X2GridViewFieldFormatter extends FieldFormatter {
 
     protected function renderText ($field, $makeLinks, $textOnly, $encode) {
         $fieldName = $field->fieldName;
-        $value = preg_replace("/(\<br ?\/?\>)|\n/"," ",$this->owner->$fieldName);
-        return Yii::app()->controller->convertUrls($this->render ($value, $encode));
+        $value = $this->owner->$fieldName;
+        if (is_string ($value)) {
+            $value = preg_replace("/(\<br ?\/?\>)|\n/"," ",$value);
+            return Yii::app()->controller->convertUrls($this->render ($value, $encode));
+        } else {
+            return '';
+        }
     }
 
 }

--- x2engine/protected/components/X2GridView/X2GridViewMassActionAction.php ---
@@ -111,6 +111,7 @@ public function run(){
             $massActionInstance->superExecute ($uid, $totalItemCount, $idChecksum);
         } else {
             $gvSelection = $_POST['gvSelection'];
+            $massActionInstance->beforeExecute ();
             $massActionInstance->execute ($gvSelection);
             $massActionInstance::echoFlashes ();
         }

--- x2engine/protected/components/X2GridView/massActions/EmailMassAction.php ---
@@ -54,6 +54,11 @@ protected function getMailbox () {
         return $mailbox;
     }
 
+    public function beforeExecute () {
+        if (!(Yii::app()->controller instanceof EmailInboxesController)) {
+            throw new CHttpException (400, Yii::t('app', 'Invalid controller') );
+        }
+    }
 }
 
 ?>

--- x2engine/protected/components/X2GridView/massActions/MassAction.php ---
@@ -71,6 +71,8 @@ abstract public function execute (array $gvSelection);
 
     public function renderDialog ($gridId, $modelName) {}
 
+    public function beforeExecute () {}
+
     /**
      * Instantiates mass action classes
      * @return array  

--- x2engine/protected/components/X2LinkableBehavior.php ---
@@ -188,16 +188,31 @@ public function getAutoCompleteSource() {
      * Get autocomplete options 
      * @param string $term
      */
-    public static function getItems($term) {
-        $model = X2Model::model(Yii::app()->controller->modelClass);
+    public static function getItems($term, $valueAttr='name', $nameAttr='id', $modelClass=null) {
+        if (!$modelClass)
+            $modelClass = Yii::app()->controller->modelClass;
+        $model = X2Model::model($modelClass);
+
         if (isset($model)) {
+            $modelClass::checkThrowAttrError (array ($valueAttr, $nameAttr));
             $tableName = $model->tableName();
-            $sql = 'SELECT id, name as value 
-                 FROM ' . $tableName . ' WHERE name LIKE :qterm ORDER BY name ASC';
-            $command = Yii::app()->db->createCommand($sql);
             $qterm = $term . '%';
-            $command->bindParam(":qterm", $qterm, PDO::PARAM_STR);
-            $result = $command->queryAll();
+            $params = array (
+                ':qterm' => $qterm,
+            );
+            $sql = "
+                SELECT $nameAttr as id, $valueAttr as value 
+                FROM " . $tableName . " as t
+                WHERE $valueAttr LIKE :qterm";
+            if ($model->asa ('permissions')) {
+                list ($accessCond, $permissionsParams) = $model->getAccessSQLCondition ();
+                $sql .= ' AND '.$accessCond;
+                $params = array_merge ($params, $permissionsParams);
+            }
+                
+            $sql .= "ORDER BY $valueAttr ASC";
+            $command = Yii::app()->db->createCommand($sql);
+            $result = $command->queryAll(true, $params);
             echo CJSON::encode($result);
         }
         Yii::app()->end();
@@ -207,8 +222,8 @@ public static function getItems($term) {
      * Improved version of getItems which enables use of empty search string, pagination, and
      * configurable option values/names.
      * @param string $prefix name prefix of items to retrieve
-     * @param int $page page number of results to retrieve
-     * @param int $limit max number of results to retrieve
+     * @param int $page page number of results to retrieve (ignored if limit is -1)
+     * @param int $limit max number of results to retrieve (-1 to disable limit)
      * @param string|array $valueAttr attribute(s) used to popuplate the option values. If an 
      *  array is passed, value will composed of values of each of the attributes specified, joined
      *  by commas
@@ -229,16 +244,25 @@ public function getItems2 (
         if ($prefix !== '') {
             $params[':prefix'] = $prefix . '%';
         }
-        $offset = abs ((int) $offset);
-        $limit = abs ((int) $limit);
+        if ($limit !== -1) {
+            $offset = abs ((int) $offset);
+            $limit = abs ((int) $limit);
+            $limitClause = "LIMIT $offset, $limit";
+        } 
+
+        if ($model->asa ('permissions')) {
+            list ($accessCond, $permissionsParams) = $model->getAccessSQLCondition ();
+            $params = array_merge ($params, $permissionsParams);
+        }
+
         $command = Yii::app()->db->createCommand ("
             SELECT " . implode (',', $valueAttr) . ", $nameAttr as __name
-            FROM $table
+            FROM $table as t
             WHERE " . ($prefix === '' ? 
                '1=1' : ($nameAttr . ' LIKE :prefix')
-            ) . "
+            ) . (isset ($accessCond) ? " AND $accessCond" : '') . "
             ORDER BY __name
-            LIMIT $offset, $limit
+            ". (isset ($limitClause) ? $limitClause : '') ."
         ");
         $rows = $command->queryAll (true, $params);
 

--- x2engine/protected/components/filters/FileUploadsFilter.php ---
@@ -53,7 +53,7 @@ class FileUploadsFilter extends CFilter {
      * 
      * https://www.owasp.org/index.php/Unrestricted_File_Upload#Using_Black-List_for_Files.E2.80.99_Extensions
      */
-    const EXT_BLACKLIST = '/\.\s*(?P<ext>html|htm|js|jsb|mhtml|mht|xhtml|xht|php|phtml|php3|php4|php5|phps|shtml|jhtml|pl|py|cgi|exe|scr|dll|msi|vbs|bat|com|pif|cmd|vxd|cpl|ini|conf|cnf|key|iv|htaccess)\b/i';
+    const EXT_BLACKLIST = '/\.\s*(?P<ext>html|htm|js|jsb|mhtml|mht|xhtml|xht|php|pht|phtml|php3|php4|php5|phps|shtml|jhtml|pl|py|cgi|exe|scr|dll|msi|vbs|bat|com|pif|cmd|vxd|cpl|ini|conf|cnf|key|iv|htaccess)\b/i';
 
     /**
      * List of mime-types that uploaded files should never have

--- x2engine/protected/components/permissions/X2ControllerPermissionsBehavior.php ---
@@ -96,7 +96,13 @@ public function beforeAction($action = null) {
 
         // Return true if the user is explicitly allowed to do it, or if there is no permission 
         // item, or if they are an admin
-        if (Yii::app()->params->isAdmin || !($authItem instanceof CAuthItem) || 
+        if (Yii::app()->params->isAdmin || 
+            // access for missing permission item only granted for authenticated users and for
+            // API requests (since API controllers have their own layer of authentication)
+            ((!Yii::app()->user->isGuest ||
+              Yii::app()->controller instanceof ApiController ||
+              Yii::app()->controller instanceof Api2Controller) &&
+             !($authItem instanceof CAuthItem)) || 
             Yii::app()->user->checkAccess($actionAccess, $params)) {
 
             return true;
@@ -117,6 +123,7 @@ public function beforeAction($action = null) {
      * @return boolean
      */
     public function checkPermissions(&$model, $action = null) {
+        if (Yii::app()->params->isAdmin) return true;
 
         $view = false;
         $edit = false;

--- x2engine/protected/components/permissions/X2PermissionsBehavior.php ---
@@ -431,7 +431,7 @@ private function isHidden () {
      * Uses the visibility attribute and the assignment of the model to determine
      * if a given named user has permission to view it.
      * 
-     * @param string $username The username of the user for which to check visibility
+     * @param User $user The user for which visibility is to be checked
      * @return type
      */
     public function isVisibleTo($user) {
@@ -446,6 +446,7 @@ public function isVisibleTo($user) {
             $accessLevel = $this->getAccessLevel($uid);
 
             $hasViewPermission = false;
+
             if (!$this->isHidden ()) {
                 switch ($accessLevel) {
                     case self::QUERY_ALL:

--- x2engine/protected/components/phpMailer/LICENSE ---
@@ -312,7 +312,7 @@ of these things:
     from a designated place, offer equivalent access to copy the above
     specified materials from the same place.
 
-    e) Verify that the user has already received a copy of these
+    e) verify that the user has already received a copy of these
     materials or that you have already sent this user a copy.
 
   For an executable, the required form of the "work that uses the

--- x2engine/protected/components/phpMailer/PHPMailerAutoload.php ---
@@ -0,0 +1,49 @@
+<?php
+/**
+ * PHPMailer SPL autoloader.
+ * PHP Version 5
+ * @package PHPMailer
+ * @link https://github.com/PHPMailer/PHPMailer/ The PHPMailer GitHub project
+ * @author Marcus Bointon (Synchro/coolbru) <phpmailer@synchromedia.co.uk>
+ * @author Jim Jagielski (jimjag) <jimjag@gmail.com>
+ * @author Andy Prevost (codeworxtech) <codeworxtech@users.sourceforge.net>
+ * @author Brent R. Matzelle (original founder)
+ * @copyright 2012 - 2014 Marcus Bointon
+ * @copyright 2010 - 2012 Jim Jagielski
+ * @copyright 2004 - 2009 Andy Prevost
+ * @license http://www.gnu.org/copyleft/lesser.html GNU Lesser General Public License
+ * @note This program is distributed in the hope that it will be useful - WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
+ * FITNESS FOR A PARTICULAR PURPOSE.
+ */
+
+/**
+ * PHPMailer SPL autoloader.
+ * @param string $classname The name of the class to load
+ */
+function PHPMailerAutoload($classname)
+{
+    //Can't use __DIR__ as it's only in PHP 5.3+
+    $filename = dirname(__FILE__).DIRECTORY_SEPARATOR.'class.'.strtolower($classname).'.php';
+    if (is_readable($filename)) {
+        require $filename;
+    }
+}
+
+if (version_compare(PHP_VERSION, '5.1.2', '>=')) {
+    //SPL autoloading was introduced in PHP 5.1.2
+    if (version_compare(PHP_VERSION, '5.3.0', '>=')) {
+        spl_autoload_register('PHPMailerAutoload', true, true);
+    } else {
+        spl_autoload_register('PHPMailerAutoload');
+    }
+} else {
+    /**
+     * Fall back to traditional autoload for old PHP versions
+     * @param string $classname The name of the class to load
+     */
+    function __autoload($classname)
+    {
+        PHPMailerAutoload($classname);
+    }
+}

--- x2engine/protected/components/phpMailer/class.pop3.php ---
@@ -1,418 +1,397 @@
 <?php
-/*~ class.pop3.php
-.---------------------------------------------------------------------------.
-|  Software: PHPMailer - PHP email class                                    |
-|   Version: 5.2.4                                                          |
-|      Site: https://code.google.com/a/apache-extras.org/p/phpmailer/       |
-| ------------------------------------------------------------------------- |
-|     Admin: Jim Jagielski (project admininistrator)                        |
-|   Authors: Andy Prevost (codeworxtech) codeworxtech@users.sourceforge.net |
-|          : Marcus Bointon (coolbru) coolbru@users.sourceforge.net         |
-|          : Jim Jagielski (jimjag) jimjag@gmail.com                        |
-|   Founder: Brent R. Matzelle (original founder)                           |
-| Copyright (c) 2010-2012, Jim Jagielski. All Rights Reserved.              |
-| Copyright (c) 2004-2009, Andy Prevost. All Rights Reserved.               |
-| Copyright (c) 2001-2003, Brent R. Matzelle                                |
-| ------------------------------------------------------------------------- |
-|   License: Distributed under the Lesser General Public License (LGPL)     |
-|            http://www.gnu.org/copyleft/lesser.html                        |
-| This program is distributed in the hope that it will be useful - WITHOUT  |
-| ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or     |
-| FITNESS FOR A PARTICULAR PURPOSE.                                         |
-'---------------------------------------------------------------------------'
-*/
-
 /**
- * PHPMailer - PHP POP Before SMTP Authentication Class
- * NOTE: Designed for use with PHP version 5 and up
+ * PHPMailer POP-Before-SMTP Authentication Class.
+ * PHP Version 5
  * @package PHPMailer
- * @author Andy Prevost
- * @author Marcus Bointon
- * @author Jim Jagielski
+ * @link https://github.com/PHPMailer/PHPMailer/
+ * @author Marcus Bointon (Synchro/coolbru) <phpmailer@synchromedia.co.uk>
+ * @author Jim Jagielski (jimjag) <jimjag@gmail.com>
+ * @author Andy Prevost (codeworxtech) <codeworxtech@users.sourceforge.net>
+ * @author Brent R. Matzelle (original founder)
+ * @copyright 2012 - 2014 Marcus Bointon
  * @copyright 2010 - 2012 Jim Jagielski
  * @copyright 2004 - 2009 Andy Prevost
- * @license http://www.gnu.org/copyleft/lesser.html Distributed under the Lesser General Public License (LGPL)
+ * @license http://www.gnu.org/copyleft/lesser.html GNU Lesser General Public License
+ * @note This program is distributed in the hope that it will be useful - WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
+ * FITNESS FOR A PARTICULAR PURPOSE.
  */
 
 /**
- * PHP POP-Before-SMTP Authentication Class
- *
- * Version 5.2.4
- *
- * @license: LGPL, see PHPMailer License
- *
- * Specifically for PHPMailer to allow POP before SMTP authentication.
- * Does not yet work with APOP - if you have an APOP account, contact Jim Jagielski
- * and we can test changes to this script.
- *
- * This class is based on the structure of the SMTP class originally authored by Chris Ryan
- *
- * This class is rfc 1939 compliant and implements all the commands
- * required for POP3 connection, authentication and disconnection.
- *
+ * PHPMailer POP-Before-SMTP Authentication Class.
+ * Specifically for PHPMailer to use for RFC1939 POP-before-SMTP authentication.
+ * Does not support APOP.
  * @package PHPMailer
- * @author Richard Davey (orig) <rich@corephp.co.uk>
- * @author Andy Prevost
- * @author Jim Jagielski
+ * @author Richard Davey (original author) <rich@corephp.co.uk>
+ * @author Marcus Bointon (Synchro/coolbru) <phpmailer@synchromedia.co.uk>
+ * @author Jim Jagielski (jimjag) <jimjag@gmail.com>
+ * @author Andy Prevost (codeworxtech) <codeworxtech@users.sourceforge.net>
  */
-
-class POP3 {
-  /**
-   * Default POP3 port
-   * @var int
-   */
-  public $POP3_PORT = 110;
-
-  /**
-   * Default Timeout
-   * @var int
-   */
-  public $POP3_TIMEOUT = 30;
-
-  /**
-   * POP3 Carriage Return + Line Feed
-   * @var string
-   */
-  public $CRLF = "\r\n";
-
-  /**
-   * Displaying Debug warnings? (0 = now, 1+ = yes)
-   * @var int
-   */
-  public $do_debug = 2;
-
-  /**
-   * POP3 Mail Server
-   * @var string
-   */
-  public $host;
-
-  /**
-   * POP3 Port
-   * @var int
-   */
-  public $port;
-
-  /**
-   * POP3 Timeout Value
-   * @var int
-   */
-  public $tval;
-
-  /**
-   * POP3 Username
-   * @var string
-   */
-  public $username;
-
-  /**
-   * POP3 Password
-   * @var string
-   */
-  public $password;
-
-  /**
-   * Sets the POP3 PHPMailer Version number
-   * @var string
-   */
-  public $Version         = '5.2.4';
-
-  /////////////////////////////////////////////////
-  // PROPERTIES, PRIVATE AND PROTECTED
-  /////////////////////////////////////////////////
-
-  /**
-   * @var resource Resource handle for the POP connection socket
-   */
-  private $pop_conn;
-  /**
-   * @var boolean Are we connected?
-   */
-  private $connected;
-  /**
-   * @var array Error container
-   */
-  private $error;     //  Error log array
-
-  /**
-   * Constructor, sets the initial values
-   * @access public
-   * @return POP3
-   */
-  public function __construct() {
-    $this->pop_conn  = 0;
-    $this->connected = false;
-    $this->error     = null;
-  }
-
-  /**
-   * Combination of public events - connect, login, disconnect
-   * @access public
-   * @param string $host
-   * @param bool|int $port
-   * @param bool|int $tval
-   * @param string $username
-   * @param string $password
-   * @param int $debug_level
-   * @return bool
-   */
-  public function Authorise ($host, $port = false, $tval = false, $username, $password, $debug_level = 0) {
-    $this->host = $host;
-
-    //  If no port value is passed, retrieve it
-    if ($port == false) {
-      $this->port = $this->POP3_PORT;
-    } else {
-      $this->port = $port;
-    }
-
-    //  If no port value is passed, retrieve it
-    if ($tval == false) {
-      $this->tval = $this->POP3_TIMEOUT;
-    } else {
-      $this->tval = $tval;
-    }
-
-    $this->do_debug = $debug_level;
-    $this->username = $username;
-    $this->password = $password;
-
-    //  Refresh the error log
-    $this->error = null;
-
-    //  Connect
-    $result = $this->Connect($this->host, $this->port, $this->tval);
-
-    if ($result) {
-      $login_result = $this->Login($this->username, $this->password);
-
-      if ($login_result) {
-        $this->Disconnect();
-
-        return true;
-      }
-
-    }
-
-    //  We need to disconnect regardless if the login succeeded
-    $this->Disconnect();
-
-    return false;
-  }
-
-  /**
-   * Connect to the POP3 server
-   * @access public
-   * @param string $host
-   * @param bool|int $port
-   * @param integer $tval
-   * @return boolean
-   */
-  public function Connect ($host, $port = false, $tval = 30) {
-    //  Are we already connected?
-    if ($this->connected) {
-      return true;
+class POP3
+{
+    /**
+     * The POP3 PHPMailer Version number.
+     * @type string
+     * @access public
+     */
+    public $Version = '5.2.10';
+
+    /**
+     * Default POP3 port number.
+     * @type integer
+     * @access public
+     */
+    public $POP3_PORT = 110;
+
+    /**
+     * Default timeout in seconds.
+     * @type integer
+     * @access public
+     */
+    public $POP3_TIMEOUT = 30;
+
+    /**
+     * POP3 Carriage Return + Line Feed.
+     * @type string
+     * @access public
+     * @deprecated Use the constant instead
+     */
+    public $CRLF = "\r\n";
+
+    /**
+     * Debug display level.
+     * Options: 0 = no, 1+ = yes
+     * @type integer
+     * @access public
+     */
+    public $do_debug = 0;
+
+    /**
+     * POP3 mail server hostname.
+     * @type string
+     * @access public
+     */
+    public $host;
+
+    /**
+     * POP3 port number.
+     * @type integer
+     * @access public
+     */
+    public $port;
+
+    /**
+     * POP3 Timeout Value in seconds.
+     * @type integer
+     * @access public
+     */
+    public $tval;
+
+    /**
+     * POP3 username
+     * @type string
+     * @access public
+     */
+    public $username;
+
+    /**
+     * POP3 password.
+     * @type string
+     * @access public
+     */
+    public $password;
+
+    /**
+     * Resource handle for the POP3 connection socket.
+     * @type resource
+     * @access private
+     */
+    private $pop_conn;
+
+    /**
+     * Are we connected?
+     * @type boolean
+     * @access private
+     */
+    private $connected = false;
+
+    /**
+     * Error container.
+     * @type array
+     * @access private
+     */
+    private $errors = array();
+
+    /**
+     * Line break constant
+     */
+    const CRLF = "\r\n";
+
+    /**
+     * Simple static wrapper for all-in-one POP before SMTP
+     * @param $host
+     * @param integer|boolean $port The port number to connect to
+     * @param integer|boolean $timeout The timeout value
+     * @param string $username
+     * @param string $password
+     * @param integer $debug_level
+     * @return boolean
+     */
+    public static function popBeforeSmtp(
+        $host,
+        $port = false,
+        $timeout = false,
+        $username = '',
+        $password = '',
+        $debug_level = 0
+    ) {
+        $pop = new POP3;
+        return $pop->authorise($host, $port, $timeout, $username, $password, $debug_level);
     }
 
-    /*
-    On Windows this will raise a PHP Warning error if the hostname doesn't exist.
-    Rather than supress it with @fsockopen, let's capture it cleanly instead
-    */
-
-    set_error_handler(array(&$this, 'catchWarning'));
-
-    //  Connect to the POP3 server
-    $this->pop_conn = fsockopen($host,    //  POP3 Host
-                  $port,    //  Port #
-                  $errno,   //  Error Number
-                  $errstr,  //  Error Message
-                  $tval);   //  Timeout (seconds)
-
-    //  Restore the error handler
-    restore_error_handler();
-
-    //  Does the Error Log now contain anything?
-    if ($this->error && $this->do_debug >= 1) {
-      $this->displayErrors();
+    /**
+     * Authenticate with a POP3 server.
+     * A connect, login, disconnect sequence
+     * appropriate for POP-before SMTP authorisation.
+     * @access public
+     * @param string $host The hostname to connect to
+     * @param integer|boolean $port The port number to connect to
+     * @param integer|boolean $timeout The timeout value
+     * @param string $username
+     * @param string $password
+     * @param integer $debug_level
+     * @return boolean
+     */
+    public function authorise($host, $port = false, $timeout = false, $username = '', $password = '', $debug_level = 0)
+    {
+        $this->host = $host;
+        // If no port value provided, use default
+        if (false === $port) {
+            $this->port = $this->POP3_PORT;
+        } else {
+            $this->port = (integer)$port;
+        }
+        // If no timeout value provided, use default
+        if (false === $timeout) {
+            $this->tval = $this->POP3_TIMEOUT;
+        } else {
+            $this->tval = (integer)$timeout;
+        }
+        $this->do_debug = $debug_level;
+        $this->username = $username;
+        $this->password = $password;
+        //  Reset the error log
+        $this->errors = array();
+        //  connect
+        $result = $this->connect($this->host, $this->port, $this->tval);
+        if ($result) {
+            $login_result = $this->login($this->username, $this->password);
+            if ($login_result) {
+                $this->disconnect();
+                return true;
+            }
+        }
+        // We need to disconnect regardless of whether the login succeeded
+        $this->disconnect();
+        return false;
     }
 
-    //  Did we connect?
-    if ($this->pop_conn == false) {
-      //  It would appear not...
-      $this->error = array(
-        'error' => "Failed to connect to server $host on port $port",
-        'errno' => $errno,
-        'errstr' => $errstr
-      );
-
-      if ($this->do_debug >= 1) {
-        $this->displayErrors();
-      }
-
-      return false;
+    /**
+     * Connect to a POP3 server.
+     * @access public
+     * @param string $host
+     * @param integer|boolean $port
+     * @param integer $tval
+     * @return boolean
+     */
+    public function connect($host, $port = false, $tval = 30)
+    {
+        //  Are we already connected?
+        if ($this->connected) {
+            return true;
+        }
+
+        //On Windows this will raise a PHP Warning error if the hostname doesn't exist.
+        //Rather than suppress it with @fsockopen, capture it cleanly instead
+        set_error_handler(array($this, 'catchWarning'));
+
+        if (false === $port) {
+            $port = $this->POP3_PORT;
+        }
+
+        //  connect to the POP3 server
+        $this->pop_conn = fsockopen(
+            $host, //  POP3 Host
+            $port, //  Port #
+            $errno, //  Error Number
+            $errstr, //  Error Message
+            $tval
+        ); //  Timeout (seconds)
+        //  Restore the error handler
+        restore_error_handler();
+
+        //  Did we connect?
+        if (false === $this->pop_conn) {
+            //  It would appear not...
+            $this->setError(array(
+                'error' => "Failed to connect to server $host on port $port",
+                'errno' => $errno,
+                'errstr' => $errstr
+            ));
+            return false;
+        }
+
+        //  Increase the stream time-out
+        stream_set_timeout($this->pop_conn, $tval, 0);
+
+        //  Get the POP3 server response
+        $pop3_response = $this->getResponse();
+        //  Check for the +OK
+        if ($this->checkResponse($pop3_response)) {
+            //  The connection is established and the POP3 server is talking
+            $this->connected = true;
+            return true;
+        }
+        return false;
     }
 
-    //  Increase the stream time-out
-
-    //  Check for PHP 4.3.0 or later
-    if (version_compare(phpversion(), '5.0.0', 'ge')) {
-      stream_set_timeout($this->pop_conn, $tval, 0);
-    } else {
-      //  Does not work on Windows
-      if (substr(PHP_OS, 0, 3) !== 'WIN') {
-        socket_set_timeout($this->pop_conn, $tval, 0);
-      }
+    /**
+     * Log in to the POP3 server.
+     * Does not support APOP (RFC 2828, 4949).
+     * @access public
+     * @param string $username
+     * @param string $password
+     * @return boolean
+     */
+    public function login($username = '', $password = '')
+    {
+        if (!$this->connected) {
+            $this->setError('Not connected to POP3 server');
+        }
+        if (empty($username)) {
+            $username = $this->username;
+        }
+        if (empty($password)) {
+            $password = $this->password;
+        }
+
+        // Send the Username
+        $this->sendString("USER $username" . self::CRLF);
+        $pop3_response = $this->getResponse();
+        if ($this->checkResponse($pop3_response)) {
+            // Send the Password
+            $this->sendString("PASS $password" . self::CRLF);
+            $pop3_response = $this->getResponse();
+            if ($this->checkResponse($pop3_response)) {
+                return true;
+            }
+        }
+        return false;
     }
 
-    //  Get the POP3 server response
-    $pop3_response = $this->getResponse();
-
-    //  Check for the +OK
-    if ($this->checkResponse($pop3_response)) {
-    //  The connection is established and the POP3 server is talking
-    $this->connected = true;
-      return true;
+    /**
+     * Disconnect from the POP3 server.
+     * @access public
+     */
+    public function disconnect()
+    {
+        $this->sendString('QUIT');
+        //The QUIT command may cause the daemon to exit, which will kill our connection
+        //So ignore errors here
+        try {
+            @fclose($this->pop_conn);
+        } catch (Exception $e) {
+            //Do nothing
+        };
     }
-    return false;
-  }
-
-  /**
-   * Login to the POP3 server (does not support APOP yet)
-   * @access public
-   * @param string $username
-   * @param string $password
-   * @return boolean
-   */
-  public function Login ($username = '', $password = '') {
-    if ($this->connected == false) {
-      $this->error = 'Not connected to POP3 server';
 
-      if ($this->do_debug >= 1) {
-        $this->displayErrors();
-      }
+    /**
+     * Get a response from the POP3 server.
+     * $size is the maximum number of bytes to retrieve
+     * @param integer $size
+     * @return string
+     * @access private
+     */
+    private function getResponse($size = 128)
+    {
+        $response = fgets($this->pop_conn, $size);
+        if ($this->do_debug >= 1) {
+            echo "Server -> Client: $response";
+        }
+        return $response;
     }
 
-    if (empty($username)) {
-      $username = $this->username;
+    /**
+     * Send raw data to the POP3 server.
+     * @param string $string
+     * @return integer
+     * @access private
+     */
+    private function sendString($string)
+    {
+        if ($this->pop_conn) {
+            if ($this->do_debug >= 2) { //Show client messages when debug >= 2
+                echo "Client -> Server: $string";
+            }
+            return fwrite($this->pop_conn, $string, strlen($string));
+        }
+        return 0;
     }
 
-    if (empty($password)) {
-      $password = $this->password;
+    /**
+     * Checks the POP3 server response.
+     * Looks for for +OK or -ERR.
+     * @param string $string
+     * @return boolean
+     * @access private
+     */
+    private function checkResponse($string)
+    {
+        if (substr($string, 0, 3) !== '+OK') {
+            $this->setError(array(
+                'error' => "Server reported an error: $string",
+                'errno' => 0,
+                'errstr' => ''
+            ));
+            return false;
+        } else {
+            return true;
+        }
     }
 
-    $pop_username = "USER $username" . $this->CRLF;
-    $pop_password = "PASS $password" . $this->CRLF;
-
-    //  Send the Username
-    $this->sendString($pop_username);
-    $pop3_response = $this->getResponse();
-
-    if ($this->checkResponse($pop3_response)) {
-      //  Send the Password
-      $this->sendString($pop_password);
-      $pop3_response = $this->getResponse();
-
-      if ($this->checkResponse($pop3_response)) {
-        return true;
-      }
+    /**
+     * Add an error to the internal error store.
+     * Also display debug output if it's enabled.
+     * @param $error
+     */
+    private function setError($error)
+    {
+        $this->errors[] = $error;
+        if ($this->do_debug >= 1) {
+            echo '<pre>';
+            foreach ($this->errors as $error) {
+                print_r($error);
+            }
+            echo '</pre>';
+        }
     }
-    return false;
-  }
-
-  /**
-   * Disconnect from the POP3 server
-   * @access public
-   */
-  public function Disconnect () {
-    $this->sendString('QUIT');
-
-    fclose($this->pop_conn);
-  }
 
-  /////////////////////////////////////////////////
-  //  Private Methods
-  /////////////////////////////////////////////////
-
-  /**
-   * Get the socket response back.
-   * $size is the maximum number of bytes to retrieve
-   * @access private
-   * @param integer $size
-   * @return string
-   */
-  private function getResponse ($size = 128) {
-    $pop3_response = fgets($this->pop_conn, $size);
-
-    return $pop3_response;
-  }
-
-  /**
-   * Send a string down the open socket connection to the POP3 server
-   * @access private
-   * @param string $string
-   * @return integer
-   */
-  private function sendString ($string) {
-    $bytes_sent = fwrite($this->pop_conn, $string, strlen($string));
-
-    return $bytes_sent;
-  }
-
-  /**
-   * Checks the POP3 server response for +OK or -ERR
-   * @access private
-   * @param string $string
-   * @return boolean
-   */
-  private function checkResponse ($string) {
-    if (substr($string, 0, 3) !== '+OK') {
-      $this->error = array(
-        'error' => "Server reported an error: $string",
-        'errno' => 0,
-        'errstr' => ''
-      );
-
-      if ($this->do_debug >= 1) {
-        $this->displayErrors();
-      }
-
-      return false;
-    } else {
-      return true;
+    /**
+     * POP3 connection error handler.
+     * @param integer $errno
+     * @param string $errstr
+     * @param string $errfile
+     * @param integer $errline
+     * @access private
+     */
+    private function catchWarning($errno, $errstr, $errfile, $errline)
+    {
+        $this->setError(array(
+            'error' => "Connecting to the POP3 server raised a PHP warning: ",
+            'errno' => $errno,
+            'errstr' => $errstr,
+            'errfile' => $errfile,
+            'errline' => $errline
+        ));
     }
-
-  }
-
-  /**
-   * If debug is enabled, display the error message array
-   * @access private
-   */
-  private function displayErrors () {
-    echo '<pre>';
-
-    foreach ($this->error as $single_error) {
-      print_r($single_error);
-    }
-
-    echo '</pre>';
-  }
-
-  /**
-   * Takes over from PHP for the socket warning handler
-   * @access private
-   * @param integer $errno
-   * @param string $errstr
-   * @param string $errfile
-   * @param integer $errline
-   */
-  private function catchWarning ($errno, $errstr, $errfile, $errline) {
-    $this->error[] = array(
-      'error' => "Connecting to the POP3 server raised a PHP warning: ",
-      'errno' => $errno,
-      'errstr' => $errstr
-    );
-  }
-
-  //  End of class
 }
-?>

--- x2engine/protected/components/phpMailer/class.smtp.php ---
@@ -1,1003 +1,1152 @@
 <?php
-/*~ class.smtp.php
-.---------------------------------------------------------------------------.
-|  Software: PHPMailer - PHP email class                                    |
-|   Version: 5.2.4                                                          |
-|      Site: https://code.google.com/a/apache-extras.org/p/phpmailer/       |
-| ------------------------------------------------------------------------- |
-|     Admin: Jim Jagielski (project admininistrator)                        |
-|   Authors: Andy Prevost (codeworxtech) codeworxtech@users.sourceforge.net |
-|          : Marcus Bointon (coolbru) coolbru@users.sourceforge.net         |
-|          : Jim Jagielski (jimjag) jimjag@gmail.com                        |
-|   Founder: Brent R. Matzelle (original founder)                           |
-| Copyright (c) 2010-2012, Jim Jagielski. All Rights Reserved.              |
-| Copyright (c) 2004-2009, Andy Prevost. All Rights Reserved.               |
-| Copyright (c) 2001-2003, Brent R. Matzelle                                |
-| ------------------------------------------------------------------------- |
-|   License: Distributed under the Lesser General Public License (LGPL)     |
-|            http://www.gnu.org/copyleft/lesser.html                        |
-| This program is distributed in the hope that it will be useful - WITHOUT  |
-| ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or     |
-| FITNESS FOR A PARTICULAR PURPOSE.                                         |
-'---------------------------------------------------------------------------'
-*/
-
 /**
- * PHPMailer - PHP SMTP email transport class
- * NOTE: Designed for use with PHP version 5 and up
+ * PHPMailer RFC821 SMTP email transport class.
+ * PHP Version 5
  * @package PHPMailer
- * @author Andy Prevost
- * @author Marcus Bointon
- * @copyright 2004 - 2008 Andy Prevost
- * @author Jim Jagielski
+ * @link https://github.com/PHPMailer/PHPMailer/ The PHPMailer GitHub project
+ * @author Marcus Bointon (Synchro/coolbru) <phpmailer@synchromedia.co.uk>
+ * @author Jim Jagielski (jimjag) <jimjag@gmail.com>
+ * @author Andy Prevost (codeworxtech) <codeworxtech@users.sourceforge.net>
+ * @author Brent R. Matzelle (original founder)
+ * @copyright 2014 Marcus Bointon
  * @copyright 2010 - 2012 Jim Jagielski
- * @license http://www.gnu.org/copyleft/lesser.html Distributed under the Lesser General Public License (LGPL)
+ * @copyright 2004 - 2009 Andy Prevost
+ * @license http://www.gnu.org/copyleft/lesser.html GNU Lesser General Public License
+ * @note This program is distributed in the hope that it will be useful - WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
+ * FITNESS FOR A PARTICULAR PURPOSE.
  */
 
 /**
- * PHP RFC821 SMTP client
- *
- * Implements all the RFC 821 SMTP commands except TURN which will always return a not implemented error.
- * SMTP also provides some utility methods for sending mail to an SMTP server.
- * @author Chris Ryan
+ * PHPMailer RFC821 SMTP email transport class.
+ * Implements RFC 821 SMTP commands and provides some utility methods for sending mail to an SMTP server.
  * @package PHPMailer
+ * @author Chris Ryan
+ * @author Marcus Bointon <phpmailer@synchromedia.co.uk>
  */
+class SMTP
+{
+    /**
+     * The PHPMailer SMTP version number.
+     * @type string
+     */
+    const VERSION = '5.2.10';
 
-class SMTP {
-  /**
-   *  SMTP server port
-   *  @var int
-   */
-  public $SMTP_PORT = 25;
-
-  /**
-   *  SMTP reply line ending (don't change)
-   *  @var string
-   */
-  public $CRLF = "\r\n";
-
-  /**
-   *  Sets whether debugging is turned on
-   *  @var bool
-   */
-  public $do_debug;       // the level of debug to perform
-
-  /**
-   * Sets the function/method to use for debugging output.
-   * Right now we only honor "echo" or "error_log"
-   * @var string
-   */
-  public $Debugoutput     = "echo";
-
-  /**
-   *  Sets VERP use on/off (default is off)
-   *  @var bool
-   */
-  public $do_verp = false;
-
-  /**
-   * Sets the SMTP timeout value for reads, in seconds
-   * @var int
-   */
-  public $Timeout         = 15;
-
-  /**
-   * Sets the SMTP timelimit value for reads, in seconds
-   * @var int
-   */
-  public $Timelimit       = 30;
-
-  /**
-   * Sets the SMTP PHPMailer Version number
-   * @var string
-   */
-  public $Version         = '5.2.4';
-
-  /////////////////////////////////////////////////
-  // PROPERTIES, PRIVATE AND PROTECTED
-  /////////////////////////////////////////////////
-
-  /**
-   * @var resource The socket to the server
-   */
-  private $smtp_conn;
-  /**
-   * @var string Error message, if any, for the last call
-   */
-  private $error;
-  /**
-   * @var string The reply the server sent to us for HELO
-   */
-  private $helo_rply;
-
-  /**
-   * Outputs debugging info via user-defined method
-   * @param string $str
-   */
-  private function edebug($str) {
-    if ($this->Debugoutput == "error_log") {
-        error_log($str);
-    } else {
-        echo $str;
-    }
-  }
-
-  /**
-   * Initialize the class so that the data is in a known state.
-   * @access public
-   * @return SMTP
-   */
-  public function __construct() {
-    $this->smtp_conn = 0;
-    $this->error = null;
-    $this->helo_rply = null;
-
-    $this->do_debug = 0;
-  }
-
-  /////////////////////////////////////////////////
-  // CONNECTION FUNCTIONS
-  /////////////////////////////////////////////////
-
-  /**
-   * Connect to the server specified on the port specified.
-   * If the port is not specified use the default SMTP_PORT.
-   * If tval is specified then a connection will try and be
-   * established with the server for that number of seconds.
-   * If tval is not specified the default is 30 seconds to
-   * try on the connection.
-   *
-   * SMTP CODE SUCCESS: 220
-   * SMTP CODE FAILURE: 421
-   * @access public
-   * @param string $host
-   * @param int $port
-   * @param int $tval
-   * @return bool
-   */
-  public function Connect($host, $port = 0, $tval = 30) {
-    // set the error val to null so there is no confusion
-    $this->error = null;
-
-    // make sure we are __not__ connected
-    if($this->connected()) {
-      // already connected, generate error
-      $this->error = array("error" => "Already connected to a server");
-      return false;
-    }
-
-    if(empty($port)) {
-      $port = $this->SMTP_PORT;
-    }
-
-    // connect to the smtp server
-    $this->smtp_conn = @fsockopen($host,    // the host of the server
-                                 $port,    // the port to use
-                                 $errno,   // error number if any
-                                 $errstr,  // error message if any
-                                 $tval);   // give up after ? secs
-    // verify we connected properly
-    if(empty($this->smtp_conn)) {
-      $this->error = array("error" => "Failed to connect to server",
-                           "errno" => $errno,
-                           "errstr" => $errstr);
-      if($this->do_debug >= 1) {
-        $this->edebug("SMTP -> ERROR: " . $this->error["error"] . ": $errstr ($errno)" . $this->CRLF . '<br />');
-      }
-      return false;
-    }
-
-    // SMTP server can take longer to respond, give longer timeout for first read
-    // Windows does not have support for this timeout function
-    if(substr(PHP_OS, 0, 3) != "WIN") {
-     $max = ini_get('max_execution_time');
-     if ($max != 0 && $tval > $max) { // don't bother if unlimited
-      @set_time_limit($tval);
-     }
-     stream_set_timeout($this->smtp_conn, $tval, 0);
-    }
-
-    // get any announcement
-    $announce = $this->get_lines();
-
-    if($this->do_debug >= 2) {
-      $this->edebug("SMTP -> FROM SERVER:" . $announce . $this->CRLF . '<br />');
-    }
-
-    return true;
-  }
-
-  /**
-   * Initiate a TLS communication with the server.
-   *
-   * SMTP CODE 220 Ready to start TLS
-   * SMTP CODE 501 Syntax error (no parameters allowed)
-   * SMTP CODE 454 TLS not available due to temporary reason
-   * @access public
-   * @return bool success
-   */
-  public function StartTLS() {
-    $this->error = null; # to avoid confusion
-
-    if(!$this->connected()) {
-      $this->error = array("error" => "Called StartTLS() without being connected");
-      return false;
-    }
-
-    fputs($this->smtp_conn,"STARTTLS" . $this->CRLF);
-
-    $rply = $this->get_lines();
-    $code = substr($rply,0,3);
-
-    if($this->do_debug >= 2) {
-      $this->edebug("SMTP -> FROM SERVER:" . $rply . $this->CRLF . '<br />');
-    }
-
-    if($code != 220) {
-      $this->error =
-         array("error"     => "STARTTLS not accepted from server",
-               "smtp_code" => $code,
-               "smtp_msg"  => substr($rply,4));
-      if($this->do_debug >= 1) {
-        $this->edebug("SMTP -> ERROR: " . $this->error["error"] . ": " . $rply . $this->CRLF . '<br />');
-      }
-      return false;
-    }
-
-    // Begin encrypted connection
-    if(!stream_socket_enable_crypto($this->smtp_conn, true, STREAM_CRYPTO_METHOD_TLS_CLIENT)) {
-      return false;
-    }
-
-    return true;
-  }
-
-  /**
-   * Performs SMTP authentication.  Must be run after running the
-   * Hello() method.  Returns true if successfully authenticated.
-   * @access public
-   * @param string $username
-   * @param string $password
-   * @param string $authtype
-   * @param string $realm
-   * @param string $workstation
-   * @return bool
-   */
-  public function Authenticate($username, $password, $authtype='LOGIN', $realm='', $workstation='') {
-    if (empty($authtype)) {
-      $authtype = 'LOGIN';
-    }
-
-    switch ($authtype) {
-      case 'PLAIN':
-        // Start authentication
-        fputs($this->smtp_conn,"AUTH PLAIN" . $this->CRLF);
-    
-        $rply = $this->get_lines();
-        $code = substr($rply,0,3);
-    
-        if($code != 334) {
-          $this->error =
-            array("error" => "AUTH not accepted from server",
-                  "smtp_code" => $code,
-                  "smtp_msg" => substr($rply,4));
-          if($this->do_debug >= 1) {
-            $this->edebug("SMTP -> ERROR: " . $this->error["error"] . ": " . $rply . $this->CRLF . '<br />');
-          }
-          return false;
-        }
-        // Send encoded username and password
-        fputs($this->smtp_conn, base64_encode("\0".$username."\0".$password) . $this->CRLF);
-
-        $rply = $this->get_lines();
-        $code = substr($rply,0,3);
-    
-        if($code != 235) {
-          $this->error =
-            array("error" => "Authentication not accepted from server",
-                  "smtp_code" => $code,
-                  "smtp_msg" => substr($rply,4));
-          if($this->do_debug >= 1) {
-            $this->edebug("SMTP -> ERROR: " . $this->error["error"] . ": " . $rply . $this->CRLF . '<br />');
-          }
-          return false;
-        }
-        break;
-      case 'LOGIN':
-        // Start authentication
-        fputs($this->smtp_conn,"AUTH LOGIN" . $this->CRLF);
-    
-        $rply = $this->get_lines();
-        $code = substr($rply,0,3);
-    
-        if($code != 334) {
-          $this->error =
-            array("error" => "AUTH not accepted from server",
-                  "smtp_code" => $code,
-                  "smtp_msg" => substr($rply,4));
-          if($this->do_debug >= 1) {
-            $this->edebug("SMTP -> ERROR: " . $this->error["error"] . ": " . $rply . $this->CRLF . '<br />');
-          }
-          return false;
-        }
-    
-        // Send encoded username
-        fputs($this->smtp_conn, base64_encode($username) . $this->CRLF);
-    
-        $rply = $this->get_lines();
-        $code = substr($rply,0,3);
-    
-        if($code != 334) {
-          $this->error =
-            array("error" => "Username not accepted from server",
-                  "smtp_code" => $code,
-                  "smtp_msg" => substr($rply,4));
-          if($this->do_debug >= 1) {
-            $this->edebug("SMTP -> ERROR: " . $this->error["error"] . ": " . $rply . $this->CRLF . '<br />');
-          }
-          return false;
-        }
-    
-        // Send encoded password
-        fputs($this->smtp_conn, base64_encode($password) . $this->CRLF);
-    
-        $rply = $this->get_lines();
-        $code = substr($rply,0,3);
-    
-        if($code != 235) {
-          $this->error =
-            array("error" => "Password not accepted from server",
-                  "smtp_code" => $code,
-                  "smtp_msg" => substr($rply,4));
-          if($this->do_debug >= 1) {
-            $this->edebug("SMTP -> ERROR: " . $this->error["error"] . ": " . $rply . $this->CRLF . '<br />');
-          }
-          return false;
-        }
-        break;
-      case 'NTLM':
-        /*
-         * ntlm_sasl_client.php
-         ** Bundled with Permission
-         **
-         ** How to telnet in windows: http://technet.microsoft.com/en-us/library/aa995718%28EXCHG.65%29.aspx
-         ** PROTOCOL Documentation http://curl.haxx.se/rfc/ntlm.html#ntlmSmtpAuthentication
-         */
-        require_once('ntlm_sasl_client.php');
-        $temp = new stdClass();
-        $ntlm_client = new ntlm_sasl_client_class;
-        if(! $ntlm_client->Initialize($temp)){//let's test if every function its available
-            $this->error = array("error" => $temp->error);
-            if($this->do_debug >= 1) {
-                $this->edebug("You need to enable some modules in your php.ini file: " . $this->error["error"] . $this->CRLF);
-            }
+    /**
+     * SMTP line break constant.
+     * @type string
+     */
+    const CRLF = "\r\n";
+
+    /**
+     * The SMTP port to use if one is not specified.
+     * @type integer
+     */
+    const DEFAULT_SMTP_PORT = 25;
+
+    /**
+     * The maximum line length allowed by RFC 2822 section 2.1.1
+     * @type integer
+     */
+    const MAX_LINE_LENGTH = 998;
+
+    /**
+     * Debug level for no output
+     */
+    const DEBUG_OFF = 0;
+
+    /**
+     * Debug level to show client -> server messages
+     */
+    const DEBUG_CLIENT = 1;
+
+    /**
+     * Debug level to show client -> server and server -> client messages
+     */
+    const DEBUG_SERVER = 2;
+
+    /**
+     * Debug level to show connection status, client -> server and server -> client messages
+     */
+    const DEBUG_CONNECTION = 3;
+
+    /**
+     * Debug level to show all messages
+     */
+    const DEBUG_LOWLEVEL = 4;
+
+    /**
+     * The PHPMailer SMTP Version number.
+     * @type string
+     * @deprecated Use the `VERSION` constant instead
+     * @see SMTP::VERSION
+     */
+    public $Version = '5.2.10';
+
+    /**
+     * SMTP server port number.
+     * @type integer
+     * @deprecated This is only ever used as a default value, so use the `DEFAULT_SMTP_PORT` constant instead
+     * @see SMTP::DEFAULT_SMTP_PORT
+     */
+    public $SMTP_PORT = 25;
+
+    /**
+     * SMTP reply line ending.
+     * @type string
+     * @deprecated Use the `CRLF` constant instead
+     * @see SMTP::CRLF
+     */
+    public $CRLF = "\r\n";
+
+    /**
+     * Debug output level.
+     * Options:
+     * * self::DEBUG_OFF (`0`) No debug output, default
+     * * self::DEBUG_CLIENT (`1`) Client commands
+     * * self::DEBUG_SERVER (`2`) Client commands and server responses
+     * * self::DEBUG_CONNECTION (`3`) As DEBUG_SERVER plus connection status
+     * * self::DEBUG_LOWLEVEL (`4`) Low-level data output, all messages
+     * @type integer
+     */
+    public $do_debug = self::DEBUG_OFF;
+
+    /**
+     * How to handle debug output.
+     * Options:
+     * * `echo` Output plain-text as-is, appropriate for CLI
+     * * `html` Output escaped, line breaks converted to `<br>`, appropriate for browser output
+     * * `error_log` Output to error log as configured in php.ini
+     *
+     * Alternatively, you can provide a callable expecting two params: a message string and the debug level:
+     * <code>
+     * $smtp->Debugoutput = function($str, $level) {echo "debug level $level; message: $str";};
+     * </code>
+     * @type string|callable
+     */
+    public $Debugoutput = 'echo';
+
+    /**
+     * Whether to use VERP.
+     * @link http://en.wikipedia.org/wiki/Variable_envelope_return_path
+     * @link http://www.postfix.org/VERP_README.html Info on VERP
+     * @type boolean
+     */
+    public $do_verp = false;
+
+    /**
+     * The timeout value for connection, in seconds.
+     * Default of 5 minutes (300sec) is from RFC2821 section 4.5.3.2
+     * This needs to be quite high to function correctly with hosts using greetdelay as an anti-spam measure.
+     * @link http://tools.ietf.org/html/rfc2821#section-4.5.3.2
+     * @type integer
+     */
+    public $Timeout = 300;
+
+    /**
+     * How long to wait for commands to complete, in seconds.
+     * Default of 5 minutes (300sec) is from RFC2821 section 4.5.3.2
+     * @type integer
+     */
+    public $Timelimit = 300;
+
+    /**
+     * The socket for the server connection.
+     * @type resource
+     */
+    protected $smtp_conn;
+
+    /**
+     * Error information, if any, for the last SMTP command.
+     * @type array
+     */
+    protected $error = array(
+        'error' => '',
+        'detail' => '',
+        'smtp_code' => '',
+        'smtp_code_ex' => ''
+    );
+
+    /**
+     * The reply the server sent to us for HELO.
+     * If null, no HELO string has yet been received.
+     * @type string|null
+     */
+    protected $helo_rply = null;
+
+    /**
+     * The set of SMTP extensions sent in reply to EHLO command.
+     * Indexes of the array are extension names.
+     * Value at index 'HELO' or 'EHLO' (according to command that was sent)
+     * represents the server name. In case of HELO it is the only element of the array.
+     * Other values can be boolean TRUE or an array containing extension options.
+     * If null, no HELO/EHLO string has yet been received.
+     * @type array|null
+     */
+    protected $server_caps = null;
+
+    /**
+     * The most recent reply received from the server.
+     * @type string
+     */
+    protected $last_reply = '';
+
+    /**
+     * Output debugging info via a user-selected method.
+     * @see SMTP::$Debugoutput
+     * @see SMTP::$do_debug
+     * @param string $str Debug string to output
+     * @param integer $level The debug level of this message; see DEBUG_* constants
+     * @return void
+     */
+    protected function edebug($str, $level = 0)
+    {
+        if ($level > $this->do_debug) {
+            return;
+        }
+        //Avoid clash with built-in function names
+        if (!in_array($this->Debugoutput, array('error_log', 'html', 'echo')) and is_callable($this->Debugoutput)) {
+            call_user_func($this->Debugoutput, $str, $this->do_debug);
+            return;
+        }
+        switch ($this->Debugoutput) {
+            case 'error_log':
+                //Don't output, just log
+                error_log($str);
+                break;
+            case 'html':
+                //Cleans up output a bit for a better looking, HTML-safe output
+                echo htmlentities(
+                    preg_replace('/[\r\n]+/', '', $str),
+                    ENT_QUOTES,
+                    'UTF-8'
+                )
+                . "<br>\n";
+                break;
+            case 'echo':
+            default:
+                //Normalize line breaks
+                $str = preg_replace('/(\r\n|\r|\n)/ms', "\n", $str);
+                echo gmdate('Y-m-d H:i:s') . "\t" . str_replace(
+                    "\n",
+                    "\n                   \t                  ",
+                    trim($str)
+                )."\n";
+        }
+    }
+
+    /**
+     * Connect to an SMTP server.
+     * @param string $host SMTP server IP or host name
+     * @param integer $port The port number to connect to
+     * @param integer $timeout How long to wait for the connection to open
+     * @param array $options An array of options for stream_context_create()
+     * @access public
+     * @return boolean
+     */
+    public function connect($host, $port = null, $timeout = 30, $options = array())
+    {
+        static $streamok;
+        //This is enabled by default since 5.0.0 but some providers disable it
+        //Check this once and cache the result
+        if (is_null($streamok)) {
+            $streamok = function_exists('stream_socket_client');
+        }
+        // Clear errors to avoid confusion
+        $this->setError('');
+        // Make sure we are __not__ connected
+        if ($this->connected()) {
+            // Already connected, generate error
+            $this->setError('Already connected to a server');
             return false;
         }
-        $msg1 = $ntlm_client->TypeMsg1($realm, $workstation);//msg1
-        
-        fputs($this->smtp_conn,"AUTH NTLM " . base64_encode($msg1) . $this->CRLF);
-
-        $rply = $this->get_lines();
-        $code = substr($rply,0,3);
-        
-
-        if($code != 334) {
-            $this->error =
-                array("error" => "AUTH not accepted from server",
-                      "smtp_code" => $code,
-                      "smtp_msg" => substr($rply,4));
-            if($this->do_debug >= 1) {
-                $this->edebug("SMTP -> ERROR: " . $this->error["error"] . ": " . $rply . $this->CRLF);
-            }
+        if (empty($port)) {
+            $port = self::DEFAULT_SMTP_PORT;
+        }
+        // Connect to the SMTP server
+        $this->edebug(
+            "Connection: opening to $host:$port, timeout=$timeout, options=".var_export($options, true),
+            self::DEBUG_CONNECTION
+        );
+        $errno = 0;
+        $errstr = '';
+        if ($streamok) {
+            $socket_context = stream_context_create($options);
+            //Suppress errors; connection failures are handled at a higher level
+            $this->smtp_conn = @stream_socket_client(
+                $host . ":" . $port,
+                $errno,
+                $errstr,
+                $timeout,
+                STREAM_CLIENT_CONNECT,
+                $socket_context
+            );
+        } else {
+            //Fall back to fsockopen which should work in more places, but is missing some features
+            $this->edebug(
+                "Connection: stream_socket_client not available, falling back to fsockopen",
+                self::DEBUG_CONNECTION
+            );
+            $this->smtp_conn = fsockopen(
+                $host,
+                $port,
+                $errno,
+                $errstr,
+                $timeout
+            );
+        }
+        // Verify we connected properly
+        if (!is_resource($this->smtp_conn)) {
+            $this->setError(
+                'Failed to connect to server',
+                $errno,
+                $errstr
+            );
+            $this->edebug(
+                'SMTP ERROR: ' . $this->error['error']
+                . ": $errstr ($errno)",
+                self::DEBUG_CLIENT
+            );
             return false;
         }
-        
-        $challange = substr($rply,3);//though 0 based, there is a white space after the 3 digit number....//msg2
-        $challange = base64_decode($challange);
-        $ntlm_res = $ntlm_client->NTLMResponse(substr($challange,24,8),$password);
-        $msg3 = $ntlm_client->TypeMsg3($ntlm_res,$username,$realm,$workstation);//msg3
-        // Send encoded username
-        fputs($this->smtp_conn, base64_encode($msg3) . $this->CRLF);
-
-        $rply = $this->get_lines();
-        $code = substr($rply,0,3);
-
-        if($code != 235) {
-            $this->error =
-                array("error" => "Could not authenticate",
-                      "smtp_code" => $code,
-                      "smtp_msg" => substr($rply,4));
-            if($this->do_debug >= 1) {
-                $this->edebug("SMTP -> ERROR: " . $this->error["error"] . ": " . $rply . $this->CRLF);
+        $this->edebug('Connection: opened', self::DEBUG_CONNECTION);
+        // SMTP server can take longer to respond, give longer timeout for first read
+        // Windows does not have support for this timeout function
+        if (substr(PHP_OS, 0, 3) != 'WIN') {
+            $max = ini_get('max_execution_time');
+            // Don't bother if unlimited
+            if ($max != 0 && $timeout > $max) {
+                @set_time_limit($timeout);
             }
+            stream_set_timeout($this->smtp_conn, $timeout, 0);
+        }
+        // Get any announcement
+        $announce = $this->get_lines();
+        $this->edebug('SERVER -> CLIENT: ' . $announce, self::DEBUG_SERVER);
+        return true;
+    }
+
+    /**
+     * Initiate a TLS (encrypted) session.
+     * @access public
+     * @return boolean
+     */
+    public function startTLS()
+    {
+        if (!$this->sendCommand('STARTTLS', 'STARTTLS', 220)) {
+            return false;
+        }
+        // Begin encrypted connection
+        if (!stream_socket_enable_crypto(
+            $this->smtp_conn,
+            true,
+            STREAM_CRYPTO_METHOD_TLS_CLIENT
+        )) {
+            return false;
+        }
+        return true;
+    }
+
+    /**
+     * Perform SMTP authentication.
+     * Must be run after hello().
+     * @see hello()
+     * @param string $username    The user name
+     * @param string $password    The password
+     * @param string $authtype    The auth type (PLAIN, LOGIN, NTLM, CRAM-MD5)
+     * @param string $realm       The auth realm for NTLM
+     * @param string $workstation The auth workstation for NTLM
+     * @access public
+     * @return boolean True if successfully authenticated.
+     */
+    public function authenticate(
+        $username,
+        $password,
+        $authtype = null,
+        $realm = '',
+        $workstation = ''
+    ) {
+        if (!$this->server_caps) {
+            $this->setError('Authentication is not allowed before HELO/EHLO');
             return false;
         }
-        break;
-    }
-    return true;
-  }
-
-  /**
-   * Returns true if connected to a server otherwise false
-   * @access public
-   * @return bool
-   */
-  public function Connected() {
-    if(!empty($this->smtp_conn)) {
-      $sock_status = socket_get_status($this->smtp_conn);
-      if($sock_status["eof"]) {
-        // the socket is valid but we are not connected
-        if($this->do_debug >= 1) {
-            $this->edebug("SMTP -> NOTICE:" . $this->CRLF . "EOF caught while checking if connected");
-        }
-        $this->Close();
+
+        if (array_key_exists('EHLO', $this->server_caps)) {
+        // SMTP extensions are available. Let's try to find a proper authentication method
+
+            if (!array_key_exists('AUTH', $this->server_caps)) {
+                $this->setError('Authentication is not allowed at this stage');
+                // 'at this stage' means that auth may be allowed after the stage changes
+                // e.g. after STARTTLS
+                return false;
+            }
+
+            self::edebug('Auth method requested: ' . ($authtype ? $authtype : 'UNKNOWN'), self::DEBUG_LOWLEVEL);
+            self::edebug(
+                'Auth methods available on the server: ' . implode(',', $this->server_caps['AUTH']),
+                self::DEBUG_LOWLEVEL
+            );
+
+            if (empty($authtype)) {
+                foreach (array('LOGIN', 'CRAM-MD5', 'NTLM', 'PLAIN') as $method) {
+                    if (in_array($method, $this->server_caps['AUTH'])) {
+                        $authtype = $method;
+                        break;
+                    }
+                }
+                if (empty($authtype)) {
+                    $this->setError('No supported authentication methods found');
+                    return false;
+                }
+                self::edebug('Auth method selected: '.$authtype, self::DEBUG_LOWLEVEL);
+            }
+
+            if (!in_array($authtype, $this->server_caps['AUTH'])) {
+                $this->setError("The requested authentication method \"$authtype\" is not supported by the server");
+                return false;
+            }
+        } elseif (empty($authtype)) {
+            $authtype = 'LOGIN';
+        }
+        switch ($authtype) {
+            case 'PLAIN':
+                // Start authentication
+                if (!$this->sendCommand('AUTH', 'AUTH PLAIN', 334)) {
+                    return false;
+                }
+                // Send encoded username and password
+                if (!$this->sendCommand(
+                    'User & Password',
+                    base64_encode("\0" . $username . "\0" . $password),
+                    235
+                )
+                ) {
+                    return false;
+                }
+                break;
+            case 'LOGIN':
+                // Start authentication
+                if (!$this->sendCommand('AUTH', 'AUTH LOGIN', 334)) {
+                    return false;
+                }
+                if (!$this->sendCommand("Username", base64_encode($username), 334)) {
+                    return false;
+                }
+                if (!$this->sendCommand("Password", base64_encode($password), 235)) {
+                    return false;
+                }
+                break;
+            case 'NTLM':
+                /*
+                 * ntlm_sasl_client.php
+                 * Bundled with Permission
+                 *
+                 * How to telnet in windows:
+                 * http://technet.microsoft.com/en-us/library/aa995718%28EXCHG.65%29.aspx
+                 * PROTOCOL Docs http://curl.haxx.se/rfc/ntlm.html#ntlmSmtpAuthentication
+                 */
+                require_once 'extras/ntlm_sasl_client.php';
+                $temp = new stdClass;
+                $ntlm_client = new ntlm_sasl_client_class;
+                //Check that functions are available
+                if (!$ntlm_client->Initialize($temp)) {
+                    $this->setError($temp->error);
+                    $this->edebug(
+                        'You need to enable some modules in your php.ini file: '
+                        . $this->error['error'],
+                        self::DEBUG_CLIENT
+                    );
+                    return false;
+                }
+                //msg1
+                $msg1 = $ntlm_client->TypeMsg1($realm, $workstation); //msg1
+
+                if (!$this->sendCommand(
+                    'AUTH NTLM',
+                    'AUTH NTLM ' . base64_encode($msg1),
+                    334
+                )
+                ) {
+                    return false;
+                }
+                //Though 0 based, there is a white space after the 3 digit number
+                //msg2
+                $challenge = substr($this->last_reply, 3);
+                $challenge = base64_decode($challenge);
+                $ntlm_res = $ntlm_client->NTLMResponse(
+                    substr($challenge, 24, 8),
+                    $password
+                );
+                //msg3
+                $msg3 = $ntlm_client->TypeMsg3(
+                    $ntlm_res,
+                    $username,
+                    $realm,
+                    $workstation
+                );
+                // send encoded username
+                return $this->sendCommand('Username', base64_encode($msg3), 235);
+            case 'CRAM-MD5':
+                // Start authentication
+                if (!$this->sendCommand('AUTH CRAM-MD5', 'AUTH CRAM-MD5', 334)) {
+                    return false;
+                }
+                // Get the challenge
+                $challenge = base64_decode(substr($this->last_reply, 4));
+
+                // Build the response
+                $response = $username . ' ' . $this->hmac($challenge, $password);
+
+                // send encoded credentials
+                return $this->sendCommand('Username', base64_encode($response), 235);
+            default:
+                $this->setError("Authentication method \"$authtype\" is not supported");
+                return false;
+        }
+        return true;
+    }
+
+    /**
+     * Calculate an MD5 HMAC hash.
+     * Works like hash_hmac('md5', $data, $key)
+     * in case that function is not available
+     * @param string $data The data to hash
+     * @param string $key  The key to hash with
+     * @access protected
+     * @return string
+     */
+    protected function hmac($data, $key)
+    {
+        if (function_exists('hash_hmac')) {
+            return hash_hmac('md5', $data, $key);
+        }
+
+        // The following borrowed from
+        // http://php.net/manual/en/function.mhash.php#27225
+
+        // RFC 2104 HMAC implementation for php.
+        // Creates an md5 HMAC.
+        // Eliminates the need to install mhash to compute a HMAC
+        // by Lance Rushing
+
+        $bytelen = 64; // byte length for md5
+        if (strlen($key) > $bytelen) {
+            $key = pack('H*', md5($key));
+        }
+        $key = str_pad($key, $bytelen, chr(0x00));
+        $ipad = str_pad('', $bytelen, chr(0x36));
+        $opad = str_pad('', $bytelen, chr(0x5c));
+        $k_ipad = $key ^ $ipad;
+        $k_opad = $key ^ $opad;
+
+        return md5($k_opad . pack('H*', md5($k_ipad . $data)));
+    }
+
+    /**
+     * Check connection state.
+     * @access public
+     * @return boolean True if connected.
+     */
+    public function connected()
+    {
+        if (is_resource($this->smtp_conn)) {
+            $sock_status = stream_get_meta_data($this->smtp_conn);
+            if ($sock_status['eof']) {
+                // The socket is valid but we are not connected
+                $this->edebug(
+                    'SMTP NOTICE: EOF caught while checking if connected',
+                    self::DEBUG_CLIENT
+                );
+                $this->close();
+                return false;
+            }
+            return true; // everything looks good
+        }
         return false;
-      }
-      return true; // everything looks good
-    }
-    return false;
-  }
-
-  /**
-   * Closes the socket and cleans up the state of the class.
-   * It is not considered good to use this function without
-   * first trying to use QUIT.
-   * @access public
-   * @return void
-   */
-  public function Close() {
-    $this->error = null; // so there is no confusion
-    $this->helo_rply = null;
-    if(!empty($this->smtp_conn)) {
-      // close the connection and cleanup
-      fclose($this->smtp_conn);
-      $this->smtp_conn = 0;
-    }
-  }
-
-  /////////////////////////////////////////////////
-  // SMTP COMMANDS
-  /////////////////////////////////////////////////
-
-  /**
-   * Issues a data command and sends the msg_data to the server
-   * finializing the mail transaction. $msg_data is the message
-   * that is to be send with the headers. Each header needs to be
-   * on a single line followed by a <CRLF> with the message headers
-   * and the message body being seperated by and additional <CRLF>.
-   *
-   * Implements rfc 821: DATA <CRLF>
-   *
-   * SMTP CODE INTERMEDIATE: 354
-   *     [data]
-   *     <CRLF>.<CRLF>
-   *     SMTP CODE SUCCESS: 250
-   *     SMTP CODE FAILURE: 552,554,451,452
-   * SMTP CODE FAILURE: 451,554
-   * SMTP CODE ERROR  : 500,501,503,421
-   * @access public
-   * @param string $msg_data
-   * @return bool
-   */
-  public function Data($msg_data) {
-    $this->error = null; // so no confusion is caused
-
-    if(!$this->connected()) {
-      $this->error = array(
-              "error" => "Called Data() without being connected");
-      return false;
-    }
-
-    fputs($this->smtp_conn,"DATA" . $this->CRLF);
-
-    $rply = $this->get_lines();
-    $code = substr($rply,0,3);
-
-    if($this->do_debug >= 2) {
-      $this->edebug("SMTP -> FROM SERVER:" . $rply . $this->CRLF . '<br />');
-    }
-
-    if($code != 354) {
-      $this->error =
-        array("error" => "DATA command not accepted from server",
-              "smtp_code" => $code,
-              "smtp_msg" => substr($rply,4));
-      if($this->do_debug >= 1) {
-        $this->edebug("SMTP -> ERROR: " . $this->error["error"] . ": " . $rply . $this->CRLF . '<br />');
-      }
-      return false;
-    }
-
-    /* the server is ready to accept data!
-     * according to rfc 821 we should not send more than 1000
-     * including the CRLF
-     * characters on a single line so we will break the data up
-     * into lines by \r and/or \n then if needed we will break
-     * each of those into smaller lines to fit within the limit.
-     * in addition we will be looking for lines that start with
-     * a period '.' and append and additional period '.' to that
-     * line. NOTE: this does not count towards limit.
-     */
-
-    // normalize the line breaks so we know the explode works
-    $msg_data = str_replace("\r\n","\n",$msg_data);
-    $msg_data = str_replace("\r","\n",$msg_data);
-    $lines = explode("\n",$msg_data);
-
-    /* we need to find a good way to determine is headers are
-     * in the msg_data or if it is a straight msg body
-     * currently I am assuming rfc 822 definitions of msg headers
-     * and if the first field of the first line (':' sperated)
-     * does not contain a space then it _should_ be a header
-     * and we can process all lines before a blank "" line as
-     * headers.
-     */
-
-    $field = substr($lines[0],0,strpos($lines[0],":"));
-    $in_headers = false;
-    if(!empty($field) && !strstr($field," ")) {
-      $in_headers = true;
-    }
-
-    $max_line_length = 998; // used below; set here for ease in change
-
-    while(list(,$line) = @each($lines)) {
-      $lines_out = null;
-      if($line == "" && $in_headers) {
+    }
+
+    /**
+     * Close the socket and clean up the state of the class.
+     * Don't use this function without first trying to use QUIT.
+     * @see quit()
+     * @access public
+     * @return void
+     */
+    public function close()
+    {
+        $this->setError('');
+        $this->server_caps = null;
+        $this->helo_rply = null;
+        if (is_resource($this->smtp_conn)) {
+            // close the connection and cleanup
+            fclose($this->smtp_conn);
+            $this->smtp_conn = null; //Makes for cleaner serialization
+            $this->edebug('Connection: closed', self::DEBUG_CONNECTION);
+        }
+    }
+
+    /**
+     * Send an SMTP DATA command.
+     * Issues a data command and sends the msg_data to the server,
+     * finializing the mail transaction. $msg_data is the message
+     * that is to be send with the headers. Each header needs to be
+     * on a single line followed by a <CRLF> with the message headers
+     * and the message body being separated by and additional <CRLF>.
+     * Implements rfc 821: DATA <CRLF>
+     * @param string $msg_data Message data to send
+     * @access public
+     * @return boolean
+     */
+    public function data($msg_data)
+    {
+        //This will use the standard timelimit
+        if (!$this->sendCommand('DATA', 'DATA', 354)) {
+            return false;
+        }
+
+        /* The server is ready to accept data!
+         * According to rfc821 we should not send more than 1000 characters on a single line (including the CRLF)
+         * so we will break the data up into lines by \r and/or \n then if needed we will break each of those into
+         * smaller lines to fit within the limit.
+         * We will also look for lines that start with a '.' and prepend an additional '.'.
+         * NOTE: this does not count towards line-length limit.
+         */
+
+        // Normalize line breaks before exploding
+        $lines = explode("\n", str_replace(array("\r\n", "\r"), "\n", $msg_data));
+
+        /* To distinguish between a complete RFC822 message and a plain message body, we check if the first field
+         * of the first line (':' separated) does not contain a space then it _should_ be a header and we will
+         * process all lines before a blank line as headers.
+         */
+
+        $field = substr($lines[0], 0, strpos($lines[0], ':'));
         $in_headers = false;
-      }
-      // ok we need to break this line up into several smaller lines
-      while(strlen($line) > $max_line_length) {
-        $pos = strrpos(substr($line,0,$max_line_length)," ");
-
-        // Patch to fix DOS attack
-        if(!$pos) {
-          $pos = $max_line_length - 1;
-          $lines_out[] = substr($line,0,$pos);
-          $line = substr($line,$pos);
+        if (!empty($field) && strpos($field, ' ') === false) {
+            $in_headers = true;
+        }
+
+        foreach ($lines as $line) {
+            $lines_out = array();
+            if ($in_headers and $line == '') {
+                $in_headers = false;
+            }
+            //Break this line up into several smaller lines if it's too long
+            //Micro-optimisation: isset($str[$len]) is faster than (strlen($str) > $len),
+            while (isset($line[self::MAX_LINE_LENGTH])) {
+                //Working backwards, try to find a space within the last MAX_LINE_LENGTH chars of the line to break on
+                //so as to avoid breaking in the middle of a word
+                $pos = strrpos(substr($line, 0, self::MAX_LINE_LENGTH), ' ');
+                //Deliberately matches both false and 0
+                if (!$pos) {
+                    //No nice break found, add a hard break
+                    $pos = self::MAX_LINE_LENGTH - 1;
+                    $lines_out[] = substr($line, 0, $pos);
+                    $line = substr($line, $pos);
+                } else {
+                    //Break at the found point
+                    $lines_out[] = substr($line, 0, $pos);
+                    //Move along by the amount we dealt with
+                    $line = substr($line, $pos + 1);
+                }
+                //If processing headers add a LWSP-char to the front of new line RFC822 section 3.1.1
+                if ($in_headers) {
+                    $line = "\t" . $line;
+                }
+            }
+            $lines_out[] = $line;
+
+            //Send the lines to the server
+            foreach ($lines_out as $line_out) {
+                //RFC2821 section 4.5.2
+                if (!empty($line_out) and $line_out[0] == '.') {
+                    $line_out = '.' . $line_out;
+                }
+                $this->client_send($line_out . self::CRLF);
+            }
+        }
+
+        //Message data has been sent, complete the command
+        //Increase timelimit for end of DATA command
+        $savetimelimit = $this->Timelimit;
+        $this->Timelimit = $this->Timelimit * 2;
+        $result = $this->sendCommand('DATA END', '.', 250);
+        //Restore timelimit
+        $this->Timelimit = $savetimelimit;
+        return $result;
+    }
+
+    /**
+     * Send an SMTP HELO or EHLO command.
+     * Used to identify the sending server to the receiving server.
+     * This makes sure that client and server are in a known state.
+     * Implements RFC 821: HELO <SP> <domain> <CRLF>
+     * and RFC 2821 EHLO.
+     * @param string $host The host name or IP to connect to
+     * @access public
+     * @return boolean
+     */
+    public function hello($host = '')
+    {
+        //Try extended hello first (RFC 2821)
+        return (boolean)($this->sendHello('EHLO', $host) or $this->sendHello('HELO', $host));
+    }
+
+    /**
+     * Send an SMTP HELO or EHLO command.
+     * Low-level implementation used by hello()
+     * @see hello()
+     * @param string $hello The HELO string
+     * @param string $host The hostname to say we are
+     * @access protected
+     * @return boolean
+     */
+    protected function sendHello($hello, $host)
+    {
+        $noerror = $this->sendCommand($hello, $hello . ' ' . $host, 250);
+        $this->helo_rply = $this->last_reply;
+        if ($noerror) {
+            $this->parseHelloFields($hello);
         } else {
-          $lines_out[] = substr($line,0,$pos);
-          $line = substr($line,$pos + 1);
+            $this->server_caps = null;
         }
+        return $noerror;
+    }
 
-        /* if processing headers add a LWSP-char to the front of new line
-         * rfc 822 on long msg headers
-         */
-        if($in_headers) {
-          $line = "\t" . $line;
-        }
-      }
-      $lines_out[] = $line;
-
-      // send the lines to the server
-      while(list(,$line_out) = @each($lines_out)) {
-        if(strlen($line_out) > 0)
-        {
-          if(substr($line_out, 0, 1) == ".") {
-            $line_out = "." . $line_out;
-          }
-        }
-        fputs($this->smtp_conn,$line_out . $this->CRLF);
-      }
-    }
-
-    // message data has been sent
-    fputs($this->smtp_conn, $this->CRLF . "." . $this->CRLF);
-
-    $rply = $this->get_lines();
-    $code = substr($rply,0,3);
-
-    if($this->do_debug >= 2) {
-      $this->edebug("SMTP -> FROM SERVER:" . $rply . $this->CRLF . '<br />');
-    }
-
-    if($code != 250) {
-      $this->error =
-        array("error" => "DATA not accepted from server",
-              "smtp_code" => $code,
-              "smtp_msg" => substr($rply,4));
-      if($this->do_debug >= 1) {
-        $this->edebug("SMTP -> ERROR: " . $this->error["error"] . ": " . $rply . $this->CRLF . '<br />');
-      }
-      return false;
-    }
-    return true;
-  }
-
-  /**
-   * Sends the HELO command to the smtp server.
-   * This makes sure that we and the server are in
-   * the same known state.
-   *
-   * Implements from rfc 821: HELO <SP> <domain> <CRLF>
-   *
-   * SMTP CODE SUCCESS: 250
-   * SMTP CODE ERROR  : 500, 501, 504, 421
-   * @access public
-   * @param string $host
-   * @return bool
-   */
-  public function Hello($host = '') {
-    $this->error = null; // so no confusion is caused
-
-    if(!$this->connected()) {
-      $this->error = array(
-            "error" => "Called Hello() without being connected");
-      return false;
-    }
-
-    // if hostname for HELO was not specified send default
-    if(empty($host)) {
-      // determine appropriate default to send to server
-      $host = "localhost";
-    }
-
-    // Send extended hello first (RFC 2821)
-    if(!$this->SendHello("EHLO", $host)) {
-      if(!$this->SendHello("HELO", $host)) {
+    /**
+     * Parse a reply to HELO/EHLO command to discover server extensions.
+     * In case of HELO, the only parameter that can be discovered is a server name.
+     * @access protected
+     * @param string $type - 'HELO' or 'EHLO'
+     */
+    protected function parseHelloFields($type)
+    {
+        $this->server_caps = array();
+        $lines = explode("\n", $this->last_reply);
+        foreach ($lines as $n => $s) {
+            $s = trim(substr($s, 4));
+            if (!$s) {
+                continue;
+            }
+            $fields = explode(' ', $s);
+            if (!empty($fields)) {
+                if (!$n) {
+                    $name = $type;
+                    $fields = $fields[0];
+                } else {
+                    $name = array_shift($fields);
+                    if ($name == 'SIZE') {
+                        $fields = ($fields) ? $fields[0] : 0;
+                    }
+                }
+                $this->server_caps[$name] = ($fields ? $fields : true);
+            }
+        }
+    }
+
+    /**
+     * Send an SMTP MAIL command.
+     * Starts a mail transaction from the email address specified in
+     * $from. Returns true if successful or false otherwise. If True
+     * the mail transaction is started and then one or more recipient
+     * commands may be called followed by a data command.
+     * Implements rfc 821: MAIL <SP> FROM:<reverse-path> <CRLF>
+     * @param string $from Source address of this message
+     * @access public
+     * @return boolean
+     */
+    public function mail($from)
+    {
+        $useVerp = ($this->do_verp ? ' XVERP' : '');
+        return $this->sendCommand(
+            'MAIL FROM',
+            'MAIL FROM:<' . $from . '>' . $useVerp,
+            250
+        );
+    }
+
+    /**
+     * Send an SMTP QUIT command.
+     * Closes the socket if there is no error or the $close_on_error argument is true.
+     * Implements from rfc 821: QUIT <CRLF>
+     * @param boolean $close_on_error Should the connection close if an error occurs?
+     * @access public
+     * @return boolean
+     */
+    public function quit($close_on_error = true)
+    {
+        $noerror = $this->sendCommand('QUIT', 'QUIT', 221);
+        $err = $this->error; //Save any error
+        if ($noerror or $close_on_error) {
+            $this->close();
+            $this->error = $err; //Restore any error from the quit command
+        }
+        return $noerror;
+    }
+
+    /**
+     * Send an SMTP RCPT command.
+     * Sets the TO argument to $toaddr.
+     * Returns true if the recipient was accepted false if it was rejected.
+     * Implements from rfc 821: RCPT <SP> TO:<forward-path> <CRLF>
+     * @param string $toaddr The address the message is being sent to
+     * @access public
+     * @return boolean
+     */
+    public function recipient($toaddr)
+    {
+        return $this->sendCommand(
+            'RCPT TO',
+            'RCPT TO:<' . $toaddr . '>',
+            array(250, 251)
+        );
+    }
+
+    /**
+     * Send an SMTP RSET command.
+     * Abort any transaction that is currently in progress.
+     * Implements rfc 821: RSET <CRLF>
+     * @access public
+     * @return boolean True on success.
+     */
+    public function reset()
+    {
+        return $this->sendCommand('RSET', 'RSET', 250);
+    }
+
+    /**
+     * Send a command to an SMTP server and check its return code.
+     * @param string $command       The command name - not sent to the server
+     * @param string $commandstring The actual command to send
+     * @param integer|array $expect     One or more expected integer success codes
+     * @access protected
+     * @return boolean True on success.
+     */
+    protected function sendCommand($command, $commandstring, $expect)
+    {
+        if (!$this->connected()) {
+            $this->setError("Called $command without being connected");
+            return false;
+        }
+        $this->client_send($commandstring . self::CRLF);
+
+        $this->last_reply = $this->get_lines();
+        // Fetch SMTP code and possible error code explanation
+        $matches = array();
+        if (preg_match("/^([0-9]{3})[ -](?:([0-9]\\.[0-9]\\.[0-9]) )?/", $this->last_reply, $matches)) {
+            $code = $matches[1];
+            $code_ex = (count($matches) > 2 ? $matches[2] : null);
+            // Cut off error code from each response line
+            $detail = preg_replace(
+                "/{$code}[ -]".($code_ex ? str_replace('.', '\\.', $code_ex).' ' : '')."/m",
+                '',
+                $this->last_reply
+            );
+        } else {
+            // Fall back to simple parsing if regex fails
+            $code = substr($this->last_reply, 0, 3);
+            $code_ex = null;
+            $detail = substr($this->last_reply, 4);
+        }
+
+        $this->edebug('SERVER -> CLIENT: ' . $this->last_reply, self::DEBUG_SERVER);
+
+        if (!in_array($code, (array)$expect)) {
+            $this->setError(
+                "$command command failed",
+                $detail,
+                $code,
+                $code_ex
+            );
+            $this->edebug(
+                'SMTP ERROR: ' . $this->error['error'] . ': ' . $this->last_reply,
+                self::DEBUG_CLIENT
+            );
+            return false;
+        }
+
+        $this->setError('');
+        return true;
+    }
+
+    /**
+     * Send an SMTP SAML command.
+     * Starts a mail transaction from the email address specified in $from.
+     * Returns true if successful or false otherwise. If True
+     * the mail transaction is started and then one or more recipient
+     * commands may be called followed by a data command. This command
+     * will send the message to the users terminal if they are logged
+     * in and send them an email.
+     * Implements rfc 821: SAML <SP> FROM:<reverse-path> <CRLF>
+     * @param string $from The address the message is from
+     * @access public
+     * @return boolean
+     */
+    public function sendAndMail($from)
+    {
+        return $this->sendCommand('SAML', "SAML FROM:$from", 250);
+    }
+
+    /**
+     * Send an SMTP VRFY command.
+     * @param string $name The name to verify
+     * @access public
+     * @return boolean
+     */
+    public function verify($name)
+    {
+        return $this->sendCommand('VRFY', "VRFY $name", array(250, 251));
+    }
+
+    /**
+     * Send an SMTP NOOP command.
+     * Used to keep keep-alives alive, doesn't actually do anything
+     * @access public
+     * @return boolean
+     */
+    public function noop()
+    {
+        return $this->sendCommand('NOOP', 'NOOP', 250);
+    }
+
+    /**
+     * Send an SMTP TURN command.
+     * This is an optional command for SMTP that this class does not support.
+     * This method is here to make the RFC821 Definition complete for this class
+     * and _may_ be implemented in future
+     * Implements from rfc 821: TURN <CRLF>
+     * @access public
+     * @return boolean
+     */
+    public function turn()
+    {
+        $this->setError('The SMTP TURN command is not implemented');
+        $this->edebug('SMTP NOTICE: ' . $this->error['error'], self::DEBUG_CLIENT);
         return false;
-      }
-    }
-
-    return true;
-  }
-
-  /**
-   * Sends a HELO/EHLO command.
-   * @access private
-   * @param string $hello
-   * @param string $host
-   * @return bool
-   */
-  private function SendHello($hello, $host) {
-    fputs($this->smtp_conn, $hello . " " . $host . $this->CRLF);
-
-    $rply = $this->get_lines();
-    $code = substr($rply,0,3);
-
-    if($this->do_debug >= 2) {
-      $this->edebug("SMTP -> FROM SERVER: " . $rply . $this->CRLF . '<br />');
-    }
-
-    if($code != 250) {
-      $this->error =
-        array("error" => $hello . " not accepted from server",
-              "smtp_code" => $code,
-              "smtp_msg" => substr($rply,4));
-      if($this->do_debug >= 1) {
-        $this->edebug("SMTP -> ERROR: " . $this->error["error"] . ": " . $rply . $this->CRLF . '<br />');
-      }
-      return false;
-    }
-
-    $this->helo_rply = $rply;
-
-    return true;
-  }
-
-  /**
-   * Starts a mail transaction from the email address specified in
-   * $from. Returns true if successful or false otherwise. If True
-   * the mail transaction is started and then one or more Recipient
-   * commands may be called followed by a Data command.
-   *
-   * Implements rfc 821: MAIL <SP> FROM:<reverse-path> <CRLF>
-   *
-   * SMTP CODE SUCCESS: 250
-   * SMTP CODE SUCCESS: 552,451,452
-   * SMTP CODE SUCCESS: 500,501,421
-   * @access public
-   * @param string $from
-   * @return bool
-   */
-  public function Mail($from) {
-    $this->error = null; // so no confusion is caused
-
-    if(!$this->connected()) {
-      $this->error = array(
-              "error" => "Called Mail() without being connected");
-      return false;
-    }
-
-    $useVerp = ($this->do_verp ? " XVERP" : "");
-    fputs($this->smtp_conn,"MAIL FROM:<" . $from . ">" . $useVerp . $this->CRLF);
-
-    $rply = $this->get_lines();
-    $code = substr($rply,0,3);
-
-    if($this->do_debug >= 2) {
-      $this->edebug("SMTP -> FROM SERVER:" . $rply . $this->CRLF . '<br />');
-    }
-
-    if($code != 250) {
-      $this->error =
-        array("error" => "MAIL not accepted from server",
-              "smtp_code" => $code,
-              "smtp_msg" => substr($rply,4));
-      if($this->do_debug >= 1) {
-        $this->edebug("SMTP -> ERROR: " . $this->error["error"] . ": " . $rply . $this->CRLF . '<br />');
-      }
-      return false;
-    }
-    return true;
-  }
-
-  /**
-   * Sends the quit command to the server and then closes the socket
-   * if there is no error or the $close_on_error argument is true.
-   *
-   * Implements from rfc 821: QUIT <CRLF>
-   *
-   * SMTP CODE SUCCESS: 221
-   * SMTP CODE ERROR  : 500
-   * @access public
-   * @param bool $close_on_error
-   * @return bool
-   */
-  public function Quit($close_on_error = true) {
-    $this->error = null; // so there is no confusion
-
-    if(!$this->connected()) {
-      $this->error = array(
-              "error" => "Called Quit() without being connected");
-      return false;
-    }
-
-    // send the quit command to the server
-    fputs($this->smtp_conn,"quit" . $this->CRLF);
-
-    // get any good-bye messages
-    $byemsg = $this->get_lines();
-
-    if($this->do_debug >= 2) {
-      $this->edebug("SMTP -> FROM SERVER:" . $byemsg . $this->CRLF . '<br />');
-    }
-
-    $rval = true;
-    $e = null;
-
-    $code = substr($byemsg,0,3);
-    if($code != 221) {
-      // use e as a tmp var cause Close will overwrite $this->error
-      $e = array("error" => "SMTP server rejected quit command",
-                 "smtp_code" => $code,
-                 "smtp_rply" => substr($byemsg,4));
-      $rval = false;
-      if($this->do_debug >= 1) {
-        $this->edebug("SMTP -> ERROR: " . $e["error"] . ": " . $byemsg . $this->CRLF . '<br />');
-      }
-    }
-
-    if(empty($e) || $close_on_error) {
-      $this->Close();
-    }
-
-    return $rval;
-  }
-
-  /**
-   * Sends the command RCPT to the SMTP server with the TO: argument of $to.
-   * Returns true if the recipient was accepted false if it was rejected.
-   *
-   * Implements from rfc 821: RCPT <SP> TO:<forward-path> <CRLF>
-   *
-   * SMTP CODE SUCCESS: 250,251
-   * SMTP CODE FAILURE: 550,551,552,553,450,451,452
-   * SMTP CODE ERROR  : 500,501,503,421
-   * @access public
-   * @param string $to
-   * @return bool
-   */
-  public function Recipient($to) {
-    $this->error = null; // so no confusion is caused
-
-    if(!$this->connected()) {
-      $this->error = array(
-              "error" => "Called Recipient() without being connected");
-      return false;
-    }
-
-    fputs($this->smtp_conn,"RCPT TO:<" . $to . ">" . $this->CRLF);
-
-    $rply = $this->get_lines();
-    $code = substr($rply,0,3);
-
-    if($this->do_debug >= 2) {
-      $this->edebug("SMTP -> FROM SERVER:" . $rply . $this->CRLF . '<br />');
-    }
-
-    if($code != 250 && $code != 251) {
-      $this->error =
-        array("error" => "RCPT not accepted from server",
-              "smtp_code" => $code,
-              "smtp_msg" => substr($rply,4));
-      if($this->do_debug >= 1) {
-        $this->edebug("SMTP -> ERROR: " . $this->error["error"] . ": " . $rply . $this->CRLF . '<br />');
-      }
-      return false;
-    }
-    return true;
-  }
-
-  /**
-   * Sends the RSET command to abort and transaction that is
-   * currently in progress. Returns true if successful false
-   * otherwise.
-   *
-   * Implements rfc 821: RSET <CRLF>
-   *
-   * SMTP CODE SUCCESS: 250
-   * SMTP CODE ERROR  : 500,501,504,421
-   * @access public
-   * @return bool
-   */
-  public function Reset() {
-    $this->error = null; // so no confusion is caused
-
-    if(!$this->connected()) {
-      $this->error = array(
-              "error" => "Called Reset() without being connected");
-      return false;
-    }
-
-    fputs($this->smtp_conn,"RSET" . $this->CRLF);
-
-    $rply = $this->get_lines();
-    $code = substr($rply,0,3);
-
-    if($this->do_debug >= 2) {
-      $this->edebug("SMTP -> FROM SERVER:" . $rply . $this->CRLF . '<br />');
-    }
-
-    if($code != 250) {
-      $this->error =
-        array("error" => "RSET failed",
-              "smtp_code" => $code,
-              "smtp_msg" => substr($rply,4));
-      if($this->do_debug >= 1) {
-        $this->edebug("SMTP -> ERROR: " . $this->error["error"] . ": " . $rply . $this->CRLF . '<br />');
-      }
-      return false;
-    }
-
-    return true;
-  }
-
-  /**
-   * Starts a mail transaction from the email address specified in
-   * $from. Returns true if successful or false otherwise. If True
-   * the mail transaction is started and then one or more Recipient
-   * commands may be called followed by a Data command. This command
-   * will send the message to the users terminal if they are logged
-   * in and send them an email.
-   *
-   * Implements rfc 821: SAML <SP> FROM:<reverse-path> <CRLF>
-   *
-   * SMTP CODE SUCCESS: 250
-   * SMTP CODE SUCCESS: 552,451,452
-   * SMTP CODE SUCCESS: 500,501,502,421
-   * @access public
-   * @param string $from
-   * @return bool
-   */
-  public function SendAndMail($from) {
-    $this->error = null; // so no confusion is caused
-
-    if(!$this->connected()) {
-      $this->error = array(
-          "error" => "Called SendAndMail() without being connected");
-      return false;
-    }
-
-    fputs($this->smtp_conn,"SAML FROM:" . $from . $this->CRLF);
-
-    $rply = $this->get_lines();
-    $code = substr($rply,0,3);
-
-    if($this->do_debug >= 2) {
-      $this->edebug("SMTP -> FROM SERVER:" . $rply . $this->CRLF . '<br />');
-    }
-
-    if($code != 250) {
-      $this->error =
-        array("error" => "SAML not accepted from server",
-              "smtp_code" => $code,
-              "smtp_msg" => substr($rply,4));
-      if($this->do_debug >= 1) {
-        $this->edebug("SMTP -> ERROR: " . $this->error["error"] . ": " . $rply . $this->CRLF . '<br />');
-      }
-      return false;
-    }
-    return true;
-  }
-
-  /**
-   * This is an optional command for SMTP that this class does not
-   * support. This method is here to make the RFC821 Definition
-   * complete for this class and __may__ be implimented in the future
-   *
-   * Implements from rfc 821: TURN <CRLF>
-   *
-   * SMTP CODE SUCCESS: 250
-   * SMTP CODE FAILURE: 502
-   * SMTP CODE ERROR  : 500, 503
-   * @access public
-   * @return bool
-   */
-  public function Turn() {
-    $this->error = array("error" => "This method, TURN, of the SMTP ".
-                                    "is not implemented");
-    if($this->do_debug >= 1) {
-      $this->edebug("SMTP -> NOTICE: " . $this->error["error"] . $this->CRLF . '<br />');
-    }
-    return false;
-  }
-
-  /**
-  * Get the current error
-  * @access public
-  * @return array
-  */
-  public function getError() {
-    return $this->error;
-  }
-
-  /////////////////////////////////////////////////
-  // INTERNAL FUNCTIONS
-  /////////////////////////////////////////////////
-
-  /**
-   * Read in as many lines as possible
-   * either before eof or socket timeout occurs on the operation.
-   * With SMTP we can tell if we have more lines to read if the
-   * 4th character is '-' symbol. If it is a space then we don't
-   * need to read anything else.
-   * @access private
-   * @return string
-   */
-  private function get_lines() {
-    $data = "";
-    $endtime = 0;
-    /* If for some reason the fp is bad, don't inf loop */
-    if (!is_resource($this->smtp_conn)) {
-      return $data;
-    }
-    stream_set_timeout($this->smtp_conn, $this->Timeout);
-    if ($this->Timelimit > 0) {
-      $endtime = time() + $this->Timelimit;
-    }
-    while(is_resource($this->smtp_conn) && !feof($this->smtp_conn)) {
-      $str = @fgets($this->smtp_conn,515);
-      if($this->do_debug >= 4) {
-        $this->edebug("SMTP -> get_lines(): \$data was \"$data\"" . $this->CRLF . '<br />');
-        $this->edebug("SMTP -> get_lines(): \$str is \"$str\"" . $this->CRLF . '<br />');
-      }
-      $data .= $str;
-      if($this->do_debug >= 4) {
-        $this->edebug("SMTP -> get_lines(): \$data is \"$data\"" . $this->CRLF . '<br />');
-      }
-      // if 4th character is a space, we are done reading, break the loop
-      if(substr($str,3,1) == " ") { break; }
-      // Timed-out? Log and break
-      $info = stream_get_meta_data($this->smtp_conn);
-      if ($info['timed_out']) {
-        if($this->do_debug >= 4) {
-          $this->edebug("SMTP -> get_lines(): timed-out (" . $this->Timeout . " seconds) <br />");
-        }
-        break;
-      }
-      // Now check if reads took too long
-      if ($endtime) {
-        if (time() > $endtime) {
-          if($this->do_debug >= 4) {
-            $this->edebug("SMTP -> get_lines(): timelimit reached (" . $this->Timelimit . " seconds) <br />");
-          }
-          break;
-        }
-      }
-    }
-    return $data;
-  }
+    }
+
+    /**
+     * Send raw data to the server.
+     * @param string $data The data to send
+     * @access public
+     * @return integer|boolean The number of bytes sent to the server or false on error
+     */
+    public function client_send($data)
+    {
+        $this->edebug("CLIENT -> SERVER: $data", self::DEBUG_CLIENT);
+        return fwrite($this->smtp_conn, $data);
+    }
 
+    /**
+     * Get the latest error.
+     * @access public
+     * @return array
+     */
+    public function getError()
+    {
+        return $this->error;
+    }
+
+    /**
+     * Get SMTP extensions available on the server
+     * @access public
+     * @return array|null
+     */
+    public function getServerExtList()
+    {
+        return $this->server_caps;
+    }
+
+    /**
+     * A multipurpose method
+     * The method works in three ways, dependent on argument value and current state
+     *   1. HELO/EHLO was not sent - returns null and set up $this->error
+     *   2. HELO was sent
+     *     $name = 'HELO': returns server name
+     *     $name = 'EHLO': returns boolean false
+     *     $name = any string: returns null and set up $this->error
+     *   3. EHLO was sent
+     *     $name = 'HELO'|'EHLO': returns server name
+     *     $name = any string: if extension $name exists, returns boolean True
+     *       or its options. Otherwise returns boolean False
+     * In other words, one can use this method to detect 3 conditions:
+     *  - null returned: handshake was not or we don't know about ext (refer to $this->error)
+     *  - false returned: the requested feature exactly not exists
+     *  - positive value returned: the requested feature exists
+     * @param string $name Name of SMTP extension or 'HELO'|'EHLO'
+     * @return mixed
+     */
+    public function getServerExt($name)
+    {
+        if (!$this->server_caps) {
+            $this->setError('No HELO/EHLO was sent');
+            return null;
+        }
+
+        // the tight logic knot ;)
+        if (!array_key_exists($name, $this->server_caps)) {
+            if ($name == 'HELO') {
+                return $this->server_caps['EHLO'];
+            }
+            if ($name == 'EHLO' || array_key_exists('EHLO', $this->server_caps)) {
+                return false;
+            }
+            $this->setError('HELO handshake was used. Client knows nothing about server extensions');
+            return null;
+        }
+
+        return $this->server_caps[$name];
+    }
+
+    /**
+     * Get the last reply from the server.
+     * @access public
+     * @return string
+     */
+    public function getLastReply()
+    {
+        return $this->last_reply;
+    }
+
+    /**
+     * Read the SMTP server's response.
+     * Either before eof or socket timeout occurs on the operation.
+     * With SMTP we can tell if we have more lines to read if the
+     * 4th character is '-' symbol. If it is a space then we don't
+     * need to read anything else.
+     * @access protected
+     * @return string
+     */
+    protected function get_lines()
+    {
+        // If the connection is bad, give up straight away
+        if (!is_resource($this->smtp_conn)) {
+            return '';
+        }
+        $data = '';
+        $endtime = 0;
+        stream_set_timeout($this->smtp_conn, $this->Timeout);
+        if ($this->Timelimit > 0) {
+            $endtime = time() + $this->Timelimit;
+        }
+        while (is_resource($this->smtp_conn) && !feof($this->smtp_conn)) {
+            $str = @fgets($this->smtp_conn, 515);
+            $this->edebug("SMTP -> get_lines(): \$data was \"$data\"", self::DEBUG_LOWLEVEL);
+            $this->edebug("SMTP -> get_lines(): \$str is \"$str\"", self::DEBUG_LOWLEVEL);
+            $data .= $str;
+            $this->edebug("SMTP -> get_lines(): \$data is \"$data\"", self::DEBUG_LOWLEVEL);
+            // If 4th character is a space, we are done reading, break the loop, micro-optimisation over strlen
+            if ((isset($str[3]) and $str[3] == ' ')) {
+                break;
+            }
+            // Timed-out? Log and break
+            $info = stream_get_meta_data($this->smtp_conn);
+            if ($info['timed_out']) {
+                $this->edebug(
+                    'SMTP -> get_lines(): timed-out (' . $this->Timeout . ' sec)',
+                    self::DEBUG_LOWLEVEL
+                );
+                break;
+            }
+            // Now check if reads took too long
+            if ($endtime and time() > $endtime) {
+                $this->edebug(
+                    'SMTP -> get_lines(): timelimit reached ('.
+                    $this->Timelimit . ' sec)',
+                    self::DEBUG_LOWLEVEL
+                );
+                break;
+            }
+        }
+        return $data;
+    }
+
+    /**
+     * Enable or disable VERP address generation.
+     * @param boolean $enabled
+     */
+    public function setVerp($enabled = false)
+    {
+        $this->do_verp = $enabled;
+    }
+
+    /**
+     * Get VERP address generation mode.
+     * @return boolean
+     */
+    public function getVerp()
+    {
+        return $this->do_verp;
+    }
+
+    /**
+     * Set error messages and codes.
+     * @param string $message The error message
+     * @param string $detail Further detail on the error
+     * @param string $smtp_code An associated SMTP error code
+     * @param string $smtp_code_ex Extended SMTP code
+     */
+    protected function setError($message, $detail = '', $smtp_code = '', $smtp_code_ex = '')
+    {
+        $this->error = array(
+            'error' => $message,
+            'detail' => $detail,
+            'smtp_code' => $smtp_code,
+            'smtp_code_ex' => $smtp_code_ex
+        );
+    }
+
+    /**
+     * Set debug output method.
+     * @param string|callable $method The name of the mechanism to use for debugging output, or a callable to handle it.
+     */
+    public function setDebugOutput($method = 'echo')
+    {
+        $this->Debugoutput = $method;
+    }
+
+    /**
+     * Get debug output method.
+     * @return string
+     */
+    public function getDebugOutput()
+    {
+        return $this->Debugoutput;
+    }
+
+    /**
+     * Set debug output level.
+     * @param integer $level
+     */
+    public function setDebugLevel($level = 0)
+    {
+        $this->do_debug = $level;
+    }
+
+    /**
+     * Get debug output level.
+     * @return integer
+     */
+    public function getDebugLevel()
+    {
+        return $this->do_debug;
+    }
+
+    /**
+     * Set SMTP timeout.
+     * @param integer $timeout
+     */
+    public function setTimeout($timeout = 0)
+    {
+        $this->Timeout = $timeout;
+    }
+
+    /**
+     * Get SMTP timeout.
+     * @return integer
+     */
+    public function getTimeout()
+    {
+        return $this->Timeout;
+    }
 }
-?>

--- x2engine/protected/components/sortableWidget/SortableWidget.php ---
@@ -279,7 +279,7 @@ public static function getWidgetSubtypeOptions ($widgetType) {
 
                 foreach ($customModules as $module) {
                     $modelName = ucfirst ($module->name);
-                    if (class_exists ($modelName)) {
+                    if ($module->name !== 'document' && class_exists ($modelName)) {
                         // prefix widget class name with custom module model name and a delimiter
                         $cache[$widgetType][$modelName.'::TemplatesGridViewProfileWidget'] =
                             Yii::t(

--- x2engine/protected/components/sortableWidget/profileWidgets/EventsChartProfileWidget.php ---
@@ -133,8 +133,7 @@ public function getSetupScript () {
             $widgetClass = get_called_class ();
             $chartData = $this->getInitialChartData ();
             $userNames = User::getNames ();
-            $socialSubtypes = json_decode (
-                Dropdowns::model()->findByPk(113)->options,true);
+            $socialSubtypes = Dropdowns::getSocialSubtypes ();
             $visibilityFilters = array (
                 '1'=>'Public',
                 '0'=>'Private',
@@ -188,8 +187,7 @@ public function getViewFileParams () {
                 parent::getViewFileParams (),
                 array (
                     'userNames' => User::getNames (),
-                    'socialSubtypes' => json_decode (
-			            Dropdowns::model()->findByPk(113)->options,true),
+                    'socialSubtypes' => Dropdowns::getSocialSubtypes (),
                     'visibilityFilters' => array (
                         '1'=>'Public',
                         '0'=>'Private',

--- x2engine/protected/components/sortableWidget/profileWidgets/UsersChartProfileWidget.php ---
@@ -136,8 +136,7 @@ public function getSetupScript () {
             $chartData = $this->getInitialChartData ();
             $userNames = User::getNames ();
             $eventTypes = array ('all'=>Yii::t('app', 'All Events')) + Events::$eventLabels;
-            $socialSubtypes = json_decode (
-                Dropdowns::model()->findByPk(113)->options,true);
+            $socialSubtypes = Dropdowns::getSocialSubtypes ();
             $visibilityFilters = array (
                 '1'=>'Public',
                 '0'=>'Private',
@@ -198,8 +197,7 @@ public function getViewFileParams () {
                         $this->chartType),
                     'eventTypes' =>
                         array ('all'=>Yii::t('app', 'All Events')) + Events::$eventLabels,
-                    'socialSubtypes' => json_decode (
-			            Dropdowns::model()->findByPk(113)->options,true),
+                    'socialSubtypes' => Dropdowns::getSocialSubtypes (),
                     'visibilityFilters' => array (
                         '1'=>'Public',
                         '0'=>'Private',

--- x2engine/protected/components/sortableWidget/recordViewWidgets/InlineRelationshipsWidget.php ---
@@ -229,6 +229,7 @@ public function getPackages () {
     public function getViewFileParams () {
         if (!isset ($this->_viewFileParams)) {
             $linkableModels = X2Model::getModelTypesWhichSupportRelationships(true);
+            asort ($linkableModels);
              
 
             // used to instantiate html dropdown

--- x2engine/protected/components/util/StringUtil.php ---
@@ -0,0 +1,107 @@
+<?php
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
+
+class StringUtil {
+
+    /**
+     * Like preg_replace but with option to have exception thrown if error occurs
+     */
+    public static function pregReplace (
+        $pattern, $replacement, $subject, $limit = null, &$count = null, $throws=true) {
+
+        // precondition check
+        assert (!($limit === null && $count !== null));
+
+        if ($count !== null) {
+            $retVal = preg_replace ($pattern, $replacement, $subject, $limit, $count);
+        } elseif ($limit !== null) {
+            $retVal = preg_replace ($pattern, $replacement, $subject, $limit);
+        } else {
+            $retVal = preg_replace ($pattern, $replacement, $subject);
+        }
+
+        if ($throws && $retVal === null) {
+            throw new StringUtilException (
+                Yii::t('app', 'preg_replace error: '.
+                    StringUtilException::getErrorMessage (preg_last_error ())), 
+                StringUtilException::PREG_REPLACE_ERROR);
+        }
+        return $retVal;
+    }
+
+    /**
+     * Like preg_replace_callback but with option to have exception thrown if error occurs
+     */
+    public static function pregReplaceCallback (
+        $pattern, $callback, $subject, $limit = null, &$count = null, $throws=true) {
+
+        // precondition check
+        assert (!($limit === null && $count !== null));
+
+        if ($count !== null) {
+            $retVal = preg_replace_callback ($pattern, $callback, $subject, $limit, $count);
+        } elseif ($limit !== null) {
+            $retVal = preg_replace_callback ($pattern, $callback, $subject, $limit);
+        } else {
+            $retVal = preg_replace_callback ($pattern, $callback, $subject);
+        }
+        if ($throws && $retVal === null) {
+            throw new StringUtilException (
+                Yii::t('app', 'preg_replace_callback error: '.
+                    StringUtilException::getErrorMessage (preg_last_error ())), 
+                StringUtilException::PREG_REPLACE_CALLBACK_ERROR);
+        }
+        return $retVal;
+    }
+
+}
+
+class StringUtilException extends Exception {
+    const PREG_REPLACE_ERROR = 1;
+    const PREG_REPLACE_CALLBACK_ERROR = 2;
+
+    /**
+     * Convert PCRE error constant into an error message 
+     */
+    public static function getErrorMessage ($pcreConstant) {
+        $definedConstants = get_defined_constants (true);
+        $pcreConstantsByErrorCodes = array_flip ($definedConstants['pcre']);
+        return isset ($pcreConstantsByErrorCodes[$pcreConstant]) ?
+            $pcreConstantsByErrorCodes[$pcreConstant] : '';
+    }
+}
+
+?>

--- x2engine/protected/components/views/mediaBox.php ---
@@ -134,22 +134,19 @@
             ->queryAll();
 
         $admin = Yii::app()->params->isAdmin;
-        ?>
 
-        <?php foreach($users as $user){ ?>
-            <?php //$userMediaItems = X2Model::model('Media')->findAllByAttributes(array('uploadedBy'=>$user->username)); ?>
-            <?php
+        foreach($users as $user){ 
+            //$userMediaItems = X2Model::model('Media')->findAllByAttributes(array('uploadedBy'=>$user->username)); 
             $userMediaItems = Yii::app()->db->createCommand()
                     ->select('id, uploadedBy, fileName, description, private, drive, name')
                     ->where('uploadedBy=:username AND associationType="none"', array(':username' => $user['username']))
                     ->from('x2_media')
                     ->queryAll();
-            ?>
-            <?php if($userMediaItems){ // user has any media items? ?>
-                <?php $toggleUserMediaVisibleUrl = Yii::app()->controller->createUrl('/media/media/toggleUserMediaVisible')."?user={$user['username']}"; ?>
-                <?php $visible = !in_array($user['username'], $hideUsers); ?>
-                <?php if(!$visible) $minimizeUserMedia .= "$('#{$user['username']}-media').hide();\n"; ?>
-                <?php $minimizeLink = CHtml::ajaxLink(
+            if($userMediaItems){ // user has any media items? 
+                $toggleUserMediaVisibleUrl = Yii::app()->controller->createUrl('/media/media/toggleUserMediaVisible')."?user={$user['username']}"; 
+                $visible = !in_array($user['username'], $hideUsers);
+                if(!$visible) $minimizeUserMedia .= "$('#{$user['username']}-media').hide();\n"; 
+                $minimizeLink = CHtml::ajaxLink(
                     X2Html::fa ($visible ? 'fa-caret-down' : 'fa-caret-left'), 
                     $toggleUserMediaVisibleUrl, 
                     array(

--- x2engine/protected/components/views/webForm.php ---
@@ -41,7 +41,6 @@
 */
 
 
-
 mb_internal_encoding('UTF-8');
 mb_regex_encoding('UTF-8');
 Yii::app()->params->profile = Profile::model()->findByPk(1);
@@ -162,48 +161,42 @@
       bottom edge of the frame. Now it is based on 325px height for weblead,
       and 100px for weblist */
 
-    if (!empty($_GET['iframeHeight'])) {
-        $height = $_GET['iframeHeight'];
-        unset($_GET['iframeHeight']);
+    if (isset ($iframeHeight)) {
+        $height = $iframeHeight;
     } else {
         $height = $type == 'weblist' ? 125 : 325;
     }
-    if (!empty($_GET['bs'])) {
-        $border = intval(preg_replace('/[^0-9]/', '', $_GET['bs']));
-    } else if (!empty($_GET['bc'])) {
+    if (isset ($bs)) {
+        $border = intval(preg_replace('/[^0-9]/', '', $bs));
+    } else if (isset ($bc)) {
         $border = 0;
     } else $border = 0;
     $padding = 36;
     $height = $height - $padding - (2 * $border);
 
     echo 'border: '. $border .'px solid ';
-    if (!empty($_GET['bc'])) echo $_GET['bc'];
+    if (isset ($bc)) echo addslashes ($bc);
     echo ";\n";
 
-    unset($_GET['bs']);
-    unset($_GET['bc']);
     ?>
 
     -moz-border-radius: 3px;
     -webkit-border-radius: 3px;
     border-radius: 3px;
-    padding-bottom: <?php echo $padding ."px;\n"?>
-    height: <?php echo $height ."px;\n"?>
+    padding-bottom: <?php echo addslashes ($padding) ."px;\n"?>
+    height: <?php echo addslashes ($height) ."px;\n"?>
 }
 body {
     <?php
-    if (!empty($_GET['fg'])) {
-        echo 'color: '. $_GET['fg'] .";\n";
+    if (isset ($fg)) {
+        echo 'color: '. addslashes ($fg) .";\n";
     }
-    unset($_GET['fg']);
-    if (!empty($_GET['bgc'])) echo 'background-color: '. $_GET['bgc'] .";\n";
-    unset($_GET['bgc']);
-    if (!empty($_GET['font'])) {
-        echo 'font-family: '. FontPickerInput::getFontCss($_GET['font']) .";\n";
+    if (isset ($bgc)) echo 'background-color: '. addslashes ($bgc) .";\n";
+    if (isset ($font)) {
+        echo 'font-family: '. addslashes (FontPickerInput::getFontCss($font)) .";\n";
     } else {
         echo "font-family: Arial, Helvetica, sans-serif;\n";
     }
-    unset($_GET['font']);
     ?>
     font-size:12px;
 }
@@ -228,8 +221,7 @@
     border-radius: 2px;
     line-height: 1.5em;
 }
-br + input[type="text"],
-input[type="hidden"] + input[type="text"] {
+input[type="text"] {
     width: 100%;
 }
 #contact-header{
@@ -273,7 +265,6 @@
     'id'=>$type,
     'enableAjaxValidation'=>false,
     'htmlOptions'=>array(
-        'onSubmit'=> (($useDefaults) ? 'return validate();' : ''),
     ),
 ));
 
@@ -307,9 +298,9 @@ function renderFields ($fieldList, $type, $form, $model, $contactFields=null) {
             echo $form->error($model, $field['fieldName']);
 
             if($type === 'service' && in_array($field['fieldName'], $contactFields)){ ?>
-                <input type="text" name="Services[<?php echo $field['fieldName']; ?>]"
+                <input type="text" name="Services[<?php echo CHtml::encode ($field['fieldName']); ?>]"
                 value="<?php echo isset($_POST['Services'][$field['fieldName']]) ?
-                $_POST['Services'][$field['fieldName']] : ''; ?>" />
+                CHtml::encode ($_POST['Services'][$field['fieldName']]) : ''; ?>" />
             <?php
             } else {
                 
@@ -345,63 +336,16 @@ function renderFields ($fieldList, $type, $form, $model, $contactFields=null) {
 ?>
 
 <script>
-
-var defaultFields = <?php echo CJSON::encode ($fieldTypes); ?>;
-
-/*
-Sets input to empty string unless it contains the default value
-*/
-function clearText(field){
-    if (typeof field !== "undefined" && $(field).prop ('defaultValue') === $(field).val ())
-        $(field).val ("");
-}
-
-/*
-Add error styling if field input is invalid.
-Returns: false if field input is invalid, true otherwise
-*/
-function validateField(field) {
-    var input = $('#<?php echo $type; ?>').find (
-        '[name="<?php echo $modelName; ?>[' + field + ']"]');
-
-    if (!$(input).val () || // field is empty
-        $(input).val ().match (/^\s+$/) || // field contains only whitespace
-        (field == "email" && // invalid email format
-         $(input).val ().match(/[a-zA-Z0-9._%-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}/) == null)) {
-
-        // add error styling
-        $(input).css ({"border-color": "#c00"});
-        $(input).css ({"background-color": "#fee"});
-        return false;
-    } else {
-
-        // remove error styling
-        $(input).css ({"border-color": ""});
-        $(input).css ({"background-color": ""});
-        return true;
-    }
-}
-
-/*
-Clear and validate all default input fields
-*/
-function validate() {
-
-    clearText ($('#<?php echo $type; ?>').find (
-        '[name="<?php echo $modelName; ?>[backgroundInfo]"]'));
-
-    var valid = true;
-    for (var i in defaultFields) {
-        if (defaultFields[i] === null) continue;
-        if (!validateField(defaultFields[i])) {
-            valid = false;
-        }
-    }
-    return valid;
-}
+(function () {
+    // prevent duplicate submissions
+    $('form').submit (function () {
+        $(this).find ('#submit').attr ('disabled', 'disabled');
+    });
+}) ();
 
 <?php
 
+
 ?>
 </script>
 

--- x2engine/protected/components/x2flow/X2FlowItem.php ---
@@ -154,13 +154,28 @@ public function validateOptions(&$paramRules,$params=null,$showWarnings=false) {
                         list ($success, $message) = $this->validateDropdown ($option, $optRule);
                         if (!$success) return array (false, $message);
                         break;
+                    case 'email':
+                        list ($success, $message) = $this->validateEmail ($option, $optRule);
+                        if (!$success) return array (false, $message);
+                        break;
                 }
             }
         }
 
         return array (true, '');
     }
 
+    public function validateEmail ($option, $optRule) {
+        if (isset ($option['value'])) {
+            try {
+                EmailDeliveryBehavior::addressHeaderToArray ($option['value']);
+            } catch (CException $e) {
+                return array (false, $e->getMessage ());
+            }
+        }
+        return array (true, '');
+    }
+
     public function validateDropdown (&$option, $optRule) {
         $name = $optRule['name'];
         if ((!isset ($optRule['multiple']) || !$optRule['multiple']) && 

--- x2engine/protected/components/x2flow/actions/X2FlowAction.php ---
@@ -118,7 +118,7 @@ public function setModelAttributes(&$model,&$attributeList,&$params) {
 
                         if(is_string($value) && isset($params['model'])){
                             $value = X2FlowFormatter::replaceVariables(
-                                $value, $params['model'], $type);
+                                $value, $params, $type);
                         }
                     }
                 }

--- x2engine/protected/components/x2flow/actions/X2FlowCreateAction.php ---
@@ -92,7 +92,8 @@ public function execute(&$params) {
                 true,
                 Yii::t('studio', "View created action: ").$action->getLink ());
         } else {
-            return array(false, array_shift($action->getErrors()));
+            $errors = $action->getErrors ();
+            return array(false, array_shift($errors));
         }
 
 

--- x2engine/protected/components/x2flow/actions/X2FlowCreateEvent.php ---
@@ -58,10 +58,47 @@ public function paramRules(){
                     'type' => 'dropdown', 
                     'options' => $eventTypes
                 ),
-                array('name' => 'text', 'label' => Yii::t('studio', 'Text'), 'type' => 'text'),
-                array('name' => 'user', 'optional' => 1, 'label' => 'User (optional)', 'type' => 'dropdown', 'options' => array('' => '----------', 'auto' => 'Auto') + X2Model::getAssignmentOptions(false, false)),
                 array(
-                    'name' => 'createNotif', 'label' => Yii::t('studio', 'Create Notification?'),
+                    'name' => 'text',
+                    'label' => Yii::t('studio', 'Text'),
+                    'type' => 'text'
+                ),
+                array(
+                    'name' => 'visibility',
+                    'label' => Yii::t('studio', 'Visibility'),
+                    'type' => 'dropdown',
+                    'options' => array (
+                        1 => Yii::t('events','Public'),
+                        0 => Yii::t('events','Private'),
+                    ),
+                    'defaultVal' => 1
+                ),
+                array(
+                    'name' => 'feed',
+                    'optional' => 1,
+                    'label' => 'User (optional)',
+                    'type' => 'dropdown', 
+                    'options' => array(
+                        '' => '----------',
+                        'auto' => 'Auto'
+                        ) + X2Model::getAssignmentOptions(false, false)),
+                array(
+                    'name' => 'user',
+                    'optional' => 1,
+                    'label' => 'Author',
+                    'type' => 'dropdown', 
+                    'options' => array(
+                        'admin' => 'admin',
+                        'auto' => Yii::t('studio', 'Auto'),
+                        ) + array_diff_key (
+                            X2Model::getAssignmentOptions(false, false),
+                            array ('admin' => '')
+                        ),
+                    'defaultVal' => 'admin',
+                ),
+                array(
+                    'name' => 'createNotif', 
+                    'label' => Yii::t('studio', 'Create Notification?'),
                     'type' => 'boolean',
                     'defaultVal' => true
                 ),
@@ -75,53 +112,81 @@ public function execute(&$params){
         $event = new Events;
         $notif = new Notification;
 
-        $user = $this->parseOption('user', $params);
+        $user = $this->parseOption('feed', $params);
+        $author = $this->parseOption('user', $params);
 
         $type = $this->parseOption('type', $params);
+        $visibility = $this->parseOption('visibility', $params);
+
+// Unfinsihed automatic event type detection feature
+//        if($type === 'auto'){
+//            if(!isset($params['model']))
+//                return array (false, '');
+//            $notif->modelType = get_class($params['model']);
+//            $notif->modelId = $params['model']->id;
+//            $notif->type = $this->getNotifType();
+//
+//            $event->associationType = get_class($params['model']);
+//            $event->associationId = $params['model']->id;
+//            $event->type = $this->getEventType();
+//            if($params['model']->hasAttribute('visibility'))
+//                $event->visibility = $params['model']->visibility;
+//            // $event->user = $this->parseOption('user',$params);
+//        } else{
+        $text = $this->parseOption('text', $params);
+
+        $notif->type = 'custom';
+        $notif->text = $text;
+
+        $event->type = 'feed';
+        $event->subtype = $type;
+        $event->text = $text;
+        $event->visibility = $visibility;
+
+        if ($author == 'auto' && isset($params['model']) && 
+            $params['model']->hasAttribute('assignedTo') && 
+            !empty($params['model']->assignedTo)) {
+
+            $event->user = $params['model']->assignedTo;
+        } else {
+            $event->user = $author;
+        }
 
-        if($type === 'auto'){
-            if(!isset($params['model']))
-                return array (false, '');
-            $notif->modelType = get_class($params['model']);
-            $notif->modelId = $params['model']->id;
-            $notif->type = $this->getNotifType();
-
-            $event->associationType = get_class($params['model']);
-            $event->associationId = $params['model']->id;
-            $event->type = $this->getEventType();
-            if($params['model']->hasAttribute('visibility'))
-                $event->visibility = $params['model']->visibility;
-            // $event->user = $this->parseOption('user',$params);
-        } else{
-            $text = $this->parseOption('text', $params);
-
-            $notif->type = 'custom';
-            $notif->text = $text;
-
-            $event->type = 'feed';
-            $event->subtype = $type;
-            $event->text = $text;
-            if($user == 'auto' && isset($params['model']) && 
+        if (!empty ($user)) {
+            if ($user == 'auto' && isset($params['model']) && 
                 $params['model']->hasAttribute('assignedTo') && 
-                !empty($params['model']->assignedTo)){
+                !empty($params['model']->assignedTo)) {
 
-                $event->user = $params['model']->assignedTo;
-            }elseif(!empty($user)){
-                $event->user = $user;
-            }else{
-                $event->user = 'admin';
+                $associatedUser = $params['model']->assignedTo;
+            } else {
+                $associatedUser = $user;
+            }
+            $associatedUser = User::model ()->findByAttributes (array (
+                'username' => $associatedUser
+            ));
+            if ($associatedUser) {
+                $event->associationType = 'User';
+                $event->associationId = $associatedUser->id;
+                $notif->modelType = 'Profile';
+                $notif->modelId = $event->associationId;
+                $notif->type = 'social_post';
+                $notif->createdBy = $event->user;
+                $notif->user = $associatedUser->username;
             }
         }
+
         if(!$this->parseOption('createNotif', $params)) {
             if (!$notif->save()) {
-                return array(false, array_shift($notif->getErrors()));
+                $errors = $notif->getErrors ();
+                return array(false, array_shift($errors));
             }
         }
 
         if ($event->save()) {
             return array (true, "");
         } else {
-            return array(false, array_shift($event->getErrors()));
+            $errors = $event->getErrors ();
+            return array(false, array_shift($errors));
         }
 
     }

--- x2engine/protected/components/x2flow/actions/X2FlowCreateNotif.php ---
@@ -93,7 +93,8 @@ public function execute(&$params){
         if ($notif->save()) {
             return array (true, "");
         } else {
-            return array(false, array_shift($notif->getErrors()));
+            $errors = $notif->getErrors ();
+            return array(false, array_shift($errors));
         }
 
     }

--- x2engine/protected/components/x2flow/actions/X2FlowEmail.php ---
@@ -49,7 +49,11 @@ public function paramRules() {
         $parentRules['options'] = array_merge (
             $parentRules['options'],
             array (
-                array('name'=>'to','label'=>Yii::t('studio','To:'),'type'=>'email'),
+                array(
+                    'name'=>'to',
+                    'label'=>Yii::t( 'studio','To:'),
+                    'type'=>'email'
+                ),
                 array(
                     'name' => 'template',
                     'label' => Yii::t('studio', 'Template'),
@@ -89,6 +93,10 @@ public function paramRules() {
 
 	public function execute(&$params) {
 		$eml = new InlineEmail;
+
+        // make subject optional in order to support legacy flows  
+        $eml->requireSubjectOnCustom = false;
+
 		$options = &$this->config['options'];
 		$eml->to = $this->parseOption('to', $params);
         
@@ -115,14 +123,19 @@ public function execute(&$params) {
 		if(isset($options['body']['value']) && !empty($options['body']['value'])) {	
             $eml->scenario = 'custom';
 			$eml->message = InlineEmail::emptyBody($this->parseOption('body',$params));
-			$eml->prepareBody();
+			$prepared = $eml->prepareBody();
 			// $eml->insertSignature(array('<br /><br /><span style="font-family:Arial,Helvetica,sans-serif; font-size:0.8em">','</span>'));
 		} elseif(!empty($options['template']['value'])) {
 			$eml->scenario = 'template';
 			$eml->template = $this->parseOption('template',$params);
-			$eml->prepareBody();
+			$prepared = $eml->prepareBody();
 		}
 
+        if (!$prepared) { // InlineEmail failed validation
+            $errors = $eml->getErrors ();
+            return array (false, array_shift ($errors));
+        }
+
         list ($success, $message) = $this->checkDoNotEmailFields ($eml);
         if (!$success) {
             return array ($success, $message);

--- x2engine/protected/components/x2flow/actions/X2FlowRecordComment.php ---
@@ -90,7 +90,8 @@ public function execute(&$params){
                 true,
                 Yii::t('studio', 'View created action: ').$model->getLink());
         }else{
-            return array(false, array_shift($model->getErrors()));
+            $errors = $model->getErrors ();
+            return array(false, array_shift($errors));
         }
     }
 

--- x2engine/protected/components/x2flow/actions/X2FlowRecordCreateAction.php ---
@@ -76,7 +76,8 @@ public function execute(&$params){
                 Yii::t('studio', "View created action: ").$action->getLink ()
             );
         } else {
-            return array(false, array_shift($action->getErrors()));
+            $errors = $action->getErrors ();
+            return array(false, array_shift($errors));
         }
 
     }

--- x2engine/protected/components/x2flow/actions/X2FlowRecordListAdd.php ---
@@ -49,10 +49,18 @@ public function paramRules() {
 			'info' => Yii::t('studio',$this->info),
 			'modelRequired' => 'Contacts',
 			'options' => array(
-				array('name'=>'listId','label'=>Yii::t('studio','List'),'type'=>'link','linkType'=>'X2List','linkSource'=>Yii::app()->controller->createUrl(
-					CActiveRecord::model('X2List')->autoCompleteSource
-				)),
-			));
+				array(
+                    'name'=>'listId',
+                    'label'=>Yii::t('studio', 'List'),
+                    'type'=>'link',
+                    'linkType'=>'X2List',
+                    'linkSource'=>Yii::app()->controller->createUrl(
+					    CActiveRecord::model('X2List')->autoCompleteSource, array (
+                            'static' => 1
+                        )
+                    )
+				)
+            ));
 	}
 
 	public function execute(&$params) {
@@ -63,6 +71,7 @@ public function execute(&$params) {
             $list = CActiveRecord::model('X2List')->findByAttributes(
                 array('name'=>$listIdentifier));
         }
+
 		if($list !== null && $list->modelName === get_class($params['model'])) {
 			if ($list->addIds($params['model']->id)) {
                 return array (true, "");

--- x2engine/protected/components/x2flow/actions/X2FlowRecordListRemove.php ---
@@ -54,9 +54,11 @@ public function paramRules() {
                     'label'=>Yii::t('studio','List'),
                     'type'=>'link',
                     'linkType'=>'X2List',
-                    'linkSource'=>Yii::app()->createUrl(
-					    CActiveRecord::model('X2List')->autoCompleteSource
-				    )
+                    'linkSource'=>Yii::app()->controller->createUrl(
+					    CActiveRecord::model('X2List')->autoCompleteSource, array (
+                            'static' => 1
+                        )
+                    )
                 ),
 			));
 	}

--- x2engine/protected/components/x2flow/triggers/BaseTagTrigger.php ---
@@ -76,10 +76,18 @@ public function check(&$params){
             if(count(array_intersect($params['tags'], $tags)) > 0){
                 return $this->checkConditions($params);
             }else{
-                return array(false, Yii::t('studio','No tags on the record matched those in the tag trigger criteria.'));
+                return array(
+                    false, 
+                    Yii::t(
+                        'studio',
+                        'No tags on the record matched those in the tag trigger criteria.'));
             }
         }else{ // config is invalid or record has no tags (tags are not optional)
-            return array(false, empty($tags) ? Yii::t('studio','No tags in the trigger criteria!') : Yii::t('studio','Tags parameter missing!'));
+            return array(
+                false, 
+                empty($tags) ? 
+                    Yii::t('studio','No tags in the trigger criteria!') : 
+                    Yii::t('studio','Tags parameter missing!'));
         }
     }
 }

--- x2engine/protected/config/X2Config.php ---
@@ -5,8 +5,8 @@
 $user = 'root';
 $pass = '';
 $dbname = 'x2engine';
-$version = '5.0.8';
-$buildDate = '1432953582';
+$version = '5.0.9';
+$buildDate = '1436821810';
 $updaterVersion = '5.1.8';
 $language='en';
 ?>

--- x2engine/protected/controllers/AdminController.php ---
@@ -1817,6 +1817,12 @@ public function actionCreateUpdateField($search = 0, $save = 0, $override = 0) {
 
         if (isset($_POST['Fields']) && $save) {
             $model->attributes = $_POST['Fields'];
+            if (!isset ($_POST['Fields']['linkType'])) {
+                // This can be removed if we ever make the linkType attribute more structured
+                // (i.e. field type-specific link type validation rules)
+                $model->linkType = null;
+            }
+
             // Set the default value
             if (isset($_POST['AmorphousModel'])) {
                 $aModel = $_POST['AmorphousModel'];
@@ -2245,6 +2251,8 @@ public function actionTranslationManager() {
      * an optional "updateFlag" parameter can be passed, in which case the custom
      * module will have its file contents re-generated to be at the latest version
      * of the template files.
+     * TODO: clean up backupFlag code. backupFlag checks no longer necessary since conversion now
+     * aborts when backup fails.
      */
     public function actionConvertCustomModules() {
         $status = array();
@@ -2281,8 +2289,13 @@ public function actionConvertCustomModules() {
                         ));
                     } else {
                         $backupFlag = false;
-                        $status[$moduleName]['messages'][] = Yii::t('admin',
-                            'Backup failed. Unable to write to backup directory.');
+                        $status[$moduleName]['error'] = Yii::t('admin',
+                            'Backup failed. Unable to write to backup directory. '.
+                            'Aborting module conversion.');
+                        $this->render('convertCustomModules', array(
+                            'status' => $status,
+                        ));
+                        Yii::app()->end ();
                     }
                     if (file_exists ($modulePath.'/controllers/DefaultController.php')) {
                         // Controller needs to be updated to the new format
@@ -3025,7 +3038,7 @@ public function actionExportModelRecords($page, $model) {
         if ($page == 0 && $excludeHidden && isset($_SESSION['exportModelCriteria']) &&
             ($_SESSION['exportModelCriteria'] instanceof CDbCriteria)) {
 
-            // Save hidden condition in criteria to
+            // Save hidden condition in criteria
             $hiddenConditions = $staticModel->getHiddenCondition();
             $_SESSION['exportModelCriteria']->addCondition ($hiddenConditions);
         }
@@ -3058,17 +3071,33 @@ public function actionExportModelRecords($page, $model) {
                     if (!empty($name))
                         $record->$fieldName = $name;
                 }elseif ($fieldName == 'visibility') {
-                    $record->$fieldName = $record->$fieldName == 1 ? 'Public' : 'Private';
+                    switch ($record->$fieldName) {
+                        case 0:
+                            $record->$fieldName = 'Private';
+                            break;
+                        case 1:
+                            $record->$fieldName = 'Public';
+                            break;
+                        case 2:
+                            $record->$fieldName = 'User\'s Groups';
+                            break;
+                        default:
+                            $record->$fieldName = 'Private';
+                    }
                 }
             }
             // Enforce metadata to ensure accuracy of column order, then export.
             $combinedMeta = array_combine($_SESSION['modelExportMeta'], $_SESSION['modelExportMeta']);
             $recordAttributes = $record->attributes;
             if ($model === 'Actions') {
                 // Export descriptions with Actions
-                $recordAttributes = array_merge($recordAttributes, array(
-                    'actionDescription' => $record->actionDescription
-                ));
+                $actionText = $record->actionText;
+                if ($actionText) {
+                    $actionDescription = $actionText->text;
+                    $recordAttributes = array_merge($recordAttributes, array(
+                        'actionDescription' => $actionDescription
+                    ));
+                }
             }
             $tempAttributes = array_intersect_key($recordAttributes, $combinedMeta);
             $tempAttributes = array_merge($combinedMeta, $tempAttributes);
@@ -3210,6 +3239,7 @@ public function actionImportModels(){
             if (file_exists($filePath)) {
                 $fp = fopen($filePath, 'r+');
                 $_SESSION['csvLength'] = $this->calculateCsvLength($filePath);
+                $this->fixCsvLineEndings($filePath);
             } else {
                 throw new Exception('There was an error saving the models file.');
             }
@@ -3281,6 +3311,16 @@ protected function calculateCsvLength($csvfile) {
         return $lineCount;
     }
 
+    /**
+     * Remove any lone \r characters
+     * @param string $csvfile Path to CSV file
+     */
+    protected function fixCsvLineEndings($csvFile) {
+        $text = file_get_contents ($csvFile);
+        $replacement = preg_replace ('/\r([^\n])/m', "\r\n\\1", $text);
+        file_put_contents ($csvFile, $replacement);
+    }
+
     /**
      * Read metadata from the CSV and initialize session variables
      * @param resource $fp File pointer to CSV
@@ -3512,6 +3552,7 @@ public function actionImportModelRecords() {
         if(isset($_POST['count']) && file_exists($path = $this->safePath('data.csv')) &&
                 isset($_POST['model'])){
 
+            ini_set ('auto_detect_line_endings', 1); // Account for Mac based CSVs if possible
             $importedIds = array();
             $modelName = ucfirst($_POST['model']);
             $count = $_POST['count']; // Number of records to import
@@ -3644,6 +3685,21 @@ protected function importRecordAttribute($modelName, X2Model &$model, $fieldName
 
                 }
                 break;
+            case "visibility":
+                switch ($importAttribute) {
+                    case 'Private':
+                        $model->$fieldName = 0;
+                        break;
+                    case 'Public':
+                        $model->$fieldName = 1;
+                        break;
+                    case 'User\'s Groups':
+                        $model->$fieldName = 2;
+                        break;
+                    default:
+                        $model->$fieldName = $importAttribute;
+                }
+                break;
             default:
                 $model->$fieldName = $importAttribute;
         }
@@ -3770,14 +3826,9 @@ protected function fixupImportedAttributes($modelName, X2Model &$model) {
         if ($modelName === 'Actions' && isset($model->associationType))
             $this->reconstructImportedActionAssoc($model);
 
-        if ($model->hasAttribute('visibility')) {
-            // Nobody every remembers to set visibility... set it for them
-            if(empty($model->visibility) && ($model->visibility !== 0 && $model->visibility !== "0")
-                    || $model->visibility == 'Public') {
-                $model->visibility = 1;
-            } elseif($model->visibility == 'Private')
-                $model->visibility = 0;
-        }
+        // Set visibility to Public by default if unset by import
+        if ($model->hasAttribute('visibility') && is_null($model->visibility))
+            $model->visibility = 1;
         // If date fields were provided, do not create new values for them
         if (!empty($model->createDate) || !empty($model->lastUpdated) ||
                 !empty($model->lastActivity)) {
@@ -4582,7 +4633,7 @@ public function actionDropDownEditor() {
      * Delete a custom dropdown
      */
     public function actionDeleteDropdown() {
-        $dropdowns = Dropdowns::model()->findAll();
+        $dropdowns = Dropdowns::model()->findAll('id>=1000');
 
         if (isset($_POST['dropdown'])) {
             if ($_POST['dropdown'] != Actions::COLORS_DROPDOWN_ID) {
@@ -4603,9 +4654,13 @@ public function actionDeleteDropdown() {
     public function actionEditDropdown() {
         $model = new Dropdowns;
 
-        if (isset($_POST['Dropdowns'])) {
+        // TODO: validate dropdown select client-side
+        if (isset($_POST['Dropdowns']['id']) && ctype_digit ($_POST['Dropdowns']['id'])) {
             $model = Dropdowns::model()->findByPk(
                     $_POST['Dropdowns']['id']);
+            if (!isset ($model)) {
+                throw new CHttpException (404, Yii::t('app', 'Dropdown could not be found'));
+            }
             if ($model->id == Actions::COLORS_DROPDOWN_ID) {
                 if (AuxLib::issetIsArray($_POST['Dropdowns']['values']) &&
                         AuxLib::issetIsArray($_POST['Dropdowns']['labels']) &&
@@ -4872,7 +4927,7 @@ public function actionRollbackStage($model, $stage, $importId) {
      */
     public function actionRollbackImport() {
         // If an import ID is passed, load specific information about this import
-        if (isset($_GET['importId'])) {
+        if (isset($_GET['importId']) && ctype_digit ($_GET['importId'])) {
             $importId = $_GET['importId'];
             $types = Yii::app()->db->createCommand()
                     ->select('modelType')
@@ -4895,6 +4950,7 @@ public function actionRollbackImport() {
                 'typeArray' => $typeArray,
                 'dataProvider' => null,
                 'count' => $count,
+                'importId' => $importId,
             ));
         } else {
             // Otherwise, load a list of imports to choose from

--- x2engine/protected/controllers/ProfileController.php ---
@@ -713,8 +713,10 @@ public function actionAddPost($id, $redirect) {
         if (isset($_POST['Events']) && $_POST['Events']['text'] != Yii::t('app', 'Enter text here...')) {
             $post->text = $_POST['Events']['text'];
             $post->visibility = $_POST['Events']['visibility'];
-            if (isset($_POST['Events']['associationId']))
+            if (isset($_POST['Events']['associationId'])) {
                 $post->associationId = $_POST['Events']['associationId'];
+                $post->associationType = 'User';
+            }
             //$soc->attributes = $_POST['Social'];
             //die(var_dump($_POST['Social']));
             $post->user = Yii::app()->user->getName();
@@ -1310,6 +1312,14 @@ public function actionView($id, $publicProfile = false) {
     }
 
     public function actionGetEvents($lastEventId, $lastTimestamp, $myProfileId, $profileId) {
+        // validate params
+        if (!ctype_digit ($lastEventId) ||
+            !ctype_digit ($lastTimestamp) ||
+            !ctype_digit ($myProfileId) ||
+            !ctype_digit ($profileId)) {
+
+            throw new CHttpException (400, Yii::t('app', 'Invalid parameter'));
+        }
 
         $myProfile = Profile::model()->findByPk($myProfileId);
         $profile = Profile::model()->findByPk($profileId);
@@ -1599,8 +1609,10 @@ public function actionPublishPost() {
         if (isset($_POST['text']) && $_POST['text'] != "") {
             $post->text = $_POST['text'];
             $post->visibility = $_POST['visibility'];
-            if (isset($_POST['associationId']))
+            if (isset($_POST['associationId'])) {
                 $post->associationId = $_POST['associationId'];
+                $post->associationType = 'User';
+            }
             //$soc->attributes = $_POST['Social'];
             //die(var_dump($_POST['Social']));
             $post->user = Yii::app()->user->getName();
@@ -1609,7 +1621,9 @@ public function actionPublishPost() {
             $post->lastUpdated = time();
             $post->timestamp = time();
             if ($post->save()) {
-                if (!empty($post->associationId) && $post->associationId != Yii::app()->user->getId()) {
+                if (!empty($post->associationId) && 
+                    $post->associationId != Yii::app()->user->getId() &&
+                    $post->isVisibleTo (User::model ()->findByPk ($post->associationId))) {
 
                     $notif = new Notification;
 

--- x2engine/protected/controllers/SearchController.php ---
@@ -393,18 +393,30 @@ public function actionSearch(){
             }else{
                 Yii::app()->user->setState('vcr-list', $term);
                 $_COOKIE['vcr-list'] = $term;
-                $criteria = new CDbCriteria();
-                $criteria->addCondition ('tag=:tag');
-                $criteria->params = array (':tag' => $term);
-                $results = new CActiveDataProvider('Tags', array(
-                            'criteria' => $criteria,
-                            'pagination' => array(
-                                'pageSize' => Profile::getResultsPerPage(),
-                            ),
-                            'sort' => array(
-                                'defaultOrder' => 'timestamp DESC',
-                            )
-                        ));
+                $tagQuery = "
+                    SELECT * 
+                    FROM x2_tags
+                    WHERE tag=:tag
+                    group BY tag, type, itemId";
+                $params = array (':tag' => $term);
+
+                // group by type and itemId to prevent display of duplicate tags
+                $sql = Yii::app()->db->createCommand ($tagQuery);
+                $totalItemCount = Yii::app()->db->createCommand ("
+                    SELECT count(*)
+                    FROM ($tagQuery) as t1;
+                ")->queryScalar ($params);
+
+                $results = new CSqlDataProvider ($sql, array (
+                    'totalItemCount' => $totalItemCount,
+                    'sort' => array(
+                        'defaultOrder' => 'timestamp DESC',
+                    ),
+                    'pagination' => array(
+                        'pageSize' => Profile::getResultsPerPage(),
+                    ),
+                    'params' => $params,
+                ));
                 $this->render('searchTags', array(
                     'tags' => $results,
                     'term' => $term,

--- x2engine/protected/controllers/SiteController.php ---
@@ -1593,12 +1593,12 @@ public function actionAppendTag() {
                 return;
             }
             $model = X2Model::model($_POST['Type'])->findByPk($_POST['Id']);
-            echo $model->addTags($_POST['Tag']);
-            exit;
-            if ($model !== null && $model->addTags($_POST['Tag'])) {
-                echo 'true';
-                return;
+
+            if ($model === null || !Yii::app()->controller->checkPermissions ($model, 'view')) {
+                $this->denied ();
             }
+            echo $model->addTags($_POST['Tag']);
+            Yii::app()->end ();
         }
         echo 'false';
     }
@@ -1946,35 +1946,19 @@ public function actionToggleVisibility() {
     }
 
     /**
-     *  Remove a widget from the page and put it in the widgets menu
+     *  Remove a right widget from the page and put it in the hidden widgets menu
      */
     public function actionHideWidget() {
-        if (isset($_POST['name'])) {
+        if (isset($_POST['name']) && isset ($_POST['position'])) {
             $name = $_POST['name'];
+            $position = $_POST['position'];
 
             $layout = Yii::app()->params->profile->getLayout();
+            if (isset ($layout[$position][$name])) {
 
-            // the widget could be in any of the blocks in the page, so check all of them
-            foreach ($layout as $b => &$block) {
-                if (isset($block[$name])) {
-                    if ($b == 'right') {
-                        $layout['hiddenRight'][$name] = $block[$name];
-                    } else {
-                        $layout['hidden'][$name] = $block[$name];
-                    }
-                    unset($block[$name]);
-                    Yii::app()->params->profile->saveLayout($layout);
-                    break;
-                }
-            }
-
-            // make a list of hidden widgets, using <li>, to send back to the browser
-            $list = "";
-            foreach ($layout['hidden'] as $name => $widget) {
-                $list .= "<li><span class=\"x2-widget-menu-item\" id=\"$name\">{$widget['title']}</span></li>";
-            }
-            foreach ($layout['hiddenRight'] as $name => $widget) {
-                $list .= "<li><span class=\"x2-widget-menu-item right\" id=\"$name\">{$widget['title']}</span></li>";
+                $layout['hiddenRight'][$name] = $layout[$position][$name];
+                unset ($layout[$position][$name]);
+                Yii::app()->params->profile->saveLayout($layout);
             }
 
             echo Yii::app()->params->profile->getWidgetMenu();
@@ -2013,24 +1997,6 @@ public function actionShowWidget() {
                         break;
                     }
                 }
-            } else {
-
-                foreach ($layout['hidden'] as $key => $widget) {
-                    if ($key == $name) {
-                        $widget['minimize'] = false; // un-minimize widgets when we show them
-                        $layout[$block][$key] = $widget;
-                        unset($layout['hidden'][$key]);
-                        Yii::app()->params->profile->saveLayout($layout);
-                        Yii::app()->clientScript->scriptMap['*.js'] = false;
-                        $this->renderPartial('application.components.views.centerWidget', array(
-                            'widget' => $widget,
-                            'name' => $name,
-                            'modelType' => $modelType,
-                            'moduleName' => $moduleName,
-                            'modelId' => $modelId), false, true);
-                        break;
-                    }
-                }
             }
         }
     }

--- x2engine/protected/data/RBAC.sql ---
@@ -1420,7 +1420,9 @@ INSERT INTO `x2_auth_item_child` (`parent`,`child`) VALUES
 ('OpportunitiesFullAccess','OpportunitiesMinimumRequirements'),
 ('OpportunitiesPrivateUpdateAccess','OpportunitiesUpdatePrivate'),
 ('OpportunitiesReadOnlyAccess','OpportunitiesView'),
+('OpportunitiesReadOnlyAccess','OpportunitiesQuickView'),
 ('OpportunitiesViewPrivate','OpportunitiesView'),
+('OpportunitiesViewPrivate','OpportunitiesQuickView'),
 ('OpportunitiesPrivateReadOnlyAccess','OpportunitiesViewPrivate'),
 ('X2LeadsAdminAccess','X2LeadsAdmin'),
 ('administrator','X2LeadsAdminAccess'),
@@ -1519,7 +1521,9 @@ INSERT INTO `x2_auth_item_child` (`parent`,`child`) VALUES
 ('ProductsFullAccess','ProductsMinimumRequirements'),
 ('ProductsPrivateUpdateAccess','ProductsUpdatePrivate'),
 ('ProductsReadOnlyAccess','ProductsView'),
+('ProductsReadOnlyAccess','ProductsQuickView'),
 ('ProductsViewPrivate','ProductsView'),
+('ProductsViewPrivate','ProductsQuickView'),
 ('ProductsPrivateReadOnlyAccess','ProductsViewPrivate'),
 ('QuotesAdminAccess','QuotesAdmin'),
 ('administrator','QuotesAdminAccess'),
@@ -1570,7 +1574,9 @@ INSERT INTO `x2_auth_item_child` (`parent`,`child`) VALUES
 ('QuotesFullAccess','QuotesMinimumRequirements'),
 ('QuotesPrivateUpdateAccess','QuotesUpdatePrivate'),
 ('QuotesReadOnlyAccess','QuotesView'),
+('QuotesReadOnlyAccess','QuotesQuickView'),
 ('QuotesViewPrivate','QuotesView'),
+('QuotesViewPrivate','QuotesQuickView'),
 ('QuotesReadOnlyAccess','QuotesViewInline'),
 ('QuotesViewPrivate','QuotesViewInline'),
 ('QuotesPrivateReadOnlyAccess','QuotesViewPrivate'),

--- x2engine/protected/extensions/UniqueAttributesValidator.php ---
@@ -1,38 +0,0 @@
-<?php
-class UniqueAttributesValidator extends CValidator {
-
-	/**
-	 * The attributes boud in the unique contstraint with attribute
-	 * @var string
-	 */
-	public $with;
-
-	/**
-	 * Validates the attribute of the object.
-	 * If there is any error, the error message is added to the object.
-	 * @param CModel $object the object being validated
-	 * @param string $attribute the attribute being validated
-	 */
-	protected function validateAttribute($object,$attribute) {
-		$with = explode(",", $this->with);
-		if (count($with) < 1)
-			throw new Exception("Attribute 'with' not set");
-		$uniqueValidator = new CUniqueValidator();
-		$uniqueValidator->attributes = array($attribute);
-		$uniqueValidator->message = $this->message;
-		$uniqueValidator->on = $this->on;
-		$conditionParams = array();
-		$params = array();
-		foreach ($with as $attribute) {
-			$conditionParams[] = "`{$attribute}`=:{$attribute}";
-			$params[":{$attribute}"] = $object->$attribute;
-		}
-		$condition = implode(" AND ", $conditionParams);
-		$uniqueValidator->criteria = array(
-			'condition'=>$condition,
-			'params'=>$params
-		);
-		$uniqueValidator->validate($object);
-	}
-
-}

--- x2engine/protected/messages/de/accounts.php ---
@@ -2,6 +2,7 @@
 return array (
 // Account Attributes
 'Revenue'=>'Einnahmen',
+// test account comment
 'Symbol'=>'Symbol',
 'Employees'=>'Mitarbeiter',
 'Additional Information'=>'Weitere Informationen',
@@ -32,9 +33,9 @@
 'Create a new Account associated with this Account.'=>'Erstellen Sie ein neues Konto mit diesem Konto verknpft.',
 'Accounts Report'=>'Accounts melden',
 'Campaign Form'=>'Kampagne Formular',
-'This form will allow you to generate a campaign to mail related Contacts of the Accounts displayed in the report below. Select "Primary Contacts" to only email Contacts which are set as the Primary Contact for an Account. Select "All" to email all related Contacts on each Account.'=>'Diese Form ermglicht es Ihnen, eine Kampagne zu verwandten Kontakte des Accounts im Bericht unten angezeigt Mail zu generieren. Whlen Sie &quot;Primre Kontakte&quot;, um nur E-Mail-Kontakte, die als Hauptansprechpartner fr ein Konto eingestellt werden. Whlen Sie &quot;Alle&quot;, um alle damit verbundenen Kontakte auf jedem Konto E-Mail.',
+'This form will allow you to generate a campaign to mail related Contacts of the Accounts displayed in the report below. Select "Primary Contacts" to only email Contacts which are set as the Primary Contact for an Account. Select "All" to email all related Contacts on each Account.'=>'Diese Form ermglicht es Ihnen, eine Kampagne zu verwandten Kontakte des Accounts im Bericht unten angezeigt Mail zu generieren. Whlen Sie "Primre Kontakte", um nur E-Mail-Kontakte, die als Hauptansprechpartner fr ein Konto eingestellt werden. Whlen Sie "Alle", um alle damit verbundenen Kontakte auf jedem Konto E-Mail.',
 'Primary Contact'=>'Hauptansprechpartner',
 'Import Accounts'=>'Import-Konten',
 'Export Accounts'=>'Export-Konten',
 'Bug Report Attributes'=>'Bug Report Attribute',
-);
+);
\ No newline at end of file

--- x2engine/protected/messages/el/accounts.php ---
@@ -2,6 +2,7 @@
 return array (
 // Account Attributes
 'Revenue'=>'',
+// test account comment
 'Symbol'=>'',
 'Employees'=>'',
 'Additional Information'=>' ',
@@ -32,7 +33,7 @@
 'Create a new Account associated with this Account.'=>'         .',
 'Accounts Report'=>' ',
 'Campaign Form'=>' ',
-'This form will allow you to generate a campaign to mail related Contacts of the Accounts displayed in the report below. Select "Primary Contacts" to only email Contacts which are set as the Primary Contact for an Account. Select "All" to email all related Contacts on each Account.'=>'                    .   &quot;Primary &quot;  email              .  &quot;All&quot;  e-mail       .',
+'This form will allow you to generate a campaign to mail related Contacts of the Accounts displayed in the report below. Select "Primary Contacts" to only email Contacts which are set as the Primary Contact for an Account. Select "All" to email all related Contacts on each Account.'=>'                    .   "Primary "  email              .  "All"  e-mail       .',
 'Primary Contact'=>' ',
 'Import Accounts'=>' ',
 'Export Accounts'=>'  ',

--- x2engine/protected/messages/es/accounts.php ---
@@ -2,6 +2,7 @@
 return array (
 // Account Attributes
 'Revenue'=>'Ingresos Anuales',
+// test account comment
 'Symbol'=>'Clave en Bolsa',
 'Employees'=>'Empleados',
 'Additional Information'=>'Informacin Adicional',
@@ -32,7 +33,7 @@
 'Create a new Account associated with this Account.'=>'Crear una nueva cuenta asociada a esta cuenta.',
 'Accounts Report'=>'Cuentas Informar',
 'Campaign Form'=>'Formulario de Campaa',
-'This form will allow you to generate a campaign to mail related Contacts of the Accounts displayed in the report below. Select "Primary Contacts" to only email Contacts which are set as the Primary Contact for an Account. Select "All" to email all related Contacts on each Account.'=>'Este formulario le permitir generar una campaa para enviar contactos relacionados de las cuentas mostradas en el informe a continuacin. Seleccione &quot;Contactos principales&quot; a slo contactos de correo electrnico que se establecen como el contacto principal para obtener una cuenta. Seleccione &quot;Todos&quot; para enviar todos los contactos relacionados con cada cuenta.',
+'This form will allow you to generate a campaign to mail related Contacts of the Accounts displayed in the report below. Select "Primary Contacts" to only email Contacts which are set as the Primary Contact for an Account. Select "All" to email all related Contacts on each Account.'=>'Este formulario le permitir generar una campaa para enviar contactos relacionados de las cuentas mostradas en el informe a continuacin. Seleccione "Contactos principales" a slo contactos de correo electrnico que se establecen como el contacto principal para obtener una cuenta. Seleccione "Todos" para enviar todos los contactos relacionados con cada cuenta.',
 'Primary Contact'=>'Contacto principal',
 'Import Accounts'=>'Cuentas de importacin',
 'Export Accounts'=>'Cuentas de exportacin',

--- x2engine/protected/messages/fa/accounts.php ---
@@ -2,6 +2,7 @@
 return array (
 // Account Attributes
 'Revenue'=>'',
+// test account comment
 'Symbol'=>'',
 'Employees'=>' ',
 'Additional Information'=>' ',
@@ -32,7 +33,7 @@
 'Create a new Account associated with this Account.'=>'         .',
 'Accounts Report'=>' ',
 'Campaign Form'=>'     ',
-'This form will allow you to generate a campaign to mail related Contacts of the Accounts displayed in the report below. Select "Primary Contacts" to only email Contacts which are set as the Primary Contact for an Account. Select "All" to email all related Contacts on each Account.'=>'                          . &quot; &quot;               .    &quot;&quot;         .',
+'This form will allow you to generate a campaign to mail related Contacts of the Accounts displayed in the report below. Select "Primary Contacts" to only email Contacts which are set as the Primary Contact for an Account. Select "All" to email all related Contacts on each Account.'=>'                          . " "               .    ""         .',
 'Primary Contact'=>'  ',
 'Import Accounts'=>'  ',
 'Export Accounts'=>'  ',

--- x2engine/protected/messages/fr/accounts.php ---
@@ -2,6 +2,7 @@
 return array (
 // Account Attributes
 'Revenue'=>'Revenu',
+// test account comment
 'Symbol'=>'Symbole',
 'Employees'=>'Employs',
 'Additional Information'=>'Informations Complmentaires',
@@ -32,7 +33,7 @@
 'Create a new Account associated with this Account.'=>'Crer un nouveau compte associ  ce compte.',
 'Accounts Report'=>'Rapport des comptes',
 'Campaign Form'=>'Formulaire de campagne',
-'This form will allow you to generate a campaign to mail related Contacts of the Accounts displayed in the report below. Select "Primary Contacts" to only email Contacts which are set as the Primary Contact for an Account. Select "All" to email all related Contacts on each Account.'=>'Ce formulaire vous permet de gnrer une campagne visant  envoyer Contacts lis  des comptes affichs dans le rapport ci-dessous. Slectionnez &quot;Contacts primaires aux seuls contacts e-mail qui figurent comme premier contact pour un compte. Slectionnez &quot;All&quot;  l&#39;email tous les contacts associs  chaque compte.',
+'This form will allow you to generate a campaign to mail related Contacts of the Accounts displayed in the report below. Select "Primary Contacts" to only email Contacts which are set as the Primary Contact for an Account. Select "All" to email all related Contacts on each Account.'=>'Ce formulaire vous permet de gnrer une campagne visant  envoyer Contacts lis  des comptes affichs dans le rapport ci-dessous. Slectionnez "Contacts primaires aux seuls contacts e-mail qui figurent comme premier contact pour un compte. Slectionnez "All"  l&#39;email tous les contacts associs  chaque compte.',
 'Primary Contact'=>'Contact primaire',
 'Import Accounts'=>'Comptes importation',
 'Export Accounts'=>'Comptes  l&#39;exportation',

--- x2engine/protected/messages/he/accounts.php ---
@@ -2,6 +2,7 @@
 return array (
 // Account Attributes
 'Revenue'=>'',
+// test account comment
 'Symbol'=>'',
 'Employees'=>'',
 'Additional Information'=>' ',
@@ -32,7 +33,7 @@
 'Create a new Account associated with this Account.'=>'     .',
 'Accounts Report'=>'  ',
 'Campaign Form'=>' ',
-'This form will allow you to generate a campaign to mail related Contacts of the Accounts displayed in the report below. Select "Primary Contacts" to only email Contacts which are set as the Primary Contact for an Account. Select "All" to email all related Contacts on each Account.'=>'             .  &quot; &quot;    &quot;      .   &quot;&quot;         .',
+'This form will allow you to generate a campaign to mail related Contacts of the Accounts displayed in the report below. Select "Primary Contacts" to only email Contacts which are set as the Primary Contact for an Account. Select "All" to email all related Contacts on each Account.'=>'             .  " "    "      .   ""         .',
 'Primary Contact'=>'  ',
 'Import Accounts'=>' ',
 'Export Accounts'=>' ',

--- x2engine/protected/messages/it/accounts.php ---
@@ -2,6 +2,7 @@
 return array (
 // Account Attributes
 'Revenue'=>'Reddito',
+// test account comment
 'Symbol'=>'Simbolo',
 'Employees'=>'Dipendenti',
 'Additional Information'=>'Informazioni Aggiuntive',
@@ -32,7 +33,7 @@
 'Create a new Account associated with this Account.'=>'Crea un nuovo account associato a questo account.',
 'Accounts Report'=>'Conti Segnala',
 'Campaign Form'=>'Modulo di Campagna',
-'This form will allow you to generate a campaign to mail related Contacts of the Accounts displayed in the report below. Select "Primary Contacts" to only email Contacts which are set as the Primary Contact for an Account. Select "All" to email all related Contacts on each Account.'=>'Questo modulo permette di generare una campagna di mail relative contatti dei conti visualizzati nel report di seguito. Selezionare &quot;Contatti primarie&quot; a soli contatti e-mail che sono impostati come il contatto principale per un account. Selezionare &quot;All&quot; per inviare tutti i contatti relativi a ciascun account.',
+'This form will allow you to generate a campaign to mail related Contacts of the Accounts displayed in the report below. Select "Primary Contacts" to only email Contacts which are set as the Primary Contact for an Account. Select "All" to email all related Contacts on each Account.'=>'Questo modulo permette di generare una campagna di mail relative contatti dei conti visualizzati nel report di seguito. Selezionare "Contatti primarie" a soli contatti e-mail che sono impostati come il contatto principale per un account. Selezionare "All" per inviare tutti i contatti relativi a ciascun account.',
 'Primary Contact'=>'Contatto principale',
 'Import Accounts'=>'Conti di importazione',
 'Export Accounts'=>'Account Export',

--- x2engine/protected/messages/ja/accounts.php ---
@@ -2,6 +2,7 @@
 return array (
 // Account Attributes
 'Revenue'=>'',
+// test account comment
 'Symbol'=>'',
 'Employees'=>'',
 'Additional Information'=>'',
@@ -32,7 +33,7 @@
 'Create a new Account associated with this Account.'=>'',
 'Accounts Report'=>'',
 'Campaign Form'=>'',
-'This form will allow you to generate a campaign to mail related Contacts of the Accounts displayed in the report below. Select "Primary Contacts" to only email Contacts which are set as the Primary Contact for an Account. Select "All" to email all related Contacts on each Account.'=>' &quot;&quot; &quot;&quot;',
+'This form will allow you to generate a campaign to mail related Contacts of the Accounts displayed in the report below. Select "Primary Contacts" to only email Contacts which are set as the Primary Contact for an Account. Select "All" to email all related Contacts on each Account.'=>' "" ""',
 'Primary Contact'=>'',
 'Import Accounts'=>'',
 'Export Accounts'=>'',

--- x2engine/protected/messages/ko/accounts.php ---
@@ -2,6 +2,7 @@
 return array (
 // Account Attributes
 'Revenue'=>'',
+// test account comment
 'Symbol'=>'',
 'Employees'=>'',
 'Additional Information'=>' ',
@@ -32,7 +33,7 @@
 'Create a new Account associated with this Account.'=>'       .',
 'Accounts Report'=>' ',
 'Campaign Form'=>' ',
-'This form will allow you to generate a campaign to mail related Contacts of the Accounts displayed in the report below. Select "Primary Contacts" to only email Contacts which are set as the Primary Contact for an Account. Select "All" to email all related Contacts on each Account.'=>'             .         &quot; &quot; .        &quot;&quot; .',
+'This form will allow you to generate a campaign to mail related Contacts of the Accounts displayed in the report below. Select "Primary Contacts" to only email Contacts which are set as the Primary Contact for an Account. Select "All" to email all related Contacts on each Account.'=>'             .         " " .        "" .',
 'Primary Contact'=>' ',
 'Import Accounts'=>' ',
 'Export Accounts'=>' ',

--- x2engine/protected/messages/nl/accounts.php ---
@@ -2,6 +2,7 @@
 return array (
 // Account Attributes
 'Revenue'=>'Omzet',
+// test account comment
 'Symbol'=>'Symbool',
 'Employees'=>'Medewerkers',
 'Additional Information'=>'Aanvullende Informatie',
@@ -32,7 +33,7 @@
 'Create a new Account associated with this Account.'=>'Maak een nieuwe account gekoppeld aan dit account.',
 'Accounts Report'=>'Accounts melden',
 'Campaign Form'=>'Campagne Form',
-'This form will allow you to generate a campaign to mail related Contacts of the Accounts displayed in the report below. Select "Primary Contacts" to only email Contacts which are set as the Primary Contact for an Account. Select "All" to email all related Contacts on each Account.'=>'Dit formulier kunt u een campagne om e-mail gerelateerde contacten van de rekeningen weergegeven in onderstaande rapport te genereren. Selecteer &quot;Primaire Contacten&quot; om alleen e-mail contacten die worden ingesteld als de Primaire Contactpersoon voor een account. Selecteer &quot;All&quot; om e-mail alle gerelateerde contacten op elke account.',
+'This form will allow you to generate a campaign to mail related Contacts of the Accounts displayed in the report below. Select "Primary Contacts" to only email Contacts which are set as the Primary Contact for an Account. Select "All" to email all related Contacts on each Account.'=>'Dit formulier kunt u een campagne om e-mail gerelateerde contacten van de rekeningen weergegeven in onderstaande rapport te genereren. Selecteer "Primaire Contacten" om alleen e-mail contacten die worden ingesteld als de Primaire Contactpersoon voor een account. Selecteer "All" om e-mail alle gerelateerde contacten op elke account.',
 'Primary Contact'=>'Primaire Contact',
 'Import Accounts'=>'Import Accounts',
 'Export Accounts'=>'Export Accounts',

--- x2engine/protected/messages/pl/accounts.php ---
@@ -2,6 +2,7 @@
 return array (
 // Account Attributes
 'Revenue'=>'Dochd',
+// test account comment
 'Symbol'=>'Symbol',
 'Employees'=>'Zatrudnienie',
 'Additional Information'=>'Dodatkowe informacje',
@@ -32,7 +33,7 @@
 'Create a new Account associated with this Account.'=>'Utwrz nowe konto skojarzone z tym kontem.',
 'Accounts Report'=>'Konta Zgo',
 'Campaign Form'=>'Forma kampanii',
-'This form will allow you to generate a campaign to mail related Contacts of the Accounts displayed in the report below. Select "Primary Contacts" to only email Contacts which are set as the Primary Contact for an Account. Select "All" to email all related Contacts on each Account.'=>'Ten formularz pozwoli wygenerowa kampani mail powizany kontaktw z kont wywietlanych w raporcie poniej. Wybierz &quot;podstawowy Kontakty&quot; tylko na kontakty e-mail, ktre zostay opisane jako podstawowy Kontakt na konto. Wybierz &quot;All&quot;, aby wysa wszystkie podobne kontaktw na kadym z rachunkw.',
+'This form will allow you to generate a campaign to mail related Contacts of the Accounts displayed in the report below. Select "Primary Contacts" to only email Contacts which are set as the Primary Contact for an Account. Select "All" to email all related Contacts on each Account.'=>'Ten formularz pozwoli wygenerowa kampani mail powizany kontaktw z kont wywietlanych w raporcie poniej. Wybierz "podstawowy Kontakty" tylko na kontakty e-mail, ktre zostay opisane jako podstawowy Kontakt na konto. Wybierz "All", aby wysa wszystkie podobne kontaktw na kadym z rachunkw.',
 'Primary Contact'=>'Kontakt podstawowy',
 'Import Accounts'=>'Konta importowe',
 'Export Accounts'=>'Konta eksportowe',

--- x2engine/protected/messages/pt/accounts.php ---
@@ -2,6 +2,7 @@
 return array (
 // Account Attributes
 'Revenue'=>'Receita',
+// test account comment
 'Symbol'=>'Smbolo',
 'Employees'=>'Funcionrios',
 'Additional Information'=>'Informaes Adicionais',
@@ -32,7 +33,7 @@
 'Create a new Account associated with this Account.'=>'Criar uma nova conta associado a esta conta.',
 'Accounts Report'=>'Relatrio de Contas',
 'Campaign Form'=>'Formulrio campanha',
-'This form will allow you to generate a campaign to mail related Contacts of the Accounts displayed in the report below. Select "Primary Contacts" to only email Contacts which are set as the Primary Contact for an Account. Select "All" to email all related Contacts on each Account.'=>'Este formulrio permite que voc gere uma campanha para enviar contactos relacionados com as contas apresentadas no relatrio abaixo. Selecione &quot;Contatos primrias&quot; para nicos contatos de e-mail que so definidos como o contato principal para uma conta. Selecione &quot;Todos&quot; para e-mail todos os contatos relacionados em cada conta.',
+'This form will allow you to generate a campaign to mail related Contacts of the Accounts displayed in the report below. Select "Primary Contacts" to only email Contacts which are set as the Primary Contact for an Account. Select "All" to email all related Contacts on each Account.'=>'Este formulrio permite que voc gere uma campanha para enviar contactos relacionados com as contas apresentadas no relatrio abaixo. Selecione "Contatos primrias" para nicos contatos de e-mail que so definidos como o contato principal para uma conta. Selecione "Todos" para e-mail todos os contatos relacionados em cada conta.',
 'Primary Contact'=>'Contato Principal',
 'Import Accounts'=>'Importar Contas',
 'Export Accounts'=>'Contas de Exportao',

--- x2engine/protected/messages/ru/accounts.php ---
@@ -1,110 +1,41 @@
 <?php
-/*****************************************************************************************
- * X2Engine Open Source Edition is a customer relationship management program developed by
- * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
- * 
- * This program is free software; you can redistribute it and/or modify it under
- * the terms of the GNU Affero General Public License version 3 as published by the
- * Free Software Foundation with the addition of the following permission added
- * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
- * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
- * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
- * 
- * This program is distributed in the hope that it will be useful, but WITHOUT
- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
- * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
- * details.
- * 
- * You should have received a copy of the GNU Affero General Public License along with
- * this program; if not, see http://www.gnu.org/licenses or write to the Free
- * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
- * 02110-1301 USA.
- * 
- * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
- * California 95067, USA. or at email address contact@x2engine.com.
- * 
- * The interactive user interfaces in modified source and object code versions
- * of this program must display Appropriate Legal Notices, as required under
- * Section 5 of the GNU Affero General Public License version 3.
- * 
- * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
- * these Appropriate Legal Notices must retain the display of the "Powered by
- * X2Engine" logo. If the display of the logo is not reasonably feasible for
- * technical reasons, the Appropriate Legal Notices must display the words
- * "Powered by X2Engine".
- *****************************************************************************************/
-
 return array (
 // Account Attributes
-'ID'=>'ID',
-'Name'=>'',
-'Website'=>'WWW',
-'Type'=>'',
 'Revenue'=>' ',
-'Phone'=>'',
+// test account comment
 'Symbol'=>'',
 'Employees'=>'',
-'Assigned To'=>'',
-'Create Date'=>' ',
-'Associated Contacts'=>' ',
-'Description'=>'',
-'Last Updated'=>' ',
-'Updated By'=>'',
-'None'=>'',
-'Contacts'=>'',
-'Basic Information'=>' ',
 'Additional Information'=>' ',
-'Last Activity'=>' ',
+'Parent'=>'',
 
 // Accounts Actions
 'Accounts List'=>' ',
 'Create Account'=>'',
 'View Account'=>' ',
 'Update Account'=>' ',
 'Delete Account'=>' ',
-'Add a User'=>' ',
-'Add a Contact'=>' ',
-'Remove a User'=>' ',
-'Remove a Contact'=>' ',
 'Share Account'=>' ',
-'Create'=>'',
-'View'=>'',
-'Update'=>'',
-'Delete'=>'',
 'Update Account:'=>' :',
-'Share Opportunity'=>' ',
 'All Accounts'=>' ',
 'Edit Account'=>'',
 
-'Parent'=>'',
-'Address'=>'',
-'City'=>'',
-'Address'=>'',
-'State'=>'',
-'Postal Code'=>'',
-'Country'=>'',
-
-
 // Accounts Titles
-'Accounts'=>'',
 'Manage Accounts'=>' ',
 'Update Account: {name}'=>' : {}',
 'Account:'=>':',
 
 // Misc
-'Please click any new users you wish to add.'=>'  ,   .',
 'Please click any new users you wish to remove.'=>'  ,   .',
 'Account Record Details'=>' ',
 'Account Record'=>' ',
 'Create a new Opportunity associated with this Account.'=>'  ,    .',
 'Create a new Contact associated with this Account.'=>'      .',
-
+'Create a new Account associated with this Account.'=>'   ,    .',
 'Accounts Report'=>' ',
 'Campaign Form'=>' ',
-'This form will allow you to generate a campaign to mail related Contacts of the Accounts displayed in the report below. Select "Primary Contacts" to only email Contacts which are set as the Primary Contact for an Account. Select "All" to email all related Contacts on each Account.'=>'              .  &quot;Primary &quot;    ,       .  &quot;&quot;          .',
-'Create a new Account associated with this Account.'=>'   ,    .',
+'This form will allow you to generate a campaign to mail related Contacts of the Accounts displayed in the report below. Select "Primary Contacts" to only email Contacts which are set as the Primary Contact for an Account. Select "All" to email all related Contacts on each Account.'=>'              .  "Primary "    ,       .  ""          .',
 'Primary Contact'=>'  ',
 'Import Accounts'=>' ',
 'Export Accounts'=>' ',
 'Bug Report Attributes'=>'   ',
-);
+);
\ No newline at end of file

--- x2engine/protected/messages/ru/install.php ---
@@ -33,28 +33,6 @@
  * technical reasons, the Appropriate Legal Notices must display the words
  * "Powered by X2Engine".
  *****************************************************************************************/
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
 
 return array (
 // Install screen
@@ -217,4 +195,4 @@
 'Use of the directory "/tmp" is not permitted on this system.'=>'  &quot;/ TMP&quot;     .',
 'The system temporary directory, according to "sys_get_temp_dir", is not writable.'=>'  ,    &quot;sys_get_temp_dir&quot;,    .',
 'Usage of the system temporary directory, according to "sys_get_temp_dir", is either unknown or not permitted.'=>'   ,    &quot;sys_get_temp_dir&quot;,    .',
-);
\ No newline at end of file
+);

--- x2engine/protected/messages/template/accounts.php ---
@@ -2,6 +2,7 @@
 return array (
 // Account Attributes
 'Revenue'=>'',
+// test account comment
 'Symbol'=>'',
 'Employees'=>'',
 'Additional Information'=>'',

--- x2engine/protected/messages/zh_cn/accounts.php ---
@@ -2,6 +2,7 @@
 return array (
 // Account Attributes
 'Revenue'=>'',
+// test account comment
 'Symbol'=>'',
 'Employees'=>'',
 'Additional Information'=>'',

--- x2engine/protected/models/Admin.php ---
@@ -279,4 +279,11 @@ public function setActionPublisherTabs ($value) {
     }
 
     
+    
+    public function getDoNotEmailLinkText(){
+        if(!empty($this->doNotEmailLinkText)){
+            return $this->doNotEmailLinkText;
+        }
+        return self::getDoNotEmailLinkDefaultText ();
+    }
 }

--- x2engine/protected/models/Dropdowns.php ---
@@ -52,6 +52,13 @@ public static function model($className = __CLASS__){
         return parent::model($className);
     }
 
+    public static function getSocialSubtypes () {
+        $dropdown = Dropdowns::model()->findByPk(113);
+        if (!$dropdown) return array ();
+        return json_decode (
+            $dropdown->options,true);
+    }
+
     /**
      * @return string the associated database table name
      */

--- x2engine/protected/models/Events.php ---
@@ -82,6 +82,9 @@ public function rules() {
      * @return string Model's name
      */
     public static function parseModelName($model) {
+         
+
+
         $customModule = Modules::model()->findByAttributes(array(
             'custom' => 1,
             'name' => $model,
@@ -139,11 +142,16 @@ public function getText(array $params = array(), array $htmlOptions = array()) {
             case 'record_create':
                 $actionFlag = false;
                 if (class_exists($this->associationType)) {
-                    if (count(X2Model::model($this->associationType)->findAllByPk($this->associationId)) > 0) {
+                    if (count(X2Model::model($this->associationType)
+                        ->findAllByPk($this->associationId)) > 0) {
+
                         if ($this->associationType == 'Actions') {
                             $action = X2Model::model('Actions')->findByPk($this->associationId);
-                            if (isset($action) && (strcasecmp($action->associationType, 'contacts') === 0 || in_array($action->type, array('call', 'note', 'time')))) {
-                                // Special considerations for publisher-created actions, i.e. call, note, time, and anything associated with a contact
+                            if (isset($action) && 
+                                (strcasecmp($action->associationType, 'contacts') === 0 || 
+                                 in_array($action->type, array('call', 'note', 'time')))) {
+                                // Special considerations for publisher-created actions, i.e. call,
+                                // note, time, and anything associated with a contact
                                 $actionFlag = true;
                                 // Retrieve the assigned user from the related action
                                 $relatedAction = Actions::model()->findByPk ($this->associationId);
@@ -152,7 +160,8 @@ public function getText(array $params = array(), array $htmlOptions = array()) {
                             }
                         }
                         if ($actionFlag) {
-                            $authorText = empty($authorText) ? Yii::t('app', 'Someone') : $authorText;
+                            $authorText = empty($authorText) ? 
+                                Yii::t('app', 'Someone') : $authorText;
                             switch ($action->type) {
                                 case 'call':
                                     $text = Yii::t('app', '{authorText} logged a call ({duration}) with {modelLink}: "{logAbbrev}"', array(
@@ -207,15 +216,22 @@ public function getText(array $params = array(), array $htmlOptions = array()) {
                             }
                         } else {
                             if (!empty($authorText)) {
+                                $modelLink = X2Model::getModelLink (
+                                    $this->associationId, $this->associationType, $requireAbsoluteUrl);
                                 if (isset($action) && $this->user !== $action->assignedTo) {
                                     // Include the assignee if this is for an action assigned to someone other than the creator
                                     $translateText = "created a new {modelName} for {assignee}, {modelLink}";
-                                } else {
+                                } elseif (
+                                     
+                                    $modelLink !== '') {
+
                                     $translateText = "created a new {modelName}, {modelLink}";
+                                } else {
+                                    $translateText = "created a new {modelName}";
                                 }
                                 $text = $authorText . Yii::t('app', $translateText, array(
                                     '{modelName}' => Events::parseModelName($this->associationType),
-                                    '{modelLink}' => X2Model::getModelLink($this->associationId, $this->associationType, $requireAbsoluteUrl),
+                                    '{modelLink}' => $modelLink,
                                     '{assignee}' => isset($action) ? User::getUserLinks ($action->assignedTo) : null,
                                 ));
                             } else {
@@ -657,6 +673,43 @@ public static function deleteOldEvents() {
         }
     }
 
+    /**
+     * @param User $user
+     * @return bool true if event is visible to user, false otherwiser 
+     */
+    public function isVisibleTo ($user) {
+        if (Yii::app()->params->isAdmin) return true;
+        if (!$user) return false;
+
+        $assignedUser = null;
+        if ($this->associationType === 'User') {
+            $assignedUser = User::model ()->findByPk ($this->associationId);
+        }
+        switch (Yii::app()->settings->historyPrivacy) { 
+            case 'group':
+                if (in_array ($this->user, Groups::getGroupmates ($user->id)) ||
+                    ($this->associationType === 'User' && 
+                     $assignedUser &&
+                     in_array ($assignedUser->username, Groups::getGroupmates ($user->id)))) {
+
+                    return true;
+                }
+                // fall through
+            case 'user':
+                if ($this->user === $user->username ||
+                    ($this->associationType === 'User' && 
+                     ($this->associationId === $user->id))) {
+
+                    return true;
+                }
+                break;
+            default: // default history privacy (public or assigned)
+                return ($this->user === $user->username || $this->visibility ||
+                    $this->associationType === 'User' && $this->associationId === $user->id);
+        }
+        return false;
+    }
+
     /**
      * @param Profile $profile Profile to filter events by. Used for profile feeds other than
      *  the current user's
@@ -669,18 +722,33 @@ public function getAccessCriteria (Profile $profile=null) {
         $criteria->addCondition ('TRUE');
         if (!Yii::app()->params->isAdmin) {
             $criteria->params[':getAccessCriteria_username'] = Yii::app()->user->getName ();
+            $criteria->params[':getAccessCriteria_userId'] = Yii::app()->user->getId ();
+            $userCondition = '
+                user=:getAccessCriteria_username OR
+                associationType="User" AND associationId=:getAccessCriteria_userId
+            ';
             if (Yii::app()->settings->historyPrivacy == 'user') {
-                $criteria->addCondition ('user=:getAccessCriteria_username');
+                $criteria->addCondition ($userCondition);
             } elseif (Yii::app()->settings->historyPrivacy == 'group') {
-                $criteria->addCondition (
-                    'user IN (' .
-                        'SELECT DISTINCT b.username ' .
-                        'FROM x2_group_to_user a JOIN x2_group_to_user b ' .
-                        'ON a.groupId=b.groupId ' .
-                        'WHERE a.username=:getAccessCriteria_username' .
-                    ') OR (user = :getAccessCriteria_username)');
+                $criteria->addCondition ("
+                    $userCondition OR
+                    user IN (
+                        SELECT DISTINCT b.username 
+                        FROM x2_group_to_user a JOIN x2_group_to_user b 
+                        ON a.groupId=b.groupId 
+                        WHERE a.username=:getAccessCriteria_username
+                    ) OR (
+                        associationType='User' AND associationId in (
+                            SELECT DISTINCT b.id
+                            FROM x2_group_to_user a JOIN x2_group_to_user b
+                            ON a.groupId=b.groupId
+                            WHERE a.userId=:getAccessCriteria_userId
+                        )
+                    )");
             } else { // default history privacy (public or assigned)
-                $criteria->addCondition ("(user=:getAccessCriteria_username OR visibility=1)");
+                $criteria->addCondition ("
+                    $userCondition OR visibility=1
+                ");
             }
         }
 

--- x2engine/protected/models/Fields.php ---
@@ -70,6 +70,8 @@ class Fields extends CActiveRecord {
 
     private $_myTableName;
 
+    private $_typeChanged = false;
+
     /**
      * PHP types corresponding to field types in X2Engine.
      *
@@ -109,6 +111,13 @@ public function __construct($scenario = 'insert') {
         }   
     }
 
+    public function setAttributes ($values, $safeOnly=true) {
+        if (isset ($values['type']) && $this->type !== $values['type']) {
+            $this->_typeChanged = true;
+        }
+        return parent::setAttributes ($values, $safeOnly);
+    }
+
     /**
      * Rules for saving a field.
      *
@@ -163,6 +172,15 @@ public function countNonNull() {
             )->queryScalar();
     }
 
+    public static function getLinkTypes () {
+        return Yii::app()->db->createCommand ("
+            SELECT distinct(modelName)
+            FROM x2_fields
+            WHERE fieldName='nameId'
+            ORDER by modelName ASC
+        ")->queryColumn ();
+    }
+
     /**
      * Legacy function kept for backwards compatibility.
      *
@@ -594,7 +612,7 @@ function stripSymbols($s){ return !empty($s); }
      */
     public function beforeSave () {
         $valid = parent::beforeSave ();
-        if ($valid) {
+        if ($valid && $this->_typeChanged) {
             $table = Yii::app()->db->schema->tables[$this->myTableName];
             $existing = array_key_exists($this->fieldName, $table->columns) && 
                 $table->columns[$this->fieldName] instanceof CDbColumnSchema;

--- x2engine/protected/models/InlineEmail.php ---
@@ -153,6 +153,12 @@ class InlineEmail extends CFormModel {
     public $preview = false;
     public $stageEmail = false;
 
+    /**
+     * @var bool $requireSubjectOnCustom Allows subject requirement to be bypassed.   
+     * TODO: remove this once scenario code is refactored
+     */
+    public $requireSubjectOnCustom = true; 
+
 
      
 
@@ -212,15 +218,19 @@ class InlineEmail extends CFormModel {
      * @return array
      */
     public function rules(){
-        return array(
-            array('to, subject', 'required', 'on' => 'custom'),
+        $rules = array(
+            array('to', 'required', 'on' => 'custom'),
             // array('modelName,modelId', 'required', 'on' => 'template'),
             array('message', 'required', 'on' => 'custom'),
             array('to,cc,bcc', 'parseMailingList'),
             array('emailSendTime', 'date', 'allowEmpty' => true, 'timestampAttribute' => 'emailSendTimeParsed'),
             array('to, cc, credId, bcc, message, template, modelId, modelName, subject', 'safe'),
              
         );
+        if ($this->requireSubjectOnCustom) {
+            $rules[] = array('subject', 'required', 'on' => 'custom');
+        }
+        return $rules;
     }
 
     public function relations () {

--- x2engine/protected/models/Modules.php ---
@@ -142,15 +142,19 @@ public function search() {
     public static function getExportableModules() {
         $modules = Modules::model()->findAll();
         $moduleList = array();
-        $skipModules = array('Calendar', 'Charts', 'Groups', 'Reports', 'Media', 'Users', 'Workflow');
+        $skipModules = array(
+            'Calendar', 'Charts', 'Groups', 'Reports', 'Media', 'Users', 'Workflow', 
+            'EmailInboxes');
         foreach($modules as $module){
             $name = ucfirst($module->name);
             if (in_array($name, $skipModules)) {
                 continue;
             }
             if($name != 'Document'){
                 $controllerName = $name.'Controller';
-                if(file_exists('protected/modules/'.$module->name.'/controllers/'.$controllerName.'.php')){
+                if(file_exists(
+                    'protected/modules/'.$module->name.'/controllers/'.$controllerName.'.php')){
+
                     Yii::import("application.modules.$module->name.controllers.$controllerName");
                     $controller = new $controllerName($controllerName);
                     $model = $controller->modelClass;
@@ -223,6 +227,8 @@ public static function displayName($plural = true, $module = null) {
                     $moduleTitle = preg_replace('/y$/', 'ies', $moduleTitle);
                 } else if (preg_match('/ss$/', $moduleTitle)) {
                     $moduleTitle .= 'es';
+                } else if (in_array ($moduleTitle, array ('Service'))) {
+                    $moduleTitle .= 's';
                 }
             }
         }

--- x2engine/protected/models/Profile.php ---
@@ -997,24 +997,6 @@ function initLayout(){
                     'minimize' => false,
                 ),
             ),
-            'center' => array(
-                'RecordViewChart' => array(
-                    'title' => 'Record View Chart',
-                    'minimize' => false,
-                ),
-                'InlineTags' => array(
-                    'title' => 'Tags',
-                    'minimize' => false,
-                ),
-                'WorkflowStageDetails' => array(
-                    'title' => 'Process',
-                    'minimize' => false,
-                ),
-                'InlineRelationships' => array(
-                    'title' => 'Relationships',
-                    'minimize' => false,
-                ),
-            ),
             'right' => array(
                 'SmallCalendar' => array(
                     'title' => 'Small Calendar',
@@ -1073,13 +1055,13 @@ function initLayout(){
                     'minimize' => false,
                 ),
             ),
-            'hidden' => array(),
-            'hiddenRight' => array(), // x2temp, should be merged into 'hidden' when widgets can be placed anywhere
+            'hiddenRight' => array(),
         );
         if(Yii::app()->contEd('pro')){
             if(file_exists('protected/config/proWidgets.php')){
                 foreach(include('protected/config/proWidgets.php') as $loc=>$data){
-                    $layout[$loc] = array_merge($layout[$loc],$data);
+                    if (isset ($layout[$loc]))
+                        $layout[$loc] = array_merge($layout[$loc],$data);
                 }
             }
         }
@@ -1092,21 +1074,28 @@ function initLayout(){
      * elements specified in initLayout ().
      */
     private function addRemoveLayoutElements($position, &$layout, $initLayout){
-
         $changed = false;
+        if (!isset ($layout[$position])) {
+            $changed = true;
+            $layout[$position] = array ();
+        }
+        if (!isset ($layout['hiddenRight'])) {
+            $changed = true;
+            $layout['hiddenRight'] = array ();
+        }
 
-        $layoutWidgets = array_merge($layout[$position], $layout['hidden']);
-        if ($position === 'center') {
-            $initLayoutWidgets = array_merge($initLayout[$position], $initLayout['hidden']);
+        if ($position === 'right') {
+            $initLayoutWidgets = array_merge($initLayout[$position], $initLayout['hiddenRight']);
+            $layoutWidgets = array_merge($layout[$position], $layout['hiddenRight']);
         } else {
             $initLayoutWidgets = $initLayout[$position];
+            $layoutWidgets = $layout[$position];
         }
 
         // add new widgets
         $arrayDiff =
                 array_diff(array_keys($initLayoutWidgets), array_keys($layoutWidgets));
         foreach($arrayDiff as $elem){
-            //$layout[$position][$elem] = $initLayout[$position][$elem];
             $layout[$position] = array($elem => $initLayout[$position][$elem]) + $layout[$position]; // unshift key-value pair
             $changed = true;
         }
@@ -1118,28 +1107,31 @@ private function addRemoveLayoutElements($position, &$layout, $initLayout){
             if(in_array ($elem, array_keys ($layout[$position]))) {
                 unset($layout[$position][$elem]);
                 $changed = true;
-            } else if($position === 'center' && in_array ($elem, array_keys ($layout['hidden']))) {
-                unset($layout['hidden'][$elem]);
+            } else if($position === 'right' && 
+                in_array ($elem, array_keys ($layout['hiddenRight']))) {
+
+                unset($layout['hiddenRight'][$elem]);
                 $changed = true;
             }
         }
 
-
         // ensure that widget properties are the same as those in the default layout
         foreach($layout[$position] as $name=>$arr){
-            if (in_array ($name, array_keys ($initLayout[$position])) &&
-                $initLayout[$position][$name]['title'] !== $arr['title']) {
+            if (in_array ($name, array_keys ($initLayoutWidgets)) &&
+                $initLayoutWidgets[$name]['title'] !== $arr['title']) {
 
-                $layout[$position][$name]['title'] = $initLayout[$position][$name]['title'];
+                $layout[$position][$name]['title'] = $initLayoutWidgets[$name]['title'];
                 $changed = true;
             }
         }
-        if ($position === 'center') {
-            foreach($layout['hidden'] as $name=>$arr){
-                if (in_array ($name, array_keys ($initLayout[$position])) &&
-                    $initLayout[$position][$name]['title'] !== $arr['title']) {
 
-                    $layout['hidden'][$name]['title'] = $initLayout[$position][$name]['title'];
+        if ($position === 'right') {
+            foreach($layout['hiddenRight'] as $name=>$arr){
+                if (in_array ($name, array_keys ($initLayoutWidgets)) &&
+                    $initLayoutWidgets[$name]['title'] !== $arr['title']) {
+
+                    $layout['hiddenRight'][$name]['title'] = 
+                        $initLayoutWidgets[$name]['title'];
                     $changed = true;
                 }
             }
@@ -1167,7 +1159,7 @@ public function getLayout(){
             $this->update(array('layout'));
         }else{
             $layout = json_decode($layout, true); // json to associative array
-            $this->addRemoveLayoutElements('center', $layout, $initLayout);
+            if (!is_array ($layout)) $layout = array ();
             $this->addRemoveLayoutElements('left', $layout, $initLayout);
             $this->addRemoveLayoutElements('right', $layout, $initLayout);
         }

--- x2engine/protected/models/RelationshipsGridModel.php ---
@@ -126,7 +126,8 @@ public function renderAttribute ($name) {
                 echo $this->getLabel ();
                 break;
             case 'createDate':
-                echo X2Html::dynamicDate ($this->relatedModel->createDate);
+                echo isset ($this->relatedModel->createDate) ? 
+                    X2Html::dynamicDate ($this->relatedModel->createDate) : '';
                 break;
         }
     }

--- x2engine/protected/models/Tags.php ---
@@ -72,16 +72,29 @@ public function rules() {
         // NOTE: you should only define rules for those attributes that
         // will receive user inputs.
         return array(
+            array ('tag', 'validateTag'),
             array('type, itemId, taggedBy, tag', 'required'),
             array('itemId, timestamp', 'numerical', 'integerOnly'=>true),
             array('type, taggedBy', 'length', 'max'=>50),
             array('tag, itemName', 'length', 'max'=>250),
+            array(
+                'tag', 
+                'application.extensions.unique-attributes-validator.UniqueAttributesValidator', 
+                'with'=>'tag,type,itemId'
+            ),
             // The following rule is used by search().
             // Please remove those attributes that should not be searched.
             array('id, type, itemId, taggedBy, tag, timestamp, itemName', 'safe', 'on'=>'search'),
         );
     }
 
+    /**
+     * Normalizes tag format before all other forms of tag validation
+     */
+    public function validateTag ($attr) {
+        $this->$attr = self::normalizeTag ($this->$attr);
+    }
+
     /**
      * @return array customized attribute labels (name=>label)
      */
@@ -97,16 +110,6 @@ public function attributeLabels() {
         );
     }
 
-    /**
-     * Strip out all instances of the delimeter in the tag
-     */
-    public function beforeSave() {
-        if(strpos($this->tag,self::DELIM) !== false) {
-            $this->tag = strtr($this->tag,array(self::DELIM => ''));
-        }
-        return true;
-    }
-    
     /*
      * Returns a list of all existing tags, without the # at the beginning
      */
@@ -124,10 +127,17 @@ public static function getAllTags() {
         return $tags;
     }
 
-    public static function getTagLinks($model,$id,$limit = 0) {
-    
+    /**
+     * Return a list of tag links associated with a specified model
+     * @param $model Model type, e.g., "Contacts"
+     * @param $id Model ID
+     * @param $limit Number of tags to return, or -1 to disable
+     * @return string HTML containing links to each tag
+     */
+    public static function getTagLinks($model,$id,$limit = -1) {
+        // Disable limit in CDbCriteria with a value less than 0
         if(!is_numeric($limit) || empty($limit))
-            $limit = null;
+            $limit = -1;
     
         $tags = Tags::model()->findAllByAttributes(
             array('type'=>$model,'itemId'=>$id),
@@ -137,9 +147,10 @@ public static function getTagLinks($model,$id,$limit = 0) {
         
         $links = array();
         foreach($tags as &$tag) {
-            $links[] = CHtml::link(CHtml::encode($tag->tag),array('/search/search','term'=>CHtml::encode($tag->tag)));
+            $links[] = CHtml::link(
+                CHtml::encode($tag->tag),array('/search/search','term'=>CHtml::encode($tag->tag)));
         }
-        if(!empty($limit) && $tagCount > $limit)
+        if($limit !== -1 && $tagCount > $limit)
             $links[] = '...';
             
         return implode(' ',$links);
@@ -191,6 +202,9 @@ public static function parseTags($str, $suppressHash=false) {
 
     public static function normalizeTag ($tag, $suppressHash=false) {
         $tag = trim($tag);      
+        if (strpos ($tag, self::DELIM) !== false) {
+            $tag = strtr($tag,array(self::DELIM => ''));
+        }
         if(substr($tag,0,1) !== '#' && !$suppressHash) // make sure they have the hash
             $tag = '#'.$tag;
         if (substr ($tag, 0, 1) === '#' && $suppressHash) {

--- x2engine/protected/models/X2Flow.php ---
@@ -312,7 +312,8 @@ public static function trigger($triggerName, $params = array()){
         $triggerInfo = array (
             'triggerName' => Yii::t('studio', X2FlowItem::getTitle ($triggerName))
         );
-        if (isset ($params['model']) && is_subclass_of($params['model'],'X2Model')) {
+        if (isset ($params['model']) && is_subclass_of($params['model'],'X2Model') &&
+            $params['model']->asa ('X2LinkableBehavior')) {
             $triggerInfo['modelLink'] =
                 Yii::t('studio', 'View record: ').$params['model']->getLink ();
         }

--- x2engine/protected/models/X2Model.php ---
@@ -385,10 +385,11 @@ public static function getModelNames($criteria=null) {
                 $modules = X2Model::model('Modules')->findAll ($criteria);
             }
             foreach ($modules as $module) {
-                if ($modelName = X2Model::getModelName($module->name))
+                if ($modelName = X2Model::getModelName($module->name)) {
                     $modelNames[$modelName] = Yii::t('app', $module->title);
-                else // Custom module most likely
-                    $modelNames[ucfirst($module->name)] = self::getModelTitle($modelName);
+                } else { // Shouldn't happen since getModelName uses class_exists
+                    $modelNames[ucfirst($module->name)] = Yii::t('app', $module->title);
+                }
             }
             asort ($modelNames);
             if ($criteria !== null) {
@@ -421,7 +422,7 @@ public static function getModuleModelNames () {
             foreach ($modules as $module) {
                 if ($modelName = X2Model::getModelName($module->name))
                     $modelNames [] = $modelName;
-                else // Custom module most likely
+                else // Shouldn't happen since getModelName uses class_exists
                     $modelNames [] = ucfirst($module->name);
             }
             self::$_moduleModelNames = $modelNames;
@@ -476,7 +477,7 @@ public static function getAssociationTypeOptions() {
         return $associationTypes;
     }
 
-    public function getDisplayName ($plural=true) {
+    public function getDisplayName ($plural=true, $ofModule=true) {
         $moduleName = X2Model::getModuleName (get_class ($this));
         return Modules::displayName ($plural, $moduleName);
     }
@@ -1391,9 +1392,11 @@ public static function getModelTypes($assoc = false) {
                 ->queryColumn();
 
         if ($assoc === true) {
-            return array_combine($modelTypes, array_map(function($term) {
-                return Yii::t('app', X2Model::getModelTitle($term));
+            $modelTypes = array_combine($modelTypes, array_map(function($type) {
+                return X2Model::model ($type)->getDisplayName (true, false);
             }, $modelTypes));
+            asort ($modelTypes);
+            return $modelTypes;
         }
         $modelTypes = array_map(function($term) {
             return Yii::t('app', $term);
@@ -1799,19 +1802,19 @@ public static function renderModelInput(CModel $model, Fields $field, $htmlOptio
                 $model->$fieldName = Formatter::formatDate($model->$fieldName, 'medium');
                 Yii::import('application.extensions.CJuiDateTimePicker.CJuiDateTimePicker');
                 $input = Yii::app()->controller->widget('CJuiDateTimePicker', array(
-                            'model' => $model, //Model object
-                            'attribute' => $fieldName, //attribute name
-                            'mode' => 'date', //use "time","date" or "datetime" (default)
-                            'options' => array(// jquery options
-                                'dateFormat' => Formatter::formatDatePicker(),
-                                'changeMonth' => true,
-                                'changeYear' => true,
-                            ),
-                            'htmlOptions' => array_merge(array(
-                                'title' => $field->attributeLabel,
-                                    ), $htmlOptions),
-                            'language' => (Yii::app()->language == 'en') ? '' : Yii::app()->getLanguage(),
-                                ), true);
+                    'model' => $model, //Model object
+                    'attribute' => $fieldName, //attribute name
+                    'mode' => 'date', //use "time","date" or "datetime" (default)
+                    'options' => array(// jquery options
+                        'dateFormat' => Formatter::formatDatePicker(),
+                        'changeMonth' => true,
+                        'changeYear' => true,
+                    ),
+                    'htmlOptions' => array_merge(array(
+                        'title' => $field->attributeLabel,
+                            ), $htmlOptions),
+                    'language' => (Yii::app()->language == 'en') ? '' : Yii::app()->getLanguage(),
+                        ), true);
                 $model->$fieldName = $oldDateVal;
                 return $input;
             case 'dateTime':
@@ -3406,6 +3409,9 @@ private function _getFieldsForDropdown (
                 continue;
 
             $fieldName = $field->fieldName;
+            if ($this instanceof Actions && $fieldName === 'actionDescription') {
+                $fieldName = 'ActionText.text';
+            }
             $attributes = $field->getAttributes ();
             if ($parentAttribute !== null) {
                 $fieldName = $parentAttribute.$separator.$fieldName;

--- x2engine/protected/modules/accounts/controllers/AccountsController.php ---
@@ -98,14 +98,8 @@ public function actions() {
         ));
     }
 
-    public function actionGetItems() {
-        $sql = 'SELECT id, name as value FROM x2_accounts WHERE name LIKE :qterm ORDER BY name ASC';
-        $command = Yii::app()->db->createCommand($sql);
-        $qterm = $_GET['term'] . '%';
-        $command->bindParam(":qterm", $qterm, PDO::PARAM_STR);
-        $result = $command->queryAll();
-        echo CJSON::encode($result);
-        exit;
+    public function actionGetItems($term) {
+        X2LinkableBehavior::getItems ($term);
     }
 
     /**

--- x2engine/protected/modules/actions/controllers/ActionsController.php ---
@@ -1143,20 +1143,8 @@ public function loadModel($id){
     }
 
 
-    public function actionGetItems(){
-        $model = X2Model::model ($this->modelClass);
-        if (isset ($model)) {
-            $tableName = $model->tableName ();
-            $sql = 
-                'SELECT id, subject as value
-                 FROM '.$tableName.' WHERE subject LIKE :qterm ORDER BY subject ASC';
-            $command = Yii::app()->db->createCommand($sql);
-            $qterm = $_GET['term'].'%';
-            $command->bindParam(":qterm", $qterm, PDO::PARAM_STR);
-            $result = $command->queryAll();
-            echo CJSON::encode($result);
-        }
-        Yii::app()->end();
+    public function actionGetItems($term){
+        X2LinkableBehavior::getItems ($term, 'subject');
     }
 
     

--- x2engine/protected/modules/actions/models/ActionText.php ---
@@ -66,13 +66,29 @@ public function rules() {
         );
 	}
 
+    public function getField ($attr) {
+        if ($attr === 'text') {
+            $action = Actions::model ();
+            $action->actionDescription = $this->$attr;
+            return $action->getField ('actionDescription');
+        }
+    }
+
+    public function renderAttribute ($attr, $makeLinks=true, $textOnly=true, $encode=true) {
+        if ($attr === 'text') {
+            $action = Actions::model ();
+            $action->actionDescription = $this->$attr;
+            return $action->renderAttribute ('actionDescription', $makeLinks, $textOnly, $encode);
+        }
+    }
+
 	/**
 	 * @return array customized attribute labels (name=>label)
 	 */
 	public function attributeLabels() {
 		return array(
 			'actionId' => Yii::t('actions','Action ID'),
-			'text' => Yii::t('actions','Action Text'),
+			'text' => Yii::t('actions','Description'),
 		);
 	}
 

--- x2engine/protected/modules/bugReports/controllers/BugReportsController.php ---
@@ -41,14 +41,10 @@ class BugReportsController extends x2base {
      * @var string the default layout for the views. Defaults to '//layouts/column2', meaning
      * using two-column layout. See 'protected/views/layouts/column2.php'.
      */
-    public function actionGetItems(){
-        $sql = 'SELECT id, name as value, subject FROM x2_bug_reports WHERE name LIKE :qterm ORDER BY name ASC';
-        $command = Yii::app()->db->createCommand($sql);
-        $qterm = $_GET['term'].'%';
-        $command->bindParam(":qterm", $qterm, PDO::PARAM_STR);
-        $result = $command->queryAll();
-        echo CJSON::encode($result); exit;
+    public function actionGetItems($term){
+        X2LinkableBehavior::getItems ($term);
     }
+
     /**
      * Displays a particular model.
      * @param integer $id the ID of the model to be displayed

--- x2engine/protected/modules/calendar/assets/css/calendarLayout.css ---
@@ -32,7 +32,7 @@
  * technical reasons, the Appropriate Legal Notices must display the words
  * "Powered by X2Engine".
  *****************************************************************************************/
-/* line 25, ../../../../../compass/protected/modules/calendar/assets/css/calendarLayout.scss */
+/* line 36, ../../../../../compass/protected/modules/calendar/assets/css/calendarLayout.scss */
 table.page-title {
   background: #CECECE !important;
   /* @theme background: highlight1 */
@@ -41,23 +41,23 @@ table.page-title {
   height: 19px;
   box-sizing: border-box;
 }
-/* line 34, ../../../../../compass/protected/modules/calendar/assets/css/calendarLayout.scss */
+/* line 45, ../../../../../compass/protected/modules/calendar/assets/css/calendarLayout.scss */
 table.page-title tbody {
   display: block !important;
   width: 100%;
 }
-/* line 38, ../../../../../compass/protected/modules/calendar/assets/css/calendarLayout.scss */
+/* line 49, ../../../../../compass/protected/modules/calendar/assets/css/calendarLayout.scss */
 table.page-title tr {
   display: block !important;
   width: 100%;
 }
-/* line 42, ../../../../../compass/protected/modules/calendar/assets/css/calendarLayout.scss */
+/* line 53, ../../../../../compass/protected/modules/calendar/assets/css/calendarLayout.scss */
 table.page-title .fc-header-left {
   float: left !important;
   display: block !important;
   height: 10px;
 }
-/* line 47, ../../../../../compass/protected/modules/calendar/assets/css/calendarLayout.scss */
+/* line 58, ../../../../../compass/protected/modules/calendar/assets/css/calendarLayout.scss */
 table.page-title .fc-header-right {
   float: right !important;
   display: block !important;

--- x2engine/protected/modules/calendar/models/X2Calendar.php ---
@@ -373,7 +373,7 @@ public function searchBase(
 		));
 	}
 
-    public function getDisplayName ($plural=true) {
+    public function getDisplayName ($plural=true, $ofModule=true) {
         return Yii::t('calendar', 'Calendar');
     }
 	

--- x2engine/protected/modules/contacts/controllers/ContactsController.php ---
@@ -284,7 +284,7 @@ public function actionGetItems() {
         list($fullNameCol,$fullNameParam) = Formatter::fullNameSelect(
             'firstName', 'lastName', 'value');
         // This is necessary because the query won't work if one simply compares
-        // the ad-hoc column "value" as "value LIKE :qterm".
+        // the alias "value" as "value LIKE :qterm".
         list($fullNameCol2, $fullNameParam2) = Formatter::fullNameSelect('firstName', 'lastName');
         $sql = 'SELECT id, city, state, country, email, assignedTo, ' . $fullNameCol . '
             FROM x2_contacts t 
@@ -323,10 +323,15 @@ public function actionGetLists() {
         }
         // Optional search parameter for autocomplete
         $qterm = isset($_GET['term']) ? $_GET['term'] . '%' : '';
+        $static = isset($_GET['static']) && $_GET['static'];
         $result = Yii::app()->db->createCommand()
                 ->select('id,name as value')
                 ->from('x2_lists')
-                ->where('modelName="Contacts" AND type!="campaign" AND name LIKE :qterm' . $condition, array(':qterm' => $qterm))
+                ->where(
+                    ($static ? 'type="static" AND ' : '').
+                    'modelName="Contacts" AND type!="campaign" 
+                    AND name LIKE :qterm' . $condition, 
+                    array(':qterm' => $qterm))
                 ->order('name ASC')
                 ->queryAll();
         echo CJSON::encode($result);
@@ -493,7 +498,7 @@ public function actionIgnoreDuplicates() {
                     Contacts::model()->deleteAll($criteria);
                 }
             }
-            echo $model->id;
+            echo CHtml::encode ($model->id);
         }
     }
 
@@ -507,7 +512,7 @@ public function actionDiscardNew() {
             $action = $_POST['action'];
             $oldId = $_POST['id'];
             if ($ref == 'create' && is_null($action) || $action == 'null') {
-                echo $oldId;
+                echo CHtml::encode ($oldId);
                 return;
             } elseif ($ref == 'create') {
                 $oldRecord = X2Model::model('Contacts')->findByPk($oldId);
@@ -530,11 +535,9 @@ public function actionDiscardNew() {
                         $notif->modelType = 'Contacts';
                         $notif->modelId = $oldId;
                         $notif->save();
-                        echo $_POST['id'];
                         return;
                     } elseif ($action == 'deleteThis') {
                         $oldRecord->delete();
-                        echo $_POST['id'];
                         return;
                     }
                 }
@@ -548,7 +551,7 @@ public function actionDiscardNew() {
                 $newRecord->save();
                 if ($action === '') {
                     $newRecord->delete();
-                    echo $oldId;
+                    echo CHtml::encode ($oldId);
                     return;
                 } else {
                     if (isset($oldRecord)) {
@@ -577,7 +580,7 @@ public function actionDiscardNew() {
                         }
                     }
 
-                    echo $newId;
+                    echo CHtml::encode ($newId);
                 }
             }
         }

--- x2engine/protected/modules/contacts/models/Contacts.php ---
@@ -98,8 +98,6 @@ public function behaviors() {
 
     public function rules() {
         $parentRules = parent::rules();
-        $parentRules[] = array(
-            'firstName,lastName', 'required', 'on' => 'webForm');
         return $parentRules;
     }
 

--- x2engine/protected/modules/contacts/models/X2List.php ---
@@ -152,8 +152,8 @@ public function getDefaultRoute(){
         return '/contacts/contacts/list';
     }
 
-    public function getDisplayName ($plural=true) {
-        return Yii::t('contacts', '{contact} List|{contact} Lists', array(
+    public function getDisplayName ($plural=true, $ofModule=true) {
+        return Yii::t('contacts', '{contact} Lists|{contact} List', array(
             (int) $plural,
             '{contact}' => Modules::displayName(false, 'Contacts'),
         ));

--- x2engine/protected/modules/docs/controllers/DocsController.php ---
@@ -74,13 +74,8 @@ public function accessRules() {
 		);
 	}
 
-	public function actionGetItems(){
-		$sql = 'SELECT id, name as value FROM x2_docs WHERE name LIKE :qterm ORDER BY name ASC';
-		$command = Yii::app()->db->createCommand($sql);
-		$qterm = '%'.$_GET['term'].'%';
-		$command->bindParam(":qterm", $qterm, PDO::PARAM_STR);
-		$result = $command->queryAll();
-		echo CJSON::encode($result); exit;
+	public function actionGetItems($term){
+        X2LinkableBehavior::getItems ($term);
 	}
 
 	public function actionGetItem($id) {
@@ -105,11 +100,11 @@ public function actionView($id) {
 			else
 				$editFlag=false;
 		}
-		//echo $model->visibility;exit;
+
 		if (!isset($model) ||
-			   !(($model->visibility==1 ||
-				($model->visibility==0 && $model->createdBy==Yii::app()->user->getName())) ||
-				Yii::app()->params->isAdmin|| $editFlag))
+            ($model->visibility == 0 && $model->createdBy != Yii::app()->user->getName()) && 
+            !Yii::app()->params->isAdmin && !$editFlag)
+
 			$this->redirect(array('/docs/docs/index'));
 
         // add doc to user's recent item list

--- x2engine/protected/modules/docs/models/Docs.php ---
@@ -135,7 +135,9 @@ public function search() {
      * @param bool $encode Encode replacement values if true; use renderAttribute otherwise.
      * @return string
      */
-    public static function replaceVariables($str,$model,$vars = array(),$encode = false,$renderFlag=true) {
+    public static function replaceVariables(
+        $str,$model,$vars = array(),$encode = false,$renderFlag=true) {
+
         if($encode) {
             foreach(array_keys($vars) as $key)
                 $vars[$key] = CHtml::encode($vars[$key]);

--- x2engine/protected/modules/groups/models/Groups.php ---
@@ -216,12 +216,12 @@ public static function getUserGroups($userId,$cache=true) {
 		return $userGroups[$userId];
 	}
 
-        /**
+    /**
      * Gets a list of names of all users having a group in common with a user.
      *
      * @param integer $userId User's ID
      * @param boolean $cache Whether to cache or not
-     * @return array
+     * @return array 
      */
     public static function getGroupmates($userId,$cache=true) {
        	if($cache === true && ($groupmates = Yii::app()->cache->get('user_groupmates')) !== false){

--- x2engine/protected/modules/marketing/assets/css/emailProgressControl.css ---
@@ -32,31 +32,31 @@
  * technical reasons, the Appropriate Legal Notices must display the words
  * "Powered by X2Engine".
  *****************************************************************************************/
-/* line 24, ../../../../../compass/protected/modules/marketing/assets/css/emailProgressControl.scss */
+/* line 35, ../../../../../compass/protected/modules/marketing/assets/css/emailProgressControl.scss */
 #emailProgressControl-title {
   margin-left: 5px;
 }
 
-/* line 29, ../../../../../compass/protected/modules/marketing/assets/css/emailProgressControl.scss */
+/* line 40, ../../../../../compass/protected/modules/marketing/assets/css/emailProgressControl.scss */
 #emailProgressControl div.emailProgressControl-section {
   padding: 5px;
 }
-/* line 32, ../../../../../compass/protected/modules/marketing/assets/css/emailProgressControl.scss */
+/* line 43, ../../../../../compass/protected/modules/marketing/assets/css/emailProgressControl.scss */
 #emailProgressControl button {
   display: inline-block;
 }
-/* line 34, ../../../../../compass/protected/modules/marketing/assets/css/emailProgressControl.scss */
+/* line 45, ../../../../../compass/protected/modules/marketing/assets/css/emailProgressControl.scss */
 #emailProgressControl button .fa {
   margin-right: 2px;
   margin-left: -2px;
 }
 
-/* line 41, ../../../../../compass/protected/modules/marketing/assets/css/emailProgressControl.scss */
+/* line 52, ../../../../../compass/protected/modules/marketing/assets/css/emailProgressControl.scss */
 #emailProgressControl-bar {
   position: relative;
 }
 
-/* line 45, ../../../../../compass/protected/modules/marketing/assets/css/emailProgressControl.scss */
+/* line 56, ../../../../../compass/protected/modules/marketing/assets/css/emailProgressControl.scss */
 #emailProgressControl-text {
   position: absolute;
   left: 50%;
@@ -66,33 +66,33 @@
   background: none !important;
 }
 
-/* line 55, ../../../../../compass/protected/modules/marketing/assets/css/emailProgressControl.scss */
+/* line 66, ../../../../../compass/protected/modules/marketing/assets/css/emailProgressControl.scss */
 #emailProgressControl-textStatus {
   display: inline-block;
   margin-left: 20px;
   margin-top: 6px;
 }
 
-/* line 61, ../../../../../compass/protected/modules/marketing/assets/css/emailProgressControl.scss */
+/* line 72, ../../../../../compass/protected/modules/marketing/assets/css/emailProgressControl.scss */
 #emailProgressControl-throbber {
   display: inline-block;
   height: 20px;
   width: 20px;
   margin-top: 6px;
 }
 
-/* line 68, ../../../../../compass/protected/modules/marketing/assets/css/emailProgressControl.scss */
+/* line 79, ../../../../../compass/protected/modules/marketing/assets/css/emailProgressControl.scss */
 #emailProgressControl-errors {
   padding: 5px;
   border: 1px dashed red;
   margin-top: 5px;
 }
-/* line 72, ../../../../../compass/protected/modules/marketing/assets/css/emailProgressControl.scss */
+/* line 83, ../../../../../compass/protected/modules/marketing/assets/css/emailProgressControl.scss */
 #emailProgressControl-errors .emailFail {
   color: red;
 }
 
-/* line 77, ../../../../../compass/protected/modules/marketing/assets/css/emailProgressControl.scss */
+/* line 88, ../../../../../compass/protected/modules/marketing/assets/css/emailProgressControl.scss */
 #emailProgressControl-errorContainer {
   display: none;
 }

--- x2engine/protected/modules/marketing/components/CampaignMailingBehavior.php ---
@@ -37,6 +37,7 @@
 
 Yii::import('application.modules.marketing.models.*');
 Yii::import('application.modules.docs.models.*');
+Yii::import('application.components.util.StringUtil', true);
 
 /**
  * Behavior class for email delivery in email marketing campaigns.
@@ -183,17 +184,24 @@ class CampaignMailingBehavior extends EmailDeliveryBehavior {
      * @param Campaign $campaign Campaign of the current email being sent
      * @param Contacts $contact Contact to whom the email is being sent
      * @param type $email
+     * @param bool $replaceBreaks used for unit testing
+     * @param bool $replaceUnsubToken used for unit testing
      * @return type
      * @throws Exception
      */
-    public static function prepareEmail (Campaign $campaign, Contacts $contact) {
+    public static function prepareEmail (
+        Campaign $campaign, Contacts $contact, $replaceBreaks=true, $replaceUnsubToken=true) {
+
         $email = $contact->email;
         $now = time();
         $uniqueId = md5 (uniqid (mt_rand (), true));
 
         // Add some newlines to prevent hitting 998 line length limit in
         // phpmailer and rfc2821
-        $emailBody = preg_replace('/<br>/', "<br>\n", $campaign->content);
+        if ($replaceBreaks)
+            $emailBody = StringUtil::pregReplace('/<br>/', "<br>\n", $campaign->content);
+        else
+            $emailBody = $campaign->content;
 
         // Add links to attachments
         try{
@@ -227,10 +235,11 @@ public static function prepareEmail (Campaign $campaign, Contacts $contact) {
         // transform links after attribute replacement but before signature and unsubscribe link 
         // insertion
         if ($campaign->enableRedirectLinks) {
+
             // Replace links with tracking links
             $url = Yii::app()->controller->createAbsoluteUrl (
                 'click', array ('uid' => $uniqueId, 'type' => 'click'));
-            $emailBody = preg_replace_callback (
+            $emailBody = StringUtil::pregReplaceCallback (
                 '/(<a[^>]*href=")([^"]*)("[^>]*>)/', 
                 function (array $matches) use ($url) {
                     return $matches[1].$url.'&url='.urlencode ($matches[2]).''.
@@ -257,9 +266,13 @@ function (array $matches) use ($url) {
             'type' => 'unsub',
             'email' => $email
         ));
-        $emailBody = preg_replace(
-            '/\{_unsub\}/', '<a href="'.$unsubUrl.'">'.Yii::t('marketing', 'unsubscribe').'</a>',
-            $emailBody);
+        $unsubLinkText = Yii::app()->settings->getDoNotEmailLinkText();
+        if ($replaceUnsubToken) {
+            $emailBody = StringUtil::pregReplace (
+                '/\{_unsub\}/', 
+                '<a href="'.$unsubUrl.'">'.Yii::t('marketing', $unsubLinkText).'</a>',
+                $emailBody);
+        }
 
         // Get the assignee of the campaign, for signature replacement.
         $user = User::model()->findByAttributes(array('username' => $campaign->assignedTo));
@@ -545,8 +558,24 @@ public function sendIndividualMail() {
             return;
         }
         $addresses = array(array('',$this->recipient->email));
-        list($subject,$message,$uniqueId) = self::prepareEmail($this->campaign,$this->recipient);
-        $this->deliverEmail($addresses, $subject, $message);
+        $deliver = true;
+        try {
+            list($subject,$message,$uniqueId) = self::prepareEmail(
+                $this->campaign,$this->recipient);
+        } catch (StringUtilException $e) {
+            $this->fullStop = true;
+            $this->status['code'] = 500;
+            $this->status['exception'] = $e;
+            if ($e->getCode () === StringUtilException::PREG_REPLACE_CALLBACK_ERROR) {
+                $this->status['message'] = Yii::t('app', 'Email redirect link insertion failed');
+            } else {
+                $this->status['message'] = Yii::t('app', 'Failed to prepare email contents');
+            }
+            $deliver = false;
+        }
+
+        if ($deliver)
+            $this->deliverEmail($addresses, $subject, $message);
         if($this->status['code'] == 200) {
             // Successfully sent email. Mark as sent.
             $this->markEmailSent($uniqueId);
@@ -559,12 +588,12 @@ public function sendIndividualMail() {
                 '{address}'=>$this->recipient->email,
                 '{message}'=>$this->status['exception']->getMessage()
             ));
+
             if($this->status['exception']->getCode() != PHPMailer::STOP_CRITICAL){
                 $this->undeliverable = true;
-                $this->markEmailSent(null);
+                $this->markEmailSent(null, false);
             }else{
                 $this->fullStop = true;
-                $this->markEmailSent(null,false);
             }
         } else if($this->status['exception'] instanceof phpmailerException && $this->status['exception']->getCode() == PHPMailer::STOP_CRITICAL) {
         } else {

--- x2engine/protected/modules/marketing/controllers/MarketingController.php ---
@@ -112,16 +112,13 @@ public function actionDeleteWebForm ($id) {
      * @return string A JSON array of strings
      */
     public function actionGetItems($modelType){
+        $term = $_GET['term'].'%';
          
-            $sql = 'SELECT id, name as value FROM x2_campaigns WHERE name LIKE :qterm ORDER BY name ASC';
+            X2LinkableBehavior::getItems ($term);
          
-        $command = Yii::app()->db->createCommand($sql);
-        $qterm = '%'.$_GET['term'].'%';
-        $command->bindParam(":qterm", $qterm, PDO::PARAM_STR);
-        $result = $command->queryAll();
-        echo CJSON::encode($result);
-        exit;
     }
+    
+
 
     /**
      * Displays a particular model.

--- x2engine/protected/modules/marketing/models/Campaign.php ---
@@ -67,7 +67,11 @@ public function behaviors() {
 				'class'=>'application.components.ERememberFiltersBehavior',
 				'defaults'=>array(),
 				'defaultStickOnClear'=>false
-			)
+			),
+            'tags' => array(
+                'class' => 'TagBehavior',
+                'disableTagScanning' => true,
+            ),
 		));
 	}
 
@@ -148,4 +152,12 @@ public function setX2Fields(&$data, $filter = false, $bypassPermissions=false) {
         parent::setX2Fields($data, $filter, $bypassPermissions);
         $this->content = $originalContent;
     }
+
+    public function getDisplayName ($plural=true, $ofModule=true) {
+        if (!$ofModule) {
+            return Yii::t('app', 'Campaign'.($plural ? 's' : ''));
+        } else {
+            return parent::getDisplayName ($plural, $ofModule);
+        }
+    }
 }

--- x2engine/protected/modules/marketing/models/WebForm.php ---
@@ -97,7 +97,7 @@ protected function afterFind() {
 		parent::afterFind();
 	}
 
-    public function getDisplayName ($plural=true) {
+    public function getDisplayName ($plural=true, $ofModule=true) {
         return Yii::t('marketing', 'Web Form');
     }
 

--- x2engine/protected/modules/media/controllers/MediaController.php ---
@@ -52,6 +52,12 @@ public function behaviors(){
         ));
     }
 
+    public function checkPermissions (&$model, $action=null) {
+        return Yii::app()->params->isAdmin || 
+            (!$model->private || $model->uploadedBy === Yii::app()->user->name) && 
+            $this->asa ('PermissionsBehavior')->checkPermissions ($model, $action);
+    }
+
     /**
      * @var string the default layout for the views. Defaults to '//layouts/column2', meaning
      * using two-column layout. See 'protected/views/layouts/column2.php'.
@@ -62,12 +68,14 @@ public function behaviors(){
      * @param integer $id the ID of the model to be displayed
      */
     public function actionView($id){
+        $model = $this->loadModel($id);
+        if (!$this->checkPermissions ($model, 'view')) $this->denied ();
 
         // add media object to user's recent item list
         User::addRecentItem('m', $id, Yii::app()->user->getId()); 
 
         $this->render('view', array(
-            'model' => $this->loadModel($id),
+            'model' => $model,
         ));
     }
 
@@ -76,6 +84,8 @@ public function actionView($id){
      */
     public function actionDownload($id){
         $model = $this->loadModel($id);
+        if (!$this->checkPermissions ($model, 'view')) $this->denied ();
+
         $filePath = $model->getPath();
         if ($filePath != null)
             $file = Yii::app()->file->set($filePath);
@@ -271,6 +281,7 @@ public function actionAjaxUpload(){
      */
     public function actionUpdate($id){
         $model = $this->loadModel($id);
+        if (!$this->checkPermissions ($model, 'edit')) $this->denied ();
 
         if(isset($_POST['Media'])){
             // save media info
@@ -304,6 +315,7 @@ public function actionDelete($id){
         if(Yii::app()->request->isPostRequest){
             // we only allow deletion via POST request
             $model = $this->loadModel($id);
+            if (!$this->checkPermissions ($model, 'delete')) $this->denied ();
             $model->delete();
 
             // if AJAX request (triggered by deletion via admin grid view), we should not redirect the browser
@@ -481,16 +493,19 @@ public function actionToggleUserMediaVisible($user){
     public function actionGetItems(){
         $model = X2Model::model ($this->modelClass);
         if (isset ($model)) {
+            list ($accessCond, $params) = $model->getAccessSQLCondition ();
             $tableName = $model->tableName ();
             $sql = 
                 'SELECT id, fileName as value
                  FROM '.$tableName.' 
-                 WHERE associationType!="theme" and fileName LIKE :qterm 
+                 WHERE associationType!="theme" and fileName LIKE :qterm AND '.$accessCond.' AND
+                    (uploadedBy=:username OR private=0 OR private=NULL)
                  ORDER BY fileName ASC';
             $command = Yii::app()->db->createCommand($sql);
             $qterm = $_GET['term'].'%';
-            $command->bindParam(":qterm", $qterm, PDO::PARAM_STR);
-            $result = $command->queryAll();
+            $params[':qterm'] = $qterm;
+            $params[':username'] = Yii::app()->user->getName ();
+            $result = $command->queryAll(true, $params);
             echo CJSON::encode($result);
         }
         Yii::app()->end();

--- x2engine/protected/modules/media/data/install.sql ---
@@ -58,8 +58,8 @@ VALUES
 ('bg','AnaNuevo.jpg'),
 ('bg','DavenportCA.jpg'),
 ('bg','WaddellBeach.jpg'),
-('bg','Mushrooms.jpg');
-('bg','pigeon_point.jpg'),
+('bg','Mushrooms.jpg'),
+('bg','pigeon_point.jpg');
 /*&*/
 INSERT INTO x2_media
 (id, associationType, fileName)

--- x2engine/protected/modules/media/models/Media.php ---
@@ -148,16 +148,12 @@ public function search(){
 
         $criteria = new CDbCriteria;
         $username = Yii::app()->user->name;
-        $criteria->addCondition("uploadedBy='$username' OR private=0 OR private=null");
+        if (!Yii::app()->params->isAdmin)
+            $criteria->addCondition("uploadedBy='$username' OR private=0 OR private=null");
         $criteria->addCondition("associationType != 'theme'");
         return $this->searchBase($criteria);
     }
 
-    public function searchAdmin(){
-        $criteria = new CDbCriteria;
-        return $this->searchBase($criteria);
-    }
-
     public function isImage(){
         return strpos($this->resolveType(), 'image/') === 0;
     }

--- x2engine/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.css ---
@@ -34,18 +34,18 @@
  *****************************************************************************************/
 /* narrow header */
 @import url(http://fonts.googleapis.com/css?family=Lato:900);
-/* line 26, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
+/* line 37, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
 .ui-content {
   padding-bottom: 35px !important;
 }
 
-/* line 30, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
+/* line 41, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
 .ui-header {
   font-size: 12px !important;
 }
 
 /* style text in footer */
-/* line 36, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
+/* line 47, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
 .ui-footer {
   text-shadow: none !important;
   font-weight: normal !important;
@@ -58,23 +58,23 @@
   bottom: 0px;
   width: 100%;
 }
-/* line 48, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
+/* line 59, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
 .ui-footer > p {
   float: left;
 }
-/* line 52, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
+/* line 63, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
 .ui-footer #logo-container {
   float: right;
   margin-right: 8px;
 }
-/* line 57, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
+/* line 68, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
 .ui-footer .ui-link {
   font-weight: normal !important;
 }
 
 /* style links in footer */
 /* remove text shadow from footer text */
-/* line 68, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
+/* line 79, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
 .ui-loader {
   background: #5C5C5C !important;
   color: #fff;
@@ -88,55 +88,55 @@
   background: linear-gradient(to bottom, #5c5c5c 0%, #1c1c1c 100%) !important;
 }
 
-/* line 81, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
+/* line 92, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
 #site-login, .ui-page, .ui-body-a {
   color: white;
   background: radial-gradient(#233d5f, #06090f);
   text-shadow: none;
 }
 
-/* line 93, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
+/* line 104, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
 .ui-input-text {
   width: 100% !important;
   box-sizing: border-box;
 }
-/* line 97, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
+/* line 108, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
 .ui-input-text input {
   height: 38px !important;
   box-shadow: none !important;
 }
 
-/* line 104, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
+/* line 115, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
 .ui-field-contain {
   border: none;
   padding-top: 0px;
   padding-bottom: 10px;
 }
-/* line 105, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
+/* line 116, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
 .ui-field-contain:first-child {
   margin-top: 180px;
 }
 
-/* line 113, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
+/* line 124, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
 .login-row {
   width: 100%;
   margin-top: 10px !important;
 }
-/* line 117, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
+/* line 128, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
 .login-row td {
   padding: 0px;
   width: 50%;
 }
-/* line 121, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
+/* line 132, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
 .login-row td:first-child {
   padding-right: 5px;
 }
-/* line 124, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
+/* line 135, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
 .login-row td:last-child {
   padding-left: 5px;
 }
 
-/* line 130, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
+/* line 141, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
 .remember-me-checkbox-container, .full-site {
   display: inline-block;
   box-sizing: border-box !important;
@@ -146,15 +146,15 @@
   margin-bottom: 15px !important;
   height: 23px !important;
 }
-/* line 140, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
+/* line 151, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
 .remember-me-checkbox-container .ui-checkbox, .full-site .ui-checkbox {
   height: 30px !important;
 }
-/* line 142, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
+/* line 153, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
 .remember-me-checkbox-container .ui-checkbox label, .full-site .ui-checkbox label {
   margin: 0px !important;
 }
-/* line 147, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
+/* line 158, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
 .remember-me-checkbox-container .ui-btn-inner, .full-site .ui-btn-inner {
   font-size: 10px;
   box-sizing: border-box !important;
@@ -163,29 +163,29 @@
   text-decoration: none !important;
   color: white !important;
 }
-/* line 156, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
+/* line 167, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
 .remember-me-checkbox-container input, .full-site input {
   display: none;
 }
 
-/* line 163, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
+/* line 174, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
 .errorMessage {
   text-shadow: none;
 }
 
-/* line 167, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
+/* line 178, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
 .ui-btn-up-a {
   background: rgba(255, 255, 255, 0.1) !important;
   border: none !important;
 }
 
-/* line 172, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
+/* line 183, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
 .ui-btn-hover-a {
   border: none !important;
   background: rgba(255, 255, 255, 0.2);
 }
 
-/* line 178, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
+/* line 189, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
 .x2-icon {
   opacity: 0.7;
   text-shadow: 1px 4px 6px #233d5f, 0 0 0 #233d5f, 1px 4px 6px #233d5f;
@@ -196,12 +196,12 @@
   padding: 20% 0px;
   line-height: 70%;
 }
-/* line 188, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
+/* line 199, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
 .x2-icon div:last-child {
   font-size: 50%;
 }
 
-/* line 195, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
+/* line 206, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
 .background-stripe {
   background-origin: content-box;
   position: fixed;
@@ -211,7 +211,7 @@
   background: rgba(255, 255, 255, 0.1);
   right: 32px;
 }
-/* line 210, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
+/* line 221, ../../../../../compass/protected/modules/mobile/assets/css/jqueryMobileCssOverrides.scss */
 .background-stripe::after {
   background: rgba(255, 255, 255, 0.1);
   content: '';

--- x2engine/protected/modules/mobile/assets/css/main.css ---
@@ -37,7 +37,7 @@ login page
 */
 /* line 27, ../../../../../compass/sass/protected/modules/mobile/assets/css/main.scss */
 /* line 27, ../../../../../compass/sass/protected/modules/mobile/assets/css/main.scss */
-/* line 31, ../../../../../compass/protected/modules/mobile/assets/css/main.scss */
+/* line 42, ../../../../../compass/protected/modules/mobile/assets/css/main.scss */
 .remember-me-checkbox-container .ui-btn-text {
   font-size: 10px;
   vertical-align: middle;
@@ -50,15 +50,15 @@ general css rules
 */
 /* line 40, ../../../../../compass/sass/protected/modules/mobile/assets/css/main.scss */
 /* line 43, ../../../../../compass/sass/protected/modules/mobile/assets/css/main.scss */
-/* line 49, ../../../../../compass/protected/modules/mobile/assets/css/main.scss */
+/* line 60, ../../../../../compass/protected/modules/mobile/assets/css/main.scss */
 .x2-mobile-narrow-input {
   color: #ADADAD;
   width: 280px;
 }
 
 /* line 45, ../../../../../compass/sass/protected/modules/mobile/assets/css/main.scss */
 /* line 50, ../../../../../compass/sass/protected/modules/mobile/assets/css/main.scss */
-/* line 57, ../../../../../compass/protected/modules/mobile/assets/css/main.scss */
+/* line 68, ../../../../../compass/protected/modules/mobile/assets/css/main.scss */
 .x2-mobile-narrow-input-row .ui-input-text {
   margin-bottom: 4px;
   margin-top: 0px;
@@ -68,17 +68,17 @@ general css rules
 
 /* line 53, ../../../../../compass/sass/protected/modules/mobile/assets/css/main.scss */
 /* line 60, ../../../../../compass/sass/protected/modules/mobile/assets/css/main.scss */
-/* line 68, ../../../../../compass/protected/modules/mobile/assets/css/main.scss */
+/* line 79, ../../../../../compass/protected/modules/mobile/assets/css/main.scss */
 div.ui-input-text.error {
   border-color: #C00;
   background: #FEE;
 }
-/* line 72, ../../../../../compass/protected/modules/mobile/assets/css/main.scss */
+/* line 83, ../../../../../compass/protected/modules/mobile/assets/css/main.scss */
 div.input-error-container {
   float: left;
   margin-right: 4px;
 }
-/* line 76, ../../../../../compass/protected/modules/mobile/assets/css/main.scss */
+/* line 87, ../../../../../compass/protected/modules/mobile/assets/css/main.scss */
 div.err-msg-placeholder {
   height: 20px;
 }
@@ -92,18 +92,18 @@ activity
 */
 /* line 71, ../../../../../compass/sass/protected/modules/mobile/assets/css/main.scss */
 /* line 83, ../../../../../compass/sass/protected/modules/mobile/assets/css/main.scss */
-/* line 94, ../../../../../compass/protected/modules/mobile/assets/css/main.scss */
+/* line 105, ../../../../../compass/protected/modules/mobile/assets/css/main.scss */
 #feed-box div.message {
   margin-bottom: 10px;
   white-space: pre-wrap;
 }
-/* line 98, ../../../../../compass/protected/modules/mobile/assets/css/main.scss */
+/* line 109, ../../../../../compass/protected/modules/mobile/assets/css/main.scss */
 #feed-box a {
   /* links disabled until mobile versions of linked pages are added */
   color: #4b4b4b;
   text-decoration: none;
 }
-/* line 103, ../../../../../compass/protected/modules/mobile/assets/css/main.scss */
+/* line 114, ../../../../../compass/protected/modules/mobile/assets/css/main.scss */
 #feed-box span.my-username {
   color: #999;
 }
@@ -114,14 +114,14 @@ activity
 /* line 80, ../../../../../compass/sass/protected/modules/mobile/assets/css/main.scss */
 /* line 85, ../../../../../compass/sass/protected/modules/mobile/assets/css/main.scss */
 /* line 103, ../../../../../compass/sass/protected/modules/mobile/assets/css/main.scss */
-/* line 117, ../../../../../compass/protected/modules/mobile/assets/css/main.scss */
+/* line 128, ../../../../../compass/protected/modules/mobile/assets/css/main.scss */
 #feed-post-publisher {
   margin-bottom: 10px;
 }
 
 /* line 89, ../../../../../compass/sass/protected/modules/mobile/assets/css/main.scss */
 /* line 109, ../../../../../compass/sass/protected/modules/mobile/assets/css/main.scss */
-/* line 124, ../../../../../compass/protected/modules/mobile/assets/css/main.scss */
+/* line 135, ../../../../../compass/protected/modules/mobile/assets/css/main.scss */
 #attachments {
   margin: 18px -2px;
   border: 1px solid #b8b8b8;
@@ -131,7 +131,7 @@ activity
 
 /* line 96, ../../../../../compass/sass/protected/modules/mobile/assets/css/main.scss */
 /* line 118, ../../../../../compass/sass/protected/modules/mobile/assets/css/main.scss */
-/* line 134, ../../../../../compass/protected/modules/mobile/assets/css/main.scss */
+/* line 145, ../../../../../compass/protected/modules/mobile/assets/css/main.scss */
 #logo-container {
   text-align: center;
 }

--- x2engine/protected/modules/mobile/assets/css/x2MobileTheme.css ---
@@ -60,56 +60,78 @@
 /***********************************************************************
 * This section is made to correspond with the theme keys in ThemeGenerator
 ***********************************************************************/
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 /***************************************
 * This file is responsible for mantaining
 * general purpose mixins and classes. 
 ***************************************/
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 /***********************************************************************
 * Grays 
 ***********************************************************************/
@@ -138,13 +160,13 @@
 * CSS to extend when something 
 * should look like a link
 ***************************************/
-/* line 76, ../../../../../compass/css/lib/_standards.scss */
+/* line 87, ../../../../../compass/css/lib/_standards.scss */
 .pseudo-link {
   cursor: pointer;
   color: #004baf;
   transition: color .1s;
 }
-/* line 81, ../../../../../compass/css/lib/_standards.scss */
+/* line 92, ../../../../../compass/css/lib/_standards.scss */
 .pseudo-link:hover {
   color: #006cfb;
 }
@@ -153,11 +175,11 @@
 * CSS to extend when for elements that 
 * become transparent on mouseover
 ***************************************/
-/* line 99, ../../../../../compass/css/lib/_standards.scss */
+/* line 110, ../../../../../compass/css/lib/_standards.scss */
 .opacity-hover {
   opacity: 0.3;
 }
-/* line 94, ../../../../../compass/css/lib/_standards.scss */
+/* line 105, ../../../../../compass/css/lib/_standards.scss */
 .opacity-hover:hover {
   opacity: 1;
 }

--- x2engine/protected/modules/mobile/views/site/activity.php ---
@@ -65,7 +65,7 @@
         'subtype',1,
         array_map(
             function ($item) { return Yii::t('app', $item); },
-            json_decode(Dropdowns::model()->findByPk(113)->options,true)
+            Dropdowns::getSocialSubtypes ()
         ),
         array ('data-mini'=>'true', 'id'=>'feed-post-subtype')
     );

--- x2engine/protected/modules/opportunities/controllers/OpportunitiesController.php ---
@@ -80,14 +80,8 @@ public function actions() {
         ));
     }
 
-    public function actionGetItems(){
-        $sql = 'SELECT id, name as value FROM x2_opportunities WHERE name LIKE :qterm ORDER BY name ASC';
-        $command = Yii::app()->db->createCommand($sql);
-        $qterm = $_GET['term'].'%';
-        $command->bindParam(":qterm", $qterm, PDO::PARAM_STR);
-        $result = $command->queryAll();
-        echo CJSON::encode($result);
-        Yii::app()->end();
+    public function actionGetItems($term){
+        X2LinkableBehavior::getItems ($term);
     }
 
     /**

--- x2engine/protected/modules/products/controllers/ProductsController.php ---
@@ -64,13 +64,8 @@ public function behaviors(){
         ));
     }
 
-    public function actionGetItems(){
-        $sql = 'SELECT id, name as value FROM x2_products WHERE name LIKE :qterm ORDER BY name ASC';
-        $command = Yii::app()->db->createCommand($sql);
-        $qterm = $_GET['term'].'%';
-        $command->bindParam(":qterm", $qterm, PDO::PARAM_STR);
-        $result = $command->queryAll();
-        echo CJSON::encode($result); exit;
+    public function actionGetItems($term){
+        X2LinkableBehavior::getItems ($term);
     }
     /**
      * Displays a particular model.

--- x2engine/protected/modules/quotes/assets/css/inlineQuotes.css ---
@@ -32,21 +32,21 @@
  * technical reasons, the Appropriate Legal Notices must display the words
  * "Powered by X2Engine".
  *****************************************************************************************/
-/* line 25, ../../../../../compass/protected/modules/quotes/assets/css/inlineQuotes.scss */
+/* line 36, ../../../../../compass/protected/modules/quotes/assets/css/inlineQuotes.scss */
 .product-select-button {
   padding: 0 0 0 0 !important;
 }
 
-/* line 29, ../../../../../compass/protected/modules/quotes/assets/css/inlineQuotes.scss */
+/* line 40, ../../../../../compass/protected/modules/quotes/assets/css/inlineQuotes.scss */
 #wide-quote-form {
   background: white;
   padding: 0;
 }
-/* line 32, ../../../../../compass/protected/modules/quotes/assets/css/inlineQuotes.scss */
+/* line 43, ../../../../../compass/protected/modules/quotes/assets/css/inlineQuotes.scss */
 #wide-quote-form .quotes-section-title, #wide-quote-form h2 {
   padding: 6px;
 }
-/* line 35, ../../../../../compass/protected/modules/quotes/assets/css/inlineQuotes.scss */
+/* line 46, ../../../../../compass/protected/modules/quotes/assets/css/inlineQuotes.scss */
 #wide-quote-form .quotes-section-title {
   color: black;
   /* @theme color text */
@@ -55,55 +55,55 @@
   font-weight: bold;
   font-size: 1.5em;
 }
-/* line 43, ../../../../../compass/protected/modules/quotes/assets/css/inlineQuotes.scss */
+/* line 54, ../../../../../compass/protected/modules/quotes/assets/css/inlineQuotes.scss */
 #wide-quote-form h2 {
   margin-top: 0;
 }
 
-/* line 48, ../../../../../compass/protected/modules/quotes/assets/css/inlineQuotes.scss */
+/* line 59, ../../../../../compass/protected/modules/quotes/assets/css/inlineQuotes.scss */
 #show-new-quote-button {
   margin-left: 6px;
 }
 
-/* line 52, ../../../../../compass/protected/modules/quotes/assets/css/inlineQuotes.scss */
+/* line 63, ../../../../../compass/protected/modules/quotes/assets/css/inlineQuotes.scss */
 #quote-save-button {
   float: right;
 }
 
-/* line 56, ../../../../../compass/protected/modules/quotes/assets/css/inlineQuotes.scss */
+/* line 67, ../../../../../compass/protected/modules/quotes/assets/css/inlineQuotes.scss */
 #quotes-line-items-table {
   padding: 6px;
 }
 
-/* line 60, ../../../../../compass/protected/modules/quotes/assets/css/inlineQuotes.scss */
+/* line 71, ../../../../../compass/protected/modules/quotes/assets/css/inlineQuotes.scss */
 #wide-quote-form .widget-close-button {
   color: #222;
 }
 
-/* line 64, ../../../../../compass/protected/modules/quotes/assets/css/inlineQuotes.scss */
+/* line 75, ../../../../../compass/protected/modules/quotes/assets/css/inlineQuotes.scss */
 .viewQuote hr {
   background-color: black;
   /* @theme background-color opaque_text */
   overflow: visible;
 }
 
-/* line 70, ../../../../../compass/protected/modules/quotes/assets/css/inlineQuotes.scss */
+/* line 81, ../../../../../compass/protected/modules/quotes/assets/css/inlineQuotes.scss */
 .product-table th {
   background-color: inherit;
 }
 
-/* line 74, ../../../../../compass/protected/modules/quotes/assets/css/inlineQuotes.scss */
+/* line 85, ../../../../../compass/protected/modules/quotes/assets/css/inlineQuotes.scss */
 .product-table tfoot {
   font-style: normal;
 }
 
-/* line 78, ../../../../../compass/protected/modules/quotes/assets/css/inlineQuotes.scss */
+/* line 89, ../../../../../compass/protected/modules/quotes/assets/css/inlineQuotes.scss */
 .quote-detail-table {
   padding: 0;
   width: 100%;
 }
 
-/* line 83, ../../../../../compass/protected/modules/quotes/assets/css/inlineQuotes.scss */
+/* line 94, ../../../../../compass/protected/modules/quotes/assets/css/inlineQuotes.scss */
 .quote-detail-table th {
   background-color: inherit;
   color: #666;
@@ -112,32 +112,32 @@
   padding: 5px 0 0 0;
 }
 
-/* line 92, ../../../../../compass/protected/modules/quotes/assets/css/inlineQuotes.scss */
+/* line 103, ../../../../../compass/protected/modules/quotes/assets/css/inlineQuotes.scss */
 .quote-detail-table td {
   font-weight: bold;
   padding: 0;
 }
 
-/* line 97, ../../../../../compass/protected/modules/quotes/assets/css/inlineQuotes.scss */
+/* line 108, ../../../../../compass/protected/modules/quotes/assets/css/inlineQuotes.scss */
 .quote-create-table {
   width: 100%;
   padding: 0;
 }
 
-/* line 102, ../../../../../compass/protected/modules/quotes/assets/css/inlineQuotes.scss */
+/* line 113, ../../../../../compass/protected/modules/quotes/assets/css/inlineQuotes.scss */
 .quote-create-table th {
   background-color: inherit;
   font-weight: bold;
   font-size: 0.8em;
   padding: 5px 0 0 0;
 }
 
-/* line 109, ../../../../../compass/protected/modules/quotes/assets/css/inlineQuotes.scss */
+/* line 120, ../../../../../compass/protected/modules/quotes/assets/css/inlineQuotes.scss */
 .quote-detail-table td {
   padding: 0;
 }
 
-/* line 113, ../../../../../compass/protected/modules/quotes/assets/css/inlineQuotes.scss */
+/* line 124, ../../../../../compass/protected/modules/quotes/assets/css/inlineQuotes.scss */
 .items td {
   border-top: none;
   border-bottom: none;

--- x2engine/protected/modules/quotes/assets/css/lineItemsMain.css ---
@@ -35,36 +35,36 @@
 /*
 center cells in the quotes table
 */
-/* line 27, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsMain.scss */
+/* line 38, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsMain.scss */
 .quote-table {
   background-color: #EEEEEE;
   /* @theme background dark_content */
 }
-/* line 31, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsMain.scss */
+/* line 42, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsMain.scss */
 .quote-table .input-cell {
   text-align: center;
   vertical-align: middle;
 }
-/* line 35, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsMain.scss */
+/* line 46, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsMain.scss */
 .quote-table .text-field {
   vertical-align: middle;
   padding: 0px 6px !important;
 }
-/* line 39, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsMain.scss */
+/* line 50, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsMain.scss */
 .quote-table td {
   border-bottom: 1px solid #c2c2c2;
   height: 2em;
   /* @theme border-color: border */
 }
-/* line 45, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsMain.scss */
+/* line 56, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsMain.scss */
 .quote-table tbody:last-child, .quote-table tbody .x2-last-child {
   border-bottom: none;
 }
-/* line 49, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsMain.scss */
+/* line 60, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsMain.scss */
 .quote-table thead th {
   background-color: transparent;
 }
-/* line 53, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsMain.scss */
+/* line 64, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsMain.scss */
 .quote-table input:disabled, .quote-table input[readonly] {
   background: none;
   border: none;

--- x2engine/protected/modules/quotes/assets/css/lineItemsMini.css ---
@@ -39,39 +39,39 @@
  */
 /* line 30, ../../../../../compass/sass/protected/modules/quotes/assets/css/lineItemsMini.scss */
 /* line 30, ../../../../../compass/sass/protected/modules/quotes/assets/css/lineItemsMini.scss */
-/* line 34, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsMini.scss */
+/* line 45, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsMini.scss */
 .line-items-mini th.lineitem-description, .line-items-mini th.lineitem-adjustments {
   display: none;
 }
-/* line 39, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsMini.scss */
+/* line 50, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsMini.scss */
 .line-items-mini tr.line-item .x2-5th-child, .line-items-mini tr.line-item .x2-6th-child {
   display: none;
 }
-/* line 43, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsMini.scss */
+/* line 54, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsMini.scss */
 .line-items-mini .add-adjustment-button {
   display: none !important;
 }
-/* line 46, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsMini.scss */
+/* line 57, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsMini.scss */
 .line-items-mini .add-line-item-button {
   margin-top: 5px;
 }
-/* line 49, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsMini.scss */
+/* line 60, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsMini.scss */
 .line-items-mini #quote-total-section td {
   border-bottom: none !important;
 }
-/* line 53, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsMini.scss */
+/* line 64, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsMini.scss */
 .line-items-mini.line-items-read td {
   border-right: 1px solid #ccc;
 }
-/* line 55, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsMini.scss */
+/* line 66, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsMini.scss */
 .line-items-mini.line-items-read td.x2-7th-child {
   border-right: none;
 }
-/* line 59, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsMini.scss */
+/* line 70, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsMini.scss */
 .line-items-mini.line-items-read #quote-total-section td.input-cell {
   border-right: none;
 }
-/* line 62, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsMini.scss */
+/* line 73, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsMini.scss */
 .line-items-mini.line-items-read table {
   border-radius: 4px;
   margin-top: 14px;
@@ -99,7 +99,7 @@ Fixes dropdown button display issue in FF
 */
 /* line 71, ../../../../../compass/sass/protected/modules/quotes/assets/css/lineItemsMini.scss */
 /* line 88, ../../../../../compass/sass/protected/modules/quotes/assets/css/lineItemsMini.scss */
-/* line 101, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsMini.scss */
+/* line 112, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsMini.scss */
 .line-items-write .quote-table > thead > tr > th.line-item-name, .line-items-write .quote-table > tbody.line-items > tr > td.x2-2nd-child input {
   padding-right: 2px;
   width: 79% !important;

--- x2engine/protected/modules/quotes/assets/css/lineItemsRead.css ---
@@ -34,11 +34,11 @@
  *****************************************************************************************/
 /* line 23, ../../../../../compass/sass/protected/modules/quotes/assets/css/lineItemsRead.scss */
 /* line 24, ../../../../../compass/sass/protected/modules/quotes/assets/css/lineItemsRead.scss */
-/* line 28, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
+/* line 39, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
 .line-items-read .quote-table .first-cell {
   display: none;
 }
-/* line 31, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
+/* line 42, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
 .line-items-read .quote-table input {
   overflow: hidden;
   text-overflow: ellipsis;
@@ -47,96 +47,96 @@
   border: none;
   color: black;
 }
-/* line 39, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
+/* line 50, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
 .line-items-read .quote-table td {
   padding-right: 2px !important;
   padding-left: 2px !important;
 }
-/* line 44, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
+/* line 55, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
 .line-items-read .quote-table > thead > tr > th.line-item-name {
   overflow: hidden;
   text-overflow: ellipsis;
 }
-/* line 48, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
+/* line 59, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
 .line-items-read .quote-table > tbody.line-items > tr > td.x2-2nd-child {
   overflow: hidden;
   text-overflow: ellipsis;
   width: 20%;
 }
-/* line 53, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
+/* line 64, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
 .line-items-read .quote-table > thead > tr > th.line-item-name {
   width: 95%;
   font-size: 12px;
 }
-/* line 59, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
+/* line 70, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
 .line-items-read .quote-table > tbody.line-items > tr > td.x2-2nd-child input {
   width: 95%;
   font-size: 12px;
 }
-/* line 63, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
+/* line 74, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
 .line-items-read .quote-table > tbody.line-items > tr > td.x2-3rd-child {
   width: 17.5%;
 }
-/* line 65, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
+/* line 76, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
 .line-items-read .quote-table > tbody.line-items > tr > td.x2-3rd-child input {
   width: 95%;
   text-align: right;
   font-size: 12px;
 }
-/* line 71, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
+/* line 82, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
 .line-items-read .quote-table > tbody.line-items > tr > td.x2-4th-child {
   width: 15%;
 }
-/* line 73, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
+/* line 84, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
 .line-items-read .quote-table > tbody.line-items > tr > td.x2-4th-child input {
   width: 95%;
   text-align: right;
   font-size: 12px;
 }
-/* line 80, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
+/* line 91, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
 .line-items-read .quote-table > tbody.adjustments > tr > td.x2-4th-child {
   width: 15%;
 }
-/* line 82, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
+/* line 93, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
 .line-items-read .quote-table > tbody.adjustments > tr > td.x2-4th-child input {
   width: 95%;
   text-align: left;
   font-size: 12px;
 }
-/* line 88, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
+/* line 99, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
 .line-items-read .quote-table > tbody.line-items > tr > td.x2-5th-child, .line-items-read .quote-table > tbody.adjustments > tr > td.x2-5th-child {
   width: 15%;
 }
-/* line 91, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
+/* line 102, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
 .line-items-read .quote-table > tbody.line-items > tr > td.x2-5th-child input, .line-items-read .quote-table > tbody.adjustments > tr > td.x2-5th-child input {
   width: 95%;
   font-size: 12px;
   text-align: right;
 }
-/* line 96, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
+/* line 107, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
 .line-items-read .quote-table > tbody.line-items > tr > td.x2-6th-child, .line-items-read .quote-table > tbody.adjustments > tr > td.x2-6th-child {
   width: 15%;
 }
-/* line 99, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
+/* line 110, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
 .line-items-read .quote-table > tbody.line-items > tr > td.x2-6th-child input, .line-items-read .quote-table > tbody.adjustments > tr > td.x2-6th-child input {
   width: 95%;
   font-size: 12px;
 }
-/* line 103, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
+/* line 114, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
 .line-items-read .quote-table > tbody.line-items > tr > td.x2-7th-child, .line-items-read .quote-table > tbody.adjustments > tr > td.x2-7th-child {
   width: 20%;
 }
-/* line 106, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
+/* line 117, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
 .line-items-read .quote-table > tbody.line-items > tr > td.x2-7th-child input, .line-items-read .quote-table > tbody.adjustments > tr > td.x2-7th-child input {
   text-align: left;
   width: 95%;
   font-size: 12px;
 }
-/* line 113, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
+/* line 124, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
 .line-items-read .quote-table .subtotal-container, .line-items-read .quote-table .total-container {
   width: 17.5%;
 }
-/* line 117, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
+/* line 128, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsRead.scss */
 .line-items-read .quote-table input.subtotal, .line-items-read .quote-table input.total {
   width: 95%;
   text-align: left;

--- x2engine/protected/modules/quotes/assets/css/lineItemsWrite.css ---
@@ -32,56 +32,78 @@
  * technical reasons, the Appropriate Legal Notices must display the words
  * "Powered by X2Engine".
  *****************************************************************************************/
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 /***************************************
 * This file is responsible for mantaining
 * general purpose mixins and classes. 
 ***************************************/
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 /***********************************************************************
 * Grays 
 ***********************************************************************/
@@ -110,13 +132,13 @@
 * CSS to extend when something 
 * should look like a link
 ***************************************/
-/* line 76, ../../../../../compass/css/lib/_standards.scss */
+/* line 87, ../../../../../compass/css/lib/_standards.scss */
 .pseudo-link {
   cursor: pointer;
   color: #004baf;
   transition: color .1s;
 }
-/* line 81, ../../../../../compass/css/lib/_standards.scss */
+/* line 92, ../../../../../compass/css/lib/_standards.scss */
 .pseudo-link:hover {
   color: #006cfb;
 }
@@ -125,11 +147,11 @@
 * CSS to extend when for elements that 
 * become transparent on mouseover
 ***************************************/
-/* line 99, ../../../../../compass/css/lib/_standards.scss */
+/* line 110, ../../../../../compass/css/lib/_standards.scss */
 .opacity-hover {
   opacity: 0.3;
 }
-/* line 94, ../../../../../compass/css/lib/_standards.scss */
+/* line 105, ../../../../../compass/css/lib/_standards.scss */
 .opacity-hover:hover {
   opacity: 1;
 }
@@ -145,76 +167,76 @@
 * Mixin for applying a fontAwesome icon
 * SEE _icons.scss FOR A BETTER IMPLEMENTATION
 ******************************************/
-/* line 29, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 40, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write #quote-total-section tr td {
   border-bottom: none;
 }
-/* line 32, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 43, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write #quote-total-section .input-cell {
   -webkit-border-radius: 0 0 4px 0;
   -moz-border-radius: 0 0 4px 0;
   -ms-border-radius: 0 0 4px 0;
   -o-border-radius: 0 0 4px 0;
   border-radius: 0 0 4px 0;
 }
-/* line 35, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 46, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write #quote-total-section .first-cell {
   -webkit-border-radius: 0 0 0 4px;
   -moz-border-radius: 0 0 0 4px;
   -ms-border-radius: 0 0 0 4px;
   -o-border-radius: 0 0 0 4px;
   border-radius: 0 0 0 4px;
 }
-/* line 39, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 50, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write #quote-template-dropdown {
   margin-top: 5px;
 }
-/* line 42, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 53, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write .quote-table {
   /* @theme border-color border */
 }
-/* line 45, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 56, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write .quote-table .input-cell {
   padding-right: 8px;
 }
-/* line 48, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 59, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write .quote-table input {
   overflow: hidden;
   text-overflow: ellipsis;
   vertical-align: middle;
   margin: 0 0 0 0;
 }
 
-/* line 57, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 68, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .quotes-erriz
 ::-moz-placeholder {
   text-overflow: ellipsis;
 }
 
-/* line 64, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 75, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write .quote-table .add-line-item-button {
   float: left;
 }
-/* line 67, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 78, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write .arrow-both-handle {
   /* @theme color text */
   margin-left: 10px;
   width: 1em;
   height: 1em;
   display: inline-block;
 }
-/* line 75, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 86, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write .add-line-item-button, .line-items-write .add-adjustment-button {
   margin: 0 1em 0 1em;
   width: 12em;
 }
-/* line 80, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 91, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write .add-line-item-button.x2-button, .line-items-write .add-adjustment-button.x2-button {
   width: 150px;
   display: inline-block;
   clear: none;
 }
-/* line 85, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 96, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write.line-items-table .product-menu {
   position: absolute;
   display: none;
@@ -224,11 +246,11 @@
   z-index: 5;
   font-size: 10px !important;
 }
-/* line 93, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 104, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write.line-items-table .product-menu a {
   text-decoration: none;
 }
-/* line 97, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 108, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write .quote-table {
   margin-bottom: 5px;
   width: 100%;
@@ -241,29 +263,29 @@
   -o-border-radius: 4px;
   border-radius: 4px;
 }
-/* line 105, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 116, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write .quote-table input.error {
   background: #FEE;
   border-color: #C00 !important;
 }
-/* line 110, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 121, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write .quote-table .arrow-both-handle {
   margin-left: 10px;
   width: 1em;
   height: 1em;
   display: inline-block;
 }
-/* line 117, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 128, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write .quote-table .item-delete-button {
   display: inline-block;
 }
-/* line 121, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 132, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write .quote-table td {
   padding-right: 5px;
   background-color: #FAFAFA;
   /* @theme background-color: content */
 }
-/* line 125, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 136, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write .quote-table td input.line-item-field {
   border: 1px solid #aaa;
   font-size: 12px;
@@ -276,14 +298,14 @@
   -o-border-radius: 3px;
   border-radius: 3px;
 }
-/* line 136, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 147, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write .quote-table > thead:first-child > tr > th {
   border-color: #CCCCCC;
   border-width: 0 0 1px 0;
   border-style: solid;
   text-align: left;
 }
-/* line 143, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 154, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write .quote-table > tbody.line-items > tr > td.x2-7th-child input, .line-items-write .quote-table > tbody.adjustments > tr > td.x2-7th-child input {
   background: none;
   border: none;
@@ -292,7 +314,7 @@
   overflow: hidden;
   text-overflow: ellipsis;
 }
-/* line 154, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 165, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write .quote-table input.total, .line-items-write .quote-table input.subtotal {
   background: none;
   border: none;
@@ -301,25 +323,25 @@
   overflow: hidden;
   text-overflow: ellipsis;
 }
-/* line 164, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 175, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write .line-item > .first-cell, .line-items-write .adjustment > .first-cell {
   width: 10%;
   padding-right: 0;
 }
-/* line 170, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 181, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write .quote-table > tbody.line-items > tr > td.x2-2nd-child {
   text-align: left;
   width: 22%;
   padding-right: 0;
 }
-/* line 175, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 186, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write .quote-table > thead > tr > th.line-item-name, .line-items-write .quote-table > tbody.line-items > tr > td.x2-2nd-child input {
   margin: 0 0 0 0;
   width: 85%;
   float: left;
   font-size: 12px;
 }
-/* line 182, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 193, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write .quote-table tr.line-item td.input-cell button.product-select-button {
   -webkit-border-radius: 0px 4px 4px 0px;
   -moz-border-radius: 0px 4px 4px 0px;
@@ -333,96 +355,96 @@
   margin: 0 0 0 0;
   border-left: none;
 }
-/* line 192, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 203, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write .product-name {
   -webkit-border-radius: 4px 0px 0px 4px !important;
   -moz-border-radius: 4px 0px 0px 4px !important;
   -ms-border-radius: 4px 0px 0px 4px !important;
   -o-border-radius: 4px 0px 0px 4px !important;
   border-radius: 4px 0px 0px 4px !important;
 }
-/* line 196, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 207, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write .quote-table .product-select-button img {
   margin: 0 -3px 0 0;
   width: 10px;
   height: 10px;
 }
-/* line 203, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 214, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write .quote-table > tbody.line-items > tr > td.x2-3rd-child {
   text-align: left;
   width: 16%;
 }
-/* line 206, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 217, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write .quote-table > tbody.line-items > tr > td.x2-3rd-child input {
   width: 100%;
   text-align: right;
   font-size: 12px;
 }
-/* line 212, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 223, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write .quote-table > tbody.line-items > tr > td.x2-4th-child {
   text-align: left;
   width: 12%;
 }
-/* line 217, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 228, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write .quote-table > tbody.adjustments > tr > td.x2-4th-child {
   text-align: left;
   width: 12%;
 }
-/* line 221, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 232, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write .quote-table > tbody.line-items > tr > td.x2-4th-child input {
   width: 100%;
   text-align: right;
   font-size: 12px;
 }
-/* line 226, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 237, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write .quote-table > tbody.adjustments > tr > td.x2-4th-child input {
   width: 100%;
   text-align: left;
   font-size: 12px;
 }
-/* line 231, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 242, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write .quote-table > tbody.line-items > tr > td.x2-5th-child, .line-items-write .quote-table > tbody.adjustments > tr > td.x2-5th-child {
   text-align: left;
   width: 12%;
 }
-/* line 235, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 246, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write .quote-table > tbody.line-items > tr > td.x2-5th-child input, .line-items-write .quote-table > tbody.adjustments > tr > td.x2-5th-child input {
   width: 100%;
   font-size: 12px;
   text-align: right;
 }
-/* line 240, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 251, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write .quote-table > tbody.line-items > tr > td.x2-6th-child, .line-items-write .quote-table > tbody.adjustments > tr > td.x2-6th-child {
   text-align: left;
   width: 12%;
 }
-/* line 244, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 255, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write .quote-table > tbody.line-items > tr > td.x2-6th-child input, .line-items-write .quote-table > tbody.adjustments > tr > td.x2-6th-child input {
   width: 100%;
   font-size: 12px;
 }
-/* line 248, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 259, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write .quote-table > tbody.line-items > tr > td.x2-7th-child, .line-items-write .quote-table > tbody.adjustments > tr > td.x2-7th-child {
   text-align: left;
   width: 24%;
 }
-/* line 252, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 263, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write .quote-table > tbody.line-items > tr > td.x2-7th-child input, .line-items-write .quote-table > tbody.adjustments > tr > td.x2-7th-child input {
   width: 100%;
   font-size: 12px;
 }
-/* line 257, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 268, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write .quote-table .subtotal-container, .line-items-write .quote-table .total-container {
   width: 22%;
   text-align: left;
 }
-/* line 262, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 273, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .line-items-write .quote-table input.subtotal, .line-items-write .quote-table input.total {
   width: 100%;
   font-size: 12px;
 }
 
-/* line 270, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 281, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .quotes-error-summary {
   background: #FEE;
   border: 2px solid #C00;
@@ -432,28 +454,28 @@
   margin-top: 5px;
   color: black !important;
 }
-/* line 280, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 291, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .quotes-error-summary p {
   margin: 0;
   padding: 5px;
 }
-/* line 284, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 295, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .quotes-error-summary ul {
   margin: 0;
   padding: 0 0 0 20px;
 }
 
 @media (max-width: 657px) {
-  /* line 293, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+  /* line 304, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
   .line-items-write .quote-table .input-cell {
     padding-right: 0px;
   }
-  /* line 296, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+  /* line 307, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
   .line-items-write .quote-table .arrow-both-handle {
     margin-left: 0px;
   }
 }
-/* line 302, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
+/* line 313, ../../../../../compass/protected/modules/quotes/assets/css/lineItemsWrite.scss */
 .x2-combo-box-dropdown {
   min-width: 186px;
 }

--- x2engine/protected/modules/quotes/assets/css/productTable.css ---
@@ -32,29 +32,40 @@
  * technical reasons, the Appropriate Legal Notices must display the words
  * "Powered by X2Engine".
  *****************************************************************************************/
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 /***********************************************************************
 * Grays 
 ***********************************************************************/
@@ -70,56 +81,78 @@
 /***********************************************************************
 * This section is made to correspond with the theme keys in ThemeGenerator
 ***********************************************************************/
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 /***************************************
 * This file is responsible for mantaining
 * general purpose mixins and classes. 
 ***************************************/
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 /***********************************************************************
 * Grays 
 ***********************************************************************/
@@ -148,13 +181,13 @@
 * CSS to extend when something 
 * should look like a link
 ***************************************/
-/* line 76, ../../../../../compass/css/lib/_standards.scss */
+/* line 87, ../../../../../compass/css/lib/_standards.scss */
 .pseudo-link {
   cursor: pointer;
   color: #004baf;
   transition: color .1s;
 }
-/* line 81, ../../../../../compass/css/lib/_standards.scss */
+/* line 92, ../../../../../compass/css/lib/_standards.scss */
 .pseudo-link:hover {
   color: #006cfb;
 }
@@ -163,11 +196,11 @@
 * CSS to extend when for elements that 
 * become transparent on mouseover
 ***************************************/
-/* line 99, ../../../../../compass/css/lib/_standards.scss */
+/* line 110, ../../../../../compass/css/lib/_standards.scss */
 .opacity-hover {
   opacity: 0.3;
 }
-/* line 94, ../../../../../compass/css/lib/_standards.scss */
+/* line 105, ../../../../../compass/css/lib/_standards.scss */
 .opacity-hover:hover {
   opacity: 1;
 }
@@ -183,12 +216,12 @@
 * Mixin for applying a fontAwesome icon
 * SEE _icons.scss FOR A BETTER IMPLEMENTATION
 ******************************************/
-/* line 29, ../../../../../compass/protected/modules/quotes/assets/css/productTable.scss */
+/* line 40, ../../../../../compass/protected/modules/quotes/assets/css/productTable.scss */
 .quotes-product-table th {
   /* @theme background: dark_content */
   /* @theme border-color: border */
 }
-/* line 34, ../../../../../compass/protected/modules/quotes/assets/css/productTable.scss */
+/* line 45, ../../../../../compass/protected/modules/quotes/assets/css/productTable.scss */
 .quotes-product-table td {
   /* @theme border-color: border */
 }

--- x2engine/protected/modules/quotes/controllers/QuotesController.php ---
@@ -131,8 +131,9 @@ private function duplicateLineItems(Quote $quote) {
         foreach ($quote->lineItems as $item) {
             $copy = new QuoteProduct;
             foreach($item->attributes as $name => $value)
-                if ($name !== 'id' && $name !== 'listId')
+                if ($name !== 'id' && $name !== 'listId') {
                     $copy->$name = $value;
+                }
             $lineItems[] = $copy;
         }
         return $lineItems;
@@ -147,13 +148,13 @@ private function duplicateLineItems(Quote $quote) {
 	 */
 	public function actionCreate($quick=false,$duplicate = false){
 		$model = new Quote;
-		if($duplicate) {
+		if($duplicate && !isset ($_POST['Quote'])) {
 			$copiedModel = Quote::model()->findByPk($duplicate);
 			if(!empty($copiedModel)) {
 				foreach($copiedModel->attributes as $name => $value)
 					if($name != 'id')
 						$model->$name = $value;
-				$model->lineItems = $this->duplicateLineItems($copiedModel);
+				$model->setLineItems ($this->duplicateLineItems($copiedModel), false, true);
 			}
 		}
 
@@ -215,6 +216,7 @@ public function actionCreate($quick=false,$duplicate = false){
 			'quick' => $quick,
 
 		);
+
 		if(!$quick)
 			$this->render('create', $viewData);
 		else {
@@ -257,6 +259,7 @@ public function actionUpdate($id,$quick=0){
 			'orders' => $quoteProducts,
 			'quick'=>$quick,
 		);
+
 		if(!$quick)
 			$this->render('update', $viewData);
 		else {

--- x2engine/protected/modules/quotes/models/Quote.php ---
@@ -185,7 +185,12 @@ public function behaviors() {
 	 * @return array Array of QuoteProduct instances representing the item set after changes.
 	 * @throws CException
 	 */
-	public function setLineItems(array $items, $save = false) {
+	public function setLineItems(array $items, $save = false, $skipProcessing=false) {
+        if ($skipProcessing) {
+            $this->_lineItems = $items;
+            return;
+        }
+
 		$this->_deleteLineItems = array();
 		if (count($items) === 0) {
 			QuoteProduct::model()->deleteAllByAttributes(array('quoteId' => $this->id));
@@ -209,10 +214,11 @@ public function setLineItems(array $items, $save = false) {
 		$itemSet = array();
 		$existingItems = array();
 		foreach ($this->lineItems as $item) {
-            // Save the line item if it is new, eg, during duplication.
-            // We will be needing the ID
-            if ($item->isNewRecord)
+            if ($item->isNewRecord) {
+                // this line might not be needed anymore. Used to be used for record duplication,
+                // but now now skipProcessing is used instead, bypassing this line.
                 $item->save();
+            }
 			$existingItems[$item->id] = $item;
 			$existingItemIds[] = (int) $item->id;
 		}
@@ -274,9 +280,9 @@ function($id) use($existingItems) {return $existingItems[$id];}, $deleteItemIds)
 
 		foreach($this->_lineItems as $lineItem) {
 			$lineItem->quoteId = $this->id;
-                        $product = X2Model::model('Products')->findByAttributes(array('name'=>$lineItem->name));
-                        if (isset($product))
-                            $lineItem->productId = $product->id;
+            $product = X2Model::model('Products')->findByAttributes(array('name'=>$lineItem->name));
+            if (isset($product))
+                $lineItem->productId = $product->id;
             if(empty($lineItem->currency))
 				$lineItem->currency = $defaultCurrency;
 			if($lineItem->isPercentAdjustment) {

--- x2engine/protected/modules/quotes/views/quotes/update.php ---
@@ -130,7 +130,6 @@
 		'model'=>$model,
 		'products'=>$products,
 		'readOnly'=>false,
-		'form'=>$form,
         'namespacePrefix' => 'quotes'
 	)
 );

--- x2engine/protected/modules/reports/assets/css/printChart.css ---
@@ -0,0 +1,91 @@
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
+/* line 37, ../../../../../compass/protected/modules/reports/assets/css/printChart.scss */
+.chart {
+  border-top: 1px solid lightgray;
+  margin-bottom: 10px;
+}
+/* line 41, ../../../../../compass/protected/modules/reports/assets/css/printChart.scss */
+.chart:first-of-type {
+  border: none;
+}
+
+/* line 48, ../../../../../compass/protected/modules/reports/assets/css/printChart.scss */
+#report-title {
+  text-align: center;
+  margin-top: 5px;
+}
+
+/* line 53, ../../../../../compass/protected/modules/reports/assets/css/printChart.scss */
+.grid-view {
+  padding-top: 0px !important;
+}
+
+/* line 57, ../../../../../compass/protected/modules/reports/assets/css/printChart.scss */
+.chart h2 {
+  box-sizing: border-box;
+  height: 0px;
+  margin: 0px;
+  line-height: 55px;
+  text-align: center;
+}
+
+/* line 68, ../../../../../compass/protected/modules/reports/assets/css/printChart.scss */
+.print-report table, .print-report th, .print-report td {
+  text-align: center;
+  padding: 4px;
+  border: 1px solid #D2D2D2 !important;
+}
+/* line 74, ../../../../../compass/protected/modules/reports/assets/css/printChart.scss */
+.print-report th {
+  text-shadow: none;
+  background: #1F77B4 !important;
+  color: white;
+}
+/* line 80, ../../../../../compass/protected/modules/reports/assets/css/printChart.scss */
+.print-report tr.even {
+  background: rgba(31, 119, 180, 0.1);
+}
+/* line 84, ../../../../../compass/protected/modules/reports/assets/css/printChart.scss */
+.print-report .group-header-row {
+  font-family: Montserrat;
+}
+
+@media print {
+  /* line 92, ../../../../../compass/protected/modules/reports/assets/css/printChart.scss */
+  .print-report th {
+    color: #2C2C2C;
+  }
+}

--- x2engine/protected/modules/reports/assets/css/reports.css ---
@@ -0,0 +1,272 @@
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
+/***************************************
+* This file is responsible for mantaining
+* general purpose mixins and classes. 
+***************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
+/***********************************************************************
+* Grays 
+***********************************************************************/
+/***********************************************************************
+* Blues
+***********************************************************************/
+/***********************************************************************
+* Reds 
+***********************************************************************/
+/***********************************************************************
+* Greens 
+***********************************************************************/
+/***********************************************************************
+* This section is made to correspond with the theme keys in ThemeGenerator
+***********************************************************************/
+/***************************************
+* Mixin for border radius 
+***************************************/
+/***************************************
+* Mixin for box shadow
+***************************************/
+/***************************************
+* Mixin for text field placeholder text
+***************************************/
+/***************************************
+* CSS to extend when something 
+* should look like a link
+***************************************/
+/* line 87, ../../../../../compass/css/lib/_standards.scss */
+.pseudo-link {
+  cursor: pointer;
+  color: #004baf;
+  transition: color .1s;
+}
+/* line 92, ../../../../../compass/css/lib/_standards.scss */
+.pseudo-link:hover {
+  color: #006cfb;
+}
+
+/***************************************
+* CSS to extend when for elements that 
+* become transparent on mouseover
+***************************************/
+/* line 110, ../../../../../compass/css/lib/_standards.scss */
+.opacity-hover, .reports-page-title #minimize-button .fa {
+  opacity: 0.3;
+}
+/* line 105, ../../../../../compass/css/lib/_standards.scss */
+.opacity-hover:hover, .reports-page-title #minimize-button .fa:hover {
+  opacity: 1;
+}
+
+/*********************************
+* Box Shadow Prefixer
+********************************/
+/***************************************
+* Apply the standard box shadow currently
+* used on x2-island-layout items
+***************************************/
+/*******************************************
+* Mixin for applying a fontAwesome icon
+* SEE _icons.scss FOR A BETTER IMPLEMENTATION
+******************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
+/***********************************************************************
+* Grays 
+***********************************************************************/
+/***********************************************************************
+* Blues
+***********************************************************************/
+/***********************************************************************
+* Reds 
+***********************************************************************/
+/***********************************************************************
+* Greens 
+***********************************************************************/
+/***********************************************************************
+* This section is made to correspond with the theme keys in ThemeGenerator
+***********************************************************************/
+/* line 41, ../../../../../compass/protected/modules/reports/assets/css/reports.scss */
+.reports-page-title.minimized {
+  border-bottom-left-radius: 3px !important;
+  border-bottom-right-radius: 3px !important;
+}
+/* line 46, ../../../../../compass/protected/modules/reports/assets/css/reports.scss */
+.reports-page-title > .x2-button, .reports-page-title #minimize-button {
+  display: inline-block;
+  float: right;
+  cursor: pointer;
+}
+/* line 52, ../../../../../compass/protected/modules/reports/assets/css/reports.scss */
+.reports-page-title .x2-button-group {
+  float: right;
+  margin-right: 5px !important;
+}
+/* line 58, ../../../../../compass/protected/modules/reports/assets/css/reports.scss */
+.reports-page-title #minimize-button .fa {
+  color: inherit;
+  position: relative;
+  top: 3px;
+  width: 15px;
+  margin: 0px 10px;
+}
+
+/* line 69, ../../../../../compass/protected/modules/reports/assets/css/reports.scss */
+#inline-email-form {
+  margin-top: 5px;
+}
+/* line 71, ../../../../../compass/protected/modules/reports/assets/css/reports.scss */
+#inline-email-form .last-button-row {
+  bottom: 5px !important;
+}
+/* line 74, ../../../../../compass/protected/modules/reports/assets/css/reports.scss */
+#inline-email-form #email-settings-button {
+  display: none !important;
+}
+
+/***********************************************************************
+* grid view 
+***********************************************************************/
+/* line 83, ../../../../../compass/protected/modules/reports/assets/css/reports.scss */
+.grid-view > .page-title > .x2-button-group {
+  float: left;
+}
+/* line 86, ../../../../../compass/protected/modules/reports/assets/css/reports.scss */
+.grid-view .summary {
+  float: right;
+}
+
+/* line 96, ../../../../../compass/protected/modules/reports/assets/css/reports.scss */
+#report-container.active {
+  border-color: #004baf;
+}

--- x2engine/protected/modules/services/controllers/ServicesController.php ---
@@ -309,15 +309,8 @@ public function actionIndex(){
         $this->render('index', array('model' => $model));
     }
 
-    public function actionGetItems(){
-        // We need to select the id both as 'id' and 'value' in order to correctly populate the association form.
-        $sql = 'SELECT id, id as value FROM x2_services WHERE id LIKE :qterm ORDER BY id ASC';
-        $command = Yii::app()->db->createCommand($sql);
-        $qterm = $_GET['term'].'%';
-        $command->bindParam(":qterm", $qterm, PDO::PARAM_STR);
-        $result = $command->queryAll();
-        echo CJSON::encode($result);
-        exit;
+    public function actionGetItems($term){
+        X2LinkableBehavior::getItems ($term, 'id', 'id');
     }
 
     /**

--- x2engine/protected/modules/services/views/services/create.php ---
@@ -49,13 +49,6 @@
 $contactTooltip = json_encode(Yii::t('contacts', 'Create a new {contact}', array(
     '{contact}' => Modules::displayName(false, "Contacts"),
 )));
-
-Yii::app()->clientScript->registerScript('create-model', "
-	$(function() {
-		// init create contact button
-		$('#create-contact').initCreateContactDialog('$createContactUrl', 'Services', '{$model->id}', '', '', '', '', $contactTooltip, '', '', '');
-	});
-");
 ?>
 
 <?php $this->widget('CStarRating',array('name'=>'rating-js-fix', 'htmlOptions'=>array('style'=>'display:none;'))); ?>

--- x2engine/protected/modules/services/views/services/update.php ---
@@ -54,13 +54,6 @@
 $contactTooltip = json_encode(Yii::t('contacts', 'Create a new {contact}', array(
     '{contact}' => Modules::displayName(false, "Contacts")
 )));
-
-Yii::app()->clientScript->registerScript('create-model', "
-	$(function() {
-		// init create contact button
-		$('#create-contact').initCreateContactDialog('$createContactUrl', 'Services', '{$model->id}', '', '', '', '', $contactTooltip, '', '', '');
-	});
-");
 ?>
 
 <?php $this->widget('CStarRating',array('name'=>'rating-js-fix', 'htmlOptions'=>array('style'=>'display:none;'))); ?>

--- x2engine/protected/modules/template/controllers/TemplatesController.php ---
@@ -50,19 +50,8 @@ public function behaviors(){
      * @var string the default layout for the views. Defaults to '//layouts/column2', meaning
      * using two-column layout. See 'protected/views/layouts/column2.php'.
      */
-    public function actionGetItems(){
-        $sql = 
-            'SELECT id, name as value 
-            FROM x2_templates 
-            WHERE name 
-            LIKE :qterm 
-            ORDER BY name ASC';
-
-        $command = Yii::app()->db->createCommand($sql);
-        $qterm = $_GET['term'].'%';
-        $command->bindParam(":qterm", $qterm, PDO::PARAM_STR);
-        $result = $command->queryAll();
-        echo CJSON::encode($result); exit;
+    public function actionGetItems($term){
+        X2LinkableBehavior::getItems ($term);
     }
 
     /**

--- x2engine/protected/modules/template/views/templates/create.php ---
@@ -39,7 +39,7 @@
 $this->actionMenu = $this->formatMenu(array(
 	array('label'=>Yii::t('module','{X} List',array('{X}'=>Modules::itemDisplayName())), 'url'=>array('index')),
 	array('label'=>Yii::t('module','Create {X}',array('{X}'=>Modules::itemDisplayName()))),
-));
+), array ('X2Model' => $model));
 ?>
 <div class="page-title"><h2><?php echo Yii::t('module','Create New {X}',array('{X}'=>Modules::itemDisplayName())); ?></h2></div>
 

--- x2engine/protected/modules/template/views/templates/update.php ---
@@ -42,7 +42,7 @@
 	array('label'=>Yii::t('module','View {X}',array('{X}'=>Modules::itemDisplayName())), 'url'=>array('view', 'id'=>$model->id)),
 	array('label'=>Yii::t('module','Edit {X}',array('{X}'=>Modules::itemDisplayName()))),
 	array('label'=>Yii::t('module','Delete {X}',array('{X}'=>Modules::itemDisplayName())), 'url'=>'#', 'linkOptions'=>array('submit'=>array('delete','id'=>$model->id),'confirm'=>Yii::t('app','Are you sure you want to delete this item?'))),
-));
+), array ('X2Model' => $model));
 ?>
 <div class="page-title"><h2><?php echo Yii::t('module','Update {X}',array('{X}'=>Modules::itemDisplayName())); ?> <?php echo $model->name; ?></h2></div>
 

--- x2engine/protected/modules/template/views/templates/view.php ---
@@ -77,7 +77,7 @@
         ),
     ),
     RecordViewLayoutManager::getEditLayoutActionMenuListItem (),
-));
+), array ('X2Model' => $model));
 
 $modelType = json_encode("Templates");
 $modelId = json_encode($model->id);

--- x2engine/protected/modules/users/models/User.php ---
@@ -692,7 +692,7 @@ public function getFullName(){
         return $this->_fullName;
     }
 
-    public function getDisplayName ($plural=true) {
+    public function getDisplayName ($plural=true, $ofModule=true) {
         return Yii::t('users', '{user}', array(
             '{user}' => Modules::displayName($plural, 'Users'),
         ));

--- x2engine/protected/modules/workflow/assets/css/dragAndDrop.css ---
@@ -35,46 +35,46 @@
 /***********************************************************************
 * top scroll bar 
 ***********************************************************************/
-/* line 28, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 39, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 #stage-member-list-container-top-scrollbar-outer {
   border-left: 1px solid #C2C2C2;
   border-right: 1px solid #C2C2C2;
 }
 
-/* line 34, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 45, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 #stage-member-list-container-top-scrollbar {
   width: 100%;
   margin-top: -1px;
   overflow-x: scroll;
 }
-/* line 38, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 49, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 #stage-member-list-container-top-scrollbar > div {
   height: 1px;
 }
 
-/* line 46, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 57, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 #workflow-filters-container.pipeline-view #process-status-container {
   width: auto !important;
   margin: 0 !important;
 }
-/* line 50, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 61, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 #workflow-filters-container.pipeline-view #data-summary-box {
   display: none !important;
 }
 
-/* line 57, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 68, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 .stage-member-info {
   line-height: 9px;
   color: #888888;
 }
 
-/* line 63, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 74, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 .stage-title-row {
   height: 0;
   /*margin-top: -20px;*/
 }
 
-/* line 69, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 80, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 .total-projected-stage-value {
   clear: both;
   /*color: rgb(88, 88, 88);*/
@@ -85,28 +85,28 @@
   font-size: 15px;
 }
 
-/* line 80, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 91, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 .total-stage-deals {
   font-weight: bold;
   color: #252525;
   font-size: 15px;
 }
 
-/* line 87, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 98, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 .stage-member-value {
   font-weight: bold;
   color: #252525;
 }
 
-/* line 93, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 104, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 .total-stage-deals {
   float: right;
   /*color: rgb(88, 88, 88);*/
   margin-right: 40px;
   height: 0;
 }
 
-/* line 101, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 112, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 .stage-member-staging-area {
   /*width: 270px;*/
   width: 246px;
@@ -116,51 +116,51 @@
   overflow: hidden;
   z-index: 100;
 }
-/* line 109, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 120, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 .stage-member-staging-area .stage-member-button-container > a {
   display: none !important;
 }
 
-/* line 116, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 127, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 #stage-member-lists-container .yiiPager {
   display: none;
 }
 
-/* line 120, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 131, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 #add-a-deal-button {
   margin-top: 5px;
 }
 
 /***********************************************************************
 * filters 
 ***********************************************************************/
-/* line 129, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 140, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 #workflow-filters-container .row {
   float: left;
   clear: none;
 }
-/* line 133, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 144, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 #workflow-filters-container form {
   width: auto !important;
 }
-/* line 135, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 146, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 #workflow-filters-container form .x2-button {
   margin: 11px 0px 0 7px !important;
   padding: 2px 15px !important;
 }
-/* line 140, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 151, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 #workflow-filters-container #process-status-container {
   border-left: 1px solid #C2C2C2;
   border-right: 1px solid #C2C2C2;
   border-radius: 0;
 }
 
-/* line 151, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 162, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 #workflow-filters {
   margin: 5px 5px 0 0;
 }
 
-/* line 156, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 167, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 .stage-member-button-container {
   width: 91px;
   left: 153px;
@@ -170,7 +170,7 @@
   /*left: 20px;*/
 }
 
-/* line 166, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 177, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 .stage-icon-container {
   height: 18px;
   width: 18px;
@@ -179,38 +179,38 @@
   margin-right: 4px;
 }
 
-/* line 175, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 186, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 .stage-member-type-icon {
   opacity: 0.4;
   height: 18px;
   margin-right: 5px;
 }
 
-/* line 182, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 193, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 .stage-members {
   float: left;
   width: 246px;
 }
 
-/* line 188, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 199, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 #stage-member-lists-container {
   overflow-x: auto;
   /*background-color: rgb(247, 247, 247);*/
   background-color: #ebebeb;
   min-height: 790px;
 }
 
-/* line 196, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 207, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 #content-container-inner {
   /*background-color: rgb(235, 235, 235);*/
 }
 
-/* line 202, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 213, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 .list-view .items {
   border: none !important;
   border-radius: 0 !important;
 }
-/* line 206, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 217, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 .list-view .pager {
   height: 40px;
   float: right;
@@ -222,39 +222,39 @@
   background: none;
 }
 
-/* line 221, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 232, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 .stage-member-container:hover, .stage-member-container.stage-highlight {
   background-color: #f3f3f3;
 }
 
-/* line 227, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 238, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 #stage-member-lists-container .record-stage-change-pending {
   background-color: #e6e6e6 !important;
 }
-/* line 229, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 240, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 #stage-member-lists-container .record-stage-change-pending:hover {
   background-color: #dfdfdf !important;
 }
 
-/* line 236, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 247, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 .list-view .items .empty {
   margin: 0 !important;
 }
 
-/* line 241, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 252, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 .stage-member-container, .list-view .items .empty {
   height: 45px;
   line-height: 36px;
   border-bottom: 1px solid #e2e2e2;
   padding-left: 3px;
 }
 
-/* line 249, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 260, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 #stage-member-lists-container-inner {
   width: 999999px;
 }
 
-/* line 254, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 265, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 .stage-list-title {
   border-top: 1px solid #c2c2c2;
   border-bottom: 1px solid #dadada;
@@ -264,16 +264,16 @@
   line-height: 40px;
 }
 
-/* line 265, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 276, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 #content h2 {
   float: left;
 }
-/* line 268, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 279, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 #content .responsive-menu-items {
   float: right;
 }
 
-/* line 275, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 286, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 .stage-list-title h2 {
   line-height: 47px;
   margin: 0;
@@ -285,12 +285,12 @@
   display: block;
 }
 
-/* line 287, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 298, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 .total-stage-deals, .total-projected-stage-value {
   margin-top: -15px;
 }
 
-/* line 292, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 303, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 .workflow-stage-arrow {
   pointer-events: none;
   position: relative;
@@ -307,7 +307,7 @@
 /***********************************************************************
 * stage member container 
 ***********************************************************************/
-/* line 309, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 320, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 #stage-member-lists-container .stage-member-name {
   white-space: nowrap;
   text-overflow: ellipsis;
@@ -317,47 +317,47 @@
   float: left;
 }
 
-/* line 319, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 330, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 .stage-member-button {
   position: absolute;
 }
 
-/* line 325, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 336, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 #stage-member-lists-container .edit-details-button {
   right: 59px;
 }
-/* line 328, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 339, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 #stage-member-lists-container .undo-stage-button {
   right: 29px;
 }
-/* line 331, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 342, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 #stage-member-lists-container .complete-stage-button {
   right: 0px;
   margin: 11px 5px 0 0;
 }
-/* line 335, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 346, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 #stage-member-lists-container .undo-stage-button {
   margin: 11px 5px 0 0;
 }
-/* line 338, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 349, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 #stage-member-lists-container .edit-details-button {
   margin: 11px -1px 0 0;
   vertical-align: middle;
   padding: 0 5px;
 }
-/* line 342, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 353, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 #stage-member-lists-container .edit-details-button span {
   cursor: pointer;
   opacity: 0.3;
   display: block;
   height: 24px;
   width: 24px;
 }
-/* line 348, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 359, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 #stage-member-lists-container .edit-details-button span:hover {
   opacity: 0.4;
 }
-/* line 353, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
+/* line 364, ../../../../../compass/protected/modules/workflow/assets/css/dragAndDrop.scss */
 #stage-member-lists-container .complete-stage-button, #stage-member-lists-container .undo-stage-button {
   cursor: pointer;
   color: #b4b4b4;

--- x2engine/protected/modules/workflow/assets/css/responsiveDetailView.css ---
@@ -37,15 +37,15 @@ lines compensate for that. */
 @media (max-width: 657px) {
   /* line 25, ../../../../../compass/sass/protected/modules/workflow/assets/css/responsiveDetailView.scss */
   /* line 25, ../../../../../compass/sass/protected/modules/workflow/assets/css/responsiveDetailView.scss */
-  /* line 29, ../../../../../compass/protected/modules/workflow/assets/css/responsiveDetailView.scss */
+  /* line 40, ../../../../../compass/protected/modules/workflow/assets/css/responsiveDetailView.scss */
   .responsive-menu-items {
     margin-top: 29px !important;
     margin-right: -19px !important;
   }
 
   /* line 29, ../../../../../compass/sass/protected/modules/workflow/assets/css/responsiveDetailView.scss */
   /* line 30, ../../../../../compass/sass/protected/modules/workflow/assets/css/responsiveDetailView.scss */
-  /* line 35, ../../../../../compass/protected/modules/workflow/assets/css/responsiveDetailView.scss */
+  /* line 46, ../../../../../compass/protected/modules/workflow/assets/css/responsiveDetailView.scss */
   .responsive-page-title > .mobile-dropdown-button {
     margin-top: 9px !important;
   }

--- x2engine/protected/modules/workflow/assets/css/view.css ---
@@ -33,13 +33,13 @@
  * "Powered by X2Engine".
  *****************************************************************************************/
 /* line 22, ../../../../../compass/sass/protected/modules/workflow/assets/css/view.scss */
-/* line 26, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
+/* line 37, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
 #per-stage-view-container-first {
   overflow-x: scroll;
 }
 
 /* line 26, ../../../../../compass/sass/protected/modules/workflow/assets/css/view.scss */
-/* line 32, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
+/* line 43, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
 #title-bar-workflow-select {
   height: 26px;
   max-width: 250px;
@@ -49,29 +49,29 @@
 }
 
 /* line 34, ../../../../../compass/sass/protected/modules/workflow/assets/css/view.scss */
-/* line 42, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
+/* line 53, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
 #workflow-model-type-filter + button {
   margin-top: 2px;
 }
 
 /* line 39, ../../../../../compass/sass/protected/modules/workflow/assets/css/view.scss */
-/* line 49, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
+/* line 60, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
 #stage-data-summary > h3, #stage-data-summary > span {
   display: inline-block;
 }
-/* line 52, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
+/* line 63, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
 #stage-data-summary > h3 {
   margin-right: 8px;
 }
-/* line 55, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
+/* line 66, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
 #stage-data-summary > span {
   margin-right: 6px;
 }
 
 /* line 42, ../../../../../compass/sass/protected/modules/workflow/assets/css/view.scss */
 /* line 45, ../../../../../compass/sass/protected/modules/workflow/assets/css/view.scss */
 /* line 50, ../../../../../compass/sass/protected/modules/workflow/assets/css/view.scss */
-/* line 66, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
+/* line 77, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
 #data-summary-box {
   box-sizing: border-box;
   width: 100%;
@@ -82,7 +82,7 @@
 }
 
 /* line 59, ../../../../../compass/sass/protected/modules/workflow/assets/css/view.scss */
-/* line 77, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
+/* line 88, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
 .row-no-title {
   margin-top: 15px;
   margin-bottom: 4px;
@@ -92,26 +92,26 @@
 * funnel 
 ***********************************************************************/
 /* line 68, ../../../../../compass/sass/protected/modules/workflow/assets/css/view.scss */
-/* line 87, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
+/* line 98, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
 .funnel-stage-count {
   cursor: pointer;
 }
 
 /* line 72, ../../../../../compass/sass/protected/modules/workflow/assets/css/view.scss */
-/* line 93, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
+/* line 104, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
 .stage-name-link, .funnel-stage-value {
   font-weight: bold;
   font-size: 16px;
 }
 
 /* line 77, ../../../../../compass/sass/protected/modules/workflow/assets/css/view.scss */
-/* line 100, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
+/* line 111, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
 .funnel-total-records, .funnel-total-value {
   font-size: 18px;
 }
 
 /* line 81, ../../../../../compass/sass/protected/modules/workflow/assets/css/view.scss */
-/* line 106, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
+/* line 117, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
 #funnel-container {
   position: relative;
   width: 248px;
@@ -126,12 +126,12 @@
 * ui switch buttons 
 ***********************************************************************/
 /* line 95, ../../../../../compass/sass/protected/modules/workflow/assets/css/view.scss */
-/* line 121, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
+/* line 132, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
 #per-stage-view-button {
   height: 26px;
   box-sizing: border-box;
 }
-/* line 124, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
+/* line 135, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
 #per-stage-view-button > div {
   width: 19px;
   height: 2px;
@@ -144,12 +144,12 @@
 
 /* line 96, ../../../../../compass/sass/protected/modules/workflow/assets/css/view.scss */
 /* line 109, ../../../../../compass/sass/protected/modules/workflow/assets/css/view.scss */
-/* line 139, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
+/* line 150, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
 #drag-and-drop-view-button {
   height: 26px;
   box-sizing: border-box;
 }
-/* line 142, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
+/* line 153, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
 #drag-and-drop-view-button > div {
   display: inline-block;
   width: 2px;
@@ -161,20 +161,20 @@
 
 /* line 112, ../../../../../compass/sass/protected/modules/workflow/assets/css/view.scss */
 /* line 122, ../../../../../compass/sass/protected/modules/workflow/assets/css/view.scss */
-/* line 156, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
+/* line 167, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
 #content {
   background: none !important;
   border: none !important;
 }
 
 /* line 127, ../../../../../compass/sass/protected/modules/workflow/assets/css/view.scss */
-/* line 163, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
+/* line 174, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
 #content-container-inner {
   border: none !important;
 }
 
 /* line 131, ../../../../../compass/sass/protected/modules/workflow/assets/css/view.scss */
-/* line 169, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
+/* line 180, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
 #process-status-container {
   width: 440px;
   margin-left: 6px;
@@ -183,37 +183,37 @@
 }
 
 /* line 138, ../../../../../compass/sass/protected/modules/workflow/assets/css/view.scss */
-/* line 178, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
+/* line 189, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
 #drag-and-drop-view-button {
   margin-left: -4px;
 }
 
 /* line 144, ../../../../../compass/sass/protected/modules/workflow/assets/css/view.scss */
-/* line 184, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
+/* line 195, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
 .grid-view table.items {
   margin-top: 0 !important;
 }
 
 /* line 148, ../../../../../compass/sass/protected/modules/workflow/assets/css/view.scss */
-/* line 190, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
+/* line 201, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
 #process-status-container {
   margin-bottom: 0 !important;
 }
 
 /* line 152, ../../../../../compass/sass/protected/modules/workflow/assets/css/view.scss */
-/* line 196, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
+/* line 207, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
 .grid-view .x2-layout-island {
   margin-top: 4px;
 }
-/* line 198, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
+/* line 209, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
 .grid-view .x2-layout-island > h2 {
   margin-top: 6px;
   margin-left: 6px;
 }
 
 /* line 154, ../../../../../compass/sass/protected/modules/workflow/assets/css/view.scss */
 /* line 160, ../../../../../compass/sass/protected/modules/workflow/assets/css/view.scss */
-/* line 208, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
+/* line 219, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
 .grid-container {
   margin-top: 5px;
 }
@@ -222,7 +222,7 @@
 * funnel 
 ***********************************************************************/
 /* line 168, ../../../../../compass/sass/protected/modules/workflow/assets/css/view.scss */
-/* line 217, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
+/* line 228, ../../../../../compass/protected/modules/workflow/assets/css/view.scss */
 .stage-name-link {
   max-width: 200px;
   min-width: 125px;

--- x2engine/protected/modules/workflow/models/Workflow.php ---
@@ -1752,7 +1752,7 @@ public static function getPipelineListItemColors ($colors) {
         return $listItemColors;
     }
 
-    public function getDisplayName ($plural=true) {
+    public function getDisplayName ($plural=true, $ofModule=true) {
         return Yii::t('workflow', '{process}', array(
             '{process}' => Modules::displayName($plural, 'Process'),
         ));

--- x2engine/protected/modules/x2Leads/controllers/X2LeadsController.php ---
@@ -76,14 +76,8 @@ public function behaviors(){
     }
 
 
-    public function actionGetItems(){
-        $sql = 'SELECT id, name as value FROM x2_x2leads WHERE name LIKE :qterm ORDER BY name ASC';
-        $command = Yii::app()->db->createCommand($sql);
-        $qterm = $_GET['term'].'%';
-        $command->bindParam(":qterm", $qterm, PDO::PARAM_STR);
-        $result = $command->queryAll();
-        echo CJSON::encode($result);
-        Yii::app()->end();
+    public function actionGetItems($term){
+        X2LinkableBehavior::getItems ($term);
     }
 
     /**

--- x2engine/protected/tests/TestingAuxLib.php ---
@@ -216,9 +216,7 @@ public static function loadAuthManagerMock () {
     public static function restoreX2AuthManager () {
         if (isset (self::$_oldAuthManagerComponent)) {
             Yii::app()->setComponent ('authManager', self::$_oldAuthManagerComponent);
-        } else {
-            throw new CException ('X2AuthManager component could not be restored'); 
-        }
+        } 
     }
 
     private static $_oldUserComponent;
@@ -236,9 +234,7 @@ public static function loadX2NonWebUser () {
     public static function restoreX2WebUser () {
         if (isset (self::$_oldUserComponent)) {
             Yii::app()->setComponent ('user', self::$_oldUserComponent);
-        } else {
-            throw new CException ('X2WebUser component could not be restored'); 
-        }
+        } 
     }
 
 }

--- x2engine/protected/tests/X2DbTestCase.php ---
@@ -184,6 +184,13 @@ public static function tearDownAfterClass(){
         self::tearDownAppEnvironment();
     }
 
+    public function tearDown () {
+        // try to replace mocks with original components in case mocks were set during test case
+        TestingAuxLib::restoreX2WebUser ();
+        TestingAuxLib::restoreX2AuthManager ();
+        return parent::tearDown ();
+    }
+
     /**
      * Assert thet the model can be saved without error and, if errors are present, print
      * out the corresponding error messages.

--- x2engine/protected/tests/X2WebTestCase.php ---
@@ -76,6 +76,10 @@ abstract class X2WebTestCase extends CWebTestCase {
 
     public $firstLogin = true;
 
+    public static function getTestHost () {
+        return preg_replace ('/^https?:\/\/([^\/]+)\/.*$/', '$1', TEST_WEBROOT_URL);
+    }
+
     public function waitForPageToLoad () {
         $this->waitForCondition (
             "window.document.readyState === 'complete'", 5000);
@@ -177,9 +181,7 @@ public function session() {
         try {
             $this->assertCorrectUser();
         } catch (PHPUnit_Framework_AssertionFailedError $e) {
-            /**
-             * The browser is logged in but not as the correct user.
-             */
+            // The browser is logged in but not as the correct user.
             $this->logout();
             $this->login();
             $this->firstLogin = false;
@@ -241,12 +243,22 @@ public function assertJSCondition ($jsCond, $expected) {
     }
 
     /**
-     * visits page and checks for php errors
+     * Visits page and checks for PHP/JS errors
      * @param string $page URI of page
      */
-    protected function assertNoPHPErrors () {
+    protected function assertNoErrors () {
 		$this->assertElementNotPresent('css=.xdebug-error');
 		$this->assertElementNotPresent('css=#x2-php-error');
+        $this->storeEval (
+            "window.document.body.attributes['x2-js-error'] ? 'true' : 'false'", 
+            'hasJsErrorAttr');
+        $hasJsErrorAttr = $this->getExpression ('${hasJsErrorAttr}');
+        if ($hasJsErrorAttr === 'true') {
+            $this->storeAttribute ('dom=document.body@x2-js-error', 'errorMessage');
+            $errorMessage = $this->getExpression ('${errorMessage}');
+            println ($errorMessage);
+            $this->assertTrue (false, $errorMessage);
+        } 
     }
 
     public function getHttpErrorResponse () {

--- x2engine/protected/tests/api/APIModelTest.php ---
@@ -30,7 +30,8 @@ public static function referenceFixtures() {
 	}
 
 	public function newModel() {
-		return new APIModel('testuser','5f4dcc3b5aa765d61d8327deb882cf99',rtrim(TEST_BASE_URL,'/'));
+        $user = $this->users ('testUser');
+		return new APIModel($user->username,$user->userKey,rtrim(TEST_BASE_URL,'/'));
 	}
 
 	public function testInternalMethods() {
@@ -51,14 +52,23 @@ public function testTags() {
 		// Test adding:
 //		ob_start();
 		$realModel = $this->contacts('testAnyone');
-		$response = $model->addTags('Contacts',$realModel->id,$tags);
+		$response = $model->addTags ('Contacts',$realModel->id,$tags);
 		$tagTable = CActiveRecord::model('Tags')->tableName();
-		$tagsOnServer = Yii::app()->db->createCommand()->select('tag')->from($tagTable)->where('itemId=:itemId AND type=:itemType',array(':itemId'=>$realModel->id,':itemType'=>get_class($realModel)))->queryColumn();
+		$tagsOnServer = Yii::app()->db->createCommand()
+            ->select('tag')
+            ->from($tagTable)
+            ->where(
+                'itemId=:itemId AND type=:itemType',
+                array(':itemId'=>$realModel->id,':itemType'=>get_class($realModel))
+            )->queryColumn();
+        
 //		var_dump($tags);
 //		var_dump($tagsOnServer);
 //		print_r(json_decode($response,1));
+
 		$tagsNotAdded = array_diff($tags,$tagsOnServer);
 		$this->assertEmpty($tagsNotAdded,'Failed asserting that tags were saved on the server.');
+
 		// Test getting:
 		$tagsFromServer = $model->getTags('Contacts',$this->contacts('testAnyone')->id);
 //		ob_end_clean();

--- x2engine/protected/tests/data/csvs/contacts-visibility.csv ---
@@ -0,0 +1,4 @@
+id,name,nameId,firstName,lastName,title,company,phone,phone2,email,website,address,address2,city,state,zipcode,country,visibility,assignedTo,backgroundInfo,twitter,linkedin,skype,googleplus,lastUpdated,lastActivity,updatedBy,priority,leadSource,leadDate,rating,createDate,facebook,otherUrl,leadtype,closedate,expectedCloseDate,interest,leadstatus,dealvalue,leadscore,dealstatus,timezone,doNotCall,doNotEmail,trackingKey,dupeCheck,fingerprintId,reverseIp
+1,"Contact One","Contact One_1",Contact,One,,,831-123-5555,,one@example.com,one.example.com,,,,,,,1,admin,,,,,,"September 15, 2014 5:59:48 PM","September 15, 2014 5:59:48 PM",admin,,Facebook,"September 4, 2014 12:00:00 AM",,"September 15, 2014 5:59:48 PM",,,Web,,,,,,3,Working,,0,0,N1WsPfj187vuvjiPICBAsjFosaVKuTP8,1,,
+2,"Contact Two","Contact Two_2",Contact,Two,,,408-123-5554,,two@example.com,two.example.com,,,"San Jose",CA,,US,Public,admin,,,,,,"September 15, 2014 6:01:03 PM","September 15, 2014 6:01:03 PM",admin,,"Walk In","September 11, 2014 12:00:00 AM",,"September 15, 2014 6:01:03 PM",,,"In Person",,,,,,5,,,0,0,sVlj6Ii2YxlcehOGeZLRggVaK87eolrH,1,,
+3,"Contact Three","Contact Three_3",Contact,Three,,,,,three@example.com,three.example.com,,,,,,,0,Anyone,,,,,,"September 15, 2014 6:01:36 PM","September 15, 2014 6:01:36 PM",admin,,,,1,"September 15, 2014 6:01:36 PM",,,None,,,,,,1,,,0,0,NiMFaVigH8ZEn1K3tANcZKJGD7ZuWnlA,1,,

--- x2engine/protected/tests/data/csvs/contacts.csv ---
@@ -1,4 +1,4 @@
 id,name,nameId,firstName,lastName,title,company,phone,phone2,email,website,address,address2,city,state,zipcode,country,visibility,assignedTo,backgroundInfo,twitter,linkedin,skype,googleplus,lastUpdated,lastActivity,updatedBy,priority,leadSource,leadDate,rating,createDate,facebook,otherUrl,leadtype,closedate,expectedCloseDate,interest,leadstatus,dealvalue,leadscore,dealstatus,timezone,doNotCall,doNotEmail,trackingKey,dupeCheck,fingerprintId,reverseIp
 1,"Contact One","Contact One_1",Contact,One,,,831-123-5555,,one@example.com,one.example.com,,,,,,,Public,admin,,,,,,"September 15, 2014 5:59:48 PM","September 15, 2014 5:59:48 PM",admin,,Facebook,"September 4, 2014 12:00:00 AM",,"September 15, 2014 5:59:48 PM",,,Web,,,,,,3,Working,,0,0,N1WsPfj187vuvjiPICBAsjFosaVKuTP8,1,,
 2,"Contact Two","Contact Two_2",Contact,Two,,,408-123-5554,,two@example.com,two.example.com,,,"San Jose",CA,,US,Public,admin,,,,,,"September 15, 2014 6:01:03 PM","September 15, 2014 6:01:03 PM",admin,,"Walk In","September 11, 2014 12:00:00 AM",,"September 15, 2014 6:01:03 PM",,,"In Person",,,,,,5,,,0,0,sVlj6Ii2YxlcehOGeZLRggVaK87eolrH,1,,
-3,"Contact Three","Contact Three_3",Contact,Three,,,,,three@example.com,three.example.com,,,,,,,Public,admin,,,,,,"September 15, 2014 6:01:36 PM","September 15, 2014 6:01:36 PM",admin,,,,1,"September 15, 2014 6:01:36 PM",,,None,,,,,,1,,,0,0,NiMFaVigH8ZEn1K3tANcZKJGD7ZuWnlA,1,,
+3,"Contact Three","Contact Three_3",Contact,Three,,,,,three@example.com,three.example.com,,,,,,,Private,Anyone,,,,,,"September 15, 2014 6:01:36 PM","September 15, 2014 6:01:36 PM",admin,,,,1,"September 15, 2014 6:01:36 PM",,,None,,,,,,1,,,0,0,NiMFaVigH8ZEn1K3tANcZKJGD7ZuWnlA,1,,

--- x2engine/protected/tests/data/csvs/lineendings-contacts.csv ---
@@ -0,0 +1,3 @@
+id,name,nameId,firstName,lastName,title,company,phone,phone2,email,website,address,address2,city,state,zipcode,country,visibility,assignedTo,backgroundInfo,twitter,linkedin,skype,googleplus,lastUpdated,lastActivity,updatedBy,priority,leadSource,leadDate,rating,createDate,facebook,otherUrl,leadtype,closedate,expectedCloseDate,interest,leadstatus,dealvalue,leadscore,dealstatus,timezone,doNotCall,doNotEmail,trackingKey,dupeCheck,fingerprintId,reverseIp
+1,"Contact One","Contact One_1",Contact,One,,,831-123-5555,,one@example.com,one.example.com,,,,,,,Public,admin,,,,,,"September 15, 2014 5:59:48 PM","September 15, 2014 5:59:48 PM",admin,,Facebook,"September 4, 2014 12:00:00 AM",,"September 15, 2014 5:59:48 PM",,,Web,,,,,,3,Working,,0,0,N1WsPfj187vuvjiPICBAsjFosaVKuTP8,1,,
+2,"Contact Two","Contact Two_2",Contact,Two,,,408-123-5554,,two@example.com,two.example.com,,,"San Jose",CA,,US,Public,admin,,,,,,"September 15, 2014 6:01:03 PM","September 15, 2014 6:01:03 PM",admin,,"Walk In","September 11, 2014 12:00:00 AM",,"September 15, 2014 6:01:03 PM",,,"In Person",,,,,,5,,,0,0,sVlj6Ii2YxlcehOGeZLRggVaK87eolrH,1,,3,"Contact Three","Contact Three_3",Contact,Three,,,,,three@example.com,three.example.com,,,,,,,Private,Anyone,,,,,,"September 15, 2014 6:01:36 PM","September 15, 2014 6:01:36 PM",admin,,,,1,"September 15, 2014 6:01:36 PM",,,None,,,,,,1,,,0,0,NiMFaVigH8ZEn1K3tANcZKJGD7ZuWnlA,1,,

--- x2engine/protected/tests/fixtures/x2_campaigns.CampaignMailingBehaviorTest.php ---
@@ -95,6 +95,43 @@
 <br />
 Have a nice day!</body>
 </html>
+',
+        'createdBy' => 'admin',
+        'complete' => '0',
+        'visibility' => '1',
+        'createDate' => '1387560038',
+        'launchDate' => '1387560057',
+        'lastUpdated' => '1387560063',
+        'lastActivity' => '1387560063',
+        'updatedBy' => 'admin',
+        'sendAs' => '-1',
+    ),
+
+    'unsubToken' => array(
+        'id' => '6',
+        'masterId' => NULL,
+        'name' => 'Test Email Campaign',
+        'nameId' => 'Test Email Campaign_6',
+        'assignedTo' => 'admin',
+        'listId' => 'Campaign Testing_16',
+        'active' => '1',
+        'description' => '',
+        'type' => 'Email',
+        'cost' => NULL,
+        'template' => '0',
+        'subject' => 'This is a test',
+        'content' => '<html>
+<head>
+        <title></title>
+</head>
+<body>Hello {name},<br />
+<br />
+This is a test.<br />
+<br />
+Have a nice day!
+{_unsub}
+</body>
+</html>
 ',
         'createdBy' => 'admin',
         'complete' => '0',

--- x2engine/protected/tests/fixtures/x2_contacts.ImportTest.php ---
@@ -120,8 +120,8 @@
         'state' => null,
         'zipcode' => null,
         'country' => null,
-        'visibility' => '1',
-        'assignedTo' => 'admin',
+        'visibility' => '0',
+        'assignedTo' => 'Anyone',
         'backgroundInfo' => null,
         'twitter' => null,
         'linkedin' => null,

--- x2engine/protected/tests/fixtures/x2_email_inboxes.php ---
@@ -0,0 +1,75 @@
+<?php
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
+
+return array(
+'admin' => array (
+  'id' => '1',
+  'name' => 'My Inbox',
+  'credentialId' => '1',
+  'shared' => '0',
+  'assignedTo' => 'admin',
+  'lastUpdated' => '1434755399',
+  'settings' => '{"logOutboundByDefault":"1"}',
+),
+'testuser' => array (
+  'id' => '2',
+  'name' => 'My Inbox',
+  'credentialId' => '2',
+  'shared' => '0',
+  'assignedTo' => 'testuser',
+  'lastUpdated' => '1434755492',
+  'settings' => '{"logOutboundByDefault":"1"}',
+),
+'shared' => array (
+  'id' => '3',
+  'name' => 'test',
+  'credentialId' => '1',
+  'shared' => '1',
+  'assignedTo' => 'admin, testuser',
+  'lastUpdated' => '1434757193',
+  'settings' => '{"logOutboundByDefault":1}',
+),
+'shared2' => array (
+  'id' => '4',
+  'name' => 'test',
+  'credentialId' => '1',
+  'shared' => '1',
+  'assignedTo' => 'admin',
+  'lastUpdated' => '1434757193',
+  'settings' => '{"logOutboundByDefault":1}',
+),
+);
+?>

--- x2engine/protected/tests/fixtures/x2_events.GetEvents.php ---
@@ -1,6 +1,34 @@
 <?php
 
 return array(
+    array( // author and assignee differ. author and assignee are groupmates
+        'id'=>11,
+        'type'=>'feed',
+        'subtype'=>'Social Post',
+        'level'=>null,
+        'visibility'=>0,
+        'text'=>'Test social post.',
+        'associationType'=>'User',
+        'associationId'=>3,
+        'user'=>'testuser3',
+        'timestamp'=>1359483516,
+        'lastUpdated'=>1359483530,
+        'important'=>0
+    ),
+    array( // author and assignee differ. author and assignee aren't groupmates
+        'id'=>12,
+        'type'=>'feed',
+        'subtype'=>'Social Post',
+        'level'=>null,
+        'visibility'=>0,
+        'text'=>'Test social post.',
+        'associationType'=>'User',
+        'associationId'=>3,
+        'user'=>'admin',
+        'timestamp'=>1359483516,
+        'lastUpdated'=>1359483530,
+        'important'=>0
+    ),
     array(
         'id'=>10,
         'type'=>'feed',

--- x2engine/protected/tests/functional/controllers/AdminControllerTest.php ---
@@ -141,7 +141,7 @@ protected function getFailedValidationText() {
      * properly uploaded
      * @param string $model Name of the model to import
      */
-    protected function prepareImport($model, $csvName) {
+    protected function prepareImport($model, $csvName, $verifyUpload = true) {
         $this->openX2 ('/admin/importModels?model='.ucfirst($model));
         $csv = implode(DIRECTORY_SEPARATOR, array(
             Yii::app()->basePath,
@@ -152,7 +152,16 @@ protected function prepareImport($model, $csvName) {
         ));
         $this->type ('data', $csv);
         $this->clickAndWait ("dom=document.querySelector ('input[type=\"submit\"]')");
-        $this->assertCsvUploaded ($csv);
+        if ($verifyUpload)
+            $this->assertCsvUploaded ($csv);
+    }
+
+    /**
+     * Navigate to the export page and begin export
+     * @param string $model Name of the model to export
+     */
+    protected function prepareExport($model) {
+        $this->openX2 ('/admin/exportModels?model='.ucfirst($model));
     }
 
     /**
@@ -165,6 +174,19 @@ protected function beginImport() {
         $this->assertAlert ("Import Complete!");
     }
 
+    /**
+     * Click the 'process' link to begin the import, and assert ui functions
+     * as expected
+     */
+    protected function beginExport($includeHidden = false) {
+        if ($includeHidden) {
+            $this->click ("css=#includeHidden");
+        }
+        $this->click ("css=#export-button");
+        $this->waitForTextPresent ("data successfully exported.");
+        $this->assertAlert ("Export Complete!");
+    }
+
     /**
      * Save specified records in memory and remove so that the fields being
      * imported can be verified
@@ -308,6 +330,71 @@ public function testImportValidationFailures() {
         }
     }
 
+    /**
+     * Verify that the importer can handle line endings from various operating systems.
+     * The specified CSV has lines ending in: \r\n, \n, \r, and \r\n, respectively.
+     */
+    public function testImportLineEndings() {
+        $csvFile = 'lineendings-contacts.csv';
+        // Skip verification of uploaded CSV since it will be modified
+        $this->prepareImport ('Contacts', $csvFile, false);
+        $expected = $this->stashModels ('Contacts');
+        $this->assertGreaterThan (0, count($expected),
+            'Failed to load fixture! Models were expected');
+        $this->beginImport();
+        $this->assertNoValidationErrorsPresent();
+        $this->assertModelsWereImported ($expected, 'Contacts');
+    }
+
+    /**
+     * Ensure that visibility is handled properly on import, regardless of whether the
+     * field contains digits or strings
+     */
+    public function testImportVisibility() {
+        $csvFile = 'contacts-visibility.csv';
+        $this->prepareImport ('Contacts', $csvFile);
+        $expected = $this->stashModels ('Contacts');
+        $this->assertGreaterThan (0, count($expected),
+            'Failed to load fixture! Models were expected');
+        $this->beginImport();
+        $this->assertNoValidationErrorsPresent();
+        $this->assertModelsWereImported ($expected, 'Contacts');
+    }
+
+    /**
+     * Ensure that hidden records are included/excluded when requested
+     */
+    public function testExportHiddenRecords() {
+        $exportCsv = implode(DIRECTORY_SEPARATOR, array(
+            Yii::app()->basePath,
+            'data',
+            'records_export.csv'
+        ));
+
+        // Without hidden records, should export 3 models
+        $this->prepareExport ('contacts');
+        $this->beginExport (false);
+        $this->assertEquals (3, count(file($exportCsv)));
+
+        // With hidden records, should export 4 models instead
+        $this->prepareExport ('contacts');
+        $this->beginExport (true);
+        $this->assertEquals (4, count(file($exportCsv)));
+    }
+
+    /**
+     * Verify that models can be exported properly
+     */
+    public function testRecordsExport() {
+        // TODO get actions tested
+        $csvs = array_diff($this->csvs, array('actions'));
+        foreach ($csvs as $modelName) {
+            $this->prepareExport ($modelName);
+            $this->beginExport(true);
+            $this->assertCsvExported ($modelName);
+        }
+    }
+
     /********************************************************************
      * Assert methods
      ********************************************************************/
@@ -384,7 +471,7 @@ protected function assertModulesEqual($expected, $actual) {
      * Assert that the CSV exists and the file contents are equal
      * @param string $csv Path to the uploaded csv
      */
-    protected function assertCsvUploaded($csv) {
+    protected function assertCsvUploaded ($csv) {
         $uploadedPath = implode(DIRECTORY_SEPARATOR, array(
             Yii::app()->basePath,
             'data',
@@ -394,6 +481,31 @@ protected function assertCsvUploaded($csv) {
         $this->assertFileEquals ($csv, $uploadedPath);
     }
 
+    /**
+     * Assert that the CSV exists and the file contents are equal
+     * @param string $csv Path to the uploaded csv
+     */
+    protected function assertCsvExported ($csv) {
+        $exportPath = implode(DIRECTORY_SEPARATOR, array(
+            Yii::app()->basePath,
+            'data',
+            'records_export.csv'
+        ));
+        $csvFile = implode(DIRECTORY_SEPARATOR, array(
+            Yii::app()->basePath,
+            'tests',
+            'data',
+            'csvs',
+            $csv.".csv"
+        ));
+        $this->assertFileExists ($exportPath);
+        $expectedLength = count(file($csvFile));
+        $exportedLength = count(file($exportPath));
+        $this->assertEquals ($expectedLength, $exportedLength);
+        // TODO achieve consistency in fields
+        //$this->assertFileEquals ($csvFile, $exportPath);
+    }
+
     /**
      * Assert that all models in the CSV were properly imported
      * @param array $expected Array of expected model attributes, indexed by model ID.

--- x2engine/protected/tests/functional/integrations/EmailImportTest.php ---
@@ -0,0 +1,68 @@
+<?php
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
+
+class EmailImportTest extends X2DbTestCase {
+
+//    public $fixtures = array (
+//        'users' => 'User',
+//    );
+//
+//    public static function setUpBeforeClass () {
+//        `cp ../integration/MTA/emailImport.php webscripts/integrations/MTA`;
+//        $file = 'webscripts/integrations/MTA/emailImport.php';
+//        $user = User::model ()->findByPk (1);
+//        $contents = file_get_contents ($file);
+//        $contents = preg_replace (
+//            "/host = ''/", "host = '".X2WebTestCase::getTestHost ()."'", $contents);
+//        $contents = preg_replace ("/'user' => ''/", "user => '".$user->username."'", $contents);
+//        $contents = preg_replace ("/'userKey' => ''/", "user => '".$user->userKey."'", $contents);
+//        file_put_contents ($file, $contents);
+//        return parent::setUpBeforeClass ();
+//    }
+//
+//    public static function tearDownAfterClass () {
+//        $file = 'webscripts/integrations/MTA/emailImport.php';
+//        `rm $file`;
+//        return parent::tearDownAfterClass ();
+//    }
+
+    public function testEmailImportScript () {
+        $this->markTestIncomplete ();
+    }
+
+}
+
+?>

--- x2engine/protected/tests/functional/pageCrawlers/VisitAllPagesTest.php ---
@@ -51,20 +51,87 @@ abstract class VisitAllPagesTest extends X2WebTestCase {
      */
     protected function visitPages ($pages, $testXss = false) {
         foreach ($pages as $page) {
-            print ('visiting page ' .$page."\n");
+            /**/print ('visiting page ' .$page."\n");
 		    $this->openX2($page);
-            $this->assertNoPHPErrors ($page);
+            $this->assertNoErrors ($page);
             if ($testXss)
                 $this->assertElementNotPresent ('css=.TESTX2INJECTION');
         }
     }
 
-	public function testPages () {
-        $this->visitPages ( $this->allPages );
-	}
+    public function testContactsPages () {
+        $this->visitPages ($this->getPages ('^contacts'));
+    }
+
+    public function testAccountsPages () {
+        $this->visitPages ($this->getPages ('^accounts'));
+    }
+
+    public function testMartketingPages () {
+        $this->visitPages ($this->getPages ('^(marketing|weblist)'));
+    }
+
+    public function testX2LeadsPages () {
+        $this->visitPages ($this->getPages ('^x2Leads'));
+    }
+
+    public function testOpportunitiesPages () {
+        $this->visitPages ($this->getPages ('^opportunities'));
+    }
+
+    public function testServicesPages () {
+        $this->visitPages ($this->getPages ('^services'));
+    }
+
+    public function testActionsPages () {
+        $this->visitPages ($this->getPages ('^actions'));
+    }
+
+    public function testCalendarPages () {
+        $this->visitPages ($this->getPages ('^calendar'));
+    }
+
+    public function testDocsPages () {
+        $this->visitPages ($this->getPages ('^docs'));
+    }
+
+    public function testProductsPages () {
+        $this->visitPages ($this->getPages ('^products'));
+    }
+
+    public function testQuotesPages () {
+        $this->visitPages ($this->getPages ('^quotes'));
+    }
+
+     
+
+    public function testMediaPages () {
+        $this->visitPages ($this->getPages ('^media'));
+    }
+
+    public function testGroupsPages () {
+        $this->visitPages ($this->getPages ('^groups'));
+    }
+
+    public function testBugReportsPages () {
+        $this->visitPages ($this->getPages ('^bugReports'));
+    }
+
+    public function testSitePages () {
+        $this->visitPages ($this->getPages ('^site'));
+    }
+
+    public function testProfilePages () {
+        $this->visitPages ($this->getPages ('^profile'));
+    }
+
+    public function getPages ($pattern) {
+        return array_filter ($this->allPages, function ($page) use ($pattern) {
+            return preg_match ('/'.$pattern.'/', $page);
+        });
+    }
 
     public $allPages = array(
-        // contacts
         'contacts/index',
         'contacts/id/1195',
         'contacts/update/id/1195',
@@ -73,14 +140,14 @@ public function testPages () {
         'contacts/lists',
         'contacts/myContacts',
         'contacts/createList',
-        // accounts
+
         'accounts/index',
         'accounts/update/id/1',
         'accounts/1',
         'accounts/create',
         'accounts/shareAccount/id/1',
          
-        // marketing
+
         'marketing/index',
         'marketing/create',
         'marketing/5',
@@ -90,38 +157,38 @@ public function testPages () {
         'weblist/update?id=18',
         'marketing/webleadForm',
          
-        // leads
+
         'x2Leads/index',
         'x2Leads/create',
         'x2Leads/1',
         'x2Leads/update/id/1',
         'x2Leads/delete/id/1',
-        // opportunities
+
         'opportunities/index',
         'opportunities/51',
         'opportunities/create',
         'opportunities/51',
         'opportunities/update/id/51',
-        // services
+
         'services/index',
         'services/3',
         'services/create',
         'services/update/id/3',
         'services/createWebForm',
-        // actions
+
         'actions/index',
         'actions/create',
         'actions/1',
         'actions/update/id/1',
         'actions/shareAction/id/1',
         'actions/viewGroup',
         'actions/viewAll',
-        // calendar
+
         'calendar/index',
         'calendar/myCalendarPermissions',
         'calendar/userCalendarPermissions',
         'calendar/userCalendarPermissions/id/1',
-        // docs
+
         'docs/index',
         'docs/create',
         'docs/createEmail',
@@ -130,50 +197,53 @@ public function testPages () {
         'docs/update/id/1',
         'docs/changePermissions/id/1',
         'docs/exportToHtml/id/1',
-        // workflow
+
         'workflow/index',
         'workflow/create',
         'workflow/1?perStageWorkflowView=true',
         'workflow/1?perStageWorkflowView=false',
         'workflow/update/id/1',
-        // products
+
         'products/index',
         'products/1',
         'products/create',
         'products/update/id/1',
-        //'site/printRecord/1?modelClass=Product&pageTitle=Product%3A+Semiconductor',
-        // quotes
+
         'quotes/index',
         'quotes/indexInvoice',
         'quotes/1',
         'quotes/convertToInvoice/id/1',
         'quotes/create',
         'quotes/update/id/1',
+
          
+
         // charts
         //'charts/leadVolume',
         //'charts/marketing',
         //'charts/pipeline',
         //'charts/sales',
-        // media
+
         'media/index',
         'media/1',
         'media/upload',
         'media/update/id/1',
-        // groups
+
         'groups/index',
         'groups/1',
         'groups/update/id/1',
         'groups/create',
-        // bug reports
+
         'bugReports/index',
         'bugReports/create',
-        // site
+
         'site/viewNotifications',
         'site/page?view=iconreference',
         'site/page?view=about',
         'site/bugReport',
-        // profile
+        'site/printRecord/70?modelClass=Services&pageTitle=Service+Case%3A+70',
+        //'site/printRecord/1?modelClass=Product&pageTitle=Product%3A+Semiconductor',
+
         'profile/profiles',
         'profile/activity',
         'profile/1',
@@ -182,7 +252,6 @@ public function testPages () {
         'profile/settings/1',
         'profile/changePassword/1',
         'profile/manageCredentials'
-
     );
 
     public $adminPages = array(
@@ -192,62 +261,62 @@ public function testPages () {
         'users/update/id/1',
         'users/inviteUsers',
         'users/create',
-        // admin
-        'admin/index',
-        'admin/editRoleAccess',
-        'admin/manageRoles',
-        'admin/manageSessions',
-        'admin/setLeadRouting',
-        'admin/roundRobinRules',
-        'admin/workflowSettings',
+
+        'admin/activitySettings',
         'admin/addCriteria',
-        'admin/setServiceRouting',
-        'studio/flowIndex',
-        'studio/importFlow',
         'admin/appSettings',
-        'admin/updaterSettings',
-        'admin/manageModules',
-        'admin/createPage',
-        'admin/googleIntegration',
-        'admin/toggleDefaultLogo',
-        'admin/uploadLogo',
-        'admin/updater',
-        'admin/activitySettings',
-        'admin/publicInfo',
-        'admin/lockApp',
-        'admin/manageActionPublisherTabs',
-        'admin/x2CronSettings',
         'admin/changeApplicationName',
-        'admin/setDefaultTheme',
-        'admin/emailSetup',
+        'admin/convertCustomModules',
+        'admin/createModule',
+        'admin/createPage',
+        'admin/deleteModule',
+        'admin/editor',
+        'admin/editRoleAccess',
         'admin/emailDropboxSettings',
+        'admin/emailSetup',
+        'admin/export',
+        'admin/exportModels',
+        'admin/exportModels?model=Actions',
+        'admin/exportModule',
+         
+        'admin/googleIntegration',
+        'admin/import',
         'admin/importModels',
-        'admin/importModels?model=X2Leads',
+        'admin/importModels?model=Accounts',
         'admin/importModels?model=Actions',
+        'admin/importModels?model=Contacts',
         'admin/importModels?model=Product',
         'admin/importModels?model=Quotes',
         'admin/importModels?model=Services',
-        'admin/importModels?model=Contacts',
-        'admin/importModels?model=Accounts',
-        'admin/exportModels',
-        'admin/exportModels?model=Actions',
-        'admin/export',
-        'admin/import',
-        'admin/rollbackImport',
-        'admin/viewChangelog',
+        'admin/importModels?model=X2Leads',
+        'admin/importModule',
+        'admin/index',
         'admin/index?translateMode=1',
-        'admin/translationManager',
-        'admin/manageTags',
-        'admin/userViewLog',
-        'admin/createModule',
-        'admin/manageFields',
+        'admin/lockApp',
+        'admin/manageActionPublisherTabs',
         'admin/manageDropDowns',
-        'admin/editor',
-        'admin/deleteModule',
-        'admin/importModule',
-        'admin/exportModule',
+        'admin/manageFields',
+        'admin/manageModules',
+        'admin/manageRoles',
+        'admin/manageSessions',
+        'admin/manageTags',
+         
+        'admin/publicInfo',
         'admin/renameModules',
-        'admin/convertCustomModules',
+        'admin/rollbackImport',
+        'admin/roundRobinRules',
+        'admin/setDefaultTheme',
+        'admin/setLeadRouting',
+        'admin/setServiceRouting',
+        'admin/toggleDefaultLogo',
+        'admin/translationManager',
+        'admin/updater',
+        'admin/updaterSettings',
+        'admin/uploadLogo',
+        'admin/userViewLog',
+        'admin/viewChangelog',
+        'admin/workflowSettings',
+        'admin/x2CronSettings',
          
          
     );

--- x2engine/protected/tests/functional/permissionsTests/PermissionsTest.php ---
@@ -140,27 +140,27 @@ public function testReadAccessLevels () {
         Contacts::model ()->asa ('permissions')->clearCache ();
 
         $this->openX2 ('contacts/'.$contactGroupmate->id);
-        $this->assertNoPHPErrors ();
+        $this->assertNoErrors ();
         $this->assertHttpResponse (403);
 
         $this->openX2 ('contacts/'.$contactGroup->id);
-        $this->assertNoPHPErrors ();
+        $this->assertNoErrors ();
         $this->assertHttpOK ();
 
         $this->openX2 ('contacts/'.$contactAnyone->id);
-        $this->assertNoPHPErrors ();
+        $this->assertNoErrors ();
         $this->assertHttpResponse (403);
 
         $this->openX2 ('contacts/'.$contactUserPrivate->id);
-        $this->assertNoPHPErrors ();
+        $this->assertNoErrors ();
         $this->assertHttpOK ();
 
         $this->openX2 ('contacts/'.$contactOtherPrivate->id);
-        $this->assertNoPHPErrors ();
+        $this->assertNoErrors ();
         $this->assertHttpResponse (403);
 
         $this->openX2 ('contacts/'.$contactInvisible->id);
-        $this->assertNoPHPErrors ();
+        $this->assertNoErrors ();
         $this->assertHttpResponse (403);
 
         $this->rmAuthItemChild ('ContactsPrivateReadOnlyAccess');
@@ -170,27 +170,27 @@ public function testReadAccessLevels () {
         Contacts::model ()->asa ('permissions')->clearCache ();
 
         $this->openX2 ('contacts/'.$contactGroupmate->id);
-        $this->assertNoPHPErrors ();
+        $this->assertNoErrors ();
         $this->assertHttpOK ();
 
         $this->openX2 ('contacts/'.$contactGroup->id);
-        $this->assertNoPHPErrors ();
+        $this->assertNoErrors ();
         $this->assertHttpOK ();
 
         $this->openX2 ('contacts/'.$contactAnyone->id);
-        $this->assertNoPHPErrors ();
+        $this->assertNoErrors ();
         $this->assertHttpOK ();
 
         $this->openX2 ('contacts/'.$contactUserPrivate->id);
-        $this->assertNoPHPErrors ();
+        $this->assertNoErrors ();
         $this->assertHttpOK ();
 
         $this->openX2 ('contacts/'.$contactOtherPrivate->id);
-        $this->assertNoPHPErrors ();
+        $this->assertNoErrors ();
         $this->assertHttpResponse (403);
 
         $this->openX2 ('contacts/'.$contactInvisible->id);
-        $this->assertNoPHPErrors ();
+        $this->assertNoErrors ();
         $this->assertHttpResponse (403);
 
         $this->rmAuthItemChild ('ContactsReadOnlyAccess');
@@ -199,27 +199,27 @@ public function testReadAccessLevels () {
         Contacts::model ()->asa ('permissions')->clearCache ();
 
         $this->openX2 ('contacts/'.$contactGroupmate->id);
-        $this->assertNoPHPErrors ();
+        $this->assertNoErrors ();
         $this->assertHttpResponse (403);
 
         $this->openX2 ('contacts/'.$contactGroup->id);
-        $this->assertNoPHPErrors ();
+        $this->assertNoErrors ();
         $this->assertHttpResponse (403);
 
         $this->openX2 ('contacts/'.$contactAnyone->id);
-        $this->assertNoPHPErrors ();
+        $this->assertNoErrors ();
         $this->assertHttpResponse (403);
 
         $this->openX2 ('contacts/'.$contactUserPrivate->id);
-        $this->assertNoPHPErrors ();
+        $this->assertNoErrors ();
         $this->assertHttpResponse (403);
 
         $this->openX2 ('contacts/'.$contactOtherPrivate->id);
-        $this->assertNoPHPErrors ();
+        $this->assertNoErrors ();
         $this->assertHttpResponse (403);
 
         $this->openX2 ('contacts/'.$contactInvisible->id);
-        $this->assertNoPHPErrors ();
+        $this->assertNoErrors ();
         $this->assertHttpResponse (403);
 
         // admin access
@@ -231,27 +231,27 @@ public function testReadAccessLevels () {
         Contacts::model ()->asa ('permissions')->clearCache ();
 
         $this->openX2 ('contacts/'.$contactGroupmate->id);
-        $this->assertNoPHPErrors ();
+        $this->assertNoErrors ();
         $this->assertHttpOK ();
 
         $this->openX2 ('contacts/'.$contactGroup->id);
-        $this->assertNoPHPErrors ();
+        $this->assertNoErrors ();
         $this->assertHttpOK ();
 
         $this->openX2 ('contacts/'.$contactAnyone->id);
-        $this->assertNoPHPErrors ();
+        $this->assertNoErrors ();
         $this->assertHttpOK ();
 
         $this->openX2 ('contacts/'.$contactUserPrivate->id);
-        $this->assertNoPHPErrors ();
+        $this->assertNoErrors ();
         $this->assertHttpOK ();
 
         $this->openX2 ('contacts/'.$contactOtherPrivate->id);
-        $this->assertNoPHPErrors ();
+        $this->assertNoErrors ();
         $this->assertHttpOK ();
 
         $this->openX2 ('contacts/'.$contactInvisible->id);
-        $this->assertNoPHPErrors ();
+        $this->assertNoErrors ();
         $this->assertHttpOK ();
     }
 }

--- x2engine/protected/tests/testconstants.php ---
@@ -12,6 +12,6 @@
 defined('LOAD_FIXTURES') or define('LOAD_FIXTURES', false);
 // if set to true, causes all fixtures but the ones defined in test class and its ancestors from
 // being loaded. Takes effect even if LOAD_FIXTURES is false
-defined('LOAD_FIXTURES_FOR_CLASS_ONLY') or define('LOAD_FIXTURES_FOR_CLASS_ONLY', false);
+defined('LOAD_FIXTURES_FOR_CLASS_ONLY') or define('LOAD_FIXTURES_FOR_CLASS_ONLY', true);
 
 ?>

--- x2engine/protected/tests/unit/components/TagBehaviorTest.php ---
@@ -0,0 +1,147 @@
+<?php
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
+
+Yii::import ('application.modules.contacts.models.*');
+Yii::import ('application.modules.accounts.models.*');
+
+class TagBehaviorTest extends X2DbTestCase {
+
+    public static function referenceFixtures () {
+        return array (
+            'contacts' => 'Contacts',
+            'tags' => 'Tags',
+        );
+    }
+
+    public function testAddTags () {
+        $contact = $this->contacts ('testAnyone');
+        $tags = array ('test', 'test2', 'test3');
+        $contact->addTags ($tags);
+        $contactTags = $contact->getTags (true);
+        $this->assertEquals (
+            Tags::normalizeTags ($tags), ArrayUtil::sort ($contactTags));
+        // disallow duplicates
+        $contact->addTags ($tags);
+        $contactTags = $contact->getTags (true);
+        $this->assertEquals (
+            Tags::normalizeTags ($tags), ArrayUtil::sort ($contactTags));
+        // disallow duplicates after normalization
+        $tags = array ('te,st', 'test2,', '#test3');
+        $contact->addTags ($tags);
+        $contactTags = $contact->getTags (true);
+        $this->assertEquals (
+            Tags::normalizeTags ($tags), ArrayUtil::sort ($contactTags));
+    }
+
+    public function testRemoveTags () {
+        $contact = $this->contacts ('testAnyone');
+        Yii::app()->db->createCommand ("
+            delete from x2_tags where type='Contacts' and itemId=:id
+        ")->execute (array (':id' => $contact->id));
+        $tags = array ('test', 'test2', 'test3');
+        $contact->addTags ($tags);
+        $contact->removeTags ($tags);
+        $this->assertEquals (array (), $contact->getTags (true));
+
+        $tags = array ('test', 'test2', 'test3');
+        $contact->addTags ($tags);
+        $tags = array ('t,est', 'test2,');
+        $contact->removeTags ($tags);
+        $this->assertEquals (array ('#test3'), $contact->getTags (true));
+    }
+
+    public function testClearTags () {
+        $contact = $this->contacts ('testAnyone');
+        Yii::app()->db->createCommand ("
+            delete from x2_tags where type='Contacts' and itemId=:id
+        ")->execute (array (':id' => $contact->id));
+        $tags = array ('test', 'test2', 'test3');
+        $contact->addTags ($tags);
+        $contact->clearTags ();
+        $this->assertEquals (array (), $contact->getTags (true));
+    }
+
+    public function testHasTag () {
+        $contact = $this->contacts ('testAnyone');
+        $contact->clearTags ();
+        $tags = array ('test', 'test2', 'test3');
+        foreach ($tags as $tag) { 
+            $this->assertFalse ($contact->hasTag ($tag, null, true));
+        }
+        $contact->addTags ($tags);
+        $contactTags = $contact->getTags (true);
+        $this->assertEquals (
+            Tags::normalizeTags ($tags), ArrayUtil::sort ($contactTags));
+        foreach ($tags as $tag) { 
+            $this->assertTrue ($contact->hasTag ($tag, null, true));
+        }
+    }
+
+    public function testMatchTags () {
+        $contact = $this->contacts ('testAnyone');
+        $tags = array ('#test', '#test2', '#test3', '#test-test4');
+        $this->assertEquals ($tags, $contact->matchTags (implode (' , ', $tags)));
+    }
+
+    public function testScanForTags () {
+        $contact = $this->contacts ('testAnyone');
+        $contact->clearTags ();
+        $tags = array ('#test', '#test2', '#test3');
+        foreach ($tags as $tag) { 
+            $this->assertFalse ($contact->hasTag ($tag, null, true));
+        }
+        $contact->backgroundInfo = implode (' , ', $tags);
+        $contactTags = $contact->scanForTags ();
+        $this->assertEquals ($tags, ArrayUtil::sort ($contactTags));
+    }
+
+    public function testAfterSave () {
+        $contact = $this->contacts ('testAnyone');
+        $contact->clearTags ();
+        $tags = array ('#test', '#test2', '#test3');
+        foreach ($tags as $tag) { 
+            $this->assertFalse ($contact->hasTag ($tag, null, true));
+        }
+        $contact->backgroundInfo = implode (' , ', $tags);
+        $this->assertSaves ($contact);
+        foreach ($tags as $tag) { 
+            $this->assertTrue ($contact->hasTag ($tag, null, true));
+        }
+    }
+    
+}
+
+?>

--- x2engine/protected/tests/unit/components/util/StringUtilTest.php ---
@@ -0,0 +1,94 @@
+<?php
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
+
+Yii::import('application.components.util.*');
+
+class StringUtilTest extends CTestCase {
+
+    private static $dummyString = '1234567890-=!@#$%^&*()_+qwertyuiop[]\QWERTYUIOP{}|asdfghASDFGHJKLLL:"zxcvbnm,./ZXCVBNM<>?   1234567890-=!@#$%^&*()_+qwertyuiop[]\QWERTYUIOP{}|asdfghASDFGHJKLLL:"zxcvbnm,./ZXCVBNM<>?   ';
+
+    public function testPregReplace () {
+        $str = self::$dummyString;
+
+        $pattern = '/\d+/';
+        $replacement = '';
+        $this->assertEquals (
+            preg_replace ($pattern, $replacement, $str),
+            StringUtil::pregReplace ($pattern, $replacement, $str)
+        );
+
+        $this->assertEquals (
+            preg_replace ($pattern, $replacement, $str, 1),
+            StringUtil::pregReplace ($pattern, $replacement, $str, 1)
+        );
+
+        $countA = null;
+        $countB = null;
+        $this->assertEquals (
+            preg_replace ($pattern, $replacement, $str, 1, $countA),
+            StringUtil::pregReplace ($pattern, $replacement, $str, 1, $countB)
+        );
+    }
+
+    public function testPregReplaceCallback () {
+        $str = self::$dummyString;
+
+        $pattern = '/\d+/';
+        $replacement = '';
+        $callback = function (array $matches) {
+            return 'a';
+        };
+        $this->assertEquals (
+            preg_replace_callback ($pattern, $callback, $str),
+            StringUtil::pregReplaceCallback ($pattern, $callback, $str)
+        );
+
+        $this->assertEquals (
+            preg_replace_callback ($pattern, $callback, $str, 1),
+            StringUtil::pregReplaceCallback ($pattern, $callback, $str, 1)
+        );
+
+        $countA = null;
+        $countB = null;
+        $this->assertEquals (
+            preg_replace_callback ($pattern, $callback, $str, 1, $countA),
+            StringUtil::pregReplaceCallback ($pattern, $callback, $str, 1, $countB)
+        );
+    }
+
+}
+
+?>

--- x2engine/protected/tests/unit/models/EventsTest.php ---
@@ -55,11 +55,17 @@ public static function referenceFixtures(){
         );
     }
 
+    public function tearDown () {
+        Yii::app()->settings->historyPrivacy = null;
+        return parent::tearDown ();
+    }
+
     public function testGetFilteredEventsDataProvider () {
         TestingAuxLib::loadX2NonWebUser ();
-        TestingAuxLib::suLogin ('testuser');
+        $testUser = $this->users ('testUser');
+        TestingAuxLib::suLogin ($testUser->username);
         Yii::app()->settings->historyPrivacy = null;
-        $profile = Profile::model()->findByAttributes(array('username' => 'testuser'));
+        $profile = Profile::model()->findByAttributes(array('username' => $testUser->username));
         $retVal = Events::getFilteredEventsDataProvider ($profile, true, null, false);
         $dataProvider = $retVal['dataProvider'];
         $events = $dataProvider->getData ();
@@ -70,9 +76,10 @@ public function testGetFilteredEventsDataProvider () {
             Yii::app()->db->createCommand ("
                 select id
                 from x2_events
-                where user='testuser' or visibility
+                where user='testuser' or visibility or (
+                    associationType='User' and associationId=:userId)
                 order by timestamp desc, id desc
-            ")->queryColumn (),
+            ")->queryColumn (array (':userId' => $testUser->id)),
             array_map (
                 function ($event) { return $event->id; }, 
                 $expectedEvents['events']
@@ -90,7 +97,6 @@ function ($event) { return $event->id; },
                 $events
             )
         );
-        TestingAuxLib::restoreX2WebUser ();
     }
 
     public function testGetEventsPublicProfile(){
@@ -113,7 +119,6 @@ function ($event) { return $event->id; },
             ),
             array_map (function ($event) { return $event->id; }, $events['events']));
 
-        TestingAuxLib::restoreX2WebUser ();
     }
     
     public function testGetEvents(){
@@ -130,7 +135,6 @@ public function testGetEvents(){
                 ->queryColumn (),
             array_map(function ($event) { return $event->id; }, $events['events'])
         ); 
-        TestingAuxLib::restoreX2WebUser ();
     }
 
     public function testGetAccessCriteria () {
@@ -177,7 +181,9 @@ public function testGetAccessCriteria () {
             array_map (function ($event) { return $event->id; }, 
                 Events::model ()->findAll ($accessCriteria)),
             array_map (function ($event) { return $event->id; }, 
-            Events::model ()->findAll ('user="testuser2" or visibility')));
+            Events::model ()->findAll ('
+                user="testuser2" or visibility or (associationType="User" and associationId=3)
+            ')));
 
         // non-admin private profile, user history
         TestingAuxLib::suLogin ('testuser2');
@@ -187,7 +193,9 @@ public function testGetAccessCriteria () {
             array_map (function ($event) { return $event->id; }, 
                 Events::model ()->findAll ($accessCriteria)),
             array_map (function ($event) { return $event->id; }, 
-            Events::model ()->findAll ('user="testuser2"')));
+            Events::model ()->findAll ('
+                user="testuser2" or (associationType="User" and associationId=3)
+            ')));
 
         // non-admin private profile, group history
         // assumes that testuser2 and testuser3 are groupmates
@@ -197,10 +205,53 @@ public function testGetAccessCriteria () {
             array_map (function ($event) { return $event->id; }, 
                 Events::model ()->findAll ($accessCriteria)),
             array_map (function ($event) { return $event->id; }, 
-            Events::model ()->findAll ('user="testuser2" or user="testuser3"')));
+            Events::model ()->findAll ('
+                user="testuser2" or user="testuser3" or
+                (associationType="User" and (associationId=2 or associationId=3))
+            ')));
+
+    }
+
+    /**
+     * Attempts to ensure that isVisibleTo and getAccessCriteria check the same permissions
+     */
+    public function testPermissionsCheckEquivalence () {
+        TestingAuxLib::loadX2NonWebUser ();
+        TestingAuxLib::suLogin ('testuser2');
+        $allEvents = Events::model ()->findAll ();
+        $that = $this; 
+
+        $checkEquivalence = function ($events) use ($allEvents, $that) {
+            $ids = array_map (function ($event) { return $event->id; }, $events);
+            $that->assertTrue (count ($events) > 1);
+            foreach ($events as $event) {
+                $that->assertTrue ($event->isVisibleTo (Yii::app()->params->profile->user));
+            }
+            $found = false;
+            foreach ($allEvents as $event) {
+                if (!in_array ($event->id, $ids)) {
+                    $found = true;
+                    $that->assertFalse ($event->isVisibleTo (Yii::app()->params->profile->user));
+                }
+            }
+            $that->assertTrue ($found);
+        };
 
         Yii::app()->settings->historyPrivacy = null;
-        TestingAuxLib::restoreX2WebUser ();
+        $accessCriteria = Events::model ()->getAccessCriteria ();
+        $events = Events::model ()->findAll ($accessCriteria);
+        $checkEquivalence ($events);
+
+        Yii::app()->settings->historyPrivacy = 'group';
+        $accessCriteria = Events::model ()->getAccessCriteria ();
+        $events = Events::model ()->findAll ($accessCriteria);
+        $checkEquivalence ($events);
+
+        Yii::app()->settings->historyPrivacy = 'user';
+        $accessCriteria = Events::model ()->getAccessCriteria ();
+        $events = Events::model ()->findAll ($accessCriteria);
+        $checkEquivalence ($events);
+
     }
 
     /**

--- x2engine/protected/tests/unit/models/ProfileTest.php ---
@@ -36,7 +36,6 @@
  *****************************************************************************************/
 
 /**
- * 
  * @package
  * @author Demitri Morgan <demitri@x2engine.com>
  */
@@ -57,6 +56,152 @@ public function testGetLayout() {
         $profile->setAttribute('layout',json_encode(array('left'=>array('FooWidget'=>array('nothing to see here')),'center'=>array(),'right'=>array(),'hidden'=>array(),'hiddenRight'=>array())));
         $this->assertEquals($emptyLayout,$profile->getLayout());
     }
+
+    public function testAddRemoveLayoutElements () {
+        $profile = $this->profile('testProfile');
+        $fn = TestingAuxLib::setPublic ($profile, 'addRemoveLayoutElements');
+        $defaultLayout = $profile->initLayout ();
+
+        // attempt to construct default layout from empty layout
+        $profile->layout = json_encode (array ());
+        $profile->update ('layout');
+        $layout = json_decode ($profile->layout, true);
+        $this->assertNotEquals (json_decode ($profile->layout), $defaultLayout);
+        $fn ('left', $layout, $defaultLayout);
+        $profile->refresh ();
+        $layout = json_decode ($profile->layout, true);
+        $fn ('right', $layout, $defaultLayout);
+        $profile->refresh ();
+        $this->assertEquals ($defaultLayout, json_decode ($profile->layout, true));
+
+        // ensure that invalid hidden right widgets get removed
+        $profile->layout = json_encode (array (
+            'hiddenRight' => array (
+                'InvalidRightWidget' => array(
+                    'title' => 'Invalid Right Widget',
+                    'minimize' => false,
+                ),
+            )
+        ));
+        $profile->update ('layout');
+        $layout = json_decode ($profile->layout, true);
+        $this->assertNotEquals (json_decode ($profile->layout), $defaultLayout);
+        $fn ('left', $layout, $defaultLayout);
+        $profile->refresh ();
+        $layout = json_decode ($profile->layout, true);
+        $fn ('right', $layout, $defaultLayout);
+        $profile->refresh ();
+        $this->assertEquals ($defaultLayout, json_decode ($profile->layout, true));
+
+        // ensure that invalid left widgets get removed
+        $profile->layout = json_encode (array (
+            'left' => array (
+                'Invalid' => array(
+                    'title' => 'Invalid',
+                    'minimize' => false,
+                ),
+            )
+        ));
+        $profile->update ('layout');
+        $layout = json_decode ($profile->layout, true);
+        $this->assertNotEquals (json_decode ($profile->layout), $defaultLayout);
+        $fn ('left', $layout, $defaultLayout);
+        $profile->refresh ();
+        $layout = json_decode ($profile->layout, true);
+        $fn ('right', $layout, $defaultLayout);
+        $profile->refresh ();
+        $this->assertEquals ($defaultLayout, json_decode ($profile->layout, true));
+
+        // ensure that invalid right widgets get removed
+        $profile->layout = json_encode (array (
+            'right' => array (
+                'Invalid' => array(
+                    'title' => 'Invalid',
+                    'minimize' => false,
+                ),
+            )
+        ));
+        $profile->update ('layout');
+        $layout = json_decode ($profile->layout, true);
+        $this->assertNotEquals (json_decode ($profile->layout), $defaultLayout);
+        $fn ('left', $layout, $defaultLayout);
+        $profile->refresh ();
+        $layout = json_decode ($profile->layout, true);
+        $fn ('right', $layout, $defaultLayout);
+        $profile->refresh ();
+        $this->assertEquals ($defaultLayout, json_decode ($profile->layout, true));
+
+        // ensure that right widgets get retitled while preserving other settings
+        $helpfulTipsConfig = $defaultLayout['right']['HelpfulTips'];
+        $this->assertFalse ($helpfulTipsConfig['minimize']); // make sure we're changing state
+        $newHelpfulTipsConfig = array(
+            'title' => 'Not Helpful Tips',
+            'minimize' => true,
+        );
+        $profile->layout = json_encode (array (
+            'right' => array (
+                'HelpfulTips' => $newHelpfulTipsConfig,
+            )
+        ));
+        $profile->update ('layout');
+        $layout = json_decode ($profile->layout, true);
+        $this->assertNotEquals (json_decode ($profile->layout), $defaultLayout);
+        $fn ('left', $layout, $defaultLayout);
+        $profile->refresh ();
+        $layout = json_decode ($profile->layout, true);
+        $fn ('right', $layout, $defaultLayout);
+        $profile->refresh ();
+        $expected = $defaultLayout;
+        $newHelpfulTipsConfig['title'] = $helpfulTipsConfig['title'];
+        $expected['right']['HelpfulTips'] = $newHelpfulTipsConfig;
+        $this->assertEquals ($expected, json_decode ($profile->layout, true));
+
+        // ensure that hidden right widgets remain hidden
+        $helpfulTipsConfig = $defaultLayout['right']['HelpfulTips'];
+        $profile->layout = json_encode (array (
+            'hiddenRight' => array (
+                'HelpfulTips' => $helpfulTipsConfig,
+            )
+        ));
+        $profile->update ('layout');
+        $layout = json_decode ($profile->layout, true);
+        $this->assertNotEquals (json_decode ($profile->layout), $defaultLayout);
+        $fn ('left', $layout, $defaultLayout);
+        $profile->refresh ();
+        $layout = json_decode ($profile->layout, true);
+        $fn ('right', $layout, $defaultLayout);
+        $profile->refresh ();
+        $expected = $defaultLayout;
+        unset ($expected['right']['HelpfulTips']);
+        $expected['hiddenRight']['HelpfulTips'] = $helpfulTipsConfig;
+        $this->assertEquals ($expected, json_decode ($profile->layout, true));
+
+        // ensure that hidden right widgets get retitled while preserving other settings
+        $helpfulTipsConfig = $defaultLayout['right']['HelpfulTips'];
+        $this->assertFalse ($helpfulTipsConfig['minimize']); // make sure we're changing state
+        $newHelpfulTipsConfig = array(
+            'title' => 'Not Helpful Tips',
+            'minimize' => true,
+        );
+        $profile->layout = json_encode (array (
+            'hiddenRight' => array (
+                'HelpfulTips' => $newHelpfulTipsConfig,
+            )
+        ));
+        $profile->update ('layout');
+        $layout = json_decode ($profile->layout, true);
+        $this->assertNotEquals (json_decode ($profile->layout), $defaultLayout);
+        $fn ('left', $layout, $defaultLayout);
+        $profile->refresh ();
+        $layout = json_decode ($profile->layout, true);
+        $fn ('right', $layout, $defaultLayout);
+        $profile->refresh ();
+        $expected = $defaultLayout;
+        $newHelpfulTipsConfig['title'] = $helpfulTipsConfig['title'];
+        unset ($expected['right']['HelpfulTips']);
+        $expected['hiddenRight']['HelpfulTips'] = $newHelpfulTipsConfig;
+        $this->assertEquals ($expected, json_decode ($profile->layout, true));
+    }
 }
 
 ?>

--- x2engine/protected/tests/unit/models/TagsTest.php ---
@@ -0,0 +1,136 @@
+<?php
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
+
+Yii::import ('application.modules.contacts.models.*');
+Yii::import ('application.modules.accounts.models.*');
+
+class TagsTest extends X2DbTestCase {
+
+    public static function referenceFixtures () {
+        return array (
+            'contacts' => 'Contacts',
+            'tags' => 'Tags',
+        );
+    }
+    
+    public function testNormalizeTags () {
+        $tags = array (
+            'test',
+            '#test', 
+            '#test,', 
+            '##test,', 
+        );
+        $normalizedTags = array (
+            '#test',
+            '#test', 
+            '#test', 
+            '##test', 
+        );
+        $normalizedTagsSuppressedHash = array (
+            'test',
+            'test', 
+            'test', 
+            '#test', 
+        );
+        $this->assertEquals ($normalizedTags, Tags::normalizeTags ($tags, false));
+        $this->assertEquals (
+            $normalizedTagsSuppressedHash, Tags::normalizeTags ($tags, true));
+    }
+
+    public function testParseTags () {
+        $tags = 'test,test2,test3,#test4';
+        $this->assertEquals (Tags::parseTags ($tags), array (
+            '#test',
+            '#test2',
+            '#test3',
+            '#test4',
+        ));
+    }
+
+    public function testValidation () {
+        $contact = $this->contacts ('testAnyone');
+        $tag = new Tags ();
+        $tag->setAttributes (array (
+            'itemId' => $contact->id,
+            'type' => get_class ($contact),
+            'itemName' => $contact->name,
+            'tag' => 'test',
+            'taggedBy' => 'testuser',
+        ));
+        $this->assertSaves ($tag);
+        // ensure that normalization was performed upon validation
+        $this->assertEquals (Tags::normalizeTag ('test'), $tag->tag);
+
+        // ensure that tag must be unique
+        $tag = new Tags ();
+        $tag->setAttributes (array (
+            'itemId' => $contact->id,
+            'type' => get_class ($contact),
+            'itemName' => $contact->name,
+            'tag' => 'test',
+            'taggedBy' => 'testuser',
+        ));
+        $tag->validate ();
+        $this->assertTrue ($tag->hasErrors ('tag'));
+
+        // ensure that tag must be unique
+        $tag = new Tags ();
+        $tag->setAttributes (array (
+            'itemId' => $contact->id,
+            'type' => get_class ($contact),
+            'itemName' => $contact->name,
+            'tag' => '#test',
+            'taggedBy' => 'testuser',
+        ));
+        $tag->validate ();
+        $this->assertTrue ($tag->hasErrors ('tag'));
+
+        // ensure that tag must be unique
+        $tag = new Tags ();
+        $tag->setAttributes (array (
+            'itemId' => $contact->id,
+            'type' => get_class ($contact),
+            'itemName' => $contact->name,
+            'tag' => '#test,',
+            'taggedBy' => 'testuser',
+        ));
+        $tag->validate ();
+        $this->assertTrue ($tag->hasErrors ('tag'));
+    }
+
+}
+
+?>

--- x2engine/protected/tests/unit/modules/marketing/components/CampaignMailingBehaviorTest.php ---
@@ -42,6 +42,7 @@
 Yii::import('application.modules.marketing.controllers.*');
 Yii::import('application.modules.marketing.*');
 Yii::import('application.modules.marketing.components.*');
+Yii::import('application.components.util.StringUtil', true);
 
 /**
  * 
@@ -56,7 +57,8 @@ public static function referenceFixtures() {
             'lists' => 'X2List',
             'credentials' => 'Credentials',
             'users' => 'User',
-            'profile' => array('Profile','.marketing')
+            'profile' => array('Profile','.marketing'),
+            'actions' => 'Actions'
         );
     }
 
@@ -65,6 +67,31 @@ public static function referenceFixtures() {
         'contacts' => 'Contacts'
     );
 
+    private static $_savedIniSettings = array (
+        'pcre.backtrack_limit' => null,
+        'pcre.recursion_limit' => null,
+    );
+
+    public static function setUpBeforeClass () {
+        // save relevant ini settings
+        foreach (self::$_savedIniSettings as $setting => $val) { 
+            self::$_savedIniSettings[$setting] = ini_get ($setting);
+        }
+        return parent::setUpBeforeClass ();
+    }
+
+    public function tearDown () {
+        self::restoreIniSettings ();
+        return parent::tearDown ();
+    }
+
+    private static function restoreIniSettings () {
+        foreach (self::$_savedIniSettings as $setting => $val) { 
+            if ($val !== null) { 
+                ini_set ($setting, $val);
+            }
+        }
+    }
 
     public function instantiate($config = array()) {
         $obj = new CComponent;
@@ -114,25 +141,118 @@ public function testRedirectLinkGeneration () {
         $url = preg_replace ('/^[^"]*"([^"]*)".*$/', '$1', $campaign->content);
         list($subject,$message,$uniqueId) = $cmb->prepareEmail(
             $this->campaign('redirectLinkGeneration'),
-            $contact,$this->listItem('testUser_unsent')->emailAddress);
+            $contact);
         $this->assertRegExp ('/'.preg_quote (urlencode ($url)).'/', $message);
 
     }
 
+    /**
+     * Cause preg_replace_callback to fail and ensure that exception is thrown
+     */
+    public function testRedirectLinkGenerationException () {
+        $this->setExpectedException (
+            'StringUtilException', '',
+            StringUtilException::PREG_REPLACE_CALLBACK_ERROR);
+
+        // set this high enough to cause a redirect link replacement error, but not a CUrlRule error
+        ini_set('pcre.backtrack_limit', '10');
+        ini_set('pcre.recursion_limit', '10');
+
+        Yii::app()->controller = new MarketingController (
+            'campaign', new MarketingModule ('campaign', null));
+        $_SERVER['SERVER_NAME'] = 'localhost';
+        $cmb = $this->instantiate();
+        $contact = $this->contacts('testUser_unsent');
+        list($subject,$message,$uniqueId) = $cmb->prepareEmail(
+            $this->campaign('redirectLinkGeneration'), $contact, false);
+    }
+
+    /**
+     * Cause line break replacement to fail and ensure that exception is thrown
+     */
+    public function testLineBreakReplacementErrorTest () {
+        $this->setExpectedException (
+            'StringUtilException', '',
+            StringUtilException::PREG_REPLACE_ERROR);
+
+        ini_set('pcre.backtrack_limit', '0');
+        ini_set('pcre.recursion_limit', '0');
+
+        Yii::app()->controller = new MarketingController (
+            'campaign', new MarketingModule ('campaign', null));
+        $_SERVER['SERVER_NAME'] = 'localhost';
+        $cmb = $this->instantiate();
+        $contact = $this->contacts('testUser_unsent');
+        list($subject,$message,$uniqueId) = $cmb->prepareEmail(
+            $this->campaign('redirectLinkGeneration'), $contact);
+    }
+
+    /**
+     * Cause line break replacement to fail and ensure that exception is thrown
+     */
+    public function testUnsubTokenReplacementErrorTest () {
+        // error can't be triggered using current method of reducing the backtrack_limit and 
+        // recursion_limit since there's a call to createExternalUrl directly preceeding the
+        // code which does the token replacement
+        $this->markTestSkipped ();
+
+        $this->setExpectedException (
+            'StringUtilException', '',
+            StringUtilException::PREG_REPLACE_ERROR);
+
+        ini_set('pcre.backtrack_limit', '0');
+        ini_set('pcre.recursion_limit', '0');
+
+        Yii::app()->controller = new MarketingController (
+            'campaign', new MarketingModule ('campaign', null));
+        $_SERVER['SERVER_NAME'] = 'localhost';
+        $cmb = $this->instantiate();
+        $contact = $this->contacts('testUser_unsent');
+        list($subject,$message,$uniqueId) = $cmb->prepareEmail(
+            $this->campaign('testUser'), $contact, false);
+    }
+
+    public function testUnsubTokenReplacement () {
+        $admin = Yii::app()->settings;
+        $admin->externalBaseUrl = 'http://examplecrm.com';
+        $admin->externalBaseUri = '/X2Engine';
+        $cmb = $this->instantiate();
+        $contact = $this->contacts('testUser_unsent');
+        $campaign = $this->campaign('unsubToken');
+        list($subject,$message,$uniqueId) = $cmb->prepareEmail($campaign,$contact);
+
+        // Insert unsubscribe link(s):
+        $unsubUrl = Yii::app()->createExternalUrl('/marketing/marketing/click', array(
+            'uid' => $uniqueId,
+            'type' => 'unsub',
+            'email' => $contact->email
+        ));
+        $unsubLinkText = Yii::app()->settings->doNotEmailLinkText;
+        $expectedLink = 
+            '<a href="'.$unsubUrl.'">'.Yii::t('marketing', $unsubLinkText).'</a>';
+
+        $this->assertRegExp(
+            '/'.preg_quote($expectedLink, '/').'/', $message, 'Unsubscribe link not inserted');
+    }
+
     public function testPrepareEmail() {
         if(!Yii::app()->contEd('pro')) {
             $this->markTestSkipped();
         }
 
+        // get app config behavior to generate generate links correctly
+        Yii::app()->controller = null; 
+
         $cmb = $this->instantiate();
         $contact = $this->contacts('testUser_unsent');
         $recipientAddress = $contact->email;
         $admin = Yii::app()->settings;
+        $admin->doNotEmailLinkText = 'unsubscribe';
         // Set URL/URI to verify proper link generation:
         $admin->externalBaseUrl = 'http://examplecrm.com';
         $admin->externalBaseUri = '/X2Engine';
         list($subject,$message,$uniqueId) = $cmb->prepareEmail(
-            $this->campaign('testUser'),$contact,$this->listItem('testUser_unsent')->emailAddress);
+            $this->campaign('testUser'),$contact);
         $email = $cmb->recipient->email;
         
         $this->assertEquals($recipientAddress,$email);
@@ -152,15 +272,15 @@ public function testPrepareEmail() {
         $this->assertRegExp(
             '/'.preg_quote(
                 '<img src="'.$admin->externalBaseUrl.$admin->externalBaseUri.
-                    '/index.php/marketing/marketing/click?uid='.$uniqueId,'/').'/',
+                    '/index-test.php/marketing/marketing/click?uid='.$uniqueId,'/').'/',
             $message,'Tracking image not inserted');
         // Find the unsubscribe link:
         $this->assertRegExp(
             '/'.preg_quote(
                 'To stop receiving these messages, click here: '.
-                    '<a href="http://examplecrm.com/X2Engine/index.php/marketing/marketing/click?'.
-                    'uid='.$uniqueId.'&type=unsub&email='.rawurlencode($recipientAddress).'">'.
-                    'unsubscribe</a>','/').'/',
+                '<a href="http://examplecrm.com/X2Engine/index-test.php/marketing/marketing/click?'.
+                'uid='.$uniqueId.'&type=unsub&email='.rawurlencode($recipientAddress).'">'.
+                'unsubscribe</a>','/').'/',
             $message,'Unsubscribe link not inserted');
         // Find the tracking key:
         $this->assertRegExp(

--- x2engine/protected/tests/webscripts/x2WebTrackingTestPages/customWebLeadCaptureScriptTest.php ---
@@ -58,7 +58,7 @@
 if ((int)$contact->contactCreate()) {
 ?>
 <div id="success">success<?php echo $contact->trackingKey; ?></div>
-<div id="success">success<?php echo $_POST['x2_key']; ?></div>
+<div id="success">success<?php echo CHtml::encode ($_POST['x2_key']); ?></div>
 <?php
 } else {
 ?>

--- x2engine/protected/views/admin/convertCustomModules.php ---
@@ -39,6 +39,7 @@
     <?php
     if(isset($status) && !empty($status)){
         echo Yii::t('admin', 'Status of Module Conversion')."<br><br>";
+        $hasError = false;
         foreach($status as $module => $data){
             if(empty($data['error'])){
                 echo "<div style='color:green'>";
@@ -52,6 +53,7 @@
                 echo "</ul>";
                 echo "</div>";
             }else{
+                $hasError = true;
                 echo "<div style='color:red'>";
                 echo Yii::t('admin', "Status for: {title}", array(
                     '{title}' => '<b>'.$data['title'].'</b>'
@@ -62,7 +64,7 @@
                 echo "</div>";
             }
         }
-        echo Yii::t('admin', 'All module conversions complete.');
+        if (!$hasError) echo Yii::t('admin', 'All module conversions complete.');
     }else{
         ?>
         <?php echo Yii::t('admin', 'This tool is designed to convert all old custom modules to the latest version.'); ?><br><br>

--- x2engine/protected/views/admin/createUpdateField.php ---
@@ -55,9 +55,13 @@
         <em><?php echo Yii::t('app', 'Fields with <span class="required">*</span> are required.'); ?></em><hr>
         <?php if($new){ ?>
             <div class="row">
-                <?php echo $form->labelEx($model, 'modelName'); ?>
-                <?php echo $form->dropDownList($model, 'modelName', X2Model::getModelNames()); ?>
-                <?php echo $form->error($model, 'modelName'); ?>
+                <?php 
+                $modelNames = X2Model::getModelNames();
+                echo $form->labelEx($model, 'modelName'); 
+                echo $form->dropDownList(
+                    $model, 'modelName', $modelNames);
+                echo $form->error($model, 'modelName'); 
+                ?>
             </div>
 
             <div class="row">
@@ -197,17 +201,17 @@
                         ));
                         break;
                     case "link":
-                        $query = Yii::app()->db->createCommand()
-                                ->select('modelName')
-                                ->from('x2_fields')
-                                ->group('modelName')
-                                ->queryAll();
-                        $arr = array();
-                        foreach($query as $array){
-                            if($array['modelName'] != 'Calendar')
-                                $arr[$array['modelName']] = $array['modelName'];
+                        $linkTypes = Fields::getLinkTypes ();
+                        $options = array ();
+                        foreach ($linkTypes as $type) {
+                            $options[$type] = X2Model::model ($type)->getDisplayName (true, false);
                         }
-                        echo CHtml::activeDropDownList($model, 'linkType', $arr);
+                        asort ($options);
+                        echo CHtml::activeDropdownList(
+                            $model, 
+                            'linkType', 
+                            $options
+                        );
                         break;
                     case "custom":
                         ?><div class="row"><div class="cell"><?php

--- x2engine/protected/views/admin/exportModels.php ---
@@ -35,6 +35,7 @@
  * "Powered by X2Engine".
  *****************************************************************************************/
 
+Yii::app()->clientScript->registerCssFile (Yii::app()->theme->baseUrl.'/css/importexport.css');
 ?>
 <div class="page-title icon contacts"><h2><?php echo Yii::t('contacts','Export {model}', array('{model}'=>Modules::displayName(true, $model))); ?></h2></div>
 <div class="form">
@@ -51,7 +52,7 @@
         echo CHtml::checkbox('includeHidden', false);
     } ?>
     <?php echo CHtml::button(Yii::t('app','Export'),array('class'=>'x2-button','id'=>'export-button')); ?>
-    <div id="status-text" style="color:green">
+    <div id="status-text">
 
     </div>
 

--- x2engine/protected/views/admin/formEditor.php ---
@@ -1,248 +0,0 @@
-<?php
-/*****************************************************************************************
- * X2Engine Open Source Edition is a customer relationship management program developed by
- * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
- * 
- * This program is free software; you can redistribute it and/or modify it under
- * the terms of the GNU Affero General Public License version 3 as published by the
- * Free Software Foundation with the addition of the following permission added
- * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
- * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
- * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
- * 
- * This program is distributed in the hope that it will be useful, but WITHOUT
- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
- * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
- * details.
- * 
- * You should have received a copy of the GNU Affero General Public License along with
- * this program; if not, see http://www.gnu.org/licenses or write to the Free
- * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
- * 02110-1301 USA.
- * 
- * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
- * California 95067, USA. or at email address contact@x2engine.com.
- * 
- * The interactive user interfaces in modified source and object code versions
- * of this program must display Appropriate Legal Notices, as required under
- * Section 5 of the GNU Affero General Public License version 3.
- * 
- * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
- * these Appropriate Legal Notices must retain the display of the "Powered by
- * X2Engine" logo. If the display of the logo is not reasonably feasible for
- * technical reasons, the Appropriate Legal Notices must display the words
- * "Powered by X2Engine".
- *****************************************************************************************/
-?><a href="#" class="x2-button" style="float:right;" onclick="lockEditor();">Hide Borders</a>
-<h2><?php echo Yii::t('admin','Form Editor');?></h2>
-<div style="width:600px;">
-    Drag and drop fields to the layout.  Press save when finished.
-</div>
-<br /><br />
-<?php
-$admin=Admin::model()->findByPk(1);
-$order=$admin->menuOrder;
-$disallow=array(
-    'actions',
-    'docs',
-    'workflow',
-);
-$pieces=explode(":",$order);
-$str="<h4>";
-foreach($pieces as $piece){
-    if(array_search($piece, $disallow)===false){
-        if(isset($_GET['model']) && $piece==$_GET['model']){
-            $str.=ucfirst($piece)." | ";
-        }else{
-            $str.="<a href='?model=".strtolower($piece)."'>".ucfirst($piece)."</a> | ";
-        }
-    }
-}
-$str=substr($str,0,-3)."</h4><br />";
-echo $str;
-?> 
-<h4>Versions</h4><br />
-<?php
-if(isset($_GET['model'])){
-    $str2="";
-    if(isset($_GET['version'])){
-        $str2.="<h4><a href='?model=".$_GET['model']."'>Current</a> | ";
-        $versions=FormVersions::model()->findAllByAttributes(array('modelName'=>ucfirst($_GET['model'])));
-        foreach($versions as $version){
-            if($_GET['version']!=$version->name)
-                $str2.="<a href='?model=".$_GET['model']."&version=".CHtml::encode($version->name)."'>".$version->name."</a> | ";
-            else
-                $str2.=CHtml::encode($version->name)." | ";
-        }
-    }
-    else{
-        $str2.="<h4>Current | ";
-        $versions=FormVersions::model()->findAllByAttributes(array('modelName'=>ucfirst($_GET['model'])));
-        foreach($versions as $version){
-                $str2.="<a href='?model=".$_GET['model']."&version=".CHtml::encode($version->name)."'>".$version->name."</a> | ";
-        }
-    }
-    $str2=substr($str2,0,-3);
-    $str2.="</h4><br />";
-    
-    echo $str2;
-            
-}
-
-if($formUrl==""){
-    
-}elseif($model instanceof Contacts){
-    $this->renderPartial($formUrl,array('contactModel'=>$model,'users'=>User::getNames(),'editor'=>true));
-}elseif($model instanceof Actions){
-    $this->renderPartial($formUrl,array('actionModel'=>$model,'users'=>User::getNames(),'editor'=>true));
-}else{
-    $this->renderPartial($formUrl,array('model'=>$model,'users'=>User::getNames(),'contacts'=>Contacts::getAllNames(),'editor'=>true));
-}
-
-$fields=Fields::model()->findAllByAttributes(array('modelName'=>get_class($model)), array('order'=>'tabOrder'));
-if(isset($_GET['version'])){
-    $version=$_GET['version'];
-    $version=FormVersions::model()->findByAttributes(array('name'=>$version));
-    $sizes=json_decode($version->sizes, true);
-    $positions=json_decode($version->positions, true);
-    $visibilities=json_decode($version->visibility, true);
-    $tempArr=array();
-    foreach($fields as $field){
-        if(isset($positions[$field->fieldName])){
-            $field->coordinates=$positions[$field->fieldName];
-            $field->size=$sizes[$field->fieldName];
-            $field->visible=$visibilities[$field->fieldName];
-            $tempArr[]=$field;
-        }
-    }
-    $fields=$tempArr;
-}
-
-?>
-<br />
-<div style="float:right;border:solid;border-width:1px;border-color:black;padding:10px;">
-    <b>Field Control</b><br />
-    <ul id="sortable">
-    <?php 
-        foreach($fields as $field){
-            if($field->fieldName!='id'){
-                echo "<li class='sortableItem' name='$field->fieldName' id='".$field->fieldName."_list'>".$field->attributeLabel." - <a href='#' onclick=\"toggleBackground('".$field->fieldName."');return false;\">Toggle</a></li>";
-                if($field->visible==0){
-                    Yii::app()->clientScript->registerScript($field->fieldName.'_background','
-                        $("#'.$field->fieldName.'_list").css({"background-color":"lightgrey"});
-                    ');
-                }
-            }
-        }
-    ?>
-    </ul>
-<script>
-    $('#sortable').sortable();
-</script>
-
-</div>
-<a style="float:right;position:relative;top:10px;" href="deleteVersion?version=<?php echo isset($_GET['version'])?$_GET['version']:'';?>" class="x2-button">Delete Selected Version</a>
-</div>
-<form method="POST" onsubmit="calculateValues();">
-<input type="hidden" name="coordinates" id="coordinates" value="" />
-<input type="hidden" name="sizes" id="sizes" value="" />
-<input type="hidden" name="names" id="names" value="" />
-<input type="hidden" name="shown" id="shown" value="" />
-<input type="hidden" name="order" id="order" value="" />
-<input type="submit" style="position:absolute;bottom:50px;"  class="x2-button" value="Save" />
-</form>
-<form method="POST" onsubmit="calculateValues();" action="saveVersion" style="position:absolute;bottom:100px;">
-<input type="hidden" name="coordinates" id="coordinates2" value="" />
-<input type="hidden" name="sizes" id="sizes2" value="" />
-<input type="hidden" name="names" id="names2" value="" />
-<input type="hidden" name="shown" id="shown2" value="" />
-<input type="hidden" name="order" id="order2" value="" />
-<label>Version Name?</label><input type="text" name="versionName" />
-<input type="submit"  class="x2-button" value="Save Version" /> 
-</form>
-
-<script>
-    var setting=true;
-    function lockEditor(){
-        
-        if(setting==true){
-            setting=!setting;
-            $(".draggable").css({border: 'none'});
-           
-        }else{
-            setting=!setting;
-            $(".draggable").css({'border': 'solid' , 'border-width': '1px'});
-        }
-    }
-    
-    function calculateValues(){
-        var sizes=new Array();
-        var coordinates=new Array();
-        var names=new Array();
-        var visibility=new Array();
-        var order=new Array();
-        
-        $(".sortableItem").each(function(){
-            order.push($(this).attr('name'));
-        });
-        
-        $(".resizable").each(function(){
-            var name=$(this).attr('name');
-            names.push(name);
-            
-            var size=$(this).css('width')+":"+$(this).css('height');
-            sizes.push(size);
-
-        });
-        
-        $(".draggable").each(function(){
-            var position=$(this).position();
-            coordinates.push(position.left+":"+position.top); 
-            var visible=$(this).css("visibility");
-            if(visible=='visible'){
-                visibility.push(1);
-            }else{
-                visibility.push(0);
-            }
-        });
-        $("#coordinates").val(coordinates);
-        $("#sizes").val(sizes);
-        $("#names").val(names);
-        $("#shown").val(visibility);
-        $("#order").val(order);
-        $("#coordinates2").val(coordinates);
-        $("#sizes2").val(sizes);
-        $("#names2").val(names);
-        $("#shown2").val(visibility);
-        $("#order2").val(order);
-        
-    }
-    
-    function toggleBackground(e){
-        var bg=$('#'+e+"_list").css('background-color');
-        if(bg!='rgba(0, 0, 0, 0)'){
-            $('#'+e+"_list").css({'background':'none'});
-            $('#'+e).css({'visibility':'visible'});
-        }
-        else{
-            $('#'+e+"_list").css({'background-color':'lightgrey'});
-            $('#'+e).css({'visibility':'hidden'});
-            
-        }
-    }
-    
-</script>
-<style>
-    .sortableItem{
-        border:solid;
-        border-width:1px; 
-        padding:5px;
-        margin-top:1px;
-        margin-bottom:1px;
-    }
-    ul, li {
-        list-style-type: none;
-    }
-    
-</style>
-

--- x2engine/protected/views/admin/manageDropDowns.php ---
@@ -192,8 +192,10 @@ function DropdownManager (argsDict) {
 </div>
 <div id="deleteDropdown" style="display:none;">
 <?php
+
+$customDropdowns = Dropdowns::model()->findAll('id>=1000');
 $this->renderPartial('deleteDropdown', array(
-    'dropdowns' => $dropdowns,
+    'dropdowns' => $customDropdowns,
 ));
 ?>
 </div>

--- x2engine/protected/views/admin/manageTags.php ---
@@ -54,7 +54,14 @@
             'header' => Yii::t('admin','Tag'),
             'name' => 'tag',
             'type' => 'raw',
-            'value' => "CHtml::link(\$data->tag,array('/search/search','term'=>'#'.ltrim(\$data->tag,'#')), array('class'=>'x2-link x2-tag'))"
+            'value' => "CHtml::link(
+                \$data->tag, 
+                array(
+                    '/search/search',
+                    'term'=>'#'.CHtml::encode (ltrim(\$data->tag,'#'))
+                ), 
+                array('class'=>'x2-link x2-tag')
+            )"
         ),
         array(
             'header' => Yii::t('admin','# of Records'),
@@ -64,7 +71,7 @@
         array(
             'header' => Yii::t('admin','Delete Tag'),
             'type' => 'raw',
-            'value' => "CHtml::link(Yii::t('admin','Delete Tag'),'#',array('class'=>'x2-button', 'csrf'=>true,'submit'=>'deleteTag?tag='.\substr(\$data->tag,1),'confirm'=>Yii::t('admin','Are you sure you want to delete this tag?')))"
+            'value' => "CHtml::link(Yii::t('admin','Delete Tag'),'#',array('class'=>'x2-button', 'csrf'=>true,'submit'=>'deleteTag?tag='.urlencode (\substr(\$data->tag,1)),'confirm'=>Yii::t('admin','Are you sure you want to delete this tag?')))"
         ),
     ),
 ));

--- x2engine/protected/views/admin/processModels.php ---
@@ -35,15 +35,11 @@
  * "Powered by X2Engine".
  *****************************************************************************************/
 
+Yii::app()->clientScript->registerCssFile (Yii::app()->theme->baseUrl.'/css/importexport.css');
 ?>
 <script>
 var record=0;
 </script>
-<style>
-    .clean-link{
-        text-decoration:none;
-    }
-</style>
 <?php
     if (isset($model))
         unset($_SESSION['model']);
@@ -233,14 +229,14 @@
     }
 ?>
 </div>
-<div id="prep-status-box" style="color:green">
+<div id="prep-status-box">
 
 </div>
 <br />
-<div id="status-box" style="color:green">
+<div id="status-box">
 
 </div>
-<div id="failures-box" style="color:red">
+<div id="failures-box">
 
 </div>
 <div id="continue-box" style="display:none;">

--- x2engine/protected/views/admin/rollbackImport.php ---
@@ -96,7 +96,7 @@
 <div class="form" style="width:600px;">
     <?php echo Yii::t('admin','To begin the rollback, click the button below and wait for the completion message.'); ?>
     <br><br>
-    <?php echo Yii::t('admin','Import ID: '); ?><strong><?php echo $_GET['importId'];?></strong>
+    <?php echo Yii::t('admin','Import ID: '); ?><strong><?php echo CHtml::encode ($importId);?></strong>
     <br>
     <?php echo Yii::t('admin','Records to be Deleted: '); ?><strong><?php echo $count; ?></strong>
     <br><br>
@@ -109,7 +109,7 @@
 ?>
 <script>
     var models=JSON.parse('<?php echo json_encode($typeArray);?>');
-    var importId=<?php echo isset($_GET['importId'])?$_GET['importId']:0 ?>;
+    var importId=<?php echo isset($importId)? addslashes ($importId):0 ?>;
     var stages=new Array('tags','relationships','actions','records','import');
     $('#rollback-link').click(function(e){
         e.preventDefault();

--- x2engine/protected/views/profile/_activityFeed.php ---
@@ -163,7 +163,8 @@ function translateOptions($item){
         }
         echo $form->dropDownList($feed,'subtype',
             array_map(
-                'translateOptions',json_decode(Dropdowns::model()->findByPk(113)->options,true)),
+                'translateOptions',
+                Dropdowns::getSocialSubtypes ()),
             array ('class' => 'x2-select'));
         ?>
         <div id='second-row-buttons-container'>

--- x2engine/protected/views/profile/_feedFilters.php ---
@@ -115,7 +115,7 @@
     '1'=>'Public',
     '0'=>'Private',
 );
-$socialSubtypes=json_decode(Dropdowns::model()->findByPk(113)->options,true);
+$socialSubtypes = Dropdowns::getSocialSubtypes ();
 $users=User::getNames();
 $eventTypeList=Yii::app()->db->createCommand()
         ->select('type')

--- x2engine/protected/views/profile/_sidebarLeftExtraContent.php ---
@@ -69,7 +69,7 @@
     '1'=>'Public',
     '0'=>'Private',
 );
-$socialSubtypes=json_decode(Dropdowns::model()->findByPk(113)->options,true);
+$socialSubtypes = Dropdowns::getSocialSubtypes ();
 $users=User::getNames();
 $eventTypeList=Yii::app()->db->createCommand()
         ->select('type')

--- x2engine/protected/views/search/searchTags.php ---
@@ -56,12 +56,12 @@
 		array(
 			'name' => Yii::t('app','Record'),
 			'type' => 'raw',
-			'value' => 'X2Model::getModelLink($data->itemId,$data->type)', 
+			'value' => 'X2Model::getModelLink($data["itemId"],$data["type"])', 
 		),
 		array(
 			'name' => Yii::t('app','Record Type'),
 			'type' => 'raw',
-			'value' => '$data->type', 
+			'value' => '$data["type"]', 
 		),
 	),
 ));

--- x2engine/protected/views/site/listener.php ---
@@ -1,175 +0,0 @@
-<?php
-/*****************************************************************************************
- * X2Engine Open Source Edition is a customer relationship management program developed by
- * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
- * 
- * This program is free software; you can redistribute it and/or modify it under
- * the terms of the GNU Affero General Public License version 3 as published by the
- * Free Software Foundation with the addition of the following permission added
- * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
- * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
- * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
- * 
- * This program is distributed in the hope that it will be useful, but WITHOUT
- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
- * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
- * details.
- * 
- * You should have received a copy of the GNU Affero General Public License along with
- * this program; if not, see http://www.gnu.org/licenses or write to the Free
- * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
- * 02110-1301 USA.
- * 
- * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
- * California 95067, USA. or at email address contact@x2engine.com.
- * 
- * The interactive user interfaces in modified source and object code versions
- * of this program must display Appropriate Legal Notices, as required under
- * Section 5 of the GNU Affero General Public License version 3.
- * 
- * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
- * these Appropriate Legal Notices must retain the display of the "Powered by
- * X2Engine" logo. If the display of the logo is not reasonably feasible for
- * technical reasons, the Appropriate Legal Notices must display the words
- * "Powered by X2Engine".
- *****************************************************************************************/
-mb_internal_encoding('UTF-8');
-mb_regex_encoding('UTF-8');
-Yii::app()->params->profile = Profile::model()->findByPk(1);
-if (empty($type)) $type = 'weblead';
-?>
-
-<!DOCTYPE html>
-<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="<?php echo Yii::app()->language; ?>" lang="<?php echo Yii::app()->language; ?>">
-<head>
-<meta charset="UTF-8" />
-<meta name="language" content="<?php echo Yii::app()->language; ?>" />
-<title><?php echo CHtml::encode($this->pageTitle); ?></title>
-
-<style type="text/css">
-html {
-	<?php
-	/* Dear future editors:
-	  The pixel height of the iframe containing this page
-	  should equal the sum of height, padding-bottom, and 2x border size
-	  specified in this block, else the bottom border will not be at the 
-	  bottom edge of the frame. Now it is based on 325px height for weblead,
-	  and 100px for weblist */
-
-	$height = $type == 'weblist' ? 100 : 325;
-	if (!empty($_GET['bs'])) {
-		$border = intval(preg_replace('/[^0-9]/', '', $_GET['bs']));
-	} else if (!empty($_GET['bc'])) {
-		$border = 1;
-	} else $border = 0;
-	$padding = 36;
-	$height = $height - $padding - (2 * $border);
-
-	echo 'border: '. $border .'px solid ';
-	if (!empty($_GET['bc'])) echo $_GET['bc'];
-	echo ";\n";
-
-	unset($_GET['bs']); 
-	unset($_GET['bc']); 
-	?>
-
-	-moz-border-radius: 3px;
-	-webkit-border-radius: 3px;
-	border-radius: 3px;
-	padding-bottom: <?php echo $padding ."px;\n"?>
-	height: <?php echo $height ."px;\n"?>
-}
-body {
-	<?php if (!empty($_GET['fg'])) echo 'color: '. $_GET['fg'] .";\n"; unset($_GET['fg']); ?>
-	<?php if (!empty($_GET['bgc'])) echo 'background-color: '. $_GET['bgc'] .";\n"; unset($_GET['bgc']); ?>
-	<?php 
-	if (!empty($_GET['font'])) {
-		echo 'font-family: '. FontPickerInput::getFontCss($_GET['font']) .";\n";
-		unset($_GET['font']); 
-	} else echo "font-family: Arial, Helvetica, sans-serif;\n"; 
-	?>
-	font-size:12px;
-	width:189px;
-}
-input {
-	border: 1px solid #AAA;
-}
-#contact-header{
-	color:white;
-	text-align:center;
-	font-size: 16px;
-}
-#submit {
-	position:absolute;
-	left: 131px;
-	margin-top: 7px;
-}
-</style>
-
-<script>
-if (!String.prototype.trim) {
-	String.prototype.trim = function() {
-		return this.replace(/^\s+|\s+$/g, "");
-	};
-}
-
-function clearText(field){
-	if (typeof field != "undefined" && field.defaultValue == field.value)
-		field.value = "";
-}
-function validateField(field) {
-
-	var input = document.getElementById(field);
-	
-	input.style.borderColor = "";
-	input.style.backgroundColor = "";
-
-	if (input.value.trim() == "" || (field == "email" && input.value.match(/[a-zA-Z0-9._%-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}/) == null)) {
-		
-		input.style.borderColor = "#c00";
-		input.style.backgroundColor = "#fee";
-		return false;
-	}
-	return true;
-}
-
-function validate() {
-
-	clearText(document.forms['<?php echo $type; ?>']['Contacts[backgroundInfo]']);
-
-
-	// alert('ding!');
-	var valid = true;
-	var fields = ['firstName', 'lastName', 'email'];
-	for (var i in fields) {
-		valid = validateField(fields[i]) && valid;
-	}
-
-	return valid;
-}
-</script>
-</head>
-<body>
- 
-<?php
-foreach(Yii::app()->user->getFlashes() as $key => $message) {
-    echo '<div class="flash-' . $key . '">' . $message . "</div>\n";
-} ?>
-
-<form name="<?php echo $type; ?>" action="<?php echo $this->createUrl($type); ?>" method="POST" onsubmit="return validate();">
-	<?php if ($type == 'weblead') { ?>
-	<div class="row"><b><?php echo Contacts::model()->getAttributeLabel('firstName'); ?>: *</b><br /> <input style="width:170px;" type="text" id="firstName" name="Contacts[firstName]" /><br /></div>
-	<div class="row"><b><?php echo Contacts::model()->getAttributeLabel('lastName'); ?>: *</b><br /> <input style="width:170px;" type="text" id="lastName" name="Contacts[lastName]" /><br /></div>
-	<?php } ?>
-	<div class="row"><b><?php echo Contacts::model()->getAttributeLabel('email'); ?>: *</b><br /> <input style="width:170px;" type="text" id="email" name="Contacts[email]" /><br /></div>
-	<?php if ($type == 'weblead') { ?>
-	<div class="row"><b><?php echo Contacts::model()->getAttributeLabel('phone'); ?>:</b><br /> <input style="width:170px;" type="text" id="phone" name="Contacts[phone]" /><br /></div>
-	<div class="row"><b>Interest:</b><br /> <textarea style="height:100px;width:170px;font-family:arial;font-size:10px;" id="backgroundInfo" name="Contacts[backgroundInfo]" onfocus="clearText(this);"><?php echo Yii::t('contacts','Enter any additional information or questions regarding your interest here.'); ?></textarea><br /></div>
-	<?php } ?>
-	<?php foreach ($_GET as $key=>$value) { ?>
-		<input type="hidden" name="<?php echo $key; ?>" value="<?php echo $value; ?>" />
-	<?php } ?>
-	<input id='submit' type="submit" value="Submit" />
-</form>
-</body>
-</html>

--- x2engine/themes/x2engine/css/about-page.css ---
@@ -32,74 +32,74 @@
  * technical reasons, the Appropriate Legal Notices must display the words
  * "Powered by X2Engine".
  *****************************************************************************************/
-/* line 25, ../../../compass/themes/x2engine/css/about-page.scss */
+/* line 36, ../../../compass/themes/x2engine/css/about-page.scss */
 #about-intro {
   margin: 10px 0;
   max-width: 450px;
 }
-/* line 28, ../../../compass/themes/x2engine/css/about-page.scss */
+/* line 39, ../../../compass/themes/x2engine/css/about-page.scss */
 #about-intro li {
   font-size: 12px;
 }
-/* line 31, ../../../compass/themes/x2engine/css/about-page.scss */
+/* line 42, ../../../compass/themes/x2engine/css/about-page.scss */
 #about-intro ul {
   list-style-type: none;
   padding-left: 0;
   margin: 0 0 10px 10px;
   color: #666;
 }
 
-/* line 39, ../../../compass/themes/x2engine/css/about-page.scss */
+/* line 50, ../../../compass/themes/x2engine/css/about-page.scss */
 #about-credits ul {
   list-style-type: none;
   padding-left: 0;
   margin: 0 0 10px 10px;
   color: #666;
 }
 
-/* line 46, ../../../compass/themes/x2engine/css/about-page.scss */
+/* line 57, ../../../compass/themes/x2engine/css/about-page.scss */
 #about-intro h4, #about-credits h4 {
   line-height: 1em;
   margin: 3px 0;
 }
 
-/* line 51, ../../../compass/themes/x2engine/css/about-page.scss */
+/* line 62, ../../../compass/themes/x2engine/css/about-page.scss */
 #about-intro ul.inline li {
   display: inline;
 }
-/* line 53, ../../../compass/themes/x2engine/css/about-page.scss */
+/* line 64, ../../../compass/themes/x2engine/css/about-page.scss */
 #about-intro ul.inline li:after {
   content: ', ';
 }
-/* line 56, ../../../compass/themes/x2engine/css/about-page.scss */
+/* line 67, ../../../compass/themes/x2engine/css/about-page.scss */
 #about-intro ul.inline li:last-child:after {
   content: '';
 }
 
-/* line 62, ../../../compass/themes/x2engine/css/about-page.scss */
+/* line 73, ../../../compass/themes/x2engine/css/about-page.scss */
 #about-credits li {
   font-size: 11px;
 }
-/* line 65, ../../../compass/themes/x2engine/css/about-page.scss */
+/* line 76, ../../../compass/themes/x2engine/css/about-page.scss */
 #about-credits .no-underline {
   text-decoration: none;
 }
 
-/* line 70, ../../../compass/themes/x2engine/css/about-page.scss */
+/* line 81, ../../../compass/themes/x2engine/css/about-page.scss */
 #about-legal {
   clear: both;
   font-size: 10px;
   color: #666;
 }
 
-/* line 76, ../../../compass/themes/x2engine/css/about-page.scss */
+/* line 87, ../../../compass/themes/x2engine/css/about-page.scss */
 #about-map {
   float: right;
   width: 260px;
   margin-top: 0px;
   font-size: 11px;
 }
-/* line 77, ../../../compass/themes/x2engine/css/about-page.scss */
+/* line 88, ../../../compass/themes/x2engine/css/about-page.scss */
 #about-map img {
   -moz-box-shadow: 0 3px 10px 2px rgba(0, 0, 0, 0.5);
   -webkit-box-shadow: 0 3px 10px 2px rgba(0, 0, 0, 0.5);
@@ -111,35 +111,35 @@
   margin-bottom: 5px;
 }
 
-/* line 93, ../../../compass/themes/x2engine/css/about-page.scss */
+/* line 104, ../../../compass/themes/x2engine/css/about-page.scss */
 #content {
   padding: 15px 22px;
 }
 
-/* line 97, ../../../compass/themes/x2engine/css/about-page.scss */
+/* line 108, ../../../compass/themes/x2engine/css/about-page.scss */
 .center-column-container {
   margin-bottom: 10px !important;
   margin-left: 10px !important;
   max-width: 500px !important;
   clear: none !important;
 }
 
-/* line 104, ../../../compass/themes/x2engine/css/about-page.scss */
+/* line 115, ../../../compass/themes/x2engine/css/about-page.scss */
 #icon-container {
   float: left;
 }
-/* line 106, ../../../compass/themes/x2engine/css/about-page.scss */
+/* line 117, ../../../compass/themes/x2engine/css/about-page.scss */
 #icon-container img {
   display: block;
   height: 80px;
 }
-/* line 110, ../../../compass/themes/x2engine/css/about-page.scss */
+/* line 121, ../../../compass/themes/x2engine/css/about-page.scss */
 #icon-container #x2-about-logo {
   font-size: 100px;
   /* @theme color text */
 }
 
-/* line 117, ../../../compass/themes/x2engine/css/about-page.scss */
+/* line 128, ../../../compass/themes/x2engine/css/about-page.scss */
 #x2engine-sticker {
   width: 140px;
   height: auto;

--- x2engine/themes/x2engine/css/activityFeed.css ---
@@ -32,29 +32,40 @@
  * technical reasons, the Appropriate Legal Notices must display the words
  * "Powered by X2Engine".
  *****************************************************************************************/
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 /***********************************************************************
 * Grays 
 ***********************************************************************/
@@ -70,56 +81,78 @@
 /***********************************************************************
 * This section is made to correspond with the theme keys in ThemeGenerator
 ***********************************************************************/
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 /***************************************
 * This file is responsible for mantaining
 * general purpose mixins and classes. 
 ***************************************/
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 /***********************************************************************
 * Grays 
 ***********************************************************************/
@@ -148,13 +181,13 @@
 * CSS to extend when something 
 * should look like a link
 ***************************************/
-/* line 76, ../../../compass/css/lib/_standards.scss */
+/* line 87, ../../../compass/css/lib/_standards.scss */
 .pseudo-link {
   cursor: pointer;
   color: #004baf;
   transition: color .1s;
 }
-/* line 81, ../../../compass/css/lib/_standards.scss */
+/* line 92, ../../../compass/css/lib/_standards.scss */
 .pseudo-link:hover {
   color: #006cfb;
 }
@@ -163,11 +196,11 @@
 * CSS to extend when for elements that 
 * become transparent on mouseover
 ***************************************/
-/* line 99, ../../../compass/css/lib/_standards.scss */
+/* line 110, ../../../compass/css/lib/_standards.scss */
 .opacity-hover {
   opacity: 0.3;
 }
-/* line 94, ../../../compass/css/lib/_standards.scss */
+/* line 105, ../../../compass/css/lib/_standards.scss */
 .opacity-hover:hover {
   opacity: 1;
 }
@@ -183,57 +216,79 @@
 * Mixin for applying a fontAwesome icon
 * SEE _icons.scss FOR A BETTER IMPLEMENTATION
 ******************************************/
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 /************************************************
 * This file mantains several important mixins for 
 * Font Icons. The two sources of font icons are 
 * font-awesome, and x2-icons (custom icons).
 *************************************************/
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 /***********************************************************************
 * Grays 
 ***********************************************************************/
@@ -249,29 +304,40 @@
 /***********************************************************************
 * This section is made to correspond with the theme keys in ThemeGenerator
 ***********************************************************************/
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 /************************************************
 * This File is a pseudo-class translation of all 
 * the font-awesome classes. This way, these classes
@@ -285,7 +351,7 @@
  *  Font Awesome 4.2.0 by @davegandy - http://fontawesome.io - @fontawesome
  *  License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License)
  */
-/* line 64, ../../../compass/css/lib/_font-awesome.scss */
+/* line 75, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.action_complete:before, #activity-feed-container .img-box.action_complete .stacked-icon:before, #activity-feed-container .img-box.action_reminder:before, #activity-feed-container .img-box.calendar_event:before, #activity-feed-container .img-box.generic_calendar_event:before, #activity-feed-container .img-box.doc_update:before, #activity-feed-container .img-box.email_from:before, #activity-feed-container .img-box.email_clicked:before, #activity-feed-container .img-box.email_sent:before, #activity-feed-container .img-box.email_sent .stacked-icon:before, #activity-feed-container .img-box.email_sent_quote:before, #activity-feed-container .img-box.email_sent_quote .stacked-icon:before, #activity-feed-container .img-box.email_sent_invoice:before, #activity-feed-container .img-box.email_sent_invoice .stacked-icon:before, #activity-feed-container .img-box.invoice_emailed:before, #activity-feed-container .img-box.media:before, #activity-feed-container .img-box.notif:before, #activity-feed-container .img-box.voip_call:before, #activity-feed-container .img-box.quote_emailed:before, #activity-feed-container .img-box.record_create:before, #activity-feed-container .img-box.record_deleted:before, #activity-feed-container .img-box.web_activity:before, #activity-feed-container .img-box.weblead_create:before, #activity-feed-container .img-box.weblead_create .stacked-icon:before, #activity-feed-container .img-box.case_escalated .stacked-icon:before, #activity-feed-container .img-box.workflow_revert .stacked-icon:before, #activity-feed-container .img-box.workflow_complete .stacked-icon:before, #activity-feed-container .img-box.workflow_start .stacked-icon:before, #activity-feed-container .img-box.record_create .stacked-icon:before, #activity-feed-container .img-box.record_create.Campaign-create:before, #activity-feed-container .img-box.record_create.Actions-create:before, #activity-feed-container .img-box.record_create.Accounts-create:before, #activity-feed-container .img-box.record_create.Opportunity-create:before, #activity-feed-container .img-box.record_create.X2Leads-create:before, #activity-feed-container .img-box.record_create.Docs-create:before, #activity-feed-container .img-box.record_create.Groups-create:before, #activity-feed-container .img-box.record_create.BugReports-create:before, #activity-feed-container .img-box.record_create.Charts-create:before, #activity-feed-container .img-box.record_create.Reports-create:before {
   display: inline-block;
   font: normal normal normal 14px/1 FontAwesome;
@@ -295,134 +361,134 @@
 }
 
 /* makes the font 33% larger relative to the icon container */
-/* line 123, ../../../compass/css/lib/_font-awesome.scss */
+/* line 134, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .pull-left.img-box.action_complete:before, #activity-feed-container .img-box.action_complete .pull-left.stacked-icon:before, #activity-feed-container .pull-left.img-box.action_reminder:before, #activity-feed-container .pull-left.img-box.calendar_event:before, #activity-feed-container .pull-left.img-box.generic_calendar_event:before, #activity-feed-container .pull-left.img-box.doc_update:before, #activity-feed-container .pull-left.img-box.email_from:before, #activity-feed-container .pull-left.img-box.email_clicked:before, #activity-feed-container .pull-left.img-box.email_sent:before, #activity-feed-container .img-box.email_sent .pull-left.stacked-icon:before, #activity-feed-container .pull-left.img-box.email_sent_quote:before, #activity-feed-container .img-box.email_sent_quote .pull-left.stacked-icon:before, #activity-feed-container .pull-left.img-box.email_sent_invoice:before, #activity-feed-container .img-box.email_sent_invoice .pull-left.stacked-icon:before, #activity-feed-container .pull-left.img-box.invoice_emailed:before, #activity-feed-container .pull-left.img-box.media:before, #activity-feed-container .pull-left.img-box.notif:before, #activity-feed-container .pull-left.img-box.voip_call:before, #activity-feed-container .pull-left.img-box.quote_emailed:before, #activity-feed-container .pull-left.img-box.record_create:before, #activity-feed-container .pull-left.img-box.record_deleted:before, #activity-feed-container .pull-left.img-box.web_activity:before, #activity-feed-container .pull-left.img-box.weblead_create:before, #activity-feed-container .img-box.weblead_create .pull-left.stacked-icon:before, #activity-feed-container .img-box.case_escalated .pull-left.stacked-icon:before, #activity-feed-container .img-box.workflow_revert .pull-left.stacked-icon:before, #activity-feed-container .img-box.workflow_complete .pull-left.stacked-icon:before, #activity-feed-container .img-box.workflow_start .pull-left.stacked-icon:before, #activity-feed-container .img-box.record_create .pull-left.stacked-icon:before {
   margin-right: .3em;
 }
 
-/* line 126, ../../../compass/css/lib/_font-awesome.scss */
+/* line 137, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .pull-right.img-box.action_complete:before, #activity-feed-container .img-box.action_complete .pull-right.stacked-icon:before, #activity-feed-container .pull-right.img-box.action_reminder:before, #activity-feed-container .pull-right.img-box.calendar_event:before, #activity-feed-container .pull-right.img-box.generic_calendar_event:before, #activity-feed-container .pull-right.img-box.doc_update:before, #activity-feed-container .pull-right.img-box.email_from:before, #activity-feed-container .pull-right.img-box.email_clicked:before, #activity-feed-container .pull-right.img-box.email_sent:before, #activity-feed-container .img-box.email_sent .pull-right.stacked-icon:before, #activity-feed-container .pull-right.img-box.email_sent_quote:before, #activity-feed-container .img-box.email_sent_quote .pull-right.stacked-icon:before, #activity-feed-container .pull-right.img-box.email_sent_invoice:before, #activity-feed-container .img-box.email_sent_invoice .pull-right.stacked-icon:before, #activity-feed-container .pull-right.img-box.invoice_emailed:before, #activity-feed-container .pull-right.img-box.media:before, #activity-feed-container .pull-right.img-box.notif:before, #activity-feed-container .pull-right.img-box.voip_call:before, #activity-feed-container .pull-right.img-box.quote_emailed:before, #activity-feed-container .pull-right.img-box.record_create:before, #activity-feed-container .pull-right.img-box.record_deleted:before, #activity-feed-container .pull-right.img-box.web_activity:before, #activity-feed-container .pull-right.img-box.weblead_create:before, #activity-feed-container .img-box.weblead_create .pull-right.stacked-icon:before, #activity-feed-container .img-box.case_escalated .pull-right.stacked-icon:before, #activity-feed-container .img-box.workflow_revert .pull-right.stacked-icon:before, #activity-feed-container .img-box.workflow_complete .pull-right.stacked-icon:before, #activity-feed-container .img-box.workflow_start .pull-right.stacked-icon:before, #activity-feed-container .img-box.record_create .pull-right.stacked-icon:before {
   margin-left: .3em;
 }
 
 /* Font Awesome uses the Unicode Private Use Area (PUA) to ensure screen
      readers do not read off random characters that represent icons */
-/* line 207, ../../../compass/css/lib/_font-awesome.scss */
+/* line 218, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.weblead_create .stacked-icon:before, #activity-feed-container .img-box.record_create.X2Leads-create:before {
   content: "\f005";
 }
 
-/* line 228, ../../../compass/css/lib/_font-awesome.scss */
+/* line 239, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.action_complete .stacked-icon:before, #activity-feed-container .img-box.workflow_complete .stacked-icon:before {
   content: "\f00c";
 }
 
-/* line 473, ../../../compass/css/lib/_font-awesome.scss */
+/* line 484, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.email_sent .stacked-icon:before, #activity-feed-container .img-box.email_sent_quote .stacked-icon:before, #activity-feed-container .img-box.email_sent_invoice .stacked-icon:before, #activity-feed-container .img-box.workflow_start .stacked-icon:before {
   content: "\f061";
 }
 
-/* line 476, ../../../compass/css/lib/_font-awesome.scss */
+/* line 487, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.case_escalated .stacked-icon:before {
   content: "\f062";
 }
 
-/* line 492, ../../../compass/css/lib/_font-awesome.scss */
+/* line 503, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.record_create .stacked-icon:before {
   content: "\f067";
 }
 
-/* line 501, ../../../compass/css/lib/_font-awesome.scss */
+/* line 512, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.action_reminder:before {
   content: "\f06a";
 }
 
-/* line 532, ../../../compass/css/lib/_font-awesome.scss */
+/* line 543, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.notif:before {
   content: "\f075";
 }
 
-/* line 550, ../../../compass/css/lib/_font-awesome.scss */
+/* line 561, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.record_create:before {
   content: "\f07b";
 }
 
-/* line 562, ../../../compass/css/lib/_font-awesome.scss */
+/* line 573, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.record_create.Charts-create:before {
   content: "\f080";
 }
 
-/* line 624, ../../../compass/css/lib/_font-awesome.scss */
+/* line 635, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.voip_call:before {
   content: "\f095";
 }
 
-/* line 657, ../../../compass/css/lib/_font-awesome.scss */
+/* line 668, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.record_create.Campaign-create:before {
   content: "\f0a1";
 }
 
-/* line 690, ../../../compass/css/lib/_font-awesome.scss */
+/* line 701, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.web_activity:before, #activity-feed-container .img-box.weblead_create:before {
   content: "\f0ac";
 }
 
-/* line 708, ../../../compass/css/lib/_font-awesome.scss */
+/* line 719, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.record_create.Groups-create:before {
   content: "\f0c0";
 }
 
-/* line 808, ../../../compass/css/lib/_font-awesome.scss */
+/* line 819, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.email_from:before, #activity-feed-container .img-box.email_clicked:before, #activity-feed-container .img-box.email_sent:before, #activity-feed-container .img-box.email_sent_quote:before, #activity-feed-container .img-box.email_sent_invoice:before, #activity-feed-container .img-box.invoice_emailed:before, #activity-feed-container .img-box.quote_emailed:before {
   content: "\f0e0";
 }
 
-/* line 814, ../../../compass/css/lib/_font-awesome.scss */
+/* line 825, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.workflow_revert .stacked-icon:before {
   content: "\f0e2";
 }
 
-/* line 876, ../../../compass/css/lib/_font-awesome.scss */
+/* line 887, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.record_create.Reports-create:before {
   content: "\f0f6";
 }
 
-/* line 1047, ../../../compass/css/lib/_font-awesome.scss */
+/* line 1058, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.generic_calendar_event:before {
   content: "\f133";
 }
 
-/* line 1083, ../../../compass/css/lib/_font-awesome.scss */
+/* line 1094, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.record_create.Opportunity-create:before {
   content: "\f140";
 }
 
-/* line 1095, ../../../compass/css/lib/_font-awesome.scss */
+/* line 1106, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.action_complete:before, #activity-feed-container .img-box.record_create.Actions-create:before {
   content: "\f144";
 }
 
-/* line 1177, ../../../compass/css/lib/_font-awesome.scss */
+/* line 1188, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.doc_update:before, #activity-feed-container .img-box.record_create.Docs-create:before {
   content: "\f15c";
 }
 
-/* line 1300, ../../../compass/css/lib/_font-awesome.scss */
+/* line 1311, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.record_create.BugReports-create:before {
   content: "\f188";
 }
 
-/* line 1410, ../../../compass/css/lib/_font-awesome.scss */
+/* line 1421, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.record_create.Accounts-create:before {
   content: "\f1ad";
 }
 
-/* line 1478, ../../../compass/css/lib/_font-awesome.scss */
+/* line 1489, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.media:before {
   content: "\f1c5";
 }
 
-/* line 1637, ../../../compass/css/lib/_font-awesome.scss */
+/* line 1648, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.record_deleted:before {
   content: "\f1f8";
 }
@@ -606,7 +672,7 @@
 * Class to add to a container that has a stacked icon
 * These are the icons displayed on the activity feed
 **************************************************/
-/* line 48, ../../../compass/css/lib/_icons.scss */
+/* line 59, ../../../compass/css/lib/_icons.scss */
 .stacked-icon {
   display: none;
   position: absolute;
@@ -621,7 +687,7 @@
   /* @theme background content */
   text-align: center;
 }
-/* line 67, ../../../compass/css/lib/_icons.scss */
+/* line 78, ../../../compass/css/lib/_icons.scss */
 .stacked-icon:before {
   width: 100%;
   font-size: 10px;
@@ -651,7 +717,7 @@
 /***********************************************************************
 * image attachments
 ***********************************************************************/
-/* line 33, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 44, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container {
   -webkit-border-radius: 4px !important;
   -moz-border-radius: 4px !important;
@@ -685,19 +751,19 @@
   * Activity Feed Icon Styling
   ********************************/
 }
-/* line 36, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 47, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container .attachment-img {
   height: 100px;
 }
-/* line 40, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 51, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container div.page-title .x2-button.right {
   margin: 5px 5px 5px 0px;
 }
-/* line 49, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 60, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container #attachment-form .focus-mini-module {
   box-shadow: none;
 }
-/* line 52, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 63, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container #attachment-form .form {
   -moz-border-radius: 0px;
   -o-border-radius: 0px;
@@ -708,46 +774,46 @@
   border-right: none;
   margin-bottom: 0;
 }
-/* line 68, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 79, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container .sp-replacer {
   padding: 0px !important;
   margin-left: 4px !important;
   position: relative;
   top: -2px;
 }
-/* line 75, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 86, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container .sp-dd {
   height: 13px !important;
 }
-/* line 79, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 90, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container .sp-preview {
   width: 20px !important;
   height: 17px !important;
   margin-right: 5px !important;
 }
-/* line 89, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 100, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container #broadcast-dialog-user-select {
   width: 460px;
   height: 200px;
 }
-/* line 94, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 105, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container .dialog-explanation {
   margin-bottom: 8px;
   margin-top: 7px;
 }
-/* line 100, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 111, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container #broadcast-dialog label {
   margin-bottom: 4px;
 }
-/* line 103, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 114, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container #broadcast-dialog .sp-replacer {
   margin-top: 6px;
 }
-/* line 112, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 123, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container #cke_Events_text {
   margin-bottom: 6px !important;
 }
-/* line 118, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 129, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container .cke_bottom {
   background: none !important;
   border-top: none !important;
@@ -757,11 +823,11 @@
   padding: 0 0 0 0 !important;
   margin: 0 0 0 0 !important;
 }
-/* line 130, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 141, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container .cke_resizer_ltr {
   margin-right: 2px !important;
 }
-/* line 138, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 149, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container .avatar-image {
   /*border: 3px solid #f8f8f8;*/
   border: 1px;
@@ -771,11 +837,11 @@
   -o-border-radius: 4px;
   border-radius: 4px;
 }
-/* line 144, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 155, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container .social-tabs a {
   text-decoration: none;
 }
-/* line 148, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 159, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container .comment-textbox {
   -webkit-appearance: none;
   height: 22px;
@@ -793,53 +859,53 @@
   border-radius: 3px;
   background: white;
 }
-/* line 162, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 173, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container .comment-box .items {
   margin-left: 15px;
   border: none;
 }
-/* line 170, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 181, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container .comment-box .items > .view:first-child {
   border-radius: 2px 0px 0px 0px;
 }
-/* line 174, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 185, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container .comment-box .items > .view:last-child {
   border-radius: 0px 0px 2px 0px;
 }
-/* line 180, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 191, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container .important {
   background-color: #FFFFC2;
 }
-/* line 184, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 195, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container #activity-feed .pager {
   visibility: hidden;
 }
-/* line 188, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 199, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container .yiiPager {
   display: none;
 }
-/* line 192, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 203, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container .activity-feed div.like-history-box {
   padding-top: 6px;
 }
-/* line 197, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 208, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container #sticky-feed .important-action {
   background: #FFFFC2;
 }
-/* line 202, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 213, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container #activity-feed.list-view .view.top-level.activity-feed {
   padding: 5px;
   overflow: auto;
 }
-/* line 205, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 216, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container #activity-feed.list-view .view.top-level.activity-feed.important-action {
   background: #FFFFC2;
 }
-/* line 212, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 223, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container #sticky-feed .top-level.activity-feed {
   overflow: auto;
 }
-/* line 216, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 227, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container .items {
   -webkit-border-radius: 0px !important;
   -moz-border-radius: 0px !important;
@@ -850,15 +916,15 @@
   border-left: none !important;
   border-right: none !important;
 }
-/* line 226, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 237, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container .expandable-details-override {
   display: inline !important;
 }
-/* line 230, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 241, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container .event-bottom-row {
   margin-top: -5px;
 }
-/* line 232, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 243, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container .event-bottom-row .comment-age {
   display: inline-block;
   margin-top: 8px;
@@ -867,16 +933,16 @@
   /* @theme color link */
   opacity: 0.8;
 }
-/* line 94, ../../../compass/css/lib/_standards.scss */
+/* line 105, ../../../compass/css/lib/_standards.scss */
 #activity-feed-container .event-bottom-row .comment-age:hover {
   opacity: 1;
 }
-/* line 240, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 251, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container .event-bottom-row .event-icon-button-container {
   display: inline-block;
   margin-top: -7px;
 }
-/* line 246, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 257, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container div#post-form {
   margin-bottom: 0 !important;
   border-top: none;
@@ -885,76 +951,76 @@
   border-bottom: 1px solid #eee;
   border-radius: 0;
 }
-/* line 255, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 266, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container .event-icon-button-container > * {
   height: 20px;
   opacity: 0.9;
   display: inline-block;
 }
-/* line 263, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 274, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container .important-link.x2-hint, #activity-feed-container .sticky-link.x2-hint {
   color: #c5c5c5;
 }
-/* line 268, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 279, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container .deleteButton {
   opacity: 0.5;
 }
-/* line 94, ../../../compass/css/lib/_standards.scss */
+/* line 105, ../../../compass/css/lib/_standards.scss */
 #activity-feed-container .deleteButton:hover {
   opacity: 1;
 }
-/* line 276, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 287, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container .feed-comment-icon, #activity-feed-container .broadcast-icon, #activity-feed-container .like-icon, #activity-feed-container .sticky-icon, #activity-feed-container .feed-make-important-icon, #activity-feed-container .like-count, #activity-feed-container .unsticky-icon, #activity-feed-container .unlike-icon, #activity-feed-container .feed-make-unimportant-icon {
   margin-left: 10px;
 }
-/* line 280, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 291, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container .feed-comment-icon, #activity-feed-container .broadcast-icon, #activity-feed-container .like-icon, #activity-feed-container .sticky-icon, #activity-feed-container .feed-make-important-icon, #activity-feed-container .like-count {
   opacity: 0.6;
   cursor: pointer;
   color: #454545;
 }
-/* line 286, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 297, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container .feed-comment-icon:hover, #activity-feed-container .broadcast-icon:hover, #activity-feed-container .like-icon:hover, #activity-feed-container .sticky-icon:hover, #activity-feed-container .feed-make-important-icon:hover, #activity-feed-container .like-count:hover {
   opacity: 0.8;
 }
-/* line 291, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 302, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container .unsticky-icon, #activity-feed-container .unlike-icon, #activity-feed-container .feed-make-unimportant-icon {
   opacity: 1.0;
   cursor: pointer;
 }
-/* line 296, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 307, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container .unsticky-icon:hover, #activity-feed-container .unlike-icon:hover, #activity-feed-container .feed-make-unimportant-icon:hover {
   opacity: 0.9;
 }
-/* line 309, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 320, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container .like-count {
   opacity: 0.6;
   padding-left: 3px;
   color: #004baf;
   margin-left: 0px;
 }
-/* line 317, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 328, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container .unlike-button[style*="none"] + .like-count {
   color: #454545;
 }
-/* line 321, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 332, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container #activity-feed-settings-button {
   cursor: pointer;
   float: right;
   margin-top: 8px;
   margin-right: 5px;
   opacity: 0.7;
 }
-/* line 327, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 338, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container #activity-feed-settings-button:hover {
   opacity: 1;
 }
-/* line 332, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 343, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container #second-row-buttons-container {
   display: block;
   margin-top: 7px;
 }
-/* line 340, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 351, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container .img-box {
   display: block;
   float: left;
@@ -968,591 +1034,591 @@
   height: 45px;
   padding-bottom: 5px;
 }
-/* line 356, ../../../compass/themes/x2engine/css/activityFeed.scss */
+/* line 367, ../../../compass/themes/x2engine/css/activityFeed.scss */
 #activity-feed-container .img-box:before {
   font-size: 30px !important;
 }
-/* line 39, ../../../compass/css/lib/_font-awesome.scss */
+/* line 50, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.action_complete:before {
   text-decoration: none;
 }
-/* line 80, ../../../compass/css/lib/_icons.scss */
+/* line 91, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.action_complete .stacked-icon:before {
   top: 0px;
   left: 0px;
 }
-/* line 81, ../../../compass/css/lib/_icons.scss */
+/* line 92, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.action_complete .img-box.record_create .stacked-icon:before, #activity-feed-container .img-box.record_create .img-box.action_complete .stacked-icon:before {
   top: 1.0px;
   left: 0px;
 }
-/* line 82, ../../../compass/css/lib/_icons.scss */
+/* line 93, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.action_complete .stacked-icon:before {
   top: 1px;
   left: 0px;
 }
-/* line 84, ../../../compass/css/lib/_icons.scss */
+/* line 95, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.action_complete .img-box.email_sent .stacked-icon:before, #activity-feed-container .img-box.email_sent .img-box.action_complete .stacked-icon:before, #activity-feed-container .img-box.action_complete .img-box.email_sent_quote .stacked-icon:before, #activity-feed-container .img-box.email_sent_quote .img-box.action_complete .stacked-icon:before, #activity-feed-container .img-box.action_complete .img-box.email_sent_invoice .stacked-icon:before, #activity-feed-container .img-box.email_sent_invoice .img-box.action_complete .stacked-icon:before, #activity-feed-container .img-box.action_complete .img-box.workflow_start .stacked-icon:before, #activity-feed-container .img-box.workflow_start .img-box.action_complete .stacked-icon:before {
   top: 0.5px;
   left: 1px;
 }
-/* line 85, ../../../compass/css/lib/_icons.scss */
+/* line 96, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.action_complete .img-box.weblead_create .stacked-icon:before, #activity-feed-container .img-box.weblead_create .img-box.action_complete .stacked-icon:before {
   top: 1px;
   left: 0px;
 }
-/* line 86, ../../../compass/css/lib/_icons.scss */
+/* line 97, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.action_complete .img-box.workflow_revert .stacked-icon:before, #activity-feed-container .img-box.workflow_revert .img-box.action_complete .stacked-icon:before {
   top: 1px;
 }
-/* line 89, ../../../compass/css/lib/_icons.scss */
+/* line 100, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.action_complete .stacked-icon {
   display: inline-block;
 }
-/* line 39, ../../../compass/css/lib/_font-awesome.scss */
+/* line 50, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.action_complete .stacked-icon:before {
   text-decoration: none;
 }
-/* line 94, ../../../compass/css/lib/_icons.scss */
+/* line 105, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.action_complete .stacked-icon:before {
   position: absolute;
   font-size: 10px;
 }
-/* line 39, ../../../compass/css/lib/_font-awesome.scss */
+/* line 50, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.action_reminder:before {
   text-decoration: none;
 }
-/* line 39, ../../../compass/css/lib/_font-awesome.scss */
+/* line 50, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.calendar_event:before {
   text-decoration: none;
 }
-/* line 39, ../../../compass/css/lib/_font-awesome.scss */
+/* line 50, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.generic_calendar_event:before {
   text-decoration: none;
 }
-/* line 39, ../../../compass/css/lib/_font-awesome.scss */
+/* line 50, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.doc_update:before {
   text-decoration: none;
 }
-/* line 39, ../../../compass/css/lib/_font-awesome.scss */
+/* line 50, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.email_from:before {
   text-decoration: none;
 }
-/* line 39, ../../../compass/css/lib/_font-awesome.scss */
+/* line 50, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.email_clicked:before {
   text-decoration: none;
 }
-/* line 39, ../../../compass/css/lib/_font-awesome.scss */
+/* line 50, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.email_sent:before {
   text-decoration: none;
 }
-/* line 80, ../../../compass/css/lib/_icons.scss */
+/* line 91, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.email_sent .stacked-icon:before {
   top: 0px;
   left: 0px;
 }
-/* line 81, ../../../compass/css/lib/_icons.scss */
+/* line 92, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.email_sent .img-box.record_create .stacked-icon:before, #activity-feed-container .img-box.record_create .img-box.email_sent .stacked-icon:before {
   top: 1.0px;
   left: 0px;
 }
-/* line 82, ../../../compass/css/lib/_icons.scss */
+/* line 93, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.email_sent .img-box.action_complete .stacked-icon:before, #activity-feed-container .img-box.action_complete .img-box.email_sent .stacked-icon:before, #activity-feed-container .img-box.email_sent .img-box.workflow_complete .stacked-icon:before, #activity-feed-container .img-box.workflow_complete .img-box.email_sent .stacked-icon:before {
   top: 1px;
   left: 0px;
 }
-/* line 84, ../../../compass/css/lib/_icons.scss */
+/* line 95, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.email_sent .stacked-icon:before {
   top: 0.5px;
   left: 1px;
 }
-/* line 85, ../../../compass/css/lib/_icons.scss */
+/* line 96, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.email_sent .img-box.weblead_create .stacked-icon:before, #activity-feed-container .img-box.weblead_create .img-box.email_sent .stacked-icon:before {
   top: 1px;
   left: 0px;
 }
-/* line 86, ../../../compass/css/lib/_icons.scss */
+/* line 97, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.email_sent .img-box.workflow_revert .stacked-icon:before, #activity-feed-container .img-box.workflow_revert .img-box.email_sent .stacked-icon:before {
   top: 1px;
 }
-/* line 89, ../../../compass/css/lib/_icons.scss */
+/* line 100, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.email_sent .stacked-icon {
   display: inline-block;
 }
-/* line 39, ../../../compass/css/lib/_font-awesome.scss */
+/* line 50, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.email_sent .stacked-icon:before {
   text-decoration: none;
 }
-/* line 94, ../../../compass/css/lib/_icons.scss */
+/* line 105, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.email_sent .stacked-icon:before {
   position: absolute;
   font-size: 10px;
 }
-/* line 39, ../../../compass/css/lib/_font-awesome.scss */
+/* line 50, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.email_sent_quote:before {
   text-decoration: none;
 }
-/* line 80, ../../../compass/css/lib/_icons.scss */
+/* line 91, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.email_sent_quote .stacked-icon:before {
   top: 0px;
   left: 0px;
 }
-/* line 81, ../../../compass/css/lib/_icons.scss */
+/* line 92, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.email_sent_quote .img-box.record_create .stacked-icon:before, #activity-feed-container .img-box.record_create .img-box.email_sent_quote .stacked-icon:before {
   top: 1.0px;
   left: 0px;
 }
-/* line 82, ../../../compass/css/lib/_icons.scss */
+/* line 93, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.email_sent_quote .img-box.action_complete .stacked-icon:before, #activity-feed-container .img-box.action_complete .img-box.email_sent_quote .stacked-icon:before, #activity-feed-container .img-box.email_sent_quote .img-box.workflow_complete .stacked-icon:before, #activity-feed-container .img-box.workflow_complete .img-box.email_sent_quote .stacked-icon:before {
   top: 1px;
   left: 0px;
 }
-/* line 84, ../../../compass/css/lib/_icons.scss */
+/* line 95, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.email_sent_quote .stacked-icon:before {
   top: 0.5px;
   left: 1px;
 }
-/* line 85, ../../../compass/css/lib/_icons.scss */
+/* line 96, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.email_sent_quote .img-box.weblead_create .stacked-icon:before, #activity-feed-container .img-box.weblead_create .img-box.email_sent_quote .stacked-icon:before {
   top: 1px;
   left: 0px;
 }
-/* line 86, ../../../compass/css/lib/_icons.scss */
+/* line 97, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.email_sent_quote .img-box.workflow_revert .stacked-icon:before, #activity-feed-container .img-box.workflow_revert .img-box.email_sent_quote .stacked-icon:before {
   top: 1px;
 }
-/* line 89, ../../../compass/css/lib/_icons.scss */
+/* line 100, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.email_sent_quote .stacked-icon {
   display: inline-block;
 }
-/* line 39, ../../../compass/css/lib/_font-awesome.scss */
+/* line 50, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.email_sent_quote .stacked-icon:before {
   text-decoration: none;
 }
-/* line 94, ../../../compass/css/lib/_icons.scss */
+/* line 105, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.email_sent_quote .stacked-icon:before {
   position: absolute;
   font-size: 10px;
 }
-/* line 39, ../../../compass/css/lib/_font-awesome.scss */
+/* line 50, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.email_sent_invoice:before {
   text-decoration: none;
 }
-/* line 80, ../../../compass/css/lib/_icons.scss */
+/* line 91, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.email_sent_invoice .stacked-icon:before {
   top: 0px;
   left: 0px;
 }
-/* line 81, ../../../compass/css/lib/_icons.scss */
+/* line 92, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.email_sent_invoice .img-box.record_create .stacked-icon:before, #activity-feed-container .img-box.record_create .img-box.email_sent_invoice .stacked-icon:before {
   top: 1.0px;
   left: 0px;
 }
-/* line 82, ../../../compass/css/lib/_icons.scss */
+/* line 93, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.email_sent_invoice .img-box.action_complete .stacked-icon:before, #activity-feed-container .img-box.action_complete .img-box.email_sent_invoice .stacked-icon:before, #activity-feed-container .img-box.email_sent_invoice .img-box.workflow_complete .stacked-icon:before, #activity-feed-container .img-box.workflow_complete .img-box.email_sent_invoice .stacked-icon:before {
   top: 1px;
   left: 0px;
 }
-/* line 84, ../../../compass/css/lib/_icons.scss */
+/* line 95, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.email_sent_invoice .stacked-icon:before {
   top: 0.5px;
   left: 1px;
 }
-/* line 85, ../../../compass/css/lib/_icons.scss */
+/* line 96, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.email_sent_invoice .img-box.weblead_create .stacked-icon:before, #activity-feed-container .img-box.weblead_create .img-box.email_sent_invoice .stacked-icon:before {
   top: 1px;
   left: 0px;
 }
-/* line 86, ../../../compass/css/lib/_icons.scss */
+/* line 97, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.email_sent_invoice .img-box.workflow_revert .stacked-icon:before, #activity-feed-container .img-box.workflow_revert .img-box.email_sent_invoice .stacked-icon:before {
   top: 1px;
 }
-/* line 89, ../../../compass/css/lib/_icons.scss */
+/* line 100, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.email_sent_invoice .stacked-icon {
   display: inline-block;
 }
-/* line 39, ../../../compass/css/lib/_font-awesome.scss */
+/* line 50, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.email_sent_invoice .stacked-icon:before {
   text-decoration: none;
 }
-/* line 94, ../../../compass/css/lib/_icons.scss */
+/* line 105, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.email_sent_invoice .stacked-icon:before {
   position: absolute;
   font-size: 10px;
 }
-/* line 39, ../../../compass/css/lib/_font-awesome.scss */
+/* line 50, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.invoice_emailed:before {
   text-decoration: none;
 }
-/* line 39, ../../../compass/css/lib/_font-awesome.scss */
+/* line 50, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.media:before {
   text-decoration: none;
 }
-/* line 39, ../../../compass/css/lib/_font-awesome.scss */
+/* line 50, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.notif:before {
   text-decoration: none;
 }
-/* line 39, ../../../compass/css/lib/_font-awesome.scss */
+/* line 50, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.voip_call:before {
   text-decoration: none;
 }
-/* line 39, ../../../compass/css/lib/_font-awesome.scss */
+/* line 50, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.quote_emailed:before {
   text-decoration: none;
 }
-/* line 39, ../../../compass/css/lib/_font-awesome.scss */
+/* line 50, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.record_create:before {
   text-decoration: none;
 }
-/* line 39, ../../../compass/css/lib/_font-awesome.scss */
+/* line 50, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.record_deleted:before {
   text-decoration: none;
 }
-/* line 39, ../../../compass/css/lib/_font-awesome.scss */
+/* line 50, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.web_activity:before {
   text-decoration: none;
 }
-/* line 39, ../../../compass/css/lib/_font-awesome.scss */
+/* line 50, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.weblead_create:before {
   text-decoration: none;
 }
-/* line 80, ../../../compass/css/lib/_icons.scss */
+/* line 91, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.weblead_create .stacked-icon:before {
   top: 0px;
   left: 0px;
 }
-/* line 81, ../../../compass/css/lib/_icons.scss */
+/* line 92, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.weblead_create .img-box.record_create .stacked-icon:before, #activity-feed-container .img-box.record_create .img-box.weblead_create .stacked-icon:before {
   top: 1.0px;
   left: 0px;
 }
-/* line 82, ../../../compass/css/lib/_icons.scss */
+/* line 93, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.weblead_create .img-box.action_complete .stacked-icon:before, #activity-feed-container .img-box.action_complete .img-box.weblead_create .stacked-icon:before, #activity-feed-container .img-box.weblead_create .img-box.workflow_complete .stacked-icon:before, #activity-feed-container .img-box.workflow_complete .img-box.weblead_create .stacked-icon:before {
   top: 1px;
   left: 0px;
 }
-/* line 84, ../../../compass/css/lib/_icons.scss */
+/* line 95, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.weblead_create .img-box.email_sent .stacked-icon:before, #activity-feed-container .img-box.email_sent .img-box.weblead_create .stacked-icon:before, #activity-feed-container .img-box.weblead_create .img-box.email_sent_quote .stacked-icon:before, #activity-feed-container .img-box.email_sent_quote .img-box.weblead_create .stacked-icon:before, #activity-feed-container .img-box.weblead_create .img-box.email_sent_invoice .stacked-icon:before, #activity-feed-container .img-box.email_sent_invoice .img-box.weblead_create .stacked-icon:before, #activity-feed-container .img-box.weblead_create .img-box.workflow_start .stacked-icon:before, #activity-feed-container .img-box.workflow_start .img-box.weblead_create .stacked-icon:before {
   top: 0.5px;
   left: 1px;
 }
-/* line 85, ../../../compass/css/lib/_icons.scss */
+/* line 96, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.weblead_create .stacked-icon:before {
   top: 1px;
   left: 0px;
 }
-/* line 86, ../../../compass/css/lib/_icons.scss */
+/* line 97, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.weblead_create .img-box.workflow_revert .stacked-icon:before, #activity-feed-container .img-box.workflow_revert .img-box.weblead_create .stacked-icon:before {
   top: 1px;
 }
-/* line 89, ../../../compass/css/lib/_icons.scss */
+/* line 100, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.weblead_create .stacked-icon {
   display: inline-block;
 }
-/* line 39, ../../../compass/css/lib/_font-awesome.scss */
+/* line 50, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.weblead_create .stacked-icon:before {
   text-decoration: none;
 }
-/* line 94, ../../../compass/css/lib/_icons.scss */
+/* line 105, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.weblead_create .stacked-icon:before {
   position: absolute;
   font-size: 10px;
 }
-/* line 36, ../../../compass/css/lib/_icons.scss */
+/* line 47, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.log_time:before {
   text-decoration: none;
 }
-/* line 36, ../../../compass/css/lib/_icons.scss */
+/* line 47, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.case_escalated:before {
   text-decoration: none;
 }
-/* line 80, ../../../compass/css/lib/_icons.scss */
+/* line 91, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.case_escalated .stacked-icon:before {
   top: 0px;
   left: 0px;
 }
-/* line 81, ../../../compass/css/lib/_icons.scss */
+/* line 92, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.case_escalated .img-box.record_create .stacked-icon:before, #activity-feed-container .img-box.record_create .img-box.case_escalated .stacked-icon:before {
   top: 1.0px;
   left: 0px;
 }
-/* line 82, ../../../compass/css/lib/_icons.scss */
+/* line 93, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.case_escalated .img-box.action_complete .stacked-icon:before, #activity-feed-container .img-box.action_complete .img-box.case_escalated .stacked-icon:before, #activity-feed-container .img-box.case_escalated .img-box.workflow_complete .stacked-icon:before, #activity-feed-container .img-box.workflow_complete .img-box.case_escalated .stacked-icon:before {
   top: 1px;
   left: 0px;
 }
-/* line 84, ../../../compass/css/lib/_icons.scss */
+/* line 95, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.case_escalated .img-box.email_sent .stacked-icon:before, #activity-feed-container .img-box.email_sent .img-box.case_escalated .stacked-icon:before, #activity-feed-container .img-box.case_escalated .img-box.email_sent_quote .stacked-icon:before, #activity-feed-container .img-box.email_sent_quote .img-box.case_escalated .stacked-icon:before, #activity-feed-container .img-box.case_escalated .img-box.email_sent_invoice .stacked-icon:before, #activity-feed-container .img-box.email_sent_invoice .img-box.case_escalated .stacked-icon:before, #activity-feed-container .img-box.case_escalated .img-box.workflow_start .stacked-icon:before, #activity-feed-container .img-box.workflow_start .img-box.case_escalated .stacked-icon:before {
   top: 0.5px;
   left: 1px;
 }
-/* line 85, ../../../compass/css/lib/_icons.scss */
+/* line 96, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.case_escalated .img-box.weblead_create .stacked-icon:before, #activity-feed-container .img-box.weblead_create .img-box.case_escalated .stacked-icon:before {
   top: 1px;
   left: 0px;
 }
-/* line 86, ../../../compass/css/lib/_icons.scss */
+/* line 97, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.case_escalated .img-box.workflow_revert .stacked-icon:before, #activity-feed-container .img-box.workflow_revert .img-box.case_escalated .stacked-icon:before {
   top: 1px;
 }
-/* line 89, ../../../compass/css/lib/_icons.scss */
+/* line 100, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.case_escalated .stacked-icon {
   display: inline-block;
 }
-/* line 39, ../../../compass/css/lib/_font-awesome.scss */
+/* line 50, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.case_escalated .stacked-icon:before {
   text-decoration: none;
 }
-/* line 94, ../../../compass/css/lib/_icons.scss */
+/* line 105, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.case_escalated .stacked-icon:before {
   position: absolute;
   font-size: 10px;
 }
-/* line 36, ../../../compass/css/lib/_icons.scss */
+/* line 47, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.email_opened:before {
   text-decoration: none;
 }
-/* line 36, ../../../compass/css/lib/_icons.scss */
+/* line 47, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.email_opened_quote:before {
   text-decoration: none;
 }
-/* line 36, ../../../compass/css/lib/_icons.scss */
+/* line 47, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.email_opened_invoice:before {
   text-decoration: none;
 }
-/* line 36, ../../../compass/css/lib/_icons.scss */
+/* line 47, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.workflow_revert:before {
   text-decoration: none;
 }
-/* line 80, ../../../compass/css/lib/_icons.scss */
+/* line 91, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.workflow_revert .stacked-icon:before {
   top: 0px;
   left: 0px;
 }
-/* line 81, ../../../compass/css/lib/_icons.scss */
+/* line 92, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.workflow_revert .img-box.record_create .stacked-icon:before, #activity-feed-container .img-box.record_create .img-box.workflow_revert .stacked-icon:before {
   top: 1.0px;
   left: 0px;
 }
-/* line 82, ../../../compass/css/lib/_icons.scss */
+/* line 93, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.workflow_revert .img-box.action_complete .stacked-icon:before, #activity-feed-container .img-box.action_complete .img-box.workflow_revert .stacked-icon:before, #activity-feed-container .img-box.workflow_revert .img-box.workflow_complete .stacked-icon:before, #activity-feed-container .img-box.workflow_complete .img-box.workflow_revert .stacked-icon:before {
   top: 1px;
   left: 0px;
 }
-/* line 84, ../../../compass/css/lib/_icons.scss */
+/* line 95, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.workflow_revert .img-box.email_sent .stacked-icon:before, #activity-feed-container .img-box.email_sent .img-box.workflow_revert .stacked-icon:before, #activity-feed-container .img-box.workflow_revert .img-box.email_sent_quote .stacked-icon:before, #activity-feed-container .img-box.email_sent_quote .img-box.workflow_revert .stacked-icon:before, #activity-feed-container .img-box.workflow_revert .img-box.email_sent_invoice .stacked-icon:before, #activity-feed-container .img-box.email_sent_invoice .img-box.workflow_revert .stacked-icon:before, #activity-feed-container .img-box.workflow_revert .img-box.workflow_start .stacked-icon:before, #activity-feed-container .img-box.workflow_start .img-box.workflow_revert .stacked-icon:before {
   top: 0.5px;
   left: 1px;
 }
-/* line 85, ../../../compass/css/lib/_icons.scss */
+/* line 96, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.workflow_revert .img-box.weblead_create .stacked-icon:before, #activity-feed-container .img-box.weblead_create .img-box.workflow_revert .stacked-icon:before {
   top: 1px;
   left: 0px;
 }
-/* line 86, ../../../compass/css/lib/_icons.scss */
+/* line 97, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.workflow_revert .stacked-icon:before {
   top: 1px;
 }
-/* line 89, ../../../compass/css/lib/_icons.scss */
+/* line 100, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.workflow_revert .stacked-icon {
   display: inline-block;
 }
-/* line 39, ../../../compass/css/lib/_font-awesome.scss */
+/* line 50, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.workflow_revert .stacked-icon:before {
   text-decoration: none;
 }
-/* line 94, ../../../compass/css/lib/_icons.scss */
+/* line 105, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.workflow_revert .stacked-icon:before {
   position: absolute;
   font-size: 10px;
 }
-/* line 36, ../../../compass/css/lib/_icons.scss */
+/* line 47, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.workflow_complete:before {
   text-decoration: none;
 }
-/* line 80, ../../../compass/css/lib/_icons.scss */
+/* line 91, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.workflow_complete .stacked-icon:before {
   top: 0px;
   left: 0px;
 }
-/* line 81, ../../../compass/css/lib/_icons.scss */
+/* line 92, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.workflow_complete .img-box.record_create .stacked-icon:before, #activity-feed-container .img-box.record_create .img-box.workflow_complete .stacked-icon:before {
   top: 1.0px;
   left: 0px;
 }
-/* line 82, ../../../compass/css/lib/_icons.scss */
+/* line 93, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.workflow_complete .stacked-icon:before {
   top: 1px;
   left: 0px;
 }
-/* line 84, ../../../compass/css/lib/_icons.scss */
+/* line 95, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.workflow_complete .img-box.email_sent .stacked-icon:before, #activity-feed-container .img-box.email_sent .img-box.workflow_complete .stacked-icon:before, #activity-feed-container .img-box.workflow_complete .img-box.email_sent_quote .stacked-icon:before, #activity-feed-container .img-box.email_sent_quote .img-box.workflow_complete .stacked-icon:before, #activity-feed-container .img-box.workflow_complete .img-box.email_sent_invoice .stacked-icon:before, #activity-feed-container .img-box.email_sent_invoice .img-box.workflow_complete .stacked-icon:before, #activity-feed-container .img-box.workflow_complete .img-box.workflow_start .stacked-icon:before, #activity-feed-container .img-box.workflow_start .img-box.workflow_complete .stacked-icon:before {
   top: 0.5px;
   left: 1px;
 }
-/* line 85, ../../../compass/css/lib/_icons.scss */
+/* line 96, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.workflow_complete .img-box.weblead_create .stacked-icon:before, #activity-feed-container .img-box.weblead_create .img-box.workflow_complete .stacked-icon:before {
   top: 1px;
   left: 0px;
 }
-/* line 86, ../../../compass/css/lib/_icons.scss */
+/* line 97, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.workflow_complete .img-box.workflow_revert .stacked-icon:before, #activity-feed-container .img-box.workflow_revert .img-box.workflow_complete .stacked-icon:before {
   top: 1px;
 }
-/* line 89, ../../../compass/css/lib/_icons.scss */
+/* line 100, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.workflow_complete .stacked-icon {
   display: inline-block;
 }
-/* line 39, ../../../compass/css/lib/_font-awesome.scss */
+/* line 50, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.workflow_complete .stacked-icon:before {
   text-decoration: none;
 }
-/* line 94, ../../../compass/css/lib/_icons.scss */
+/* line 105, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.workflow_complete .stacked-icon:before {
   position: absolute;
   font-size: 10px;
 }
-/* line 36, ../../../compass/css/lib/_icons.scss */
+/* line 47, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.workflow_start:before {
   text-decoration: none;
 }
-/* line 80, ../../../compass/css/lib/_icons.scss */
+/* line 91, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.workflow_start .stacked-icon:before {
   top: 0px;
   left: 0px;
 }
-/* line 81, ../../../compass/css/lib/_icons.scss */
+/* line 92, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.workflow_start .img-box.record_create .stacked-icon:before, #activity-feed-container .img-box.record_create .img-box.workflow_start .stacked-icon:before {
   top: 1.0px;
   left: 0px;
 }
-/* line 82, ../../../compass/css/lib/_icons.scss */
+/* line 93, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.workflow_start .img-box.action_complete .stacked-icon:before, #activity-feed-container .img-box.action_complete .img-box.workflow_start .stacked-icon:before, #activity-feed-container .img-box.workflow_start .img-box.workflow_complete .stacked-icon:before, #activity-feed-container .img-box.workflow_complete .img-box.workflow_start .stacked-icon:before {
   top: 1px;
   left: 0px;
 }
-/* line 84, ../../../compass/css/lib/_icons.scss */
+/* line 95, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.workflow_start .stacked-icon:before {
   top: 0.5px;
   left: 1px;
 }
-/* line 85, ../../../compass/css/lib/_icons.scss */
+/* line 96, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.workflow_start .img-box.weblead_create .stacked-icon:before, #activity-feed-container .img-box.weblead_create .img-box.workflow_start .stacked-icon:before {
   top: 1px;
   left: 0px;
 }
-/* line 86, ../../../compass/css/lib/_icons.scss */
+/* line 97, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.workflow_start .img-box.workflow_revert .stacked-icon:before, #activity-feed-container .img-box.workflow_revert .img-box.workflow_start .stacked-icon:before {
   top: 1px;
 }
-/* line 89, ../../../compass/css/lib/_icons.scss */
+/* line 100, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.workflow_start .stacked-icon {
   display: inline-block;
 }
-/* line 39, ../../../compass/css/lib/_font-awesome.scss */
+/* line 50, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.workflow_start .stacked-icon:before {
   text-decoration: none;
 }
-/* line 94, ../../../compass/css/lib/_icons.scss */
+/* line 105, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.workflow_start .stacked-icon:before {
   position: absolute;
   font-size: 10px;
 }
-/* line 80, ../../../compass/css/lib/_icons.scss */
+/* line 91, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.record_create .stacked-icon:before {
   top: 0px;
   left: 0px;
 }
-/* line 81, ../../../compass/css/lib/_icons.scss */
+/* line 92, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.record_create .stacked-icon:before {
   top: 1.0px;
   left: 0px;
 }
-/* line 82, ../../../compass/css/lib/_icons.scss */
+/* line 93, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.record_create .img-box.action_complete .stacked-icon:before, #activity-feed-container .img-box.action_complete .img-box.record_create .stacked-icon:before, #activity-feed-container .img-box.record_create .img-box.workflow_complete .stacked-icon:before, #activity-feed-container .img-box.workflow_complete .img-box.record_create .stacked-icon:before {
   top: 1px;
   left: 0px;
 }
-/* line 84, ../../../compass/css/lib/_icons.scss */
+/* line 95, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.record_create .img-box.email_sent .stacked-icon:before, #activity-feed-container .img-box.email_sent .img-box.record_create .stacked-icon:before, #activity-feed-container .img-box.record_create .img-box.email_sent_quote .stacked-icon:before, #activity-feed-container .img-box.email_sent_quote .img-box.record_create .stacked-icon:before, #activity-feed-container .img-box.record_create .img-box.email_sent_invoice .stacked-icon:before, #activity-feed-container .img-box.email_sent_invoice .img-box.record_create .stacked-icon:before, #activity-feed-container .img-box.record_create .img-box.workflow_start .stacked-icon:before, #activity-feed-container .img-box.workflow_start .img-box.record_create .stacked-icon:before {
   top: 0.5px;
   left: 1px;
 }
-/* line 85, ../../../compass/css/lib/_icons.scss */
+/* line 96, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.record_create .img-box.weblead_create .stacked-icon:before, #activity-feed-container .img-box.weblead_create .img-box.record_create .stacked-icon:before {
   top: 1px;
   left: 0px;
 }
-/* line 86, ../../../compass/css/lib/_icons.scss */
+/* line 97, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.record_create .img-box.workflow_revert .stacked-icon:before, #activity-feed-container .img-box.workflow_revert .img-box.record_create .stacked-icon:before {
   top: 1px;
 }
-/* line 89, ../../../compass/css/lib/_icons.scss */
+/* line 100, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.record_create .stacked-icon {
   display: inline-block;
 }
-/* line 39, ../../../compass/css/lib/_font-awesome.scss */
+/* line 50, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.record_create .stacked-icon:before {
   text-decoration: none;
 }
-/* line 94, ../../../compass/css/lib/_icons.scss */
+/* line 105, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.record_create .stacked-icon:before {
   position: absolute;
   font-size: 10px;
 }
-/* line 39, ../../../compass/css/lib/_font-awesome.scss */
+/* line 50, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.record_create.Campaign-create:before {
   text-decoration: none;
 }
-/* line 39, ../../../compass/css/lib/_font-awesome.scss */
+/* line 50, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.record_create.Actions-create:before {
   text-decoration: none;
 }
-/* line 39, ../../../compass/css/lib/_font-awesome.scss */
+/* line 50, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.record_create.Accounts-create:before {
   text-decoration: none;
 }
-/* line 39, ../../../compass/css/lib/_font-awesome.scss */
+/* line 50, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.record_create.Opportunity-create:before {
   text-decoration: none;
 }
-/* line 39, ../../../compass/css/lib/_font-awesome.scss */
+/* line 50, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.record_create.X2Leads-create:before {
   text-decoration: none;
 }
-/* line 39, ../../../compass/css/lib/_font-awesome.scss */
+/* line 50, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.record_create.Docs-create:before {
   text-decoration: none;
 }
-/* line 39, ../../../compass/css/lib/_font-awesome.scss */
+/* line 50, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.record_create.Groups-create:before {
   text-decoration: none;
 }
-/* line 39, ../../../compass/css/lib/_font-awesome.scss */
+/* line 50, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.record_create.BugReports-create:before {
   text-decoration: none;
 }
-/* line 39, ../../../compass/css/lib/_font-awesome.scss */
+/* line 50, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.record_create.Charts-create:before {
   text-decoration: none;
 }
-/* line 39, ../../../compass/css/lib/_font-awesome.scss */
+/* line 50, ../../../compass/css/lib/_font-awesome.scss */
 #activity-feed-container .img-box.record_create.Reports-create:before {
   text-decoration: none;
 }
-/* line 36, ../../../compass/css/lib/_icons.scss */
+/* line 47, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.record_create.Quote-create:before {
   text-decoration: none;
 }
-/* line 36, ../../../compass/css/lib/_icons.scss */
+/* line 47, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.record_create.Product-create:before {
   text-decoration: none;
 }
-/* line 36, ../../../compass/css/lib/_icons.scss */
+/* line 47, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.record_create.Services-create:before {
   text-decoration: none;
 }
-/* line 36, ../../../compass/css/lib/_icons.scss */
+/* line 47, ../../../compass/css/lib/_icons.scss */
 #activity-feed-container .img-box.record_create.Contacts-create:before {
   text-decoration: none;
 }

--- x2engine/themes/x2engine/css/androidLayout.css ---
@@ -32,11 +32,11 @@
  * technical reasons, the Appropriate Legal Notices must display the words
  * "Powered by X2Engine".
  *****************************************************************************************/
-/* line 26, ../../../compass/themes/x2engine/css/androidLayout.scss */
+/* line 37, ../../../compass/themes/x2engine/css/androidLayout.scss */
 body.disable-mobile-layout #header {
   position: static;
 }
-/* line 29, ../../../compass/themes/x2engine/css/androidLayout.scss */
+/* line 40, ../../../compass/themes/x2engine/css/androidLayout.scss */
 body.disable-mobile-layout #page {
   margin-top: 0 !important;
 }

--- x2engine/themes/x2engine/css/auxlib.css ---
@@ -32,13 +32,13 @@
  * technical reasons, the Appropriate Legal Notices must display the words
  * "Powered by X2Engine".
  *****************************************************************************************/
-/* line 25, ../../../compass/themes/x2engine/css/auxlib.scss */
+/* line 36, ../../../compass/themes/x2engine/css/auxlib.scss */
 .auxlib-error-box-msg {
   color: red;
   margin-left: 4px;
 }
 
-/* line 30, ../../../compass/themes/x2engine/css/auxlib.scss */
+/* line 41, ../../../compass/themes/x2engine/css/auxlib.scss */
 .feedback-container, .auxlib-error-msg-container {
   margin-top: 0px;
   text-align: left;
@@ -47,7 +47,7 @@
   margin-left: 4px;
 }
 
-/* line 38, ../../../compass/themes/x2engine/css/auxlib.scss */
+/* line 49, ../../../compass/themes/x2engine/css/auxlib.scss */
 .feedback-container span, .auxlib-error-msg-container {
   margin-bottom: 0;
   padding: 0 0 0 0;

--- x2engine/themes/x2engine/css/comboBox.css ---
@@ -32,29 +32,40 @@
  * technical reasons, the Appropriate Legal Notices must display the words
  * "Powered by X2Engine".
  *****************************************************************************************/
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 /***********************************************************************
 * Grays 
 ***********************************************************************/
@@ -70,56 +81,78 @@
 /***********************************************************************
 * This section is made to correspond with the theme keys in ThemeGenerator
 ***********************************************************************/
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 /***************************************
 * This file is responsible for mantaining
 * general purpose mixins and classes. 
 ***************************************/
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 /***********************************************************************
 * Grays 
 ***********************************************************************/
@@ -148,13 +181,13 @@
 * CSS to extend when something 
 * should look like a link
 ***************************************/
-/* line 76, ../../../compass/css/lib/_standards.scss */
+/* line 87, ../../../compass/css/lib/_standards.scss */
 .pseudo-link {
   cursor: pointer;
   color: #004baf;
   transition: color .1s;
 }
-/* line 81, ../../../compass/css/lib/_standards.scss */
+/* line 92, ../../../compass/css/lib/_standards.scss */
 .pseudo-link:hover {
   color: #006cfb;
 }
@@ -163,11 +196,11 @@
 * CSS to extend when for elements that 
 * become transparent on mouseover
 ***************************************/
-/* line 99, ../../../compass/css/lib/_standards.scss */
+/* line 110, ../../../compass/css/lib/_standards.scss */
 .opacity-hover {
   opacity: 0.3;
 }
-/* line 94, ../../../compass/css/lib/_standards.scss */
+/* line 105, ../../../compass/css/lib/_standards.scss */
 .opacity-hover:hover {
   opacity: 1;
 }
@@ -183,7 +216,7 @@
 * Mixin for applying a fontAwesome icon
 * SEE _icons.scss FOR A BETTER IMPLEMENTATION
 ******************************************/
-/* line 28, ../../../compass/themes/x2engine/css/comboBox.scss */
+/* line 39, ../../../compass/themes/x2engine/css/comboBox.scss */
 button.x2-button.x2-combo-box-button {
   -webkit-border-radius: 0px 4px 4px 0px;
   -moz-border-radius: 0px 4px 4px 0px;
@@ -198,14 +231,14 @@ button.x2-button.x2-combo-box-button {
   border-left: none;
 }
 
-/* line 38, ../../../compass/themes/x2engine/css/comboBox.scss */
+/* line 49, ../../../compass/themes/x2engine/css/comboBox.scss */
 button.x2-button.x2-combo-box-button > img {
   margin: 0 -3px 0 0;
   width: 10px;
   height: 10px;
 }
 
-/* line 43, ../../../compass/themes/x2engine/css/comboBox.scss */
+/* line 54, ../../../compass/themes/x2engine/css/comboBox.scss */
 .x2-combo-box-dropdown {
   position: absolute;
   background: white;
@@ -218,13 +251,13 @@ button.x2-button.x2-combo-box-button > img {
   /* @theme color: text */
   /* @theme border-color: border */
 }
-/* line 56, ../../../compass/themes/x2engine/css/comboBox.scss */
+/* line 67, ../../../compass/themes/x2engine/css/comboBox.scss */
 .x2-combo-box-dropdown > ul {
   list-style-type: none;
   padding-left: 0;
   margin: 0;
 }
-/* line 61, ../../../compass/themes/x2engine/css/comboBox.scss */
+/* line 72, ../../../compass/themes/x2engine/css/comboBox.scss */
 .x2-combo-box-dropdown > ul > li {
   line-height: 17px;
   padding: 0 6px 0 6px;
@@ -233,7 +266,7 @@ button.x2-button.x2-combo-box-button > img {
   border-left: none;
   border-right: none;
 }
-/* line 69, ../../../compass/themes/x2engine/css/comboBox.scss */
+/* line 80, ../../../compass/themes/x2engine/css/comboBox.scss */
 .x2-combo-box-dropdown > ul > li:hover {
   border: 1px solid #999999;
   /* @theme border-color: border */
@@ -242,7 +275,7 @@ button.x2-button.x2-combo-box-button > img {
   background: #eee;
   /* @theme background: dark_content */
 }
-/* line 79, ../../../compass/themes/x2engine/css/comboBox.scss */
+/* line 90, ../../../compass/themes/x2engine/css/comboBox.scss */
 .x2-combo-box-dropdown > ul > li:hover:first-child, .x2-combo-box-dropdown > ul > li:hover:last-child {
   border: 1px solid transparent;
   border-left: none;

--- x2engine/themes/x2engine/css/components/clockWidget.css ---
@@ -32,29 +32,40 @@
  * technical reasons, the Appropriate Legal Notices must display the words
  * "Powered by X2Engine".
  *****************************************************************************************/
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 /***********************************************************************
 * Grays 
 ***********************************************************************/
@@ -70,56 +81,78 @@
 /***********************************************************************
 * This section is made to correspond with the theme keys in ThemeGenerator
 ***********************************************************************/
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 /***************************************
 * This file is responsible for mantaining
 * general purpose mixins and classes. 
 ***************************************/
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 /***********************************************************************
 * Grays 
 ***********************************************************************/
@@ -148,13 +181,13 @@
 * CSS to extend when something 
 * should look like a link
 ***************************************/
-/* line 76, ../../../../compass/css/lib/_standards.scss */
+/* line 87, ../../../../compass/css/lib/_standards.scss */
 .pseudo-link {
   cursor: pointer;
   color: #004baf;
   transition: color .1s;
 }
-/* line 81, ../../../../compass/css/lib/_standards.scss */
+/* line 92, ../../../../compass/css/lib/_standards.scss */
 .pseudo-link:hover {
   color: #006cfb;
 }
@@ -163,11 +196,11 @@
 * CSS to extend when for elements that 
 * become transparent on mouseover
 ***************************************/
-/* line 99, ../../../../compass/css/lib/_standards.scss */
+/* line 110, ../../../../compass/css/lib/_standards.scss */
 .opacity-hover {
   opacity: 0.3;
 }
-/* line 94, ../../../../compass/css/lib/_standards.scss */
+/* line 105, ../../../../compass/css/lib/_standards.scss */
 .opacity-hover:hover {
   opacity: 1;
 }
@@ -183,56 +216,56 @@
 * Mixin for applying a fontAwesome icon
 * SEE _icons.scss FOR A BETTER IMPLEMENTATION
 ******************************************/
-/* line 34, ../../../../compass/themes/x2engine/css/components/clockWidget.scss */
+/* line 45, ../../../../compass/themes/x2engine/css/components/clockWidget.scss */
 #tzClockDigital {
   font-size: 50pt;
   font-family: 'HelveticaNeue-Light', 'Helvetica Neue Light', 'Helvetica Neue', Helvetica, Arial, 'Lucida Grande', sans-serif;
   color: #454545;
 }
 
-/* line 40, ../../../../compass/themes/x2engine/css/components/clockWidget.scss */
+/* line 51, ../../../../compass/themes/x2engine/css/components/clockWidget.scss */
 #widget_TimeZone {
   background-color: #FFF;
 }
-/* line 43, ../../../../compass/themes/x2engine/css/components/clockWidget.scss */
+/* line 54, ../../../../compass/themes/x2engine/css/components/clockWidget.scss */
 #widget_TimeZone #clock-ampm {
   font-size: 30pt;
 }
 
-/* line 48, ../../../../compass/themes/x2engine/css/components/clockWidget.scss */
+/* line 59, ../../../../compass/themes/x2engine/css/components/clockWidget.scss */
 #clock-gear-img-container {
   float: left;
   opacity: 0.3;
 }
-/* line 52, ../../../../compass/themes/x2engine/css/components/clockWidget.scss */
+/* line 63, ../../../../compass/themes/x2engine/css/components/clockWidget.scss */
 #clock-gear-img-container:hover {
   opacity: 1.0;
 }
 
-/* line 58, ../../../../compass/themes/x2engine/css/components/clockWidget.scss */
+/* line 69, ../../../../compass/themes/x2engine/css/components/clockWidget.scss */
 .gear-img-container {
   float: left;
   opacity: 0.3;
   cursor: pointer;
 }
-/* line 62, ../../../../compass/themes/x2engine/css/components/clockWidget.scss */
+/* line 73, ../../../../compass/themes/x2engine/css/components/clockWidget.scss */
 .gear-img-container:hover {
   opacity: 1.0;
 }
 
-/* line 67, ../../../../compass/themes/x2engine/css/components/clockWidget.scss */
+/* line 78, ../../../../compass/themes/x2engine/css/components/clockWidget.scss */
 .widget-gear-menu .widget-gear-option {
   background-color: inherit;
   border-radius: 2px;
   padding: 1px;
   cursor: pointer;
 }
-/* line 72, ../../../../compass/themes/x2engine/css/components/clockWidget.scss */
+/* line 83, ../../../../compass/themes/x2engine/css/components/clockWidget.scss */
 .widget-gear-menu .widget-gear-option:hover {
   transition: background .2s;
   background-color: #D9D9D9;
 }
-/* line 76, ../../../../compass/themes/x2engine/css/components/clockWidget.scss */
+/* line 87, ../../../../compass/themes/x2engine/css/components/clockWidget.scss */
 .widget-gear-menu .widget-gear-option.option-active {
   background-color: #629ceb;
   color: white;

--- x2engine/themes/x2engine/css/components/leftWidgets/profileInfo.css ---
@@ -32,29 +32,40 @@
  * technical reasons, the Appropriate Legal Notices must display the words
  * "Powered by X2Engine".
  *****************************************************************************************/
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 /***********************************************************************
 * Grays 
 ***********************************************************************/
@@ -70,62 +81,62 @@
 /***********************************************************************
 * This section is made to correspond with the theme keys in ThemeGenerator
 ***********************************************************************/
-/* line 29, ../../../../../compass/themes/x2engine/css/components/leftWidgets/profileInfo.scss */
+/* line 40, ../../../../../compass/themes/x2engine/css/components/leftWidgets/profileInfo.scss */
 #x2widget_ProfileInfo .portlet-content {
   padding: 0px;
 }
-/* line 34, ../../../../../compass/themes/x2engine/css/components/leftWidgets/profileInfo.scss */
+/* line 45, ../../../../../compass/themes/x2engine/css/components/leftWidgets/profileInfo.scss */
 #x2widget_ProfileInfo a {
   text-decoration: none;
 }
-/* line 38, ../../../../../compass/themes/x2engine/css/components/leftWidgets/profileInfo.scss */
+/* line 49, ../../../../../compass/themes/x2engine/css/components/leftWidgets/profileInfo.scss */
 #x2widget_ProfileInfo #profile-badge {
   border-bottom: 1px solid #c5c5c5;
 }
-/* line 42, ../../../../../compass/themes/x2engine/css/components/leftWidgets/profileInfo.scss */
+/* line 53, ../../../../../compass/themes/x2engine/css/components/leftWidgets/profileInfo.scss */
 #x2widget_ProfileInfo #profile-avatar {
   box-sizing: border-box;
   padding: 5px;
   width: 55px;
   height: 55px;
   float: left;
 }
-/* line 50, ../../../../../compass/themes/x2engine/css/components/leftWidgets/profileInfo.scss */
+/* line 61, ../../../../../compass/themes/x2engine/css/components/leftWidgets/profileInfo.scss */
 #x2widget_ProfileInfo #profile-avatar .avatar-image {
   width: 100%;
   height: 100%;
   border-radius: 3px;
   font-size: 45px;
 }
-/* line 55, ../../../../../compass/themes/x2engine/css/components/leftWidgets/profileInfo.scss */
+/* line 66, ../../../../../compass/themes/x2engine/css/components/leftWidgets/profileInfo.scss */
 #x2widget_ProfileInfo #profile-avatar .avatar-image.default-avatar {
   color: #004baf;
   /* @theme color: link */
 }
-/* line 62, ../../../../../compass/themes/x2engine/css/components/leftWidgets/profileInfo.scss */
+/* line 73, ../../../../../compass/themes/x2engine/css/components/leftWidgets/profileInfo.scss */
 #x2widget_ProfileInfo #info {
   box-sizing: border-box;
   float: left;
   padding-top: 5px;
   max-width: 95px;
 }
-/* line 68, ../../../../../compass/themes/x2engine/css/components/leftWidgets/profileInfo.scss */
+/* line 79, ../../../../../compass/themes/x2engine/css/components/leftWidgets/profileInfo.scss */
 #x2widget_ProfileInfo #info #profile-name {
   margin-top: 10px;
   font-weight: bold;
 }
-/* line 73, ../../../../../compass/themes/x2engine/css/components/leftWidgets/profileInfo.scss */
+/* line 84, ../../../../../compass/themes/x2engine/css/components/leftWidgets/profileInfo.scss */
 #x2widget_ProfileInfo #info #profile-edit {
   margin-top: 4px;
   font-size: 80%;
 }
-/* line 80, ../../../../../compass/themes/x2engine/css/components/leftWidgets/profileInfo.scss */
+/* line 91, ../../../../../compass/themes/x2engine/css/components/leftWidgets/profileInfo.scss */
 #x2widget_ProfileInfo #profile-actions #profile-widget-action-menu {
   text-align: center;
   padding: 5px;
   padding-top: 10px;
 }
-/* line 86, ../../../../../compass/themes/x2engine/css/components/leftWidgets/profileInfo.scss */
+/* line 97, ../../../../../compass/themes/x2engine/css/components/leftWidgets/profileInfo.scss */
 #x2widget_ProfileInfo #profile-actions #profile-widget-action-menu > li {
   width: 85%;
   margin: auto;

--- x2engine/themes/x2engine/css/components/smallCalendar.css ---
@@ -32,29 +32,40 @@
  * technical reasons, the Appropriate Legal Notices must display the words
  * "Powered by X2Engine".
  *****************************************************************************************/
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 /***********************************************************************
 * Grays 
 ***********************************************************************/
@@ -70,56 +81,78 @@
 /***********************************************************************
 * This section is made to correspond with the theme keys in ThemeGenerator
 ***********************************************************************/
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 /***************************************
 * This file is responsible for mantaining
 * general purpose mixins and classes. 
 ***************************************/
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 /***********************************************************************
 * Grays 
 ***********************************************************************/
@@ -148,13 +181,13 @@
 * CSS to extend when something 
 * should look like a link
 ***************************************/
-/* line 76, ../../../../compass/css/lib/_standards.scss */
+/* line 87, ../../../../compass/css/lib/_standards.scss */
 .pseudo-link {
   cursor: pointer;
   color: #004baf;
   transition: color .1s;
 }
-/* line 81, ../../../../compass/css/lib/_standards.scss */
+/* line 92, ../../../../compass/css/lib/_standards.scss */
 .pseudo-link:hover {
   color: #006cfb;
 }
@@ -163,11 +196,11 @@
 * CSS to extend when for elements that 
 * become transparent on mouseover
 ***************************************/
-/* line 99, ../../../../compass/css/lib/_standards.scss */
+/* line 110, ../../../../compass/css/lib/_standards.scss */
 .opacity-hover {
   opacity: 0.3;
 }
-/* line 94, ../../../../compass/css/lib/_standards.scss */
+/* line 105, ../../../../compass/css/lib/_standards.scss */
 .opacity-hover:hover {
   opacity: 1;
 }
@@ -183,118 +216,118 @@
 * Mixin for applying a fontAwesome icon
 * SEE _icons.scss FOR A BETTER IMPLEMENTATION
 ******************************************/
-/* line 29, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
+/* line 40, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
 #small-publisher .ui-widget-content {
   border: none;
 }
-/* line 32, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
+/* line 43, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
 #small-publisher .form.unselected-tab-row {
   background: none !important;
 }
 
-/* line 37, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
+/* line 48, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
 #small-calendar {
   border: none;
 }
-/* line 38, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
+/* line 49, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
 #small-calendar .fc-view-month .fc-event {
   display: none;
 }
-/* line 42, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
+/* line 53, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
 #small-calendar .fc-header-title h2 {
   background-image: none;
   padding-left: 15px;
 }
 
-/* line 49, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
+/* line 60, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
 #widget_SmallCalendar .portlet-content {
   padding: 0px;
 }
-/* line 52, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
+/* line 63, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
 #widget_SmallCalendar #header-title {
   display: inline;
 }
 
-/* line 58, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
+/* line 69, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
 #small-calendar .fc-header {
   border-radius: 0px;
   border: none;
 }
-/* line 62, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
+/* line 73, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
 #small-calendar .fc-header-title {
   display: none;
 }
-/* line 65, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
+/* line 76, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
 #small-calendar .fc-button {
   float: left;
 }
-/* line 68, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
+/* line 79, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
 #small-calendar .fc-header-left {
   padding-left: 3px;
   padding-top: 2px;
   width: 100%;
 }
-/* line 73, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
+/* line 84, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
 #small-calendar .fc-day {
   height: 0px !important;
   background-color: white;
   cursor: pointer;
   cursor: hand;
 }
-/* line 78, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
+/* line 89, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
 #small-calendar .fc-day:hover {
   background: #D9D9D9;
 }
-/* line 82, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
+/* line 93, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
 #small-calendar .day-number-link {
   font-size: 14pt;
   text-decoration: none;
 }
-/* line 86, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
+/* line 97, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
 #small-calendar .fc-day-number {
   float: none;
   text-align: center;
   padding-top: 10px;
 }
-/* line 93, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
+/* line 104, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
 #small-calendar .fc-view-month .fc-today {
   border: 1px solid #1e71e2;
   background: #629ceb;
 }
-/* line 96, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
+/* line 107, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
 #small-calendar .fc-view-month .fc-today .day-number-link {
   color: white;
 }
-/* line 100, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
+/* line 111, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
 #small-calendar .day-number-link:hover {
   /* color: #666666; */
 }
-/* line 104, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
+/* line 115, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
 #small-calendar .ui-widget-content {
   border-bottom: none;
 }
-/* line 107, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
+/* line 118, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
 #small-calendar .ui-widget-header, #small-calendar .fc-first {
   border-left: none;
 }
-/* line 110, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
+/* line 121, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
 #small-calendar .fc-last {
   border-right: none;
 }
-/* line 113, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
+/* line 124, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
 #small-calendar .fc-week.fc-last .fc-day {
   border-bottom: none;
 }
-/* line 116, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
+/* line 127, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
 #small-calendar .fc-agenda-axis {
   border-left: none;
   border-bottom: none;
 }
-/* line 120, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
+/* line 131, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
 #small-calendar .fc-day-content .spacer {
   display: none;
 }
-/* line 123, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
+/* line 134, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
 #small-calendar .fc-event-indicator {
   width: 8px;
   height: 8px;
@@ -303,7 +336,7 @@
   border-radius: 5px;
   display: inline-block;
 }
-/* line 132, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
+/* line 143, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
 #small-calendar .fc-indicator-container {
   height: 10px !important;
   display: block !important;
@@ -312,49 +345,49 @@
   padding-top: 0px;
   overflow: hidden;
 }
-/* line 140, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
+/* line 151, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
 #small-calendar .x2-button-group {
   margin-right: 5px;
   float: left;
 }
-/* line 143, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
+/* line 154, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
 #small-calendar .x2-button-group .x2-button {
   padding-left: 7px;
   padding-right: 7px;
   display: inline;
 }
-/* line 149, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
+/* line 160, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
 #small-calendar #add-button, #small-calendar #me-button {
   margin: 3px;
   float: right;
   margin-left: 0px;
 }
-/* line 155, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
+/* line 166, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
 #small-calendar .fc-header-space {
   display: none;
 }
 
-/* line 160, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
+/* line 171, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
 #small-publisher {
   padding: 0px;
 }
-/* line 162, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
+/* line 173, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
 #small-publisher #publisher-tabs-row-1 {
   display: none !important;
 }
-/* line 165, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
+/* line 176, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
 #small-publisher .form {
   background: none !important;
   border: none !important;
 }
-/* line 170, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
+/* line 181, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
 #small-publisher .x2-layout-island {
   -moz-box-shadow: none;
   -webkit-box-shadow: none;
   box-shadow: none;
 }
 
-/* line 175, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
+/* line 186, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
 #me-button.pressed {
   background: #629ceb;
   color: white;
@@ -364,16 +397,16 @@
   /* @theme color: smart_text2 */
 }
 
-/* line 184, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
+/* line 195, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
 .ui-datepicker {
   z-index: 1200 !important;
 }
 
-/* line 189, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
+/* line 200, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
 #small-publisher .cell:last-child {
   display: none;
 }
-/* line 192, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
+/* line 203, ../../../../compass/themes/x2engine/css/components/smallCalendar.scss */
 #small-publisher .cell.action-duration {
   opacity: 0;
   width: 0px;

--- x2engine/themes/x2engine/css/components/sortableWidget/SortableWidget.css ---
@@ -32,7 +32,7 @@
  * technical reasons, the Appropriate Legal Notices must display the words
  * "Powered by X2Engine".
  *****************************************************************************************/
-/* line 25, ../../../../../compass/themes/x2engine/css/components/sortableWidget/SortableWidget.scss */
+/* line 36, ../../../../../compass/themes/x2engine/css/components/sortableWidget/SortableWidget.scss */
 .sortable-widget-container .create-button {
   box-sizing: border-box;
   margin: 0 !important;

--- x2engine/themes/x2engine/css/components/sortableWidget/recordViewWidgets/TransactionalViewWidget.css ---
@@ -32,36 +32,36 @@
  * technical reasons, the Appropriate Legal Notices must display the words
  * "Powered by X2Engine".
  *****************************************************************************************/
-/* line 28, ../../../../../../compass/themes/x2engine/css/components/sortableWidget/recordViewWidgets/TransactionalViewWidget.scss */
+/* line 39, ../../../../../../compass/themes/x2engine/css/components/sortableWidget/recordViewWidgets/TransactionalViewWidget.scss */
 .connected-sortable-widget-container .transactional-view-widget .relationships-toggle input {
   margin-left: 5px;
   position: relative;
   top: 2px;
 }
-/* line 33, ../../../../../../compass/themes/x2engine/css/components/sortableWidget/recordViewWidgets/TransactionalViewWidget.scss */
+/* line 44, ../../../../../../compass/themes/x2engine/css/components/sortableWidget/recordViewWidgets/TransactionalViewWidget.scss */
 .connected-sortable-widget-container .transactional-view-widget .relationships-toggle span {
   margin-left: 5px;
 }
-/* line 37, ../../../../../../compass/themes/x2engine/css/components/sortableWidget/recordViewWidgets/TransactionalViewWidget.scss */
+/* line 48, ../../../../../../compass/themes/x2engine/css/components/sortableWidget/recordViewWidgets/TransactionalViewWidget.scss */
 .connected-sortable-widget-container .transactional-view-widget .overdue {
   font-weight: bold;
   color: #2f2f2f;
 }
-/* line 41, ../../../../../../compass/themes/x2engine/css/components/sortableWidget/recordViewWidgets/TransactionalViewWidget.scss */
+/* line 52, ../../../../../../compass/themes/x2engine/css/components/sortableWidget/recordViewWidgets/TransactionalViewWidget.scss */
 .connected-sortable-widget-container .transactional-view-widget .widget-title {
   min-width: 135px;
 }
-/* line 45, ../../../../../../compass/themes/x2engine/css/components/sortableWidget/recordViewWidgets/TransactionalViewWidget.scss */
+/* line 56, ../../../../../../compass/themes/x2engine/css/components/sortableWidget/recordViewWidgets/TransactionalViewWidget.scss */
 .connected-sortable-widget-container .transactional-view-widget .x2grid-body-container .items {
   border: none;
 }
-/* line 47, ../../../../../../compass/themes/x2engine/css/components/sortableWidget/recordViewWidgets/TransactionalViewWidget.scss */
+/* line 58, ../../../../../../compass/themes/x2engine/css/components/sortableWidget/recordViewWidgets/TransactionalViewWidget.scss */
 .connected-sortable-widget-container .transactional-view-widget .x2grid-body-container .items td {
   border-right: none;
   overflow: hidden;
   text-overflow: ellipsis;
 }
-/* line 55, ../../../../../../compass/themes/x2engine/css/components/sortableWidget/recordViewWidgets/TransactionalViewWidget.scss */
+/* line 66, ../../../../../../compass/themes/x2engine/css/components/sortableWidget/recordViewWidgets/TransactionalViewWidget.scss */
 .connected-sortable-widget-container.sortable-widget-drag, .connected-sortable-widget-container .sortable-widget-drag {
   padding-bottom: 100px;
   margin-bottom: -100px;

--- x2engine/themes/x2engine/css/components/sortableWidget/views/gridViewWidget.css ---
@@ -32,56 +32,78 @@
  * technical reasons, the Appropriate Legal Notices must display the words
  * "Powered by X2Engine".
  *****************************************************************************************/
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 /***************************************
 * This file is responsible for mantaining
 * general purpose mixins and classes. 
 ***************************************/
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 /***********************************************************************
 * Grays 
 ***********************************************************************/
@@ -110,13 +132,13 @@
 * CSS to extend when something 
 * should look like a link
 ***************************************/
-/* line 76, ../../../../../../compass/css/lib/_standards.scss */
+/* line 87, ../../../../../../compass/css/lib/_standards.scss */
 .pseudo-link {
   cursor: pointer;
   color: #004baf;
   transition: color .1s;
 }
-/* line 81, ../../../../../../compass/css/lib/_standards.scss */
+/* line 92, ../../../../../../compass/css/lib/_standards.scss */
 .pseudo-link:hover {
   color: #006cfb;
 }
@@ -125,11 +147,11 @@
 * CSS to extend when for elements that 
 * become transparent on mouseover
 ***************************************/
-/* line 99, ../../../../../../compass/css/lib/_standards.scss */
+/* line 110, ../../../../../../compass/css/lib/_standards.scss */
 .opacity-hover {
   opacity: 0.3;
 }
-/* line 94, ../../../../../../compass/css/lib/_standards.scss */
+/* line 105, ../../../../../../compass/css/lib/_standards.scss */
 .opacity-hover:hover {
   opacity: 1;
 }
@@ -145,29 +167,40 @@
 * Mixin for applying a fontAwesome icon
 * SEE _icons.scss FOR A BETTER IMPLEMENTATION
 ******************************************/
-/***********************************************************************************
- * Copyright (C) 2011-2015 X2Engine Inc. All Rights Reserved.
- *
- * X2Engine Inc.
- * P.O. Box 66752
- * Scotts Valley, California 95067 USA
- * Company website: http://www.x2engine.com
- *
- * X2Engine Inc. grants you a perpetual, non-exclusive, non-transferable license
- * to install and use this Software for your internal business purposes only
- * for the number of users purchased by you. Your use of this Software for
- * additional users is not covered by this license and requires a separate
- * license purchase for such users. You shall not distribute, license, or
- * sublicense the Software. Title, ownership, and all intellectual property
- * rights in the Software belong exclusively to X2Engine. You agree not to file
- * any patent applications covering, relating to, or depicting this Software
- * or modifications thereto, and you agree to assign any patentable inventions
- * resulting from your use of this Software to X2Engine.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EITHER
- * EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.
- **********************************************************************************/
+/*****************************************************************************************
+ * X2Engine Open Source Edition is a customer relationship management program developed by
+ * X2Engine, Inc. Copyright (C) 2011-2015 X2Engine Inc.
+ * 
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU Affero General Public License version 3 as published by the
+ * Free Software Foundation with the addition of the following permission added
+ * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
+ * IN WHICH THE COPYRIGHT IS OWNED BY X2ENGINE, X2ENGINE DISCLAIMS THE WARRANTY
+ * OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
+ * 
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
+ * details.
+ * 
+ * You should have received a copy of the GNU Affero General Public License along with
+ * this program; if not, see http://www.gnu.org/licenses or write to the Free
+ * Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+ * 02110-1301 USA.
+ * 
+ * You can contact X2Engine, Inc. P.O. Box 66752, Scotts Valley,
+ * California 95067, USA. or at email address contact@x2engine.com.
+ * 
+ * The interactive user interfaces in modified source and object code versions
+ * of this program must display Appropriate Legal Notices, as required under
+ * Section 5 of the GNU Affero General Public License version 3.
+ * 
+ * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
+ * these Appropriate Legal Notices must retain the display of the "Powered by
+ * X2Engine" logo. If the display of the logo is not reasonably feasible for
+ * technical reasons, the Appropriate Legal Notices must display the words
+ * "Powered by X2Engine".
+ *****************************************************************************************/
 /***********************************************************************
 * Grays 
 ***********************************************************************/
@@ -183,15 +216,15 @@
 /***********************************************************************
 * This section is made to correspond with the theme keys in ThemeGenerator
 ***********************************************************************/
-/* line 30, ../../../../../../compass/themes/x2engine/css/components/sortableWidget/views/gridViewWidget.scss */
+/* line 41, ../../../../../../compass/themes/x2engine/css/components/sortableWidget/views/gridViewWidget.scss */
 .sortable-widget-container .x2grid-header-container {
   width: 100% !important;
 }
-/* line 34, ../../../../../../compass/themes/x2engine/css/components/sortableWidget/views/gridViewWidget.scss */
+/* line 45, ../../../../../../compass/themes/x2engine/css/components/sortableWidget/views/gridViewWidget.scss */
 .sortable-widget-container .page-title {
   border-radius: 0 !important;
 }
-/* line 38, ../../../../../../compass/themes/x2engine/css/components/sortableWidget/views/gridViewWidget.scss */
+/* line 49, ../../../../../../compass/themes/x2engine/css/components/sortableWidget/views/gridViewWidget.scss */
 .sortable-widget-container .pager {
   float: none;
   -webkit-border-radius: 0px 0px 3px 3px;
@@ -200,57 +233,57 @@
   -o-border-radius: 0px 0px 3px 3px;
   border-radius: 0px 0px 3px 3px;
 }
-/* line 43, ../../../../../../compass/themes/x2engine/css/components/sortableWidget/views/gridViewWidget.scss */
+/* line 54, ../../../../../../compass/themes/x2engine/css/components/sortableWidget/views/gridViewWidget.scss */
 .sortable-widget-container .grid-view .page-title {
   background: #c5c5c5;
   border-bottom: 1px solid #c5c5c5;
   min-height: 34px;
   height: auto;
 }
-/* line 49, ../../../../../../compass/themes/x2engine/css/components/sortableWidget/views/gridViewWidget.scss */
+/* line 60, ../../../../../../compass/themes/x2engine/css/components/sortableWidget/views/gridViewWidget.scss */
 .sortable-widget-container .grid-view .page-title .x2-minimal-select {
   border: none !important;
   margin-left: 5px;
   background: #d2d2d2;
 }
-/* line 56, ../../../../../../compass/themes/x2engine/css/components/sortableWidget/views/gridViewWidget.scss */
+/* line 67, ../../../../../../compass/themes/x2engine/css/components/sortableWidget/views/gridViewWidget.scss */
 .sortable-widget-container .grid-view .page-title .x2-minimal-select:hover,
 .sortable-widget-container .grid-view .page-title .x2-minimal-select:focus {
   border: 1px solid #A0A0A0;
   background: #dddddd;
 }
-/* line 62, ../../../../../../compass/themes/x2engine/css/components/sortableWidget/views/gridViewWidget.scss */
+/* line 73, ../../../../../../compass/themes/x2engine/css/components/sortableWidget/views/gridViewWidget.scss */
 .sortable-widget-container .grid-view .page-title .x2-minimal-select:hover + .after-x2-minimal-select-outer > .after-x2-minimal-select,
 .sortable-widget-container .grid-view .page-title .x2-minimal-select:focus + .after-x2-minimal-select-outer > .after-x2-minimal-select {
   background: #dddddd;
   background-repeat: no-repeat !important;
   background-position: 7px !important;
 }
 
-/* line 74, ../../../../../../compass/themes/x2engine/css/components/sortableWidget/views/gridViewWidget.scss */
+/* line 85, ../../../../../../compass/themes/x2engine/css/components/sortableWidget/views/gridViewWidget.scss */
 .grid-settings-dialog .row > * {
   margin: 5px;
 }
 
-/* line 79, ../../../../../../compass/themes/x2engine/css/components/sortableWidget/views/gridViewWidget.scss */
+/* line 90, ../../../../../../compass/themes/x2engine/css/components/sortableWidget/views/gridViewWidget.scss */
 .grid-widget-title-bar-dummy-element {
   height: 33px;
   display: none !important;
 }
 
 @media (max-width: 657px) {
-  /* line 85, ../../../../../../compass/themes/x2engine/css/components/sortableWidget/views/gridViewWidget.scss */
+  /* line 96, ../../../../../../compass/themes/x2engine/css/components/sortableWidget/views/gridViewWidget.scss */
   .grid-widget-title-bar-dummy-element {
     display: block !important;
   }
 
-  /* line 88, ../../../../../../compass/themes/x2engine/css/components/sortableWidget/views/gridViewWidget.scss */
+  /* line 99, ../../../../../../compass/themes/x2engine/css/components/sortableWidget/views/gridViewWidget.scss */
   .sortable-widget-container .x2-gridview-mass-action-buttons {
     top: -41px;
     right: -20px;
   }
 
-  /* line 92, ../../../../../../compass/themes/x2engine/css/components/sortableWidget/views/gridViewWidget.scss */
+  /* line 103, ../../../../../../compass/themes/x2engine/css/components/sortableWidget/views/gridViewWidget.scss */
   .sortable-widget-container .show-top-buttons .x2-gridview-mass-action-buttons {
     right: -24px;
   }


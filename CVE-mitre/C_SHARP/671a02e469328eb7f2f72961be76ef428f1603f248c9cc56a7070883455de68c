--- WowsKarma.Api/Controllers/PostController.cs ---
@@ -196,7 +196,7 @@ public IActionResult GetLatestPosts(
 	/// <response code="422">Attached replay is invalid.</response>
 	/// <response code="403">Restrictions are in effect for one of the targeted accounts.</response>
 	/// <response code="404">One of the targeted accounts was not found.</response>
-	[HttpPost, Authorize(RequireNoPlatformBans)]
+	[HttpPost, Authorize(RequireNoPlatformBans), UserAtomicLock]
 	[ProducesResponseType(201), ProducesResponseType(400), ProducesResponseType(422), ProducesResponseType(typeof(string), 403), ProducesResponseType(typeof(string), 404)]
 	public async Task<IActionResult> CreatePost(
 		[FromForm] string postDto, 

--- WowsKarma.Api/Startup.cs ---
@@ -10,7 +10,7 @@
 using System.IdentityModel.Tokens.Jwt;
 using System.Net;
 using System.Reflection;
-using System.Text;
+using System.Text; 
 using Hangfire;
 using Hangfire.PostgreSql;
 using Hangfire.Tags.PostgreSql;
@@ -280,6 +280,8 @@ public void ConfigureServices(IServiceCollection services)
 		services.AddResiliencePolicies();
 
 		services.AddSystemd();
+
+		services.AddSingleton<UserAtomicLockMiddleware>();
 	}
 
 	// This method gets called by the runtime. Use this method to configure the HTTP request pipeline.
@@ -334,7 +336,8 @@ public void Configure(IApplicationBuilder app, IWebHostEnvironment env)
 		app.UseAuthorization();
 
 		app.UseMiddleware<RequestLoggingMiddleware>();
-
+		app.UseMiddleware<UserAtomicLockMiddleware>();
+		
 		app.UseEndpoints(endpoints =>
 		{
 			endpoints.MapDefaultControllerRoute();


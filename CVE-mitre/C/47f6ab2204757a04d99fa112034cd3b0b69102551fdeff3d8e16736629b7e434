--- XADArchive.m ---
@@ -1041,8 +1041,12 @@ -(BOOL)unarchiver:(XADUnarchiver *)unarchiver shouldCreateDirectory:(NSString *)
 	else return NO;
 }
 
-
-
+-(void)unarchiver:(XADUnarchiver *)unarchiver didCreateDirectory:(NSString *)directory
+{
+    if(delegate) {
+        [delegate archive:self didCreateDirectory:directory];
+    }
+}
 
 
 //
@@ -1147,6 +1151,9 @@ -(BOOL)archiveExtractionShouldStop:(XADArchive *)arc
 -(BOOL)archive:(XADArchive *)arc shouldCreateDirectory:(NSString *)directory
 { return [delegate archive:arc shouldCreateDirectory:directory]; }
 
+-(void)archive:(XADArchive *)arc didCreateDirectory:(NSString *)directory
+{ [delegate archive:arc didCreateDirectory:directory]; }
+
 -(XADAction)archive:(XADArchive *)arc entry:(int)n collidesWithFile:(NSString *)file newFilename:(NSString **)newname
 { return [delegate archive:arc entry:n collidesWithFile:file newFilename:newname]; }
 
@@ -1207,6 +1214,7 @@ -(XADAction)archive:(XADArchive *)archive nameDecodingDidFailForEntry:(int)n dat
 
 -(BOOL)archiveExtractionShouldStop:(XADArchive *)archive { return NO; }
 -(BOOL)archive:(XADArchive *)archive shouldCreateDirectory:(NSString *)directory { return YES; }
+-(void)archive:(XADArchive *)archive didCreateDirectory:(NSString *)directory { }
 -(XADAction)archive:(XADArchive *)archive entry:(int)n collidesWithFile:(NSString *)file newFilename:(NSString **)newname { return XADOverwriteAction; }
 -(XADAction)archive:(XADArchive *)archive entry:(int)n collidesWithDirectory:(NSString *)file newFilename:(NSString **)newname { return XADSkipAction; }
 -(XADAction)archive:(XADArchive *)archive creatingDirectoryDidFailForEntry:(int)n { return XADAbortAction; }

--- XADSimpleUnarchiver.m ---
@@ -870,6 +870,12 @@ -(BOOL)unarchiver:(XADUnarchiver *)unarchiver shouldCreateDirectory:(NSString *)
 	return YES;
 }
 
+-(void)unarchiver:(XADUnarchiver *)unarchiver didCreateDirectory:(NSString *)directory {
+    if(propagatemetadata && metadata) {
+        [XADPlatform writeCloneableMetadata:metadata toPath:directory];
+    }
+}
+
 -(BOOL)unarchiver:(XADUnarchiver *)unarchiver shouldDeleteFileAndCreateDirectory:(NSString *)directory
 {
 	// If a resource fork entry for a directory was accidentally extracted

--- XADUnarchiver.h ---
@@ -120,6 +120,7 @@ outputTarget:(id)target selector:(SEL)sel argument:(id)arg;
 -(void)unarchiver:(XADUnarchiver *)unarchiver didExtractEntryWithDictionary:(NSDictionary *)dict to:(NSString *)path error:(XADError)error;
 
 -(BOOL)unarchiver:(XADUnarchiver *)unarchiver shouldCreateDirectory:(NSString *)directory;
+-(void)unarchiver:(XADUnarchiver *)unarchiver didCreateDirectory:(NSString *)directory;
 -(BOOL)unarchiver:(XADUnarchiver *)unarchiver shouldDeleteFileAndCreateDirectory:(NSString *)directory;
 
 -(BOOL)unarchiver:(XADUnarchiver *)unarchiver shouldExtractArchiveEntryWithDictionary:(NSDictionary *)dict to:(NSString *)path;

--- XADUnarchiver.m ---
@@ -562,11 +562,21 @@ -(XADError)_ensureDirectoryExists:(NSString *)path
 
 	#if MAC_OS_X_VERSION_MIN_REQUIRED>=1050 || __IPHONE_OS_VERSION_MIN_REQUIRED>__IPHONE_2_0
 	if([manager createDirectoryAtPath:path
-	withIntermediateDirectories:NO attributes:nil error:NULL]) return XADNoError;
+          withIntermediateDirectories:NO attributes:nil error:NULL]) {
+        if (delegate) {
+            [delegate unarchiver:self didCreateDirectory:path];
+        }
+        return XADNoError;
+    }
 	#else
-	if([manager createDirectoryAtPath:path attributes:nil]) return XADNoError;
+    if([manager createDirectoryAtPath:path attributes:nil]) {
+        if (delegate) {
+            [delegate unarchiver:self didCreateDirectory:path];
+        }
+        return XADNoError;
+    }
 	#endif
-	else return XADMakeDirectoryError;
+    else return XADMakeDirectoryError;
 }
 
 
@@ -745,6 +755,7 @@ -(void)unarchiver:(XADUnarchiver *)unarchiver willExtractEntryWithDictionary:(NS
 -(void)unarchiver:(XADUnarchiver *)unarchiver didExtractEntryWithDictionary:(NSDictionary *)dict to:(NSString *)path error:(XADError)error {}
 
 -(BOOL)unarchiver:(XADUnarchiver *)unarchiver shouldCreateDirectory:(NSString *)directory { return YES; }
+-(void)unarchiver:(XADUnarchiver *)unarchiver didCreateDirectory:(NSString *)directory { }
 -(BOOL)unarchiver:(XADUnarchiver *)unarchiver shouldDeleteFileAndCreateDirectory:(NSString *)directory { return NO; }
 
 -(BOOL)unarchiver:(XADUnarchiver *)unarchiver shouldExtractArchiveEntryWithDictionary:(NSDictionary *)dict to:(NSString *)path { return NO; }


--- decidim-accountability/app/views/decidim/accountability/versions/show.html.erb ---
@@ -9,7 +9,7 @@
   <%= cell(
     "decidim/version",
     current_version,
-    index: params[:id],
+    index: params[:id].to_i,
     versioned_resource: versioned_resource,
     versions_path: proc { url_for(action: :index) },
     i18n_scope: "decidim.accountability.results.show.stats"

--- decidim-accountability/spec/system/explore_versions_spec.rb ---
@@ -103,5 +103,13 @@
         end
       end
     end
+
+    context "when the version number is malformed" do
+      it "displays the page correctly" do
+        visit %{#{current_path}'XSS<script>alert('version')<%2Fscript>}
+
+        expect(page).to have_content("VERSION NUMBER\n2 out of 2")
+      end
+    end
   end
 end

--- decidim-core/app/cells/decidim/version_cell.rb ---
@@ -50,7 +50,7 @@ def i18n_version_created_at
     end
 
     def i18n(string, **params)
-      t(string, **params, scope: i18n_scope, default: t(string, **params, scope: default_i18n_scope))
+      decidim_html_escape(t(string, **params, scope: i18n_scope, default: t(string, **params, scope: default_i18n_scope)))
     end
 
     def i18n_scope

--- decidim-debates/app/views/decidim/debates/versions/show.html.erb ---
@@ -2,7 +2,7 @@
   <%= cell(
     "decidim/version",
     current_version,
-    index: params[:id],
+    index: params[:id].to_i,
     versioned_resource: versioned_resource,
     versions_path: proc { url_for(action: :index) },
     i18n_scope: "decidim.debates.debates.versions.debates"

--- decidim-debates/spec/system/debates_versions_spec.rb ---
@@ -102,6 +102,14 @@
         end
       end
     end
+
+    context "when the version number is malformed" do
+      it "displays the page correctly" do
+        visit %{#{current_path}'XSS<script>alert('version')<%2Fscript>}
+
+        expect(page).to have_content("VERSION NUMBER\n2 out of 2")
+      end
+    end
   end
 
   def update_debate

--- decidim-initiatives/app/views/decidim/initiatives/versions/show.html.erb ---
@@ -2,7 +2,7 @@
   <%= cell(
     "decidim/version",
     current_version,
-    index: params[:id],
+    index: params[:id].to_i,
     versioned_resource: versioned_resource,
     versions_path: proc { url_for(action: :index) },
     i18n_scope: "decidim.initiatives.versions.shared"

--- decidim-initiatives/spec/system/initiatives_versions_spec.rb ---
@@ -132,5 +132,13 @@
         end
       end
     end
+
+    context "when the version number is malformed" do
+      it "displays the page correctly" do
+        visit %{#{current_path}'XSS<script>alert('version')<%2Fscript>}
+
+        expect(page).to have_content("VERSION NUMBER\n2 out of 2")
+      end
+    end
   end
 end

--- decidim-meetings/app/views/decidim/meetings/versions/show.html.erb ---
@@ -2,7 +2,7 @@
   <%= cell(
     "decidim/version",
     current_version,
-    index: params[:id],
+    index: params[:id].to_i,
     versioned_resource: versioned_resource,
     versions_path: proc { url_for(action: :index) },
     i18n_scope: "decidim.meetings.versions"

--- decidim-meetings/spec/system/explore_versions_spec.rb ---
@@ -108,5 +108,13 @@
         end
       end
     end
+
+    context "when the version number is malformed" do
+      it "displays the page correctly" do
+        visit %{#{current_path}'XSS<script>alert('version')<%2Fscript>}
+
+        expect(page).to have_content("VERSION NUMBER\n2 out of 2")
+      end
+    end
   end
 end

--- decidim-proposals/app/views/decidim/proposals/versions/show.html.erb ---
@@ -10,7 +10,7 @@ end
   <%= cell(
     "decidim/version",
     current_version,
-    index: params[:id],
+    index: params[:id].to_i,
     versioned_resource: versioned_resource,
     versions_path: proc { url_for(action: :index) },
     i18n_scope: "decidim.proposals.versions.#{item_name.to_s.pluralize}"

--- decidim-proposals/spec/system/collaborative_drafts_versions_spec.rb ---
@@ -114,6 +114,14 @@
         end
       end
     end
+
+    context "when the version number is malformed" do
+      it "displays the page correctly" do
+        visit %{#{current_path}'XSS<script>alert('version')<%2Fscript>}
+
+        expect(page).to have_content("VERSION NUMBER\n2 out of 2")
+      end
+    end
   end
 
   context "when visiting the collaborative draft details" do

--- decidim-proposals/spec/system/proposals_versions_spec.rb ---
@@ -134,5 +134,13 @@
         end
       end
     end
+
+    context "when the version number is malformed" do
+      it "displays the page correctly" do
+        visit %{#{current_path}'XSS<script>alert('version')<%2Fscript>}
+
+        expect(page).to have_content("VERSION NUMBER\n2 out of 2")
+      end
+    end
   end
 end

